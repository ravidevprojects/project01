// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/3.36/esri/copyright.txt for details.
/*
	Copyright (c) 2004-2016, The JS Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

//>>built
(function(b,A){var q,x=function(){return"undefined"!==typeof u&&"function"!==typeof u?u:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),r=function(){},m=function(g){for(var G in g)return 0;return 1},p={}.toString,t=function(g){return"[object Function]"==p.call(g)},h=function(g){return"[object String]"==p.call(g)},c=function(g){return"[object Array]"==p.call(g)},a=function(g,G){if(g)for(var N=0;N<g.length;)G(g[N++])},f=function(g,G){for(var N in G)g[N]=G[N];return g},e=function(g,
	G){return f(Error(g),{src:"dojoLoader",info:G})},l=1,k=function(){return"_"+l++},d=function(g,G,N){return sa(g,G,N,0,d)},u=x,y=u.document,n=y&&y.createElement("DiV"),v=d.has=function(g){return t(D[g])?D[g]=D[g](u,y,n):D[g]},D=v.cache=A.hasCache;t(b)&&(b=b(x));v.add=function(g,G,N,P){(void 0===D[g]||P)&&(D[g]=G);return N&&v(g)};v.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);v("host-webworker")&&(f(A.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,
	"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),A.loaderPatch={injectUrl:function(g,G){try{importScripts(g),G()}catch(N){console.info("failed to load resource ("+g+")"),console.error(N)}}});for(var O in b.has)v.add(O,b.has[O],0,1);var z=0,w=[],E=0,C=r,H=r;d.isXdUrl=r;d.initSyncLoader=function(g,G,N){E||(E=g,C=G,H=N);return{sync:"sync",requested:1,arrived:2,nonmodule:3,executing:4,executed:5,syncExecStack:w,modules:oa,execQ:ja,getModule:Ca,injectModule:Sa,setArrived:za,
	signal:U,finishExec:La,execModule:Ma,dojoRequirePlugin:E,getLegacyMode:function(){return z},guardCheckComplete:Na}};var B=location.protocol,K=location.host;d.isXdUrl=function(g){return/^\./.test(g)?!1:/^\/\//.test(g)?!0:(g=g.match(/^([^\/:]+:)\/+([^\/]+)/))&&(g[1]!=B||K&&g[2]!=K)};v.add("dojo-force-activex-xhr",!y.addEventListener&&"file:"==window.location.protocol);v.add("native-xhr","undefined"!=typeof XMLHttpRequest);if(v("native-xhr")&&!v("dojo-force-activex-xhr"))var J=function(){return new XMLHttpRequest};
	else{var R=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];for(q=0;3>q;)try{var V=R[q++];new ActiveXObject(V);break}catch(g){}J=function(){return new ActiveXObject(V)}}d.getXhr=J;v.add("dojo-gettext-api",1);d.getText=function(g,G,N){var P=J();P.open("GET",Ta(g),!1);P.send(null);if(200==P.status||!location.host&&!P.status)N&&N(P.responseText,G);else throw e("xhrFailed",P.status);return P.responseText};var Y=v("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");d.eval=
	function(g,G){return Y(g+"\r\n//# sourceURL\x3d"+G)};var S={},U=d.signal=function(g,G){g=S[g];a(g&&g.slice(0),function(N){N.apply(null,c(G)?G:[G])})},L=d.on=function(g,G){var N=S[g]||(S[g]=[]);N.push(G);return{remove:function(){for(var P=0;P<N.length;P++)if(N[P]===G){N.splice(P,1);break}}}},T=[],da={},ha=[],ca={},qa=d.map={},ta=[],oa={},va="",na={},ra={},ia={},wa=0;if(!v("foreign-loader"))var ya=function(g,G){G=!1!==G;var N,P;for(N in ra){var W=ra[N];if(P=N.match(/^url:(.+)/))na["url:"+jb(P[1],g)]=
	W;else if("*now"==N)var X=W;else"*noref"!=N&&(P=Oa(N,g,!0),na[P.mid]=na["url:"+P.url]=W)}X&&X(Fa(g));G&&(ra={})};var F=function(g){return g.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(G){return"\\"+G})},I=function(g,G){G.splice(0,G.length);for(var N in g)G.push([N,g[N],new RegExp("^"+F(N)+"(/|$)"),N.length]);G.sort(function(P,W){return W[3]-P[3]});return G},M=function(g,G){a(g,function(N){G.push([h(N[0])?new RegExp("^"+F(N[0])+"$"):N[0],N[1]])})},Q=function(g){var G=g.name;G||(G=g,g={name:G});
	g=f({main:"main"},g);g.location=g.location?g.location:G;g.packageMap&&(qa[G]=g.packageMap);g.main.indexOf("./")||(g.main=g.main.substring(2));ca[G]=g},aa=[],ba=function(g,G,N){for(var P in g){"waitSeconds"==P&&(d.waitms=1E3*(g[P]||0));"cacheBust"==P&&(va=g[P]?h(g[P])?g[P]:(new Date).getTime()+"":"");if("baseUrl"==P||"combo"==P)d[P]=g[P];if("async"==P){var W=g[P];d.legacyMode=z=h(W)&&/sync|legacyAsync/.test(W)?W:W?!1:"sync";d.async=!z}g[P]!==D&&(d.rawConfig[P]=g[P],"has"!=P&&v.add("config-"+P,g[P],
	0,G))}d.baseUrl||(d.baseUrl="./");/\/$/.test(d.baseUrl)||(d.baseUrl+="/");for(P in g.has)v.add(P,g.has[P],0,G);a(g.packages,Q);for(var X in g.packagePaths)a(g.packagePaths[X],function(ka){var Aa=X+"/"+ka;h(ka)&&(ka={name:ka});ka.location=Aa;Q(ka)});I(f(qa,g.map),ta);a(ta,function(ka){ka[1]=I(ka[1],[]);"*"==ka[0]&&(ta.star=ka)});I(f(da,g.paths),ha);M(g.aliases,T);if(!v("foreign-loader")){if(G)aa.push({config:g.config});else for(P in g.config)G=Ca(P,N),G.config=f(G.config||{},g.config[P]);g.cache&&
	(ya(),ra=g.cache,ya(0,!!g.cache["*noref"]))}U("config",[g,d.rawConfig])};v("dojo-cdn");var la=y.getElementsByTagName("script");q=0;for(var Z,ea,pa,ma;q<la.length;)if(Z=la[q++],(pa=Z.getAttribute("src"))&&(ma=pa.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(ea=ma[3]||"",A.baseUrl=A.baseUrl||ea,wa=Z),pa=Z.getAttribute("data-dojo-config")||Z.getAttribute("djConfig"))ia=d.eval("({ "+pa+" })","data-dojo-config"),wa=Z;d.rawConfig={};ba(A,1);v("dojo-cdn")&&((ca.dojo.location=ea)&&(ea+="/"),ca.dijit.location=ea+
	"../dijit/",ca.dojox.location=ea+"../dojox/");ba(b,1);ba(ia,1);if(!v("foreign-loader"))var ua=function(g){Na(function(){a(g.deps,Sa)})},sa=function(g,G,N,P,W){var X;if(h(g)){if((X=Ca(g,P,!0))&&X.executed)return X.result;throw e("undefinedModule",g);}c(g)||(ba(g,0,P),g=G,G=N);if(c(g))if(g.length){N="require*"+k();for(var ka,Aa=[],Da=0;Da<g.length;)ka=g[Da++],Aa.push(Ca(ka,P));X=f(Ua("",N,0,""),{injected:2,deps:Aa,def:G||r,require:P?P.require:d,gc:1});oa[X.mid]=X;ua(X);var ab=Pa&&"sync"!=z;Na(function(){Ma(X,
	ab)});X.executed||ja.push(X);Ga()}else G&&G();return W},Fa=function(g){if(!g)return d;var G=g.require;G||(G=function(N,P,W){return sa(N,P,W,g,G)},g.require=f(G,d),G.module=g,G.toUrl=function(N){return jb(N,g)},G.toAbsMid=function(N){return bb(N,g)},v("dojo-undef-api")&&(G.undef=function(N){d.undef(N,g)}),G.syncLoadNls=function(N){N=Oa(N,g);var P=oa[N.mid];if(!P||!P.executed)if(Ea=na[N.mid]||na["url:"+N.url])Va(Ea),P=oa[N.mid];return P&&P.executed&&P.result});return G},ja=[],Ha=[],fa={},xa=function(g){g.injected=
	1;fa[g.mid]=1;g.url&&(fa[g.url]=g.pack||1);kb()},za=function(g){g.injected=2;delete fa[g.mid];g.url&&delete fa[g.url];m(fa)&&(Wa(),"xd"==z&&(z="sync"))},Ia=d.idle=function(){return!Ha.length&&m(fa)&&!ja.length&&!Pa};var Ja=function(g,G){if(G)for(var N=0;N<G.length;N++)if(G[N][2].test(g))return G[N];return 0},lb=function(g){var G=[];for(g=g.replace(/\\/g,"/").split("/");g.length;){var N=g.shift();if(".."==N&&G.length&&".."!=P){G.pop();var P=G[G.length-1]}else"."!=N&&G.push(P=N)}return G.join("/")},
	Ua=function(g,G,N,P){var W=d.isXdUrl(P);return{pid:g,mid:G,pack:N,url:P,executed:0,def:0,isXd:W,isAmd:!!(W||ca[g]&&ca[g].isAmd)}},ob=function(g,G,N,P,W,X,ka,Aa,Da,ab){var Ka,mb,Ba;var cb=/^\./.test(g);if(/(^\/)|(:)|(\.js$)/.test(g)||cb&&!G)return Ua(0,g,0,g);g=lb(cb?G.mid+"/../"+g:g);if(/^\./.test(g))throw e("irrationalPath",g);ab||cb||!X.star||(Ba=Ja(g,X.star[1]));!Ba&&G&&(Ba=(Ba=Ja(G.mid,X))&&Ja(g,Ba[1]));Ba&&(g=Ba[1]+g.substring(Ba[3]));G=(ma=g.match(/^([^\/]+)(\/(.+))?$/))?ma[1]:"";(Ka=N[G])?
	g=G+"/"+(mb=ma[3]||Ka.main):G="";var db=0;a(Aa,function(Qa){var nb=g.match(Qa[0]);nb&&0<nb.length&&(db=t(Qa[1])?g.replace(Qa[0],Qa[1]):Qa[1])});if(db)return ob(db,0,N,P,W,X,ka,Aa,Da);if(N=P[g])return Da?Ua(N.pid,N.mid,N.pack,N.url):P[g];P=(Ba=Ja(g,ka))?Ba[1]+g.substring(Ba[3]):G?("/"===Ka.location.slice(-1)?Ka.location.slice(0,-1):Ka.location)+"/"+mb:v("config-tlmSiblingOfDojo")?"../"+g:g;/(^\/)|(:)/.test(P)||(P=W+P);return Ua(G,g,Ka,lb(P+".js"))},Oa=function(g,G,N){return ob(g,G,ca,oa,d.baseUrl,
	ta,ha,T,void 0,N)};if(!v("foreign-loader"))var pb=function(g,G,N){return g.normalize?g.normalize(G,function(P){return bb(P,N)}):bb(G,N)},qb=0,Ca=function(g,G,N){var P;if(P=g.match(/^(.+?)!(.*)$/)){var W=Ca(P[1],G,N);"sync"!=z||W.executed||(Sa(W),2!==W.injected||W.executed||Na(function(){Ma(W)}),W.executed?Xa(W):ja.unshift(W));5!==W.executed||W.load||Xa(W);W.load?(P=pb(W,P[2],G),g=W.mid+"!"+(W.dynamic?++qb+"!":"")+P):(P=P[2],g=W.mid+"!"+ ++qb+"!waitingForPlugin");g={plugin:W,mid:g,req:Fa(G),prid:P}}else g=
	Oa(g,G);return oa[g.mid]||!N&&(oa[g.mid]=g)};var bb=d.toAbsMid=function(g,G){return Oa(g,G).mid},jb=d.toUrl=function(g,G){G=Oa(g+"/x",G);var N=G.url;return Ta(0===G.pid?g:N.substring(0,N.length-5))};if(!v("foreign-loader"))var rb={injected:2,executed:5,def:3,result:3},eb=function(g){return oa[g]=f({mid:g},rb)},wb=eb("require"),xb=eb("exports"),yb=eb("module"),Ya={},fb=0,Xa=function(g){var G=g.result;g.dynamic=G.dynamic;g.normalize=G.normalize;g.load=G.load;return g},zb=function(g){var G={};a(g.loadQ,
	function(W){var X=pb(g,W.prid,W.req.module),ka=g.dynamic?W.mid.replace(/waitingForPlugin$/,X):g.mid+"!"+X;X=f(f({},W),{mid:ka,prid:X,injected:0});oa[ka]&&oa[ka].injected||sb(oa[ka]=X);G[W.mid]=oa[ka];za(W);delete oa[W.mid]});g.loadQ=0;var N=function(W){for(var X=W.deps||[],ka=0;ka<X.length;ka++)(W=G[X[ka].mid])&&(X[ka]=W)},P;for(P in oa)N(oa[P]);a(ja,N)},La=function(g){d.trace("loader-finish-exec",[g.mid]);g.executed=5;g.defOrder=fb++;a(g.provides,function(G){G()});g.loadQ&&(Xa(g),zb(g));for(q=0;q<
	ja.length;)ja[q]===g?ja.splice(q,1):q++;/^require\*/.test(g.mid)&&delete oa[g.mid]},Ab=[],Ma=function(g,G){if(4===g.executed)return d.trace("loader-circular-dependency",[Ab.concat(g.mid).join("-\x3e")]),!g.def||G?Ya:g.cjs&&g.cjs.exports;if(!g.executed){if(!g.def)return Ya;var N=g.mid,P=g.deps||[],W,X=[],ka=0;for(g.executed=4;W=P[ka++];){W=W===wb?Fa(g):W===xb?g.cjs.exports:W===yb?g.cjs:Ma(W,G);if(W===Ya)return g.executed=0,d.trace("loader-exec-module",["abort",N]),Ya;X.push(W)}d.trace("loader-run-factory",
	[g.mid]);G=g.def;w.unshift(g);if(v("config-dojo-loader-catches"))try{var Aa=t(G)?G.apply(null,X):G}catch(Da){U("error",g.result=e("factoryThrew",[g,Da]))}else Aa=t(G)?G.apply(null,X):G;g.result=void 0===Aa&&g.cjs?g.cjs.exports:Aa;w.shift(g);La(g)}return g.result},Pa=0,Na=function(g){try{Pa++,g()}catch(G){throw G;}finally{Pa--}Ia()&&U("idle",[])},Ga=function(){Pa||Na(function(){C();for(var g,G,N=0;N<ja.length;)g=fb,G=ja[N],Ma(G),g!=fb?(C(),N=0):N++})};var Ta="function"==typeof b.fixupUrl?b.fixupUrl:
	function(g){g+="";return g+(va?(/\?/.test(g)?"\x26":"?")+va:"")};v("dojo-undef-api")&&(d.undef=function(g,G){g=Ca(g,G);za(g);f(g,{def:0,executed:0,injected:0,node:0,load:0})});void 0===v("dojo-loader-eval-hint-url")&&v.add("dojo-loader-eval-hint-url",1);var sb=function(g){var G=g.plugin;5!==G.executed||G.load||Xa(G);var N=function(P){g.result=P;za(g);La(g);Ga()};G.load?G.load(g.prid,g.req,N):G.loadQ?G.loadQ.push(g):(G.loadQ=[g],ja.unshift(G),Sa(G))},Ea=0,Ra=0,gb=0,Va=function(g,G){v("config-stripStrict")&&
	(g=g.replace(/(["'])use strict\1/g,""));gb=1;if(v("config-dojo-loader-catches"))try{g===Ea?Ea.call(null):d.eval(g,v("dojo-loader-eval-hint-url")?G.url:G.mid)}catch(N){U("error",e("evalModuleThrew",G))}else g===Ea?Ea.call(null):d.eval(g,v("dojo-loader-eval-hint-url")?G.url:G.mid);gb=0},Sa=function(g){var G=g.mid,N=g.url;if(!(g.executed||g.injected||fa[G]||g.url&&(g.pack&&fa[g.url]===g.pack||1==fa[g.url])))if(xa(g),g.plugin)sb(g);else{var P=function(){tb(g);if(2!==g.injected){if(v("dojo-enforceDefine")){U("error",
	e("noDefine",g));return}za(g);f(g,rb);d.trace("loader-define-nonmodule",[g.url])}z?!w.length&&Ga():Ga()};if(Ea=na[G]||na["url:"+g.url])d.trace("loader-inject",["cache",g.mid,N]),Va(Ea,g),P();else{if(z)if(g.isXd)"sync"==z&&(z="xd");else if(!g.isAmd||"sync"==z){var W=function(X){if("sync"==z){w.unshift(g);Va(X,g);w.shift();tb(g);g.cjs||(za(g),La(g));if(g.finish){X=G+"*finish";var ka=g.finish;delete g.finish;Za(X,["dojo",("dojo/require!"+ka.join(",")).replace(/\./g,"/")],function(Aa){a(ka,function(Da){Aa.require(Da)})});
	ja.unshift(Ca(X))}P()}else(X=H(g,X))?(Va(X,g),P()):(Ra=g,d.injectUrl(Ta(N),P,g),Ra=0)};d.trace("loader-inject",["xhr",g.mid,N,"sync"!=z]);if(v("config-dojo-loader-catches"))try{d.getText(N,"sync"!=z,W)}catch(X){U("error",e("xhrInjectFailed",[g,X]))}else d.getText(N,"sync"!=z,W);return}d.trace("loader-inject",["script",g.mid,N]);Ra=g;d.injectUrl(Ta(N),P,g);Ra=0}}},hb=function(g,G,N){d.trace("loader-define-module",[g.mid,G]);var P=g.mid;if(2===g.injected)return U("error",e("multipleDefine",g)),g;f(g,
	{deps:G,def:N,cjs:{id:g.mid,uri:g.url,exports:g.result={},setExports:function(X){g.cjs.exports=X},config:function(){return g.config}}});for(var W=0;G[W];W++)G[W]=Ca(G[W],g);z&&!fa[P]&&(ua(g),ja.push(g),Ga());za(g);t(N)||G.length||(g.result=N,La(g));return g},tb=function(g,G){for(var N=[],P,W;Ha.length;)W=Ha.shift(),G&&(W[0]=G.shift()),P=W[0]&&Ca(W[0])||g,N.push([P,W[1],W[2]]);ya(g);a(N,function(X){ua(hb.apply(null,X))})},$a=0,Wa=r,kb=r;Wa=function(){$a&&clearTimeout($a);$a=0};kb=function(){Wa();d.waitms&&
	($a=u.setTimeout(function(){Wa();U("error",e("timeout",fa))},d.waitms))};v.add("ie-event-behavior",y.attachEvent&&"undefined"===typeof Windows&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var ib=function(g,G,N,P){if(v("ie-event-behavior"))return g.attachEvent(N,P),function(){g.detachEvent(N,P)};g.addEventListener(G,P,!1);return function(){g.removeEventListener(G,P,!1)}},Bb=ib(window,"load","onload",function(){d.pageLoaded=1;try{"complete"!=y.readyState&&(y.readyState="complete")}catch(g){}Bb()});
	la=y.getElementsByTagName("script");for(q=0;!wa;)/^dojo/.test((Z=la[q++])&&Z.type)||(wa=Z);d.injectUrl=function(g,G,N){N=N.node=y.createElement("script");var P=ib(N,"load","onreadystatechange",function(X){X=X||window.event;var ka=X.target||X.srcElement;if("load"===X.type||/complete|loaded/.test(ka.readyState))P(),W(),G&&G()}),W=ib(N,"error","onerror",function(X){P();W();U("error",e("scriptError: "+g,[g,X]))});N.type="text/javascript";N.charset="utf-8";N.src=g;wa.parentNode.insertBefore(N,wa);return N};
	d.log=function(){try{for(var g=0;g<arguments.length;g++)console.log(arguments[g])}catch(G){}};d.trace=r;if(v("foreign-loader"))Za=r;else{var Za=function(g,G,N){var P=arguments.length,W=["require","exports","module"],X=[0,g,G];1==P?X=[0,t(g)?W:[],g]:2==P&&h(g)?X=[g,t(G)?W:[],G]:3==P&&(X=[g,G,N]);d.trace("loader-define",X.slice(0,2));if((P=X[0]&&Ca(X[0]))&&!fa[P.mid])ua(hb(P,X[1],X[2]));else if(!v("ie-event-behavior")||gb)Ha.push(X);else{P=P||Ra;if(!P)for(g in fa)if((W=oa[g])&&W.node&&"interactive"===
	W.node.readyState){P=W;break}P?(ya(P),ua(hb(P,X[1],X[2]))):U("error",e("ieDefineFailed",X[0]));Ga()}};Za.amd={vendor:"dojotoolkit.org"}}f(f(d,A.loaderPatch),b.loaderPatch);L("error",function(g){try{if(console.error(g),g instanceof Error){for(var G in g)console.log(G+":",g[G]);console.log(".")}}catch(N){}});f(d,{uid:k,cache:na,packs:ca});if(u.define)U("error",e("defineAlreadyDefined",0));else if(u.define=Za,u.require=d,!v("foreign-loader")){a(aa,function(g){ba(g)});var ub=ia.deps||b.deps||A.deps,vb=
	ia.callback||b.callback||A.callback;d.boot=ub||vb?[ub||[],vb]:0}})(function(b){return b.dojoConfig||b.djConfig||b.require||{}},{async:0,baseUrl:"https://js.arcgis.com/3.36/dojo",hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-has-api":1,"dojo-loader":1,"dojo-undef-api":0,dom:1,"extend-esri":1,"host-browser":1},packages:[{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../put-selector",main:"put",name:"put-selector"},
	{location:"../xstyle",name:"xstyle"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dgrid1",main:"OnDemandGrid",name:"dgrid1"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../moment",main:"moment",name:"moment"},{location:"../esri",name:"esri"},{location:".",name:"dojo"}]});
	require({cache:{"dojo/loadInit":function(){define(["./_base/loader"],function(b){return{dynamic:0,normalize:function(A){return A},load:b.loadInit}})},"dojo/_base/loader":function(){define("./kernel ../has require module ../json ./lang ./array".split(" "),function(b,A,q,x,r,m,p){var t=function(L){return L.replace(/\./g,"/")},h=/\/\/>>built/,c=[],a=[],f=function(L,T,da){c.push(da);p.forEach(L.split(","),function(ha){ha=B(ha,T.module);a.push(ha);K(ha)});e()},e=function(){var L;for(L in C){var T=C[L];
	void 0===T.noReqPluginCheck&&(T.noReqPluginCheck=/loadInit!/.test(L)||/require!/.test(L)?1:0);if(!T.executed&&!T.noReqPluginCheck&&T.injected==v)return}U(function(){var da=c;c=[];p.forEach(da,function(ha){ha(1)})})},l=/\/\/.*|\/\*[\s\S]*?\*\/|("(?:\\.|[^"])*"|'(?:\\.|[^'])*'|`(?:\\.|[^`])*`)/mg,k=/(^|\s)dojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/mg,d=/(^|\s)(require|define)\s*\(/m,u=function(L,T){var da=[],ha=[];var ca=[];for(T=T||L.replace(l,
	"$1");ca=k.exec(T);){var qa=k.lastIndex;var ta=qa-ca[0].length;var oa=void 0,va=T,na=/\(|\)/g,ra=1;for(na.lastIndex=qa;(oa=na.exec(va))&&(ra=")"==oa[0]?ra-1:ra+1,0!=ra););if(0!=ra)throw"unmatched paren around character "+na.lastIndex+" in: "+va;qa=[b.trim(va.substring(ta,na.lastIndex))+";\n",na.lastIndex];"loadInit"==ca[2]?da.push(qa[0]):ha.push(qa[0]);k.lastIndex=qa[1]}ca=da.concat(ha);return ca.length||!d.test(T)?[L.replace(/(^|\s)dojo\.loadInit\s*\(/g,"\n0 \x26\x26 dojo.loadInit("),ca.join(""),
	ca]:0},y=q.initSyncLoader(f,e,function(L,T){var da,ha=[],ca=[];if(h.test(T)||!(da=u(T)))return 0;T=L.mid+"-*loadInit";for(var qa in B("dojo",L).result.scopeMap)ha.push(qa),ca.push('"'+qa+'"');return"// xdomain rewrite of "+L.mid+"\ndefine('"+T+"',{\n\tnames:"+r.stringify(ha)+",\n\tdef:function("+ha.join(",")+"){"+da[1]+"}});\n\ndefine("+r.stringify(ha.concat(["dojo/loadInit!"+T]))+", function("+ha.join(",")+"){\n"+da[0]+"});"}),n=y.sync,v=y.requested,D=y.arrived,O=y.nonmodule,z=y.executing,w=y.executed,
	E=y.syncExecStack,C=y.modules,H=y.execQ,B=y.getModule,K=y.injectModule,J=y.setArrived,R=y.signal,V=y.finishExec,Y=y.execModule,S=y.getLegacyMode,U=y.guardCheckComplete;f=y.dojoRequirePlugin;b.provide=function(L){var T=E[0],da=m.mixin(B(t(L),q.module),{executed:z,result:m.getObject(L,!0)});J(da);T&&(T.provides||(T.provides=[])).push(function(){da.result=m.getObject(L);delete da.provides;da.executed!==w&&V(da)});return da.result};A.add("config-publishRequireResult",1,0,0);b.require=function(L,T){T=
	function(da,ha){var ca=B(t(da),q.module);if(E.length&&E[0].finish)E[0].finish.push(da);else{if(ca.executed)return ca.result;ha&&(ca.result=O);ha=S();K(ca);ha=S();ca.executed!==w&&ca.injected===D&&y.guardCheckComplete(function(){Y(ca)});if(ca.executed)return ca.result;ha==n?ca.cjs?H.unshift(ca):E.length&&(E[0].finish=[da]):H.push(ca)}}(L,T);A("config-publishRequireResult")&&!m.exists(L)&&void 0!==T&&m.setObject(L,T);return T};b.loadInit=function(L){L()};b.registerModulePath=function(L,T){var da={};
	da[L.replace(/\./g,"/")]=T;q({paths:da})};b.platformRequire=function(L){L=(L.common||[]).concat(L[b._name]||L["default"]||[]);for(var T;L.length;)m.isArray(T=L.shift())?b.require.apply(b,T):b.require(T)};b.requireIf=b.requireAfterIf=function(L,T,da){L&&b.require(T,da)};b.requireLocalization=function(L,T,da){q(["../i18n"],function(ha){ha.getLocalization(L,T,da)})};return{extractLegacyApiApplications:u,require:f,loadInit:function(L,T,da){T([L],function(ha){T(ha.names,function(){for(var ca="",qa=[],
	ta=0;ta<arguments.length;ta++)ca+="var "+ha.names[ta]+"\x3d arguments["+ta+"]; ",qa.push(arguments[ta]);eval(ca);var oa=T.module,va=[],na;ca={provide:function(ia){ia=t(ia);ia=B(ia,oa);ia!==oa&&J(ia)},require:function(ia,wa){ia=t(ia);wa&&(B(ia,oa).result=O);va.push(ia)},requireLocalization:function(ia,wa,ya){na||(na=["dojo/i18n"]);ya=(ya||b.locale).toLowerCase();ia=t(ia)+"/nls/"+(/root/i.test(ya)?"":ya+"/")+t(wa);B(ia,oa).isXd&&na.push("dojo/i18n!"+ia)},loadInit:function(ia){ia()}};ta={};var ra;try{for(ra in ca)ta[ra]=
	b[ra],b[ra]=ca[ra];ha.def.apply(null,qa)}catch(ia){R("error",[{src:x.id,id:"failedDojoLoadInit"},ia])}finally{for(ra in ca)b[ra]=ta[ra]}na&&(va=va.concat(na));va.length?f(va.join(","),T,da):da()})})}}})},"dojo/_base/kernel":function(){define(["../global","../has","./config","require","module"],function(b,A,q,x,r){var m,p={},t={},h={config:q,global:b,dijit:p,dojox:t};p={dojo:["dojo",h],dijit:["dijit",p],dojox:["dojox",t]};r=x.map&&x.map[r.id.match(/[^\/]+/)[0]];for(m in r)p[m]?p[m][0]=r[m]:p[m]=[r[m],
	{}];for(m in p)r=p[m],r[1]._scopeName=r[0],q.noGlobals||(b[r[0]]=r[1]);h.scopeMap=p;h.baseUrl=h.config.baseUrl=x.baseUrl;h.isAsync=x.async;h.locale=q.locale;b="$Rev:$".match(/[0-9a-f]{7,}/);h.version={major:1,minor:16,patch:3,flag:"",revision:b?b[0]:NaN,toString:function(){var a=h.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};A("csp-restrictions")||Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(h);h.exit=
	function(){};A("host-webworker");A.add("console-as-object",function(){return Function.prototype.bind&&console&&"object"===typeof console.log});"undefined"!=typeof console||(console={});r="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var c;for(b=0;c=r[b++];)console[c]?A("console-as-object")&&(console[c]=Function.prototype.bind.call(console[c],console)):function(){var a=c+"";console[a]="log"in console?function(){var f=Array.prototype.slice.call(arguments);
	f.unshift(a+":");console.log(f.join(" "))}:function(){};console[a]._fake=!0}();A.add("dojo-debug-messages",!!q.isDebug);h.deprecated=h.experimental=function(){};A("dojo-debug-messages")&&(h.deprecated=function(a,f,e){a="DEPRECATED: "+a;f&&(a+=" "+f);e&&(a+=" -- will be removed in version: "+e);console.warn(a)},h.experimental=function(a,f){a="EXPERIMENTAL: "+a+" -- APIs subject to change without notice.";f&&(a+=" "+f);console.warn(a)});if(q.modulePaths){h.deprecated("dojo.modulePaths","use paths configuration");
	A={};for(m in q.modulePaths)A[m.replace(/\./g,"/")]=q.modulePaths[m];x({paths:A})}h.moduleUrl=function(a,f){h.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var e=null;a&&(e=x.toUrl(a.replace(/\./g,"/")+(f?"/"+f:"")+"/*.*").replace(/\/\*\.\*/,"")+(f?"":"/"));return e};h._hasResource={};return h})},"dojo/global":function(){define(function(){return"undefined"!==typeof global&&"function"!==typeof global?global:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this})},"dojo/has":function(){define(["./global",
	"require","module"],function(b,A,q){var x=A.has||function(){};if(!x("dojo-has-api")){var r="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document&&document,m=r&&r.createElement("DiV"),p=q.config&&q.config()||{};x=function(t){return"function"==typeof p[t]?p[t]=p[t](b,r,m):p[t]};x.cache=p;x.add=function(t,h,c,a){("undefined"==typeof p[t]||a)&&(p[t]=h);return c&&x(t)}}x.add("dom-addeventlistener",!!document.addEventListener);
	x.add("touch","ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints);x.add("touch-events","ontouchstart"in document);x.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window);x.add("MSPointer",window.navigator.msPointerEnabled);x.add("touch-action",x("touch")&&x("pointer-events"));x.add("device-width",screen.availWidth||innerWidth);A=document.createElement("form");x.add("dom-attributes-explicit",
	0==A.attributes.length);x.add("dom-attributes-specified-flag",0<A.attributes.length&&40>A.attributes.length);x.clearElement=function(t){t.innerHTML="";return t};x.normalize=function(t,h){var c=t.match(/[\?:]|[^:\?]*/g),a=0,f=function(e){var l=c[a++];if(":"==l)return 0;if("?"==c[a++]){if(!e&&x(l))return f();f(!0);return f(e)}return l||0};return(t=f())&&h(t)};x.load=function(t,h,c){t?h([t],c):c()};return x})},"dojo/_base/config":function(){define(["../global","../has","require"],function(b,A,q){b={};
	q=q.rawConfig;for(var x in q)b[x]=q[x];!b.locale&&"undefined"!=typeof navigator&&(x=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||navigator.userLanguage)&&(b.locale=x.toLowerCase());return b})},"dojo/json":function(){define(["./has"],function(b){var A="undefined"!=typeof JSON;b.add("json-parse",A);b.add("json-stringify",A&&'{"a":1}'==JSON.stringify({a:0},function(x,r){return r||1}));if(b("json-stringify"))return JSON;var q=function(x){return('"'+x.replace(/(["\\])/g,
	"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:b("json-parse")?JSON.parse:function(x,r){if(r&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(x))throw new SyntaxError("Invalid characters in JSON");return eval("("+x+")")},stringify:function(x,r,m){function p(h,c,a){r&&(h=r(a,h));var f=typeof h;if("number"==f)return isFinite(h)?h+"":"null";if("boolean"==
	f)return h+"";if(null===h)return"null";if("string"==typeof h)return q(h);if("function"==f||"undefined"==f)return t;if("function"==typeof h.toJSON)return p(h.toJSON(a),c,a);if(h instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(y,n,v){y=h["getUTC"+n]()+(v?1:0);return 10>y?"0"+y:y});if(h.valueOf()!==h)return p(h.valueOf(),c,a);var e=m?c+m:"",l=m?" ":"",k=m?"\n":"";if(h instanceof Array){l=h.length;var d=[];for(a=0;a<l;a++)f=p(h[a],e,
	a),"string"!=typeof f&&(f="null"),d.push(k+e+f);return"["+d.join(",")+k+c+"]"}d=[];for(a in h)if(h.hasOwnProperty(a)){if("number"==typeof a)var u='"'+a+'"';else if("string"==typeof a)u=q(a);else continue;f=p(h[a],e,a);"string"==typeof f&&d.push(k+e+u+":"+l+f)}return"{"+d.join(",")+k+c+"}"}var t;"string"==typeof r&&(m=r,r=null);return p(x,"","")}}})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(b,A){A.add("bug-for-in-skips-shadowed",function(){for(var c in{toString:1})return 0;
	return 1});var q=A("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],x=q.length,r=function(c,a,f){f||(f=c[0]&&b.scopeMap[c[0]]?b.scopeMap[c.shift()][1]:b.global);try{for(var e=0;e<c.length;e++){var l=c[e];if(!(l in f))if(a)f[l]={};else return;f=f[l]}return f}catch(k){}},m=Object.prototype.toString,p=function(c,a,f){return(f||[]).concat(Array.prototype.slice.call(c,a||0))},t=/\{([^\}]+)\}/g,h={_extraNames:q,_mixin:function(c,
	a,f){var e,l={};for(d in a){var k=a[d];d in c&&(c[d]===k||d in l&&l[d]===k)||(c[d]=f?f(k):k)}if(A("bug-for-in-skips-shadowed")&&a)for(e=0;e<x;++e){var d=q[e];k=a[d];d in c&&(c[d]===k||d in l&&l[d]===k)||(c[d]=f?f(k):k)}return c},mixin:function(c,a){c||(c={});for(var f=1,e=arguments.length;f<e;f++)h._mixin(c,arguments[f]);return c},setObject:function(c,a,f){var e=c.split(".");c=e.pop();return(f=r(e,!0,f))&&c?f[c]=a:void 0},getObject:function(c,a,f){return c?r(c.split("."),a,f):f},exists:function(c,
	a){return void 0!==h.getObject(c,!1,a)},isString:function(c){return"string"==typeof c||c instanceof String},isArray:Array.isArray||function(c){return"[object Array]"==m.call(c)},isFunction:function(c){return"[object Function]"===m.call(c)},isObject:function(c){return void 0!==c&&(null===c||"object"==typeof c||h.isArray(c)||h.isFunction(c))},isArrayLike:function(c){return!!c&&!h.isString(c)&&!h.isFunction(c)&&!(c.tagName&&"form"==c.tagName.toLowerCase())&&(h.isArray(c)||isFinite(c.length))},isAlien:function(c){return c&&
	!h.isFunction(c)&&/\{\s*\[native code\]\s*\}/.test(String(c))},extend:function(c,a){for(var f=1,e=arguments.length;f<e;f++)h._mixin(c.prototype,arguments[f]);return c},_hitchArgs:function(c,a){var f=h._toArray(arguments,2),e=h.isString(a);return function(){var l=h._toArray(arguments),k=e?(c||b.global)[a]:a;return k&&k.apply(c||this,f.concat(l))}},hitch:function(c,a){if(2<arguments.length)return h._hitchArgs.apply(b,arguments);a||(a=c,c=null);if(h.isString(a)){c=c||b.global;if(!c[a])throw['lang.hitch: scope["',
	a,'"] is null (scope\x3d"',c,'")'].join("");return function(){return c[a].apply(c,arguments||[])}}return c?function(){return a.apply(c,arguments||[])}:a},delegate:function(){function c(){}return function(a,f){c.prototype=a;a=new c;c.prototype=null;f&&h._mixin(a,f);return a}}(),_toArray:A("ie")?function(){function c(a,f,e){e=e||[];for(f=f||0;f<a.length;f++)e.push(a[f]);return e}return function(a){return(a.item?c:p).apply(this,arguments)}}():p,partial:function(c){return h.hitch.apply(b,[null].concat(h._toArray(arguments)))},
	clone:function(c){if(!c||"object"!=typeof c||h.isFunction(c))return c;if(c.nodeType&&"cloneNode"in c)return c.cloneNode(!0);if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp)return new RegExp(c);var a;if(h.isArray(c)){var f=[];var e=0;for(a=c.length;e<a;++e)e in c&&(f[e]=h.clone(c[e]))}else f=c.constructor?new c.constructor:{};return h._mixin(f,c,h.clone)},trim:String.prototype.trim?function(c){return c.trim()}:function(c){return c.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},
	replace:function(c,a,f){return c.replace(f||t,h.isFunction(a)?a:function(e,l){return h.getObject(l,!1,a)})}};h.mixin(b,h);return h})},"dojo/sniff":function(){define(["./has"],function(b){var A=navigator,q=A.userAgent;A=A.appVersion;var x=parseFloat(A);b.add("air",0<=q.indexOf("AdobeAIR"));b.add("wp",parseFloat(q.split("Windows Phone")[1])||void 0);b.add("msapp",parseFloat(q.split("MSAppHost/")[1])||void 0);b.add("khtml",0<=A.indexOf("Konqueror")?x:void 0);b.add("edge",parseFloat(q.split("Edge/")[1])||
	void 0);b.add("opr",parseFloat(q.split("OPR/")[1])||void 0);b.add("webkit",!b("wp")&&!b("edge")&&parseFloat(q.split("WebKit/")[1])||void 0);b.add("chrome",!b("edge")&&!b("opr")&&parseFloat(q.split("Chrome/")[1])||void 0);b.add("android",!b("wp")&&parseFloat(q.split("Android ")[1])||void 0);b.add("safari",!(0<=A.indexOf("Safari"))||b("wp")||b("chrome")||b("android")||b("edge")||b("opr")?void 0:parseFloat(A.split("Version/")[1]));b.add("mac",0<=A.indexOf("Macintosh"));b.add("quirks","BackCompat"==document.compatMode);
	if(!b("wp")&&q.match(/(iPhone|iPod|iPad)/)){var r=RegExp.$1.replace(/P/,"p"),m=q.match(/OS ([\d_]+)/)?RegExp.$1:"1";m=parseFloat(m.replace(/_/,".").replace(/_/g,""));b.add(r,m);b.add("ios",m)}b.add("bb",(0<=q.indexOf("BlackBerry")||0<=q.indexOf("BB10"))&&parseFloat(q.split("Version/")[1])||void 0);b.add("trident",parseFloat(A.split("Trident/")[1])||void 0);b.add("svg","undefined"!==typeof SVGAngle);b("webkit")||(0<=q.indexOf("Opera")&&b.add("opera",9.8<=x?parseFloat(q.split("Version/")[1])||x:x),
	!(0<=q.indexOf("Gecko"))||b("wp")||b("khtml")||b("trident")||b("edge")||b.add("mozilla",x),b("mozilla")&&b.add("ff",parseFloat(q.split("Firefox/")[1]||q.split("Minefield/")[1])||void 0),document.all&&!b("opera")&&(q=parseFloat(A.split("MSIE ")[1])||void 0,(A=document.documentMode)&&5!=A&&Math.floor(q)!=A&&(q=A),b.add("ie",q)),b.add("wii","undefined"!=typeof opera&&opera.wiiremote));return b})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(b,A,q){function x(c){return p[c]=
	new Function("item","index","array",c)}function r(c){var a=!c;return function(f,e,l){var k=0,d=f&&f.length||0;d&&"string"==typeof f&&(f=f.split(""));"string"==typeof e&&(e=p[e]||x(e));if(l)for(;k<d;++k){var u=!e.call(l,f[k],k,f);if(c^u)return!u}else for(;k<d;++k)if(u=!e(f[k],k,f),c^u)return!u;return a}}function m(c){var a=1,f=0,e=0;c||(a=f=e=-1);return function(l,k,d,u){if(u&&0<a)return h.lastIndexOf(l,k,d);u=l&&l.length||0;var y=c?u+e:f;d===t?d=c?f:u+e:0>d?(d=u+d,0>d&&(d=f)):d=d>=u?u+e:d;for(u&&
	"string"==typeof l&&(l=l.split(""));d!=y;d+=a)if(l[d]==k)return d;return-1}}var p={},t,h={every:r(!1),some:r(!0),indexOf:m(!0),lastIndexOf:m(!1),forEach:function(c,a,f){var e=0,l=c&&c.length||0;l&&"string"==typeof c&&(c=c.split(""));"string"==typeof a&&(a=p[a]||x(a));if(f)for(;e<l;++e)a.call(f,c[e],e,c);else for(;e<l;++e)a(c[e],e,c)},map:function(c,a,f,e){var l=0,k=c&&c.length||0;e=new (e||Array)(k);k&&"string"==typeof c&&(c=c.split(""));"string"==typeof a&&(a=p[a]||x(a));if(f)for(;l<k;++l)e[l]=a.call(f,
	c[l],l,c);else for(;l<k;++l)e[l]=a(c[l],l,c);return e},filter:function(c,a,f){var e=0,l=c&&c.length||0,k=[];l&&"string"==typeof c&&(c=c.split(""));"string"==typeof a&&(a=p[a]||x(a));if(f)for(;e<l;++e){var d=c[e];a.call(f,d,e,c)&&k.push(d)}else for(;e<l;++e)d=c[e],a(d,e,c)&&k.push(d);return k},clearCache:function(){p={}}};q.mixin(b,h);return h})},"dojo/require":function(){define(["./_base/loader"],function(b){return{dynamic:0,normalize:function(A){return A},load:b.require}})},"dojo/text":function(){define(["./_base/kernel",
	"require","./has","./request"],function(b,A,q,x){var r=function(c,a,f){x(c,{sync:!!a,headers:{"X-Requested-With":null}}).then(f)};var m={},p=function(c){if(c){c=c.replace(/^\s*<\?xml(\s)+version=['"](\d)*.(\d)*['"](\s)*\?>/im,"");var a=c.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);a&&(c=a[1])}else c="";return c},t={},h={};b.cache=function(c,a,f){if("string"==typeof c)if(/\//.test(c)){var e=c;f=a}else e=A.toUrl(c.replace(/\./g,"/")+(a?"/"+a:""));else e=c+"",f=a;c=void 0!=f&&"string"!=typeof f?f.value:
	f;f=f&&f.sanitize;if("string"==typeof c)return m[e]=c,f?p(c):c;if(null===c)return delete m[e],null;e in m||r(e,!0,function(l){m[e]=l});return f?p(m[e]):m[e]};return{dynamic:!0,normalize:function(c,a){c=c.split("!");var f=c[0];return(/^\./.test(f)?a(f):f)+(c[1]?"!"+c[1]:"")},load:function(c,a,f){c=c.split("!");var e=1<c.length,l=c[0],k=a.toUrl(c[0]);c="url:"+k;var d=t,u=function(n){f(e?p(n):n)};l in m?d=m[l]:a.cache&&c in a.cache?d=a.cache[c]:k in m&&(d=m[k]);if(d===t)if(h[k])h[k].push(u);else{var y=
	h[k]=[u];r(k,!a.async,function(n){m[l]=m[k]=n;for(var v=0;v<y.length;)y[v++](n);delete h[k]})}else u(d)}}})},"dojo/request":function(){define(["./request/default!"],function(b){return b})},"dojo/request/default":function(){define(["exports","require","../has"],function(b,A,q){var x=q("config-requestProvider");x||(x="./xhr");b.getPlatformDefaultId=function(){return"./xhr"};b.load=function(r,m,p,t){A(["platform"==r?"./xhr":x],function(h){p(h)})}})},"dojo/i18n":function(){define("./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),
	function(b,A,q,x,r,m,p,t,h){q.add("dojo-preload-i18n-Api",1);var c=b.i18n={},a=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,f=function(B,K,J,R){var V=[J+R];K=K.split("-");for(var Y="",S=0;S<K.length;S++)if(Y+=(Y?"-":"")+K[S],!B||B[Y])V.push(J+Y+"/"+R),V.specificity=Y;return V},e={},l=function(B,K,J){J=J?J.toLowerCase():b.locale;B=B.replace(/\./g,"/");K=K.replace(/\./g,"/");return/root/i.test(J)?B+"/nls/"+K:B+"/nls/"+J+"/"+K},k=b.getL10nName=function(B,K,J){return B=h.id+"!"+l(B,K,J)},d=function(B,K,
	J,R,V,Y){B([K],function(S){var U=m.clone(S.root||S.ROOT),L=f(!S._v1x&&S,V,J,R);B(L,function(){for(var T=1;T<L.length;T++)U=m.mixin(m.clone(U),arguments[T]);e[K+"/"+V]=U;U.$locale=L.specificity;Y()})})},u=function(B){var K=r.extraLocale||[];K=m.isArray(K)?K:[K];K.push(B);return K},y=function(B,K,J){var R=a.exec(B),V=R[1]+"/",Y=R[5]||R[4],S=V+Y,U=(R=R[5]&&R[4])||b.locale||"",L=S+"/"+U;R=R?[U]:u(U);var T=R.length,da=function(){--T||J(m.delegate(e[L]))};U=B.split("*");var ha="preload"==U[1];if(q("dojo-preload-i18n-Api")){if(ha&&
	(e[B]||(e[B]=1,O(U[2],t.parse(U[3]),1,K)),J(1)),(U=ha)||(v&&D.push([B,K,J]),U=v&&!e[L]),U)return}else if(ha){J(1);return}x.forEach(R,function(ca){var qa=S+"/"+ca;q("dojo-preload-i18n-Api")&&z(qa);e[qa]?da():d(K,S,V,Y,ca,da)})};q("dojo-preload-i18n-Api");var n=c.normalizeLocale=function(B){B=B?B.toLowerCase():b.locale;return"root"==B?"ROOT":B},v=0,D=[],O=c._preloadLocalizations=function(B,K,J,R){function V(L,T){R.isXdUrl(A.toUrl(L+".js"))||J?R([L],T):H([L],T,R)}function Y(L,T){for(L=L.split("-");L.length;){if(T(L.join("-")))return;
	L.pop()}T("ROOT")}function S(){for(--v;!v&&D.length;)y.apply(null,D.shift())}function U(L){L=n(L);Y(L,function(T){if(0<=x.indexOf(K,T)){var da=B.replace(/\./g,"/")+"_"+T;v++;V(da,function(ha){for(var ca in ha){var qa=ha[ca],ta=ca.match(/(.+)\/([^\/]+)$/);if(ta){var oa=ta[2];ta=ta[1]+"/";if(qa._localized){var va;if("ROOT"===T){var na=va=qa._localized;delete qa._localized;na.root=qa;e[A.toAbsMid(ca)]=na}else va=qa._localized,e[A.toAbsMid(ta+oa+"/"+T)]=qa;T!==L&&function(ra,ia,wa,ya){var F=[],I=[];Y(L,
	function(M){ya[M]&&(F.push(A.toAbsMid(ra+M+"/"+ia)),I.push(A.toAbsMid(ra+ia+"/"+M)))});F.length?(v++,R(F,function(){for(var M=F.length-1;0<=M;M--)wa=m.mixin(m.clone(wa),arguments[M]),e[I[M]]=wa;e[A.toAbsMid(ra+ia+"/"+L)]=m.clone(wa);S()})):e[A.toAbsMid(ra+ia+"/"+L)]=wa}(ta,oa,qa,va)}}}S()});return!0}return!1})}R=R||A;U();x.forEach(b.config.extraLocale,U)},z=function(){},w={},E={},C,H=function(B,K,J){var R=[];x.forEach(B,function(V){function Y(L){C||(C=new Function("__bundle","__checkForLegacyModules",
	"__mid","__amdValue","var define \x3d function(mid, factory){define.called \x3d 1; __amdValue.result \x3d factory || mid;},\t   require \x3d function(){define.called \x3d 1;};try{define.called \x3d 0;eval(__bundle);if(define.called\x3d\x3d1)return __amdValue;if((__checkForLegacyModules \x3d __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"));L=C(L,z,V,w);L===w?R.push(e[S]=w.result):(L instanceof Error&&(console.error("failed to evaluate i18n bundle; url\x3d"+
	S,L),L={}),R.push(e[S]=/nls\/[^\/]+\/[^\/]+$/.test(S)?L:{root:L,_v1x:1}))}var S=J.toUrl(V+".js");if(e[S])R.push(e[S]);else{var U=J.syncLoadNls(V);U||(U=z(V.replace(/nls\/([^\/]*)\/([^\/]*)$/,"nls/$2/$1")));if(U)R.push(U);else if(p)p.get({url:S,sync:!0,load:Y,error:function(){R.push(e[S]={})}});else try{J.getText(S,!0,Y)}catch(L){R.push(e[S]={})}}});K&&K.apply(null,R)};z=function(B){for(var K,J=B.split("/"),R=b.global[J[0]],V=1;R&&V<J.length-1;R=R[J[V++]]);R&&((K=R[J[V]])||(K=R[J[V].replace(/-/g,"_")]),
	K&&(e[B]=K));return K};c.getLocalization=function(B,K,J){var R,V=l(B,K,J);if(E[V])return E[V];y(V,A.isXdUrl(A.toUrl(V+".js"))?A:function(Y,S){H(Y,S,A)},function(Y){R=E[V]=Y});return R};return m.mixin(c,{dynamic:!0,normalize:function(B,K){return/^\./.test(B)?K(B):B},load:y,cache:e,getL10nName:k})})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
	function(b,A,q,x,r,m,p,t,h,c,a,f,e,l,k,d){b._xhrObj=k._create;var u=b.config;b.objectToQuery=x.objectToQuery;b.queryToObject=x.queryToObject;b.fieldToObject=m.fieldToObject;b.formToObject=m.toObject;b.formToQuery=m.toQuery;b.formToJson=m.toJson;b._blockAsync=!1;A.add("native-xhr2-blob",function(){if(A("native-xhr2")){var z=new XMLHttpRequest;z.open("GET","/",!0);z.responseType="blob";var w=z.responseType;z.abort();return"blob"===w}});var y=b._contentHandlers=b.contentHandlers={text:function(z){return z.responseText},
	json:function(z){return h.fromJson(z.responseText||null)},"json-comment-filtered":function(z){t.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");z=z.responseText;var w=z.indexOf("/*"),E=z.lastIndexOf("*/");if(-1==w||-1==E)throw Error("JSON was not comment filtered");
	return h.fromJson(z.substring(w+2,E))},javascript:function(z){return b.eval(z.responseText)},xml:function(z){var w=z.responseXML;w&&A("dom-qsa2.1")&&!w.querySelectorAll&&A("dom-parser")&&(w=(new DOMParser).parseFromString(z.responseText,"application/xml"));if(A("ie")&&(!w||!w.documentElement)){var E=function(C){return"MSXML"+C+".DOMDocument"};E=["Microsoft.XMLDOM",E(6),E(4),E(3),E(2)];a.some(E,function(C){try{var H=new ActiveXObject(C);H.async=!1;H.loadXML(z.responseText);w=H}catch(B){return!1}return!0})}return w},
	"json-comment-optional":function(z){return z.responseText&&/^[^{\[]*\/\*/.test(z.responseText)?y["json-comment-filtered"](z):y.json(z)}};A("native-xhr2")&&(y.arraybuffer=y.blob=y.document=function(z,w){return"blob"!==w.args.handleAs||A("native-xhr2-blob")?z.response:new Blob([z.response],{type:z.getResponseHeader("Content-Type")})});b._ioSetArgs=function(z,w,E,C){var H={args:z,url:z.url},B=null;if(z.form){B=r.byId(z.form);var K=B.getAttributeNode("action");H.url=H.url||(K?K.value:b.doc?b.doc.URL:
	null);B=m.toObject(B)}K={};B&&c.mixin(K,B);z.content&&c.mixin(K,z.content);z.preventCache&&(K["dojo.preventCache"]=(new Date).valueOf());H.query=x.objectToQuery(K);H.handleAs=z.handleAs||"text";var J=new p(function(S){S.canceled=!0;w&&w(S);var U=S.ioArgs.error;U||(U=Error("request cancelled"),U.dojoType="cancel",S.ioArgs.error=U);return U});J.addCallback(E);var R=z.load;R&&c.isFunction(R)&&J.addCallback(function(S){return R.call(z,S,H)});var V=z.error;V&&c.isFunction(V)&&J.addErrback(function(S){return V.call(z,
	S,H)});var Y=z.handle;Y&&c.isFunction(Y)&&J.addBoth(function(S){return Y.call(z,S,H)});J.addErrback(function(S){return C(S,J)});u.ioPublish&&b.publish&&!1!==H.args.ioPublish&&(J.addCallbacks(function(S){b.publish("/dojo/io/load",[J,S]);return S},function(S){b.publish("/dojo/io/error",[J,S]);return S}),J.addBoth(function(S){b.publish("/dojo/io/done",[J,S]);return S}));J.ioArgs=H;return J};var n=function(z){z=y[z.ioArgs.handleAs](z.ioArgs.xhr,z.ioArgs);return void 0===z?null:z},v=function(z,w){w.ioArgs.args.failOk||
	console.error(z);return z},D=function(z){0>=O&&(O=0,u.ioPublish&&b.publish&&(!z||z&&!1!==z.ioArgs.args.ioPublish)&&b.publish("/dojo/io/stop"))},O=0;e.after(l,"_onAction",function(){--O});e.after(l,"_onInFlight",D);b._ioCancelAll=l.cancelAll;b._ioNotifyStart=function(z){u.ioPublish&&b.publish&&!1!==z.ioArgs.args.ioPublish&&(O||b.publish("/dojo/io/start"),O+=1,b.publish("/dojo/io/send",[z]))};b._ioWatch=function(z,w,E,C){z.ioArgs.options=z.ioArgs.args;c.mixin(z,{response:z.ioArgs,isValid:function(H){return w(z)},
	isReady:function(H){return E(z)},handleResponse:function(H){return C(z)}});l(z);D(z)};b._ioAddQueryToUrl=function(z){z.query.length&&(z.url+=(-1==z.url.indexOf("?")?"?":"\x26")+z.query,z.query=null)};b.xhr=function(z,w,E){var C=b._ioSetArgs(w,function(J){K&&K.cancel()},n,v),H=C.ioArgs;"postData"in w?H.query=w.postData:"putData"in w?H.query=w.putData:"rawBody"in w?H.query=w.rawBody:(2<arguments.length&&!E||-1==="POST|PUT".indexOf(z.toUpperCase()))&&b._ioAddQueryToUrl(H);var B;A("native-xhr2")&&(B=
	{arraybuffer:1,blob:1,document:1});B=B[w.handleAs]?w.handleAs:"text";"blob"!==B||A("native-xhr2-blob")||(B="arraybuffer");B={method:z,handleAs:B,responseType:w.responseType,timeout:w.timeout,withCredentials:w.withCredentials,ioArgs:H};"undefined"!==typeof w.headers&&(B.headers=w.headers);"undefined"!==typeof w.contentType&&(B.headers||(B.headers={}),B.headers["Content-Type"]=w.contentType);"undefined"!==typeof H.query&&(B.data=H.query);"undefined"!==typeof w.sync&&(B.sync=w.sync);b._ioNotifyStart(C);
	try{var K=k(H.url,B,!0)}catch(J){return C.cancel(),C}C.ioArgs.xhr=K.response.xhr;K.then(function(){C.resolve(C)}).otherwise(function(J){H.error=J;J.response&&(J.status=J.response.status,J.responseText=J.response.text,J.xhr=J.response.xhr);C.reject(J)});return C};b.xhrGet=function(z){return b.xhr("GET",z)};b.rawXhrPost=b.xhrPost=function(z){return b.xhr("POST",z,!0)};b.rawXhrPut=b.xhrPut=function(z){return b.xhr("PUT",z,!0)};b.xhrDelete=function(z){return b.xhr("DELETE",z)};b._isDocumentOk=function(z){return d.checkStatus(z.status)};
	b._getText=function(z){var w;b.xhrGet({url:z,sync:!0,load:function(E){w=E}});return w};c.mixin(b.xhr,{_xhrObj:b._xhrObj,fieldToObject:m.fieldToObject,formToObject:m.toObject,objectToQuery:x.objectToQuery,formToQuery:m.toQuery,formToJson:m.toJson,queryToObject:x.queryToObject,contentHandlers:y,_ioSetArgs:b._ioSetArgs,_ioCancelAll:b._ioCancelAll,_ioNotifyStart:b._ioNotifyStart,_ioWatch:b._ioWatch,_ioAddQueryToUrl:b._ioAddQueryToUrl,_isDocumentOk:b._isDocumentOk,_getText:b._getText,get:b.xhrGet,post:b.xhrPost,
	put:b.xhrPut,del:b.xhrDelete});return b.xhr})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(b,A,q){b._name="browser";A.mixin(b,{isBrowser:!0,isFF:q("ff"),isIE:q("ie"),isKhtml:q("khtml"),isWebKit:q("webkit"),isMozilla:q("mozilla"),isMoz:q("mozilla"),isOpera:q("opera"),isSafari:q("safari"),isChrome:q("chrome"),isMac:q("mac"),isIos:q("ios"),isAndroid:q("android"),isWii:q("wii"),isQuirks:q("quirks"),isAir:q("air")});return q})},"dojo/io-query":function(){define(["./_base/lang"],
	function(b){var A={};return{objectToQuery:function(q){var x=encodeURIComponent,r=[],m;for(m in q){var p=q[m];if(p!=A[m]){var t=x(m)+"\x3d";if(b.isArray(p))for(var h=0,c=p.length;h<c;++h)r.push(t+x(p[h]));else r.push(t+x(p))}}return r.join("\x26")},queryToObject:function(q){var x=decodeURIComponent;q=q.split("\x26");for(var r={},m,p,t=0,h=q.length;t<h;++t)if(p=q[t],p.length){var c=p.indexOf("\x3d");0>c?(m=x(p),p=""):(m=x(p.slice(0,c)),p=x(p.slice(c+1)));"string"==typeof r[m]&&(r[m]=[r[m]]);b.isArray(r[m])?
	r[m].push(p):r[m]=p}return r}}})},"dojo/dom":function(){define(["./sniff","./_base/window","./_base/kernel"],function(b,A,q){if(7>=b("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(m){}var x={};b("ie")?x.byId=function(m,p){if("string"!=typeof m)return m||null;var t=p||A.doc;p=m&&t.getElementById(m);if(!p||p.attributes.id.value!=m&&p.id!=m){t=t.all[m];if(!t||t.nodeName)t=[t];for(var h=0;p=t[h++];)if(p.attributes&&p.attributes.id&&p.attributes.id.value==m||p.id==m)return p}else return p;
	return null}:x.byId=function(m,p){return("string"==typeof m?(p||A.doc).getElementById(m):m)||null};q=q.global.document||null;b.add("dom-contains",!(!q||!q.contains));x.isDescendant=b("dom-contains")?function(m,p){return!(!(p=x.byId(p))||!p.contains(x.byId(m)))}:function(m,p){try{for(m=x.byId(m),p=x.byId(p);m;){if(m==p)return!0;m=m.parentNode}}catch(t){}return!1};b.add("css-user-select",function(m,p,t){if(!t)return!1;m=t.style;p=["Khtml","O","Moz","Webkit"];t=p.length;var h="userSelect";do if("undefined"!==
	typeof m[h])return h;while(t--&&(h=p[t]+"UserSelect"));return!1});var r=b("css-user-select");x.setSelectable=r?function(m,p){x.byId(m).style[r]=p?"":"none"}:function(m,p){m=x.byId(m);var t=m.getElementsByTagName("*"),h=t.length;if(p)for(m.removeAttribute("unselectable");h--;)t[h].removeAttribute("unselectable");else for(m.setAttribute("unselectable","on");h--;)t[h].setAttribute("unselectable","on")};return x})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(b,A,q){var x=
	{global:b.global,doc:b.global.document||null,body:function(r){r=r||b.doc;return r.body||r.getElementsByTagName("body")[0]},setContext:function(r,m){b.global=x.global=r;b.doc=x.doc=m},withGlobal:function(r,m,p,t){var h=b.global;try{return b.global=x.global=r,x.withDoc.call(null,r.document,m,p,t)}finally{b.global=x.global=h}},withDoc:function(r,m,p,t){var h=x.doc,c=q("quirks"),a=q("ie"),f,e;try{b.doc=x.doc=r;b.isQuirks=q.add("quirks","BackCompat"==b.doc.compatMode,!0,!0);if(q("ie")&&(e=r.parentWindow)&&
	e.navigator){var l=parseFloat(e.navigator.appVersion.split("MSIE ")[1])||void 0;(f=r.documentMode)&&5!=f&&Math.floor(l)!=f&&(l=f);b.isIE=q.add("ie",l,!0,!0)}p&&"string"==typeof m&&(m=p[m]);return m.apply(p,t||[])}finally{b.doc=x.doc=h,b.isQuirks=q.add("quirks",c,!0,!0),b.isIE=q.add("ie",a,!0,!0)}}};A.mixin(b,x);return x})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(b,A,q,x){var r={fieldToObject:function(m){var p=null;if(m=A.byId(m)){var t=m.name,h=(m.type||
	"").toLowerCase();if(t&&h&&!m.disabled)if("radio"==h||"checkbox"==h)m.checked&&(p=m.value);else if(m.multiple)for(p=[],m=[m.firstChild];m.length;)for(t=m.pop();t;t=t.nextSibling)if(1==t.nodeType&&"option"==t.tagName.toLowerCase())t.selected&&p.push(t.value);else{t.nextSibling&&m.push(t.nextSibling);t.firstChild&&m.push(t.firstChild);break}else p=m.value}return p},toObject:function(m){var p={};m=A.byId(m).elements;for(var t=0,h=m.length;t<h;++t){var c=m[t],a=c.name,f=(c.type||"").toLowerCase();if(a&&
	f&&0>"file|submit|image|reset|button".indexOf(f)&&!c.disabled){var e=p,l=a;c=r.fieldToObject(c);if(null!==c){var k=e[l];"string"==typeof k?e[l]=[k,c]:b.isArray(k)?k.push(c):e[l]=c}"image"==f&&(p[a+".x"]=p[a+".y"]=p[a].x=p[a].y=0)}}return p},toQuery:function(m){return q.objectToQuery(r.toObject(m))},toJson:function(m,p){return x.stringify(r.toObject(m),null,p?4:0)}};return r})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),
	function(b,A,q,x,r,m,p){var t=function(){},h=Object.freeze||function(){},c=b.Deferred=function(a){function f(z){if(k)throw Error("This deferred has already been resolved");l=z;k=!0;e()}function e(){for(var z;!z&&v;){var w=v;v=v.next;if(z=w.progress==t)k=!1;var E=y?w.error:w.resolved;r("config-useDeferredInstrumentation")&&y&&A.instrumentRejected&&A.instrumentRejected(l,!!E);if(E)try{var C=E(l);C&&"function"===typeof C.then?C.then(m.hitch(w.deferred,"resolve"),m.hitch(w.deferred,"reject"),m.hitch(w.deferred,
	"progress")):(E=z&&void 0===C,z&&!E&&(y=C instanceof Error),w.deferred[E&&y?"reject":"resolve"](E?l:C))}catch(H){w.deferred.reject(H)}else y?w.deferred.reject(l):w.deferred.resolve(l)}}var l,k,d,u,y,n,v,D=this.promise=new q;this.isResolved=D.isResolved=function(){return 0==u};this.isRejected=D.isRejected=function(){return 1==u};this.isFulfilled=D.isFulfilled=function(){return 0<=u};this.isCanceled=D.isCanceled=function(){return d};this.resolve=this.callback=function(z){this.fired=u=0;this.results=
	[z,null];f(z)};this.reject=this.errback=function(z){y=!0;this.fired=u=1;r("config-useDeferredInstrumentation")&&A.instrumentRejected&&A.instrumentRejected(z,!!v);f(z);this.results=[null,z]};this.progress=function(z){for(var w=v;w;){var E=w.progress;E&&E(z);w=w.next}};this.addCallbacks=function(z,w){this.then(z,w,t);return this};D.then=this.then=function(z,w,E){var C=E==t?this:new c(D.cancel);z={resolved:z,error:w,progress:E,deferred:C};v?n=n.next=z:v=n=z;k&&e();return C.promise};var O=this;D.cancel=
	this.cancel=function(){if(!k){var z=a&&a(O);k||(z instanceof Error||(z=new x(z)),z.log=!1,O.reject(z))}d=!0};h(D)};m.extend(c,{addCallback:function(a){return this.addCallbacks(m.hitch.apply(b,arguments))},addErrback:function(a){return this.addCallbacks(null,m.hitch.apply(b,arguments))},addBoth:function(a){var f=m.hitch.apply(b,arguments);return this.addCallbacks(f,f)},fired:-1});c.when=b.when=p;return c})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise",
	"./promise/instrumentation"],function(b,A,q,x,r){var m=Object.freeze||function(){},p=function(f,e,l,k,d){2===e&&a.instrumentRejected&&0===f.length&&a.instrumentRejected(l,!1,k,d);for(d=0;d<f.length;d++)t(f[d],e,l,k)},t=function(f,e,l,k){var d=f[e],u=f.deferred;if(d)try{var y=d(l);if(0===e)"undefined"!==typeof y&&c(u,e,y);else{if(y&&"function"===typeof y.then){f.cancel=y.cancel;y.then(h(u,1),h(u,2),h(u,0));return}c(u,1,y)}}catch(n){c(u,2,n)}else c(u,e,l);2===e&&a.instrumentRejected&&a.instrumentRejected(l,
	!!d,k,u.promise)},h=function(f,e){return function(l){c(f,e,l)}},c=function(f,e,l){if(!f.isCanceled())switch(e){case 0:f.progress(l);break;case 1:f.resolve(l);break;case 2:f.reject(l)}},a=function(f){var e=this.promise=new x,l=this,k,d,u,y=!1,n=[];Error.captureStackTrace&&(Error.captureStackTrace(l,a),Error.captureStackTrace(e,a));this.isResolved=e.isResolved=function(){return 1===k};this.isRejected=e.isRejected=function(){return 2===k};this.isFulfilled=e.isFulfilled=function(){return!!k};this.isCanceled=
	e.isCanceled=function(){return y};this.progress=function(D,O){if(k){if(!0===O)throw Error("This deferred has already been fulfilled.");return e}p(n,0,D,null,l);return e};this.resolve=function(D,O){if(k){if(!0===O)throw Error("This deferred has already been fulfilled.");return e}p(n,k=1,d=D,null,l);n=null;return e};var v=this.reject=function(D,O){if(k){if(!0===O)throw Error("This deferred has already been fulfilled.");return e}Error.captureStackTrace&&Error.captureStackTrace(u={},v);p(n,k=2,d=D,u,
	l);n=null;return e};this.then=e.then=function(D,O,z){var w=[z,D,O];w.cancel=e.cancel;w.deferred=new a(function(E){return w.cancel&&w.cancel(E)});k&&!n?t(w,k,d,u):n.push(w);return w.deferred.promise};this.cancel=e.cancel=function(D,O){if(!k){f&&(O=f(D),D="undefined"===typeof O?D:O);y=!0;if(!k)return"undefined"===typeof D&&(D=new q),v(D),D;if(2===k&&d===D)return D}else if(!0===O)throw Error("This deferred has already been fulfilled.");};m(e)};a.prototype.toString=function(){return"[object Deferred]"};
	r&&r(a);return a})},"dojo/errors/CancelError":function(){define(["./create"],function(b){return b("CancelError",null,null,{dojoType:"cancel",log:!1})})},"dojo/errors/create":function(){define(["../_base/lang"],function(b){return function(A,q,x,r){x=x||Error;var m=function(p){if(x===Error){Error.captureStackTrace&&Error.captureStackTrace(this,m);var t=Error.call(this,p),h;for(h in t)t.hasOwnProperty(h)&&(this[h]=t[h]);this.message=p;this.stack=t.stack}else x.apply(this,arguments);q&&q.apply(this,arguments)};
	m.prototype=b.delegate(x.prototype,r);m.prototype.name=A;return m.prototype.constructor=m}})},"dojo/promise/Promise":function(){define(["../_base/lang"],function(b){function A(){throw new TypeError("abstract");}return b.extend(function(){},{then:function(q,x,r){A()},cancel:function(q,x){A()},isResolved:function(){A()},isRejected:function(){A()},isFulfilled:function(){A()},isCanceled:function(){A()},"finally":function(q){return this.then(function(x){var r=q();return r&&"function"===typeof r.then?r.then(function(){return x}):
	x},function(x){var r=q();if(r&&"function"===typeof r.then)return r.then(function(){throw x;});throw x;})},always:function(q){return this.then(q,q)},"catch":function(q){return this.then(null,q)},otherwise:function(q){return this.then(null,q)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(b,A,q,x){function r(f,e,l){if(!f||
	!1!==f.log){var k="";f&&f.stack&&(k+=f.stack);e&&e.stack&&(k+="\n    ----------------------------------------\n    rejected"+e.stack.split("\n").slice(1).join("\n").replace(/^\s+/," "));l&&l.stack&&(k+="\n    ----------------------------------------\n"+l.stack);console.error(f,k)}}function m(f,e,l,k){e||r(f,l,k)}function p(f,e,l,k){x.some(h,function(d){if(d.error===f)return e&&(d.handled=!0),!0})||h.push({error:f,rejection:l,handled:e,deferred:k,timestamp:(new Date).getTime()});c||(c=setTimeout(t,
	a))}function t(){var f=(new Date).getTime(),e=f-a;h=x.filter(h,function(l){return l.timestamp<e?(l.handled||r(l.error,l.rejection,l.deferred),!1):!0});c=h.length?setTimeout(t,h[0].timestamp+a-f):!1}A.add("config-useDeferredInstrumentation","report-unhandled-rejections");var h=[],c=!1,a=1E3;return function(f){var e=A("config-useDeferredInstrumentation");if(e){b.on("resolved",q.hitch(console,"log","resolved"));b.on("rejected",q.hitch(console,"log","rejected"));b.on("progress",q.hitch(console,"log",
	"progress"));var l=[];"string"===typeof e&&(l=e.split(","),e=l.shift());if("report-rejections"===e)f.instrumentRejected=m;else if("report-unhandled-rejections"===e||!0===e||1===e)f.instrumentRejected=p,a=parseInt(l[0],10)||a;else throw Error("Unsupported instrumentation usage \x3c"+e+"\x3e");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(b,A,q){function x(p){setTimeout(function(){m.apply(r,p)},0)}var r=new q,m=r.emit;r.emit=null;A.prototype.trace=
	function(){var p=b._toArray(arguments);this.then(function(t){x(["resolved",t].concat(p))},function(t){x(["rejected",t].concat(p))},function(t){x(["progress",t].concat(p))});return this};A.prototype.traceRejected=function(){var p=b._toArray(arguments);this.otherwise(function(t){x(["rejected",t].concat(p))});return this};return r})},"dojo/Evented":function(){define(["./aspect","./on"],function(b,A){function q(){}var x=b.after;q.prototype={on:function(r,m){return A.parse(this,r,m,function(p,t){return x(p,
	"on"+t,m,!0)})},emit:function(r,m){var p=[this];p.push.apply(p,arguments);return A.emit.apply(A,p)}};return q})},"dojo/aspect":function(){define([],function(){function b(p,t,h,c){var a=p[t],f="around"==t;if(f){var e=h(function(){return a.advice(this,arguments)});var l={remove:function(){e&&(e=p=h=null)},advice:function(k,d){return e?e.apply(k,d):a.advice(k,d)}}}else l={remove:function(){if(l.advice){var k=l.previous,d=l.next;d||k?(k?k.next=d:p[t]=d,d&&(d.previous=k)):delete p[t];p=h=l.advice=null}},
	id:p.nextId++,advice:h,receiveArguments:c};if(a&&!f)if("after"==t){for(;a.next&&(a=a.next););a.next=l;l.previous=a}else"before"==t&&(p[t]=l,l.next=a,a.previous=l);else p[t]=l;return l}function A(p){return function(t,h,c,a){var f=t[h],e;f&&f.target==t||(t[h]=e=function(){for(var l=e.nextId,k=arguments,d=e.before;d;)d.advice&&(k=d.advice.apply(this,k)||k),d=d.next;if(e.around)var u=e.around.advice(this,k);for(d=e.after;d&&d.id<l;){if(d.advice)if(d.receiveArguments){var y=d.advice.apply(this,k);u=y===
	q?u:y}else u=d.advice.call(this,u,k);d=d.next}return u},f&&(e.around={advice:function(l,k){return f.apply(l,k)}}),e.target=t,e.nextId=e.nextId||0);t=b(e||f,p,c,a);c=null;return t}}var q,x=A("after"),r=A("before"),m=A("around");return{before:r,around:m,after:x}})},"dojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(b,A,q){function x(w,E,C,H,B){if(H=E.match(/(.*):(.*)/))return E=H[2],H=H[1],t.selector(H,E).call(B,w,C);q("touch")&&(h.test(E)&&(C=z(C)),
	q("event-orientationchange")||"orientationchange"!=E||(E="resize",w=window,C=z(C)));l&&(C=l(C));if(w.addEventListener){var K=E in f,J=K?f[E]:E;w.addEventListener(J,C,K);return{remove:function(){w.removeEventListener(J,C,K)}}}if(y&&w.attachEvent)return y(w,"on"+E,C);throw Error("Target must be an event emitter");}function r(){this.cancelable=!1;this.defaultPrevented=!0}function m(){this.bubbles=!1}var p=window.ScriptEngineMajorVersion;q.add("jscript",p&&p()+ScriptEngineMinorVersion()/10);q.add("event-orientationchange",
	q("touch")&&!q("android"));q.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);q.add("event-focusin",function(w,E,C){return"onfocusin"in C});q("touch")&&q.add("touch-can-modify-event-delegate",function(){var w=function(){};w.prototype=document.createEvent("MouseEvents");try{var E=new w;E.target=null;return null===E.target}catch(C){return!1}});var t=function(w,E,C,H){return"function"!=typeof w.on||"function"==typeof E||w.nodeType?
	t.parse(w,E,C,x,H,this):w.on(E,C)};t.pausable=function(w,E,C,H){var B;w=t(w,E,function(){if(!B)return C.apply(this,arguments)},H);w.pause=function(){B=!0};w.resume=function(){B=!1};return w};t.once=function(w,E,C,H){var B=t(w,E,function(){B.remove();return C.apply(this,arguments)});return B};t.parse=function(w,E,C,H,B,K){var J;if(E.call)return E.call(K,w,C);E instanceof Array?J=E:-1<E.indexOf(",")&&(J=E.split(/\s*,\s*/));if(J){var R=[];E=0;for(var V;V=J[E++];)R.push(t.parse(w,V,C,H,B,K));R.remove=
	function(){for(var Y=0;Y<R.length;Y++)R[Y].remove()};return R}return H(w,E,C,B,K)};var h=/^touch/;t.matches=function(w,E,C,H,B){B=B&&"function"==typeof B.matches?B:A.query;H=!1!==H;1!=w.nodeType&&(w=w.parentNode);for(;!B.matches(w,E,C);)if(w==C||!1===H||!(w=w.parentNode)||1!=w.nodeType)return!1;return w};t.selector=function(w,E,C){return function(H,B){function K(V){return t.matches(V,w,H,C,J)}var J="function"==typeof w?{matches:w}:this,R=E.bubble;return R?t(H,R(K),B):t(H,E,function(V){var Y=K(V.target);
	if(Y)return V.selectorTarget=Y,B.call(Y,V)})}};var c=[].slice,a=t.emit=function(w,E,C){var H=c.call(arguments,2),B="on"+E;if("parentNode"in w){var K=H[0]={},J;for(J in C)K[J]=C[J];K.preventDefault=r;K.stopPropagation=m;K.target=w;K.type=E;C=K}do w[B]&&w[B].apply(w,H);while(C&&C.bubbles&&(w=w.parentNode));return C&&C.cancelable&&C},f=q("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!q("event-stopimmediatepropagation"))var e=function(){this.modified=this.immediatelyStopped=!0},l=function(w){return function(E){if(!E.immediatelyStopped)return E.stopImmediatePropagation=
	e,w.apply(this,arguments)}};if(q("dom-addeventlistener"))t.emit=function(w,E,C){if(w.dispatchEvent&&document.createEvent){var H=(w.ownerDocument||document).createEvent("HTMLEvents");H.initEvent(E,!!C.bubbles,!!C.cancelable);for(var B in C)B in H||(H[B]=C[B]);return w.dispatchEvent(H)&&H}return a.apply(t,arguments)};else{t._fixEvent=function(w,E){w||(w=(E&&(E.ownerDocument||E.document||E).parentWindow||window).event);if(!w)return w;try{k&&w.type==k.type&&w.srcElement==k.target&&(w=k)}catch(C){}if(!w.target)switch(w.target=
	w.srcElement,w.currentTarget=E||w.srcElement,"mouseover"==w.type&&(w.relatedTarget=w.fromElement),"mouseout"==w.type&&(w.relatedTarget=w.toElement),w.stopPropagation||(w.stopPropagation=n,w.preventDefault=v),w.type){case "keypress":E="charCode"in w?w.charCode:w.keyCode,10==E?(E=0,w.keyCode=13):13==E||27==E?E=0:3==E&&(E=99),w.charCode=E,E=w,E.keyChar=E.charCode?String.fromCharCode(E.charCode):"",E.charOrCode=E.keyChar||E.keyCode}return w};var k,d=function(w){this.handle=w};d.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};
	var u=function(w){return function(E){E=t._fixEvent(E,this);var C=w.call(this,E);E.modified&&(k||setTimeout(function(){k=null}),k=E);return C}},y=function(w,E,C){C=u(C);if(((w.ownerDocument?w.ownerDocument.parentWindow:w.parentWindow||w.window||window)!=top||5.8>q("jscript"))&&!q("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var H=w[E];if(!H||!H.listeners){var B=H;H=Function("event","var callee \x3d arguments.callee; for(var i \x3d 0; i\x3ccallee.listeners.length; i++){var listener \x3d _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
	H.listeners=[];w[E]=H;H.global=this;B&&H.listeners.push(_dojoIEListeners_.push(B)-1)}H.listeners.push(w=H.global._dojoIEListeners_.push(C)-1);return new d(w)}return b.after(w,E,C,!0)},n=function(){this.cancelBubble=!0},v=t._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(w){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(q("touch"))var D=function(){},O=window.orientation,z=function(w){return function(E){var C=E.corrected;if(!C){var H=
	E.type;try{delete E.type}catch(J){}if(E.type){if(q("touch-can-modify-event-delegate"))D.prototype=E,C=new D;else{C={};for(var B in E)C[B]=E[B]}C.preventDefault=function(){E.preventDefault()};C.stopPropagation=function(){E.stopPropagation()}}else C=E,C.type=H;E.corrected=C;if("resize"==H){if(O==window.orientation)return null;O=window.orientation;C.type="orientationchange";return w.call(this,C)}"rotation"in C||(C.rotation=0,C.scale=1);if(window.TouchEvent&&E instanceof TouchEvent){H=C.changedTouches[0];
	for(var K in H)delete C[K],C[K]=H[K]}}return w.call(this,C)}};return t})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(b,A){return function(q,x,r,m){var p=q&&"function"===typeof q.then,t=p&&q instanceof A;if(!p)return 1<arguments.length?x?x(q):q:(new b).resolve(q);t||(p=new b(q.cancel),q.then(p.resolve,p.reject,p.progress),q=p.promise);return x||r||m?q.then(x,r,m):q}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(b,A){b.fromJson=function(q){return eval("("+
	q+")")};b._escapeString=A.stringify;b.toJsonIndentStr="\t";b.toJson=function(q,x){return A.stringify(q,function(r,m){return m&&(r=m.__json__||m.json,"function"==typeof r)?r.call(m):m},x&&b.toJsonIndentStr)};return b})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../_base/window ../has!host-browser?dom-addeventlistener?:../on:".split(" "),function(b,A,q,x,r,m){function p(){for(var a=+new Date,f=0,e;f<c.length&&(e=c[f]);f++){var l=
	e.response,k=l.options;e.isCanceled&&e.isCanceled()||e.isValid&&!e.isValid(l)?(c.splice(f--,1),t._onAction&&t._onAction()):e.isReady&&e.isReady(l)?(c.splice(f--,1),e.handleResponse(l),t._onAction&&t._onAction()):e.startTime&&e.startTime+(k.timeout||0)<a&&(c.splice(f--,1),e.cancel(new A("Timeout exceeded",l)),t._onAction&&t._onAction())}t._onInFlight&&t._onInFlight(e);c.length||(clearInterval(h),h=null)}function t(a){a.response.options.timeout&&(a.startTime=+new Date);a.isFulfilled()||(c.push(a),h||
	(h=setInterval(p,50)),a.response.options.sync&&p())}var h=null,c=[];t.cancelAll=function(){try{x.forEach(c,function(a){try{a.cancel(new q("All requests canceled."))}catch(f){}})}catch(a){}};r&&m&&r.doc.attachEvent&&m(r.global,"unload",function(){t.cancelAll()});return t})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise ../has".split(" "),function(b,A,q,x,r,m,p,t,h){function c(k){return h("native-arraybuffer")&&
	k instanceof ArrayBuffer}function a(k){return h("native-blob")&&k instanceof Blob}function f(k){return l(k)}function e(k){return void 0!==k.data?k.data:k.text}b.deepCopy=function(k,d){for(var u in d){var y=k[u],n=d[u];if("__proto__"!==u&&y!==n){var v=n,D;if(D=v&&"object"===typeof v)D=v,D=!(h("native-formdata")&&D instanceof FormData);!D||("undefined"!==typeof Element?v instanceof Element:1===v.nodeType)||a(v)||c(v)?k[u]=n:"[object Date]"===Object.prototype.toString.call(n)?k[u]=new Date(n):p.isArray(n)?
	k[u]=b.deepCopyArray(n):y&&"object"===typeof y?b.deepCopy(y,n):k[u]=b.deepCopy({},n)}}return k};b.deepCopyArray=function(k){for(var d=[],u=0,y=k.length;u<y;u++){var n=k[u];"object"===typeof n?d.push(b.deepCopy({},n)):d.push(n)}return d};b.deepCreate=function(k,d){d=d||{};var u=p.delegate(k),y,n;for(y in k)(n=k[y])&&"object"===typeof n&&(u[y]=b.deepCreate(n,d[y]));return b.deepCopy(u,d)};var l=Object.freeze||function(k){return k};b.deferred=function(k,d,u,y,n,v){var D=new x(function(z){d&&d(D,k);return z&&
	(z instanceof A||z instanceof q)?z:new q("Request canceled",k)});D.response=k;D.isValid=u;D.isReady=y;D.handleResponse=n;u=D.then(f).otherwise(function(z){z.response=k;throw z;});b.notify&&u.then(p.hitch(b.notify,"emit","load"),p.hitch(b.notify,"emit","error"));y=u.then(e);n=new t;for(var O in y)y.hasOwnProperty(O)&&(n[O]=y[O]);n.response=u;l(n);v&&D.then(function(z){v.call(D,z)},function(z){v.call(D,k,z)});D.promise=n;D.then=n.then;return D};b.addCommonMethods=function(k,d){m.forEach(d||["GET","POST",
	"PUT","DELETE"],function(u){k[("DELETE"===u?"DEL":u).toLowerCase()]=function(y,n){n=p.delegate(n||{});n.method=u;return k(y,n)}})};b.parseArgs=function(k,d,u){var y=d.data,n=d.query;!y||u||"object"!==typeof y||h("native-xhr2")&&(c(y)||a(y))||(d.data=r.objectToQuery(y));n?("object"===typeof n&&(n=r.objectToQuery(n)),d.preventCache&&(n+=(n?"\x26":"")+"request.preventCache\x3d"+ +new Date)):d.preventCache&&(n="request.preventCache\x3d"+ +new Date);k&&n&&(k+=(~k.indexOf("?")?"\x26":"?")+n);return{url:k,
	options:d,getHeader:function(v){return null}}};b.checkStatus=function(k){k=k||0;return 200<=k&&300>k||304===k||1223===k||!k}})},"dojo/errors/RequestError":function(){define(["./create"],function(b){return b("RequestError",function(A,q){this.response=q})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(b,A){return b("RequestTimeoutError",null,A,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers",
	"./util","../has"],function(b,A,q,x,r){function m(d,u){var y=d.xhr;d.status=d.xhr.status;try{d.text=y.responseText}catch(v){}"xml"===d.options.handleAs&&(d.data=y.responseXML);if(u)this.reject(u);else{try{q(d)}catch(v){var n=v}x.checkStatus(y.status)?n?this.reject(n):this.resolve(d):(u=n?new b("Unable to load "+d.url+" status: "+y.status+" and an error in handleAs: transformation of response",d):new b("Unable to load "+d.url+" status: "+y.status,d),this.reject(u))}}function p(d){return this.xhr.getResponseHeader(d)}
	function t(d,u,y){var n=r("native-formdata")&&u&&u.data&&u.data instanceof FormData,v=x.parseArgs(d,x.deepCreate(k,u),n);d=v.url;u=v.options;var D=!u.data&&"POST"!==u.method&&"PUT"!==u.method;10>=r("ie")&&(d=d.split("#")[0]);var O,z=x.deferred(v,a,c,e,m,function(){O&&O()}),w=v.xhr=t._create();if(!w)return z.cancel(new b("XHR was not created")),y?z:z.promise;v.getHeader=p;f&&(O=f(w,z,v,u.uploadProgress));var E="undefined"===typeof u.data?null:u.data,C=!u.sync,H=u.method;try{w.open(H,d,C,u.user||l,
	u.password||l);u.withCredentials&&(w.withCredentials=u.withCredentials);r("native-response-type")&&u.handleAs in h&&(w.responseType=h[u.handleAs]);var B=u.headers;d=n||D?!1:"application/x-www-form-urlencoded";if(B)for(var K in B)"content-type"===K.toLowerCase()?d=B[K]:B[K]&&w.setRequestHeader(K,B[K]);d&&!1!==d&&w.setRequestHeader("Content-Type",d);B&&"X-Requested-With"in B||w.setRequestHeader("X-Requested-With","XMLHttpRequest");x.notify&&x.notify.emit("send",v,z.promise.cancel);w.send(E)}catch(J){z.reject(J)}A(z);
	w=null;return y?z:z.promise}r.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});r.add("dojo-force-activex-xhr",function(){return r("activex")&&"file:"===window.location.protocol});r.add("native-xhr2",function(){if(r("native-xhr")&&!r("dojo-force-activex-xhr")){var d=new XMLHttpRequest;return"undefined"!==typeof d.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof d.upload)}});r.add("native-formdata",function(){return"undefined"!==typeof FormData});r.add("native-blob",
	function(){return"undefined"!==typeof Blob});r.add("native-arraybuffer",function(){return"undefined"!==typeof ArrayBuffer});r.add("native-response-type",function(){return r("native-xhr")&&"undefined"!==typeof(new XMLHttpRequest).responseType});r.add("native-xhr2-blob",function(){if(r("native-response-type")){var d=new XMLHttpRequest;d.open("GET","https://dojotoolkit.org/",!0);d.responseType="blob";var u=d.responseType;d.abort();return"blob"===u}});var h={blob:r("native-xhr2-blob")?"blob":"arraybuffer",
	document:"document",arraybuffer:"arraybuffer"};if(r("native-xhr2")){var c=function(d){return!this.isFulfilled()};var a=function(d,u){u.xhr.abort()};var f=function(d,u,y,n){function v(E){u.handleResponse(y)}function D(E){E=new b("Unable to load "+y.url+" status: "+E.target.status,y);u.handleResponse(y,E)}function O(E,C){y.transferType=E;C.lengthComputable?(y.loaded=C.loaded,y.total=C.total,u.progress(y)):3===y.xhr.readyState&&(y.loaded="loaded"in C?C.loaded:C.position,u.progress(y))}function z(E){return O("download",
	E)}function w(E){return O("upload",E)}d.addEventListener("load",v,!1);d.addEventListener("error",D,!1);d.addEventListener("progress",z,!1);n&&d.upload&&d.upload.addEventListener("progress",w,!1);return function(){d.removeEventListener("load",v,!1);d.removeEventListener("error",D,!1);d.removeEventListener("progress",z,!1);d.upload.removeEventListener("progress",w,!1);d=null}}}else{c=function(d){return d.xhr.readyState};var e=function(d){return 4===d.xhr.readyState};a=function(d,u){d=u.xhr;u=typeof d.abort;
	"function"!==u&&"object"!==u&&"unknown"!==u||d.abort()}}var l,k={data:null,query:null,sync:!1,method:"GET"};t._create=function(){throw Error("XMLHTTP not available");};if(r("native-xhr")&&!r("dojo-force-activex-xhr"))t._create=function(){return new XMLHttpRequest};else if(r("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),t._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(d){try{new ActiveXObject("Microsoft.XMLHTTP"),t._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(u){}}x.addCommonMethods(t);
	return t})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(b,A,q,x){function r(a){var f=c[a.options.handleAs];a.data=f?f(a):a.data||a.text;return a}x.add("activex","undefined"!==typeof ActiveXObject);x.add("dom-parser",function(a){return"DOMParser"in a});if(x("activex")){var m=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"],p;var t=function(a){function f(k){try{var d=
	new ActiveXObject(k);d.async=!1;d.loadXML(l);e=d;p=k}catch(u){return!1}return!0}var e=a.data,l=a.text;e&&x("dom-qsa2.1")&&!e.querySelectorAll&&x("dom-parser")&&(e=(new DOMParser).parseFromString(l,"application/xml"));e&&e.documentElement||p&&f(p)||q.some(m,f);return e}}var h=function(a){return x("native-xhr2-blob")||"blob"!==a.options.handleAs||"undefined"===typeof Blob?a.xhr.response:new Blob([a.xhr.response],{type:a.xhr.getResponseHeader("Content-Type")})},c={javascript:function(a){return A.eval(a.text||
	"")},json:function(a){return b.parse(a.text||null)},xml:t,blob:h,arraybuffer:h,document:h};r.register=function(a,f){c[a]=f};return r})},"dojo/selector/_loader":function(){define(["../has","require"],function(b,A){if("undefined"!==typeof document){var q=document.createElement("div");b.add("dom-qsa2.1",!!q.querySelectorAll);b.add("dom-qsa3",function(){try{return q.innerHTML="\x3cp class\x3d'TEST'\x3e\x3c/p\x3e",1==q.querySelectorAll(".TEST:empty").length}catch(r){}})}var x;return{load:function(r,m,
	p,t){if(t&&t.isBuild)p();else{t=A;r="default"==r?b("config-selectorEngine")||"css3":r;r="css2"==r||"lite"==r?"./lite":"css2.1"==r?b("dom-qsa2.1")?"./lite":"./acme":"css3"==r?b("dom-qsa3")?"./lite":"./acme":"acme"==r?"./acme":(t=m)&&r;if("?"==r.charAt(r.length-1)){r=r.substring(0,r.length-1);var h=!0}if(h&&(b("dom-compliant-qsa")||x))return p(x);t([r],function(c){"./lite"!=r&&(x=c);p(c)})}}}})},"dojo/request/script":function(){define("module ./watch ./util ../_base/kernel ../_base/array ../_base/lang ../on ../dom ../dom-construct ../has ../_base/window".split(" "),
	function(b,A,q,x,r,m,p,t,h,c,a){function f(w,E){w.canDelete&&u._remove(w.id,E.options.frameDoc,!0)}function e(w){z&&z.length&&(r.forEach(z,function(E){u._remove(E.id,E.frameDoc);E.frameDoc=null}),z=[]);return w.options.jsonp?!w.data:!0}function l(w){return!!this.scriptLoaded}function k(w){return(w=w.options.checkString)&&eval("typeof("+w+') !\x3d\x3d "undefined"')}function d(w,E){if(this.canDelete){var C=this.response.options;z.push({id:this.id,frameDoc:C.ioArgs?C.ioArgs.frameDoc:C.frameDoc});C.ioArgs&&
	(C.ioArgs.frameDoc=null);C.frameDoc=null}E?this.reject(E):this.resolve(w)}function u(w,E,C){var H=q.parseArgs(w,q.deepCopy({},E));w=H.url;E=H.options;var B=q.deferred(H,f,e,E.jsonp?null:E.checkString?k:l,d);m.mixin(B,{id:y+n++,canDelete:!1});E.jsonp&&((new RegExp("[?\x26]"+E.jsonp+"\x3d")).test(w)||(w+=(~w.indexOf("?")?"\x26":"?")+E.jsonp+"\x3d"+(E.frameDoc?"parent.":"")+y+"_callbacks."+B.id),B.canDelete=!0,O[B.id]=function(R){H.data=R;B.handleResponse(H)});q.notify&&q.notify.emit("send",H,B.promise.cancel);
	if(!E.canAttach||E.canAttach(B)){var K=u._attach(B.id,w,E.frameDoc,function(R){if(!(R instanceof Error)){var V=Error("Error loading "+(R.target?R.target.src:"script"));V.source=R;R=V}B.reject(R);u._remove(B.id,E.frameDoc,!0)});if(!E.jsonp&&!E.checkString)var J=p(K,v,function(R){if("load"===R.type||D.test(K.readyState))J.remove(),B.scriptLoaded=R})}A(B);return C?B:B.promise}c.add("script-readystatechange",function(w,E){return"undefined"!==typeof E.createElement("script").onreadystatechange&&("undefined"===
	typeof w.opera||"[object Opera]"!==w.opera.toString())});var y=b.id.replace(/[\/\.\-]/g,"_"),n=0,v=c("script-readystatechange")?"readystatechange":"load",D=/complete|loaded/,O=x.global[y+"_callbacks"]={},z=[];u.get=u;u._attach=function(w,E,C,H){C=C||a.doc;var B=C.createElement("script");if(H)p.once(B,"error",H);B.type="text/javascript";try{B.src=E}catch(K){H&&H(B)}B.id=w;B.async=!0;B.charset="utf-8";return C.getElementsByTagName("head")[0].appendChild(B)};u._remove=function(w,E,C){h.destroy(t.byId(w,
	E));O[w]&&(C?O[w]=function(){delete O[w]}:delete O[w])};u._callbacksProperty=y+"_callbacks";return u})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(b,A,q,x,r,m){function p(y,n){var v=n.parentNode;v&&v.insertBefore(y,n)}function t(y){if("innerHTML"in y)try{y.innerHTML="";return}catch(v){}for(var n;n=y.lastChild;)y.removeChild(n)}var h={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],
	td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},c=/<\s*([\w:]+)/,a={},f=0,e="__"+A._scopeName+"ToDomId",l;for(l in h)h.hasOwnProperty(l)&&(A=h[l],A.pre="option"==l?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+A.join("\x3e\x3c")+"\x3e",A.post="\x3c/"+A.reverse().join("\x3e\x3c/")+"\x3e");var k;8>=q("ie")&&(k=function(y){y.__dojo_html5_tested="yes";var n=d("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},
	y.body);1!==n.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(v){y.createElement(v)});u(n)});b.toDom=function(y,n){n=n||x.doc;var v=n[e];v||(n[e]=v=++f+"",a[v]=n.createElement("div"));8>=q("ie")&&!n.__dojo_html5_tested&&n.body&&k(n);y+="";var D=y.match(c),O=D?D[1].toLowerCase():"";v=a[v];if(D&&h[O])for(D=h[O],v.innerHTML=D.pre+y+D.post,y=D.length;y;--y)v=v.firstChild;
	else v.innerHTML=y;if(1==v.childNodes.length)return v.removeChild(v.firstChild);for(y=n.createDocumentFragment();n=v.firstChild;)y.appendChild(n);return y};b.place=function(y,n,v){n=r.byId(n);"string"==typeof y&&(y=/^\s*</.test(y)?b.toDom(y,n.ownerDocument):r.byId(y));if("number"==typeof v){var D=n.childNodes;!D.length||D.length<=v?n.appendChild(y):p(y,D[0>v?0:v])}else switch(v){case "before":p(y,n);break;case "after":v=y;(D=n.parentNode)&&(D.lastChild==n?D.appendChild(v):D.insertBefore(v,n.nextSibling));
	break;case "replace":n.parentNode.replaceChild(y,n);break;case "only":b.empty(n);n.appendChild(y);break;case "first":if(n.firstChild){p(y,n.firstChild);break}default:n.appendChild(y)}return y};var d=b.create=function(y,n,v,D){var O=x.doc;v&&(v=r.byId(v),O=v.ownerDocument);"string"==typeof y&&(y=O.createElement(y));n&&m.set(y,n);v&&b.place(y,v,D);return y};b.empty=function(y){t(r.byId(y))};var u=b.destroy=function(y){if(y=r.byId(y)){var n=y;y=y.parentNode;n.firstChild&&t(n);y&&(q("ie")&&y.canHaveChildren&&
	"removeNode"in n?n.removeNode(!1):y.removeChild(n))}}})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),function(b,A,q,x,r,m){function p(c,a){c=c.getAttributeNode&&c.getAttributeNode(a);return!!c&&c.specified}var t={innerHTML:1,textContent:1,className:1,htmlFor:A("ie")?1:0,value:1},h={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};b.has=function(c,a){var f=a.toLowerCase();return!!t[m.names[f]||a]||p(x.byId(c),h[f]||
	a)};b.get=function(c,a){c=x.byId(c);var f=a.toLowerCase(),e=m.names[f]||a,l=c[e];if(t[e]&&"undefined"!=typeof l)return l;if("textContent"==e)return m.get(c,e);if("href"!=e&&("boolean"==typeof l||q.isFunction(l)))return l;a=h[f]||a;return p(c,a)?c.getAttribute(a):null};b.set=function(c,a,f){c=x.byId(c);if(2==arguments.length){for(var e in a)b.set(c,e,a[e]);return c}e=a.toLowerCase();var l=m.names[e]||a,k=t[l];if("style"==l&&"string"!=typeof f)return r.set(c,f),c;if(k||"boolean"==typeof f||q.isFunction(f))return m.set(c,
	a,f);c.setAttribute(h[e]||a,f);return c};b.remove=function(c,a){x.byId(c).removeAttribute(h[a.toLowerCase()]||a)};b.getNodeProp=function(c,a){c=x.byId(c);var f=a.toLowerCase(),e=m.names[f]||a;if(e in c&&"href"!=e)return c[e];a=h[f]||a;return p(c,a)?c.getAttribute(a):null}})},"dojo/dom-style":function(){define(["./sniff","./dom","./_base/window"],function(b,A,q){function x(l,k,d){k=k.toLowerCase();if("auto"==d){if("height"==k)return l.offsetHeight;if("width"==k)return l.offsetWidth}if("fontweight"==
	k)switch(d){case 700:return"bold";default:return"normal"}k in a||(a[k]=f.test(k));return a[k]?p(l,d):d}var r={};var m=b("webkit")?function(l){if(1==l.nodeType){var k=l.ownerDocument.defaultView;var d=k.getComputedStyle(l,null);!d&&l.style&&(l.style.display="",d=k.getComputedStyle(l,null))}return d||{}}:b("ie")&&(9>b("ie")||b("quirks"))?function(l){return 1==l.nodeType&&l.currentStyle?l.currentStyle:{}}:function(l){if(1===l.nodeType){var k=l.ownerDocument.defaultView;return(k.opener?k:q.global.window).getComputedStyle(l,
	null)}return{}};r.getComputedStyle=m;var p=b("ie")?function(l,k){if(!k)return 0;if("medium"==k)return 4;if(k.slice&&"px"==k.slice(-2))return parseFloat(k);var d=l.style,u=l.runtimeStyle,y=d.left,n=u.left;u.left=l.currentStyle.left;try{d.left=k,k=d.pixelLeft}catch(v){k=0}d.left=y;u.left=n;return k}:function(l,k){return parseFloat(k)||0};r.toPixelValue=p;var t=function(l,k){try{return l.filters.item("DXImageTransform.Microsoft.Alpha")}catch(d){return k?{}:null}},h=9>b("ie")||10>b("ie")&&b("quirks")?
	function(l){try{return t(l).Opacity/100}catch(k){return 1}}:function(l){return m(l).opacity},c=9>b("ie")||10>b("ie")&&b("quirks")?function(l,k){""===k&&(k=1);var d=100*k;1===k?(l.style.zoom="",t(l)&&(l.style.filter=l.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(l.style.zoom=1,t(l)?t(l,1).Opacity=d:l.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+d+")",t(l,1).Enabled=!0);if("tr"==l.tagName.toLowerCase())for(l=l.firstChild;l;l=l.nextSibling)"td"==
	l.tagName.toLowerCase()&&c(l,k);return k}:function(l,k){return l.style.opacity=k},a={left:!0,top:!0},f=/margin|padding|width|height|max|min|offset/,e={cssFloat:1,styleFloat:1,"float":1};r.get=function(l,k){var d=A.byId(l),u=arguments.length;if(2==u&&"opacity"==k)return h(d);k=e[k]?"cssFloat"in d.style?"cssFloat":"styleFloat":k;var y=r.getComputedStyle(d);return 1==u?y:x(d,k,y[k]||d.style[k])};r.set=function(l,k,d){var u=A.byId(l),y=arguments.length,n="opacity"==k;k=e[k]?"cssFloat"in u.style?"cssFloat":
	"styleFloat":k;if(3==y)return n?c(u,d):u.style[k]=d;for(var v in k)r.set(l,v,k[v]);return r.getComputedStyle(u)};return r})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(b,A,q,x,r,m,p,t){function h(e){var l="";e=e.childNodes;for(var k=0,d;d=e[k];k++)8!=d.nodeType&&(l=1==d.nodeType?l+h(d):l+d.nodeValue);return l}var c={},a=1,f=A._scopeName+"attrid";q.add("dom-textContent",function(e,l,k){return"textContent"in
	k});b.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};b.get=function(e,l){e=r.byId(e);var k=l.toLowerCase();l=b.names[k]||l;return"textContent"!=l||q("dom-textContent")?e[l]:h(e)};b.set=function(e,l,k){e=r.byId(e);if(2==arguments.length&&"string"!=typeof l){for(var d in l)b.set(e,d,l[d]);return e}d=l.toLowerCase();d=b.names[d]||l;if("style"==d&&"string"!=
	typeof k)return m.set(e,k),e;if("innerHTML"==d)return q("ie")&&e.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(p.empty(e),e.appendChild(p.toDom(k,e.ownerDocument))):e[d]=k,e;if("textContent"==d&&!q("dom-textContent"))return p.empty(e),e.appendChild(e.ownerDocument.createTextNode(k)),e;if(x.isFunction(k)){var u=e[f];u||(u=a++,e[f]=u);c[u]||(c[u]={});var y=c[u][d];if(y)t.disconnect(y);else try{delete e[d]}catch(n){}k?c[u][d]=t.connect(e,d,k):e[d]=null;return e}e[d]=
	k;return e}})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(b,A,q,x,r,m,p,t){function h(d,u,y,n,v){n=t.hitch(y,n);if(!d||!d.addEventListener&&!d.attachEvent)return x.after(d||b.global,u,n,!0);"string"==typeof u&&"on"==u.substring(0,2)&&(u=u.substring(2));d||(d=b.global);if(!v)switch(u){case "keypress":u=l;break;case "mouseenter":u=m.enter;break;case "mouseleave":u=m.leave}return A(d,u,n,v)}function c(d){d.keyChar=
	d.charCode?String.fromCharCode(d.charCode):"";d.charOrCode=d.keyChar||d.keyCode}p.add("events-keypress-typed",function(){var d={charCode:0};try{d=document.createEvent("KeyboardEvent"),(d.initKeyboardEvent||d.initKeyEvent).call(d,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(u){}return 0==d.charCode&&!p("opera")});var a={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},f=p("mac")?"metaKey":"ctrlKey",e=function(d,u){u=t.mixin({},d,u);c(u);u.preventDefault=
	function(){d.preventDefault()};u.stopPropagation=function(){d.stopPropagation()};return u};var l=p("events-keypress-typed")?function(d,u){var y=A(d,"keydown",function(v){var D=v.keyCode,O=13!=D&&32!=D&&(27!=D||!p("ie"))&&(48>D||90<D)&&(96>D||111<D)&&(186>D||192<D)&&(219>D||222<D)&&229!=D;if(O||v.ctrlKey){O=O?0:D;if(v.ctrlKey){if(3==D||13==D)return u.call(v.currentTarget,v);O=95<O&&106>O?O-48:!v.shiftKey&&65<=O&&90>=O?O+32:a[O]||O}D=e(v,{type:"keypress",faux:!0,charCode:O});u.call(v.currentTarget,
	D);if(p("ie"))try{v.keyCode=D.keyCode}catch(z){}}}),n=A(d,"keypress",function(v){var D=v.charCode;v=e(v,{charCode:32<=D?D:0,faux:!0});return u.call(this,v)});return{remove:function(){y.remove();n.remove()}}}:p("opera")?function(d,u){return A(d,"keypress",function(y){var n=y.which;3==n&&(n=99);n=32>n&&!y.shiftKey?0:n;y.ctrlKey&&!y.shiftKey&&65<=n&&90>=n&&(n+=32);return u.call(this,e(y,{charCode:n}))})}:function(d,u){return A(d,"keypress",function(y){c(y);return u.call(this,y)})};var k={_keypress:l,
	connect:function(d,u,y,n,v){var D=arguments,O=[],z=0;O.push("string"==typeof D[0]?null:D[z++],D[z++]);var w=D[z+1];O.push("string"==typeof w||"function"==typeof w?D[z++]:null,D[z++]);for(w=D.length;z<w;z++)O.push(D[z]);return h.apply(this,O)},disconnect:function(d){d&&d.remove()},subscribe:function(d,u,y){return q.subscribe(d,t.hitch(u,y))},publish:function(d,u){return q.publish.apply(q,[d].concat(u))},connectPublisher:function(d,u,y){var n=function(){k.publish(d,arguments)};return y?k.connect(u,
	y,n):k.connect(u,n)},isCopyKey:function(d){return d[f]}};k.unsubscribe=k.disconnect;t.mixin(b,k);return k})},"dojo/topic":function(){define(["./Evented"],function(b){var A=new b;return{publish:function(q,x){return A.emit.apply(A,arguments)},subscribe:function(q,x){return A.on.apply(A,arguments)}}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(b,A,q,x){if(A._fixEvent){var r=A._fixEvent;A._fixEvent=function(p,t){(p=r(p,t))&&x.normalizeEvent(p);return p}}var m=
	{fix:function(p,t){return A._fixEvent?A._fixEvent(p,t):p},stop:function(p){q("dom-addeventlistener")||p&&p.preventDefault?(p.preventDefault(),p.stopPropagation()):(p=p||window.event,p.cancelBubble=!0,A._preventDefault.call(p))}};b.fixEvent=m.fix;b.stopEvent=m.stop;return m})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(b,A,q,x){function r(a,f,e,l,k,d){d=d||"px";a=a.style;isNaN(f)||(a.left=f+d);isNaN(e)||(a.top=e+d);0<=l&&(a.width=l+d);0<=k&&(a.height=
	k+d)}function m(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function p(a){return"border-box"==h.boxModel||"table"==a.tagName.toLowerCase()||m(a)}function t(a){var f={x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0};try{var e=a.getBoundingClientRect()}catch(l){return f}return"undefined"===typeof e.left?f:e}var h={boxModel:"content-box"};b("ie")&&(h.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");
	h.getPadExtents=function(a,f){a=q.byId(a);var e=f||x.getComputedStyle(a),l=x.toPixelValue;f=l(a,e.paddingLeft);var k=l(a,e.paddingTop),d=l(a,e.paddingRight);a=l(a,e.paddingBottom);return{l:f,t:k,r:d,b:a,w:f+d,h:k+a}};h.getBorderExtents=function(a,f){a=q.byId(a);var e=x.toPixelValue,l=f||x.getComputedStyle(a);f="none"!=l.borderLeftStyle?e(a,l.borderLeftWidth):0;var k="none"!=l.borderTopStyle?e(a,l.borderTopWidth):0,d="none"!=l.borderRightStyle?e(a,l.borderRightWidth):0;a="none"!=l.borderBottomStyle?
	e(a,l.borderBottomWidth):0;return{l:f,t:k,r:d,b:a,w:f+d,h:k+a}};h.getPadBorderExtents=function(a,f){a=q.byId(a);var e=f||x.getComputedStyle(a);f=h.getPadExtents(a,e);a=h.getBorderExtents(a,e);return{l:f.l+a.l,t:f.t+a.t,r:f.r+a.r,b:f.b+a.b,w:f.w+a.w,h:f.h+a.h}};h.getMarginExtents=function(a,f){a=q.byId(a);var e=f||x.getComputedStyle(a),l=x.toPixelValue;f=l(a,e.marginLeft);var k=l(a,e.marginTop),d=l(a,e.marginRight);a=l(a,e.marginBottom);return{l:f,t:k,r:d,b:a,w:f+d,h:k+a}};h.getMarginBox=function(a,
	f){a=q.byId(a);f=f||x.getComputedStyle(a);f=h.getMarginExtents(a,f);var e=a.offsetLeft-f.l,l=a.offsetTop-f.t,k=a.parentNode,d=x.toPixelValue;8==b("ie")&&!b("quirks")&&k&&(k=x.getComputedStyle(k),e-="none"!=k.borderLeftStyle?d(a,k.borderLeftWidth):0,l-="none"!=k.borderTopStyle?d(a,k.borderTopWidth):0);return{l:e,t:l,w:a.offsetWidth+f.w,h:a.offsetHeight+f.h}};h.getContentBox=function(a,f){a=q.byId(a);var e=f||x.getComputedStyle(a);f=a.clientWidth;var l=h.getPadExtents(a,e);var k=h.getBorderExtents(a,
	e);e=a.offsetLeft+l.l+k.l;var d=a.offsetTop+l.t+k.t;f?k=a.clientHeight:(f=a.offsetWidth-k.w,k=a.offsetHeight-k.h);if(8==b("ie")&&!b("quirks")){var u=a.parentNode,y=x.toPixelValue;u&&(u=x.getComputedStyle(u),e-="none"!=u.borderLeftStyle?y(a,u.borderLeftWidth):0,d-="none"!=u.borderTopStyle?y(a,u.borderTopWidth):0)}return{l:e,t:d,w:f-l.w,h:k-l.h}};h.setContentSize=function(a,f,e){a=q.byId(a);var l=f.w;f=f.h;p(a)&&(e=h.getPadBorderExtents(a,e),0<=l&&(l+=e.w),0<=f&&(f+=e.h));r(a,NaN,NaN,l,f)};var c={l:0,
	t:0,w:0,h:0};h.setMarginBox=function(a,f,e){a=q.byId(a);var l=e||x.getComputedStyle(a);e=f.w;var k=f.h,d=p(a)?c:h.getPadBorderExtents(a,l);l=h.getMarginExtents(a,l);if(b("webkit")&&m(a)){var u=a.style;0<=e&&!u.width&&(u.width="4px");0<=k&&!u.height&&(u.height="4px")}0<=e&&(e=Math.max(e-d.w-l.w,0));0<=k&&(k=Math.max(k-d.h-l.h,0));r(a,f.l,f.t,e,k)};h.isBodyLtr=function(a){a=a||A.doc;return"ltr"==(A.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};h.docScroll=function(a){a=a||A.doc;var f=a.parentWindow||
	a.defaultView;return"pageXOffset"in f?{x:f.pageXOffset,y:f.pageYOffset}:(f=b("quirks")?A.body(a):a.documentElement)&&{x:h.fixIeBiDiScrollLeft(f.scrollLeft||0,a),y:f.scrollTop||0}};h.getIeDocumentElementOffset=function(a){return{x:0,y:0}};h.fixIeBiDiScrollLeft=function(a,f){f=f||A.doc;var e=b("ie");if(e&&!h.isBodyLtr(f)){var l=b("quirks");f=l?A.body(f):f.documentElement;var k=A.global;6==e&&!l&&k.frameElement&&f.scrollHeight>f.clientHeight&&(a+=f.clientLeft);return 8>e||l?a+f.clientWidth-f.scrollWidth:
	-a}return a};h.position=function(a,f){a=q.byId(a);var e=A.body(a.ownerDocument),l=t(a);l={x:l.left,y:l.top,w:l.right-l.left,h:l.bottom-l.top};9>b("ie")&&(l.x-=b("quirks")?e.clientLeft+e.offsetLeft:0,l.y-=b("quirks")?e.clientTop+e.offsetTop:0);f&&(a=h.docScroll(a.ownerDocument),l.x+=a.x,l.y+=a.y);return l};h.getMarginSize=function(a,f){a=q.byId(a);f=h.getMarginExtents(a,f||x.getComputedStyle(a));a=t(a);return{w:a.right-a.left+f.w,h:a.bottom-a.top+f.h}};h.normalizeEvent=function(a){"layerX"in a||(a.layerX=
	a.offsetX,a.layerY=a.offsetY);if(!("pageX"in a)){var f=a.target;f=f&&f.ownerDocument||document;var e=b("quirks")?f.body:f.documentElement;a.pageX=a.clientX+h.fixIeBiDiScrollLeft(e.scrollLeft||0,f);a.pageY=a.clientY+(e.scrollTop||0)}};return h})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(b,A,q,x,r){function m(p,t){var h=function(c,a){return A(c,p,function(f){if(t)return t(f,a);if(!x.isDescendant(f.relatedTarget,c))return a.call(this,f)})};h.bubble=
	function(c){return m(p,function(a,f){var e=c(a.target),l=a.relatedTarget;if(e&&e!=(l&&1==l.nodeType&&c(l)))return f.call(e,a)})};return h}q.add("dom-quirks",r.doc&&"BackCompat"==r.doc.compatMode);q.add("events-mouseenter",r.doc&&"onmouseenter"in r.doc.createElement("div"));q.add("events-mousewheel",r.doc&&"onmousewheel"in r.doc);r=q("dom-quirks")&&q("ie")||!q("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(p,t){return p.button&t},isLeft:function(p){return p.button&1},isMiddle:function(p){return p.button&
	4},isRight:function(p){return p.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(p,t){return p.button==t},isLeft:function(p){return 0==p.button},isMiddle:function(p){return 1==p.button},isRight:function(p){return 2==p.button}};b.mouseButtons=r;b=q("events-mousewheel")?"mousewheel":function(p,t){return A(p,"DOMMouseScroll",function(h){h.wheelDelta=-h.detail;t.call(this,h)})};return{_eventHandler:m,enter:m("mouseover"),leave:m("mouseout"),wheel:b,isLeft:r.isLeft,isMiddle:r.isMiddle,isRight:r.isRight}})},
	"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(b,A){return b.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:A("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,
	NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:A("mac")&&!A("air")?A("safari")?91:224:17}})},"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color ./has!dojo-firebug?./_firebug/firebug ./_base/browser ./_base/loader".split(" "),
	function(b,A,q,x,r,m,p,t){p.isDebug&&q(["./_firebug/firebug"]);var h=p.require;h&&(h=m.map(r.isArray(h)?h:[h],function(c){return c.replace(/\./g,"/")}),b.isAsync?q(h):t(1,function(){q(h)}));return b})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(b,A,q,x,r){var m=0,p=[],t=0;A=function(){m=1;b._postLoad=b.config.afterOnLoad=!0;h()};var h=function(){if(!t){for(t=1;m&&(!x||0==x._Q.length)&&(q.idle?q.idle():1)&&p.length;){var f=p.shift();try{f()}catch(e){if(e.info=
	e.message,q.signal)q.signal("error",e);else throw e;}}t=0}};q.on&&q.on("idle",h);x&&(x._onQEmpty=h);var c=b.ready=b.addOnLoad=function(f,e,l){var k=r._toArray(arguments);"number"!=typeof f?(l=e,e=f,f=1E3):k.shift();l=l?r.hitch.apply(b,k):function(){e()};l.priority=f;for(k=0;k<p.length&&f>=p[k].priority;k++);p.splice(k,0,l);h()},a=b.config.addOnLoad;if(a)c[r.isArray(a)?"apply":"call"](b,a);b.config.parseOnLoad&&!b.isAsync&&c(99,function(){b.parser||(b.deprecated("Add explicit require(['dojo/parser']);",
	"","2.0"),q(["dojo/parser"]))});x?x(A):A();return c})},"dojo/domReady":function(){define(["./global","./has"],function(b,A){function q(d){h.push(d);t&&x()}function x(){if(!c){for(c=!0;h.length;)try{h.shift()(r)}catch(d){console.error(d,"in domReady callback",d.stack)}c=!1;q._onQEmpty()}}var r=document,m={loaded:1,complete:1},p="string"!=typeof r.readyState,t=!!m[r.readyState],h=[],c;q.load=function(d,u,y){q(y)};q._Q=h;q._onQEmpty=function(){};p&&(r.readyState="loading");if(!t){var a=[],f=function(d){d=
	d||b.event;t||"readystatechange"==d.type&&!m[r.readyState]||(p&&(r.readyState="complete"),t=1,x())},e=function(d,u){d.addEventListener(u,f,!1);h.push(function(){d.removeEventListener(u,f,!1)})};if(!A("dom-addeventlistener")){e=function(d,u){u="on"+u;d.attachEvent(u,f);h.push(function(){d.detachEvent(u,f)})};var l=r.createElement("div");try{l.doScroll&&null===b.frameElement&&a.push(function(){try{return l.doScroll("left"),1}catch(d){}})}catch(d){}}e(r,"DOMContentLoaded");e(b,"load");"onreadystatechange"in
	r?e(r,"readystatechange"):p||a.push(function(){return m[r.readyState]});if(a.length){var k=function(){if(!t){for(var d=a.length;d--;)if(a[d]()){f("poller");return}setTimeout(k,30)}};k()}}return q})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(b,A,q){function x(C,H){throw Error("declare"+(H?" "+H:"")+": "+C);}function r(C,H){for(var B=[],K=[{cls:0,refs:[]}],J={},R=1,V=C.length,Y=0,S,U,L,T,da;Y<V;++Y){(S=C[Y])?"[object Function]"!=O.call(S)&&x("mixin #"+Y+" is not a callable constructor.",
	H):x("mixin #"+Y+" is unknown. Did you use dojo.require to pull it in?",H);U=S._meta?S._meta.bases:[S];L=0;for(S=U.length-1;0<=S;--S)T=U[S].prototype,T.hasOwnProperty("declaredClass")||(T.declaredClass="uniqName_"+z++),T=T.declaredClass,J.hasOwnProperty(T)||(J[T]={count:0,refs:[],cls:U[S]},++R),T=J[T],L&&L!==T&&(T.refs.push(L),++L.count),L=T;++L.count;K[0].refs.push(L)}for(;K.length;){L=K.pop();B.push(L.cls);for(--R;da=L.refs,1==da.length;){L=da[0];if(!L||--L.count){L=0;break}B.push(L.cls);--R}if(L)for(Y=
	0,V=da.length;Y<V;++Y)L=da[Y],--L.count||K.push(L)}R&&x("can't build consistent linearization",H);S=C[0];B[0]=S?S._meta&&S===B[B.length-S._meta.bases.length]?S._meta.bases.length:1:0;return B}function m(C,H,B,K){var J,R=this._inherited=this._inherited||{};if("string"===typeof C){var V=C;C=H;H=B;B=K}if("function"===typeof C){var Y=C;C=H;H=B}else try{Y=C.callee}catch(T){if(T instanceof TypeError)x("strict mode inherited() requires the caller function to be passed before arguments",this.declaredClass);
	else throw T;}(V=V||Y.nom)||x("can't deduce a name to call inherited()",this.declaredClass);B=K=0;var S=this.constructor._meta;K=S.bases;var U=R.p;if("constructor"!=V){if(R.c!==Y){U=0;var L=K[0];S=L._meta;if(S.hidden[V]!==Y){(J=S.chains)&&"string"==typeof J[V]&&x("calling chained method with inherited: "+V,this.declaredClass);do if(S=L._meta,J=L.prototype,S&&(J[V]===Y&&J.hasOwnProperty(V)||S.hidden[V]===Y))break;while(L=K[++U]);U=L?U:-1}}if(L=K[++U])if(J=L.prototype,L._meta&&J.hasOwnProperty(V))B=
	J[V];else{Y=D[V];do if(J=L.prototype,(B=J[V])&&(L._meta?J.hasOwnProperty(V):B!==Y))break;while(L=K[++U])}B=L&&B||D[V]}else{if(R.c!==Y&&(U=0,(S=K[0]._meta)&&S.ctor!==Y)){for((J=S.chains)&&"manual"===J.constructor||x("calling chained constructor with inherited",this.declaredClass);(L=K[++U])&&(!(S=L._meta)||S.ctor!==Y););U=L?U:-1}for(;(L=K[++U])&&!(B=(S=L._meta)?S.ctor:L););B=L&&B}R.c=B;R.p=U;if(B)return!0===H?B:B.apply(this,H||C)}function p(C,H,B){return"string"===typeof C?"function"===typeof H?this.__inherited(C,
	H,B,!0):this.__inherited(C,H,!0):"function"===typeof C?this.__inherited(C,H,!0):this.__inherited(C,!0)}function t(C,H,B,K){var J=this.getInherited(C,H,B);if(J)return J.apply(this,K||B||H||C)}function h(C){for(var H=this.constructor._meta.bases,B=0,K=H.length;B<K;++B)if(H[B]===C)return!0;return this instanceof C}function c(C,H){for(var B in H)"constructor"!=B&&H.hasOwnProperty(B)&&(C[B]=H[B]);if(A("bug-for-in-skips-shadowed"))for(var K=q._extraNames,J=K.length;J;)B=K[--J],"constructor"!=B&&H.hasOwnProperty(B)&&
	(C[B]=H[B])}function a(C){n.safeMixin(this.prototype,C);return this}function f(C,H){C instanceof Array||"function"===typeof C||(H=C,C=void 0);H=H||{};C=C||[];return n([this].concat(C),H)}function e(C,H){return function(){var B=arguments,K=B,J=B[0],R;var V=C.length;if(!(this instanceof B.callee))return y(B);if(H&&(J&&J.preamble||this.preamble)){var Y=Array(C.length);Y[0]=B;for(R=0;;){(J=B[0])&&(J=J.preamble)&&(B=J.apply(this,B)||B);J=C[R].prototype;(J=J.hasOwnProperty("preamble")&&J.preamble)&&(B=
	J.apply(this,B)||B);if(++R==V)break;Y[R]=B}}for(R=V-1;0<=R;--R)J=C[R],(J=(V=J._meta)?V.ctor:J)&&J.apply(this,Y?Y[R]:B);(J=this.postscript)&&J.apply(this,K)}}function l(C,H){return function(){var B=arguments,K=B,J=B[0];if(!(this instanceof B.callee))return y(B);H&&(J&&(J=J.preamble)&&(K=J.apply(this,K)||K),(J=this.preamble)&&J.apply(this,K));C&&C.apply(this,B);(J=this.postscript)&&J.apply(this,B)}}function k(C){return function(){var H=arguments,B=0,K,J;if(!(this instanceof H.callee))return y(H);for(;K=
	C[B];++B)if(K=(J=K._meta)?J.ctor:K){K.apply(this,H);break}(K=this.postscript)&&K.apply(this,H)}}function d(C,H,B){return function(){var K,J=0,R=1;B&&(J=H.length-1,R=-1);for(;K=H[J];J+=R){var V=K._meta;(K=(V?V.hidden:K.prototype)[C])&&K.apply(this,arguments)}}}function u(C){w.prototype=C.prototype;C=new w;w.prototype=null;return C}function y(C){var H=C.callee,B=u(H);H.apply(B,C);return B}function n(C,H,B){"string"!=typeof C&&(B=H,H=C,C="");B=B||{};var K,J,R,V=1,Y=H;if("[object Array]"==O.call(H)){var S=
	r(H,C);var U=S[0];V=S.length-U;H=S[V]}else S=[0],H?"[object Function]"==O.call(H)?(U=H._meta,S=S.concat(U?U.bases:H)):x("base class is not a callable constructor.",C):null!==H&&x("unknown base class. Did you use dojo.require to pull it in?",C);if(H)for(K=V-1;;--K){var L=u(H);if(!K)break;U=S[K];(U._meta?c:v)(L,U.prototype);var T=A("csp-restrictions")?function(){}:new Function;T.superclass=H;T.prototype=L;H=L.constructor=T}else L={};n.safeMixin(L,B);U=B.constructor;U!==D.constructor&&(U.nom="constructor",
	L.constructor=U);for(K=V-1;K;--K)(U=S[K]._meta)&&U.chains&&(R=v(R||{},U.chains));L["-chains-"]&&(R=v(R||{},L["-chains-"]));H&&H.prototype&&H.prototype["-chains-"]&&(R=v(R||{},H.prototype["-chains-"]));U=!R||!R.hasOwnProperty("constructor");S[0]=T=R&&"manual"===R.constructor?k(S):1==S.length?l(B.constructor,U):e(S,U);T._meta={bases:S,hidden:B,chains:R,parents:Y,ctor:B.constructor};T.superclass=H&&H.prototype;T.extend=a;T.createSubclass=f;T.prototype=L;L.constructor=T;L.getInherited=p;L.isInstanceOf=
	h;L.inherited=E;L.__inherited=m;C&&(L.declaredClass=C,q.setObject(C,T));if(R)for(J in R)L[J]&&"string"==typeof R[J]&&"constructor"!=J&&(U=L[J]=d(J,S,"after"===R[J]),U.nom=J);return T}var v=q.mixin,D=Object.prototype,O=D.toString,z=0;var w=A("csp-restrictions")?function(){}:new Function;var E=b.config.isDebug?t:m;b.safeMixin=n.safeMixin=function(C,H){for(R in H){var B=H[R];B===D[R]&&R in D||"constructor"==R||("[object Function]"==O.call(B)&&(B.nom=R),C[R]=B)}if(A("bug-for-in-skips-shadowed")&&H)for(var K=
	q._extraNames,J=K.length;J;){var R=K[--J];B=H[R];B===D[R]&&R in D||"constructor"==R||("[object Function]"==O.call(B)&&(B.nom=R),C[R]=B)}return C};return b.declare=n})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(b,A,q,x){var r=b.Color=function(m){m&&this.setColor(m)};r.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,
	128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:x.transparentColor||[0,0,0,0]};A.extend(r,{r:255,g:255,b:255,a:1,_set:function(m,p,t,h){this.r=m;this.g=p;this.b=t;this.a=h},setColor:function(m){A.isString(m)?r.fromString(m,this):A.isArray(m)?r.fromArray(m,this):(this._set(m.r,m.g,m.b,m.a),m instanceof r||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,
	this.g,this.b,this.a]},toHex:function(){return"#"+q.map(["r","g","b"],function(m){m=this[m].toString(16);return 2>m.length?"0"+m:m},this).join("")},toCss:function(m){var p=this.r+", "+this.g+", "+this.b;return(m?"rgba("+p+", "+this.a:"rgb("+p)+")"},toString:function(){return this.toCss(!0)}});r.blendColors=b.blendColors=function(m,p,t,h){h=h||new r;h.r=Math.round(m.r+(p.r-m.r)*t);h.g=Math.round(m.g+(p.g-m.g)*t);h.b=Math.round(m.b+(p.b-m.b)*t);h.a=m.a+(p.a-m.a)*t;return h.sanitize()};r.fromRgb=b.colorFromRgb=
	function(m,p){return(m=m.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/))&&r.fromArray(m[1].split(/\s*,\s*/),p)};r.fromHex=b.colorFromHex=function(m,p){var t=p||new r,h=4==m.length?4:8,c=(1<<h)-1;m=Number("0x"+m.substr(1));if(isNaN(m))return null;q.forEach(["b","g","r"],function(a){var f=m&c;m>>=h;t[a]=4==h?17*f:f});t.a=1;return t};r.fromArray=b.colorFromArray=function(m,p){p=p||new r;p._set(Number(m[0]),Number(m[1]),Number(m[2]),Number(m[3]));isNaN(p.a)&&(p.a=1);return p.sanitize()};r.fromString=
	b.colorFromString=function(m,p){var t=r.named[m];return t&&r.fromArray(t,p)||r.fromRgb(m,p)||r.fromHex(m,p)};return r})},"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),function(b){return b})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(b,A,q){var x=window,r={addOnWindowUnload:function(m,p){b.windowUnloaded||q(x,
	"unload",b.windowUnloaded=function(){});q(x,"unload",A.hitch(m,p))},addOnUnload:function(m,p){q(x,"beforeunload",A.hitch(m,p))}};b.addOnWindowUnload=r.addOnWindowUnload;b.addOnUnload=r.addOnUnload;return r})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(b,A,q,x,r,m,p,t){b.byId=A.byId;b.isDescendant=A.isDescendant;b.setSelectable=A.setSelectable;b.getAttr=x.get;b.setAttr=x.set;b.hasAttr=
	x.has;b.removeAttr=x.remove;b.getNodeProp=x.getNodeProp;b.attr=function(h,c,a){return 2==arguments.length?x["string"==typeof c?"get":"set"](h,c):x.set(h,c,a)};b.hasClass=m.contains;b.addClass=m.add;b.removeClass=m.remove;b.toggleClass=m.toggle;b.replaceClass=m.replace;b._toDom=b.toDom=p.toDom;b.place=p.place;b.create=p.create;b.empty=function(h){p.empty(h)};b._destroyElement=b.destroy=function(h){p.destroy(h)};b._getPadExtents=b.getPadExtents=t.getPadExtents;b._getBorderExtents=b.getBorderExtents=
	t.getBorderExtents;b._getPadBorderExtents=b.getPadBorderExtents=t.getPadBorderExtents;b._getMarginExtents=b.getMarginExtents=t.getMarginExtents;b._getMarginSize=b.getMarginSize=t.getMarginSize;b._getMarginBox=b.getMarginBox=t.getMarginBox;b.setMarginBox=t.setMarginBox;b._getContentBox=b.getContentBox=t.getContentBox;b.setContentSize=t.setContentSize;b._isBodyLtr=b.isBodyLtr=t.isBodyLtr;b._docScroll=b.docScroll=t.docScroll;b._getIeDocumentElementOffset=b.getIeDocumentElementOffset=t.getIeDocumentElementOffset;
	b._fixIeBiDiScrollLeft=b.fixIeBiDiScrollLeft=t.fixIeBiDiScrollLeft;b.position=t.position;b.marginBox=function(h,c){return c?t.setMarginBox(h,c):t.getMarginBox(h)};b.contentBox=function(h,c){return c?t.setContentSize(h,c):t.getContentBox(h)};b.coords=function(h,c){b.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");h=A.byId(h);var a=q.getComputedStyle(h);a=t.getMarginBox(h,a);h=t.position(h,c);a.x=h.x;a.y=h.y;return a};b.getProp=r.get;b.setProp=r.set;b.prop=function(h,c,a){return 2==
	arguments.length?r["string"==typeof c?"get":"set"](h,c):r.set(h,c,a)};b.getStyle=q.get;b.setStyle=q.set;b.getComputedStyle=q.getComputedStyle;b.__toPixelValue=b.toPixelValue=q.toPixelValue;b.style=function(h,c,a){switch(arguments.length){case 1:return q.get(h);case 2:return q["string"==typeof c?"get":"set"](h,c)}return q.set(h,c,a)};return b})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(b,A,q){function x(h){if("string"==typeof h||h instanceof String){if(h&&
	!m.test(h))return p[0]=h,p;h=h.split(m);h.length&&!h[0]&&h.shift();h.length&&!h[h.length-1]&&h.pop();return h}return h?A.filter(h,function(c){return c}):[]}var r,m=/\s+/,p=[""],t={};return r={contains:function(h,c){return 0<=(" "+q.byId(h).className+" ").indexOf(" "+c+" ")},add:function(h,c){h=q.byId(h);c=x(c);var a=h.className;a=a?" "+a+" ":" ";var f=a.length;for(var e=0,l=c.length,k;e<l;++e)(k=c[e])&&0>a.indexOf(" "+k+" ")&&(a+=k+" ");f<a.length&&(h.className=a.substr(1,a.length-2))},remove:function(h,
	c){h=q.byId(h);if(void 0!==c){c=x(c);var a=" "+h.className+" ";for(var f=0,e=c.length;f<e;++f)a=a.replace(" "+c[f]+" "," ");a=b.trim(a)}else a="";h.className!=a&&(h.className=a)},replace:function(h,c,a){h=q.byId(h);t.className=h.className;r.remove(t,a);r.add(t,c);h.className!==t.className&&(h.className=t.className)},toggle:function(h,c,a){h=q.byId(h);if(void 0===a){c=x(c);for(var f=0,e=c.length,l;f<e;++f)l=c[f],r[r.contains(h,l)?"remove":"add"](h,l)}else r[a?"add":"remove"](h,c);return a}}})},"dojo/_base/NodeList":function(){define(["./kernel",
	"../query","./array","./html","../NodeList-dom"],function(b,A,q){A=A.NodeList;var x=A.prototype;x.connect=A._adaptAsForEach(function(){return b.connect.apply(this,arguments)});x.coords=A._adaptAsMap(b.coords);A.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");q.forEach(A.events,function(r){var m="on"+r;x[m]=function(p,t){return this.connect(m,p,t)}});return b.NodeList=A})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),
	function(b,A,q,x,r,m,p,t){function h(n,v){var D=function(z,w){if("string"==typeof w&&(w=q.byId(w),!w))return new v([]);z="string"==typeof z?n(z,w):z?z.end&&z.on?z:[z]:[];return z.end&&z.on?z:new v(z)};D.matches=n.match||function(z,w,E){return 0<D.filter([z],w,E).length};D.filter=n.filter||function(z,w,E){return D(w,E).filter(function(C){return-1<r.indexOf(z,C)})};if("function"!=typeof n){var O=n.search;n=function(z,w){return O(w||document,z)}}return D}A.add("array-extensible",function(){return 1==
	m.delegate([],{length:1}).length&&!A("bug-for-in-skips-shadowed")});var c=Array.prototype,a=c.slice,f=c.concat,e=r.forEach,l=function(n,v,D){v=[0].concat(a.call(v,0));D=D||b.global;return function(O){v[0]=O;return n.apply(D,v)}},k=function(n){var v=this instanceof d&&A("array-extensible");"number"==typeof n&&(n=Array(n));var D=n&&"length"in n?n:arguments;if(v||!D.sort){for(var O=v?this:[],z=O.length=D.length,w=0;w<z;w++)O[w]=D[w];if(v)return O;D=O}m._mixin(D,u);D._NodeListCtor=function(E){return d(E)};
	return D},d=k,u=d.prototype=A("array-extensible")?[]:{};d._wrap=u._wrap=function(n,v,D){n=new (D||this._NodeListCtor||d)(n);return v?n._stash(v):n};d._adaptAsMap=function(n,v){return function(){return this.map(l(n,arguments,v))}};d._adaptAsForEach=function(n,v){return function(){this.forEach(l(n,arguments,v));return this}};d._adaptAsFilter=function(n,v){return function(){return this.filter(l(n,arguments,v))}};d._adaptWithCondition=function(n,v,D){return function(){var O=arguments,z=l(n,O,D);if(v.call(D||
	b.global,O))return this.map(z);this.forEach(z);return this}};e(["slice","splice"],function(n){var v=c[n];u[n]=function(){return this._wrap(v.apply(this,arguments),"slice"==n?this:null)}});e(["indexOf","lastIndexOf","every","some"],function(n){var v=r[n];u[n]=function(){return v.apply(b,[this].concat(a.call(arguments,0)))}});m.extend(k,{constructor:d,_NodeListCtor:d,toString:function(){return this.join(",")},_stash:function(n){this._parent=n;return this},on:function(n,v){var D=this.map(function(O){return x(O,
	n,v)});D.remove=function(){for(var O=0;O<D.length;O++)D[O].remove()};return D},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(n){var v=a.call(this,0),D=r.map(arguments,function(O){return a.call(O,0)});return this._wrap(f.apply(v,D),this)},map:function(n,v){return this._wrap(r.map(this,n,v),this)},forEach:function(n,v){e(this,n,v);return this},filter:function(n){var v=arguments,D=this,O=0;if("string"==typeof n){D=y._filterResult(this,v[0]);if(1==v.length)return D._stash(this);
	O=1}return this._wrap(r.filter(D,v[O],v[O+1]),this)},instantiate:function(n,v){var D=m.isFunction(n)?n:m.getObject(n);v=v||{};return this.forEach(function(O){new D(v,O)})},at:function(){var n=new this._NodeListCtor(0);e(arguments,function(v){0>v&&(v=this.length+v);this[v]&&n.push(this[v])},this);return n._stash(this)}});var y=h(t,k);b.query=h(t,function(n){return k(n)});y.load=function(n,v,D){p.load(n,v,function(O){D(h(O,k))})};b._filterQueryResult=y._filterResult=function(n,v,D){return new k(y.filter(n,
	v,D))};b.NodeList=y.NodeList=k;return y})},"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(b,A,q,x,r){var m=x.trim,p=q.forEach,t="BackCompat"==r.doc.compatMode,h=!1,c=function(){return!0},a=function(F){F=0<="\x3e~+".indexOf(F.slice(-1))?F+" * ":F+" ";for(var I=function(Ia,Ja){return m(F.slice(Ia,Ja))},M=[],Q=-1,aa=-1,ba=-1,la=-1,Z=-1,ea=-1,pa=-1,ma,ua="",sa="",Fa,ja=0,Ha=F.length,fa=null,xa=null,za=function(){0<=ea&&(fa.id=I(ea,
	ja).replace(/\\/g,""),ea=-1);if(0<=pa){var Ia=pa==ja?null:I(pa,ja);fa[0>"\x3e~+".indexOf(Ia)?"tag":"oper"]=Ia;pa=-1}0<=Z&&(fa.classes.push(I(Z+1,ja).replace(/\\/g,"")),Z=-1)};ua=sa,sa=F.charAt(ja),ja<Ha;ja++)"\\"!=ua&&(fa||(Fa=ja,fa={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return h?this.otag:this.tag}},pa=ja),ma?sa==ma&&(ma=null):"'"==sa||'"'==sa?ma=sa:0<=Q?"]"==sa?(xa.attr?xa.matchFor=I(ba||Q+1,ja):xa.attr=I(Q+1,ja),!(Q=xa.matchFor)||'"'!=Q.charAt(0)&&
	"'"!=Q.charAt(0)||(xa.matchFor=Q.slice(1,-1)),xa.matchFor&&(xa.matchFor=xa.matchFor.replace(/\\/g,"")),fa.attrs.push(xa),xa=null,Q=ba=-1):"\x3d"==sa&&(ba=0<="|~^$*".indexOf(ua)?ua:"",xa.type=ba+sa,xa.attr=I(Q+1,ja-ba.length),ba=ja+1):0<=aa?")"==sa&&(0<=la&&(xa.value=I(aa+1,ja)),la=aa=-1):"#"==sa?(za(),ea=ja+1):"."==sa?(za(),Z=ja):":"==sa?(za(),la=ja):"["==sa?(za(),Q=ja,xa={}):"("==sa?(0<=la&&(xa={name:I(la+1,ja),value:null},fa.pseudos.push(xa)),aa=ja):" "==sa&&ua!=sa&&(za(),0<=la&&fa.pseudos.push({name:I(la+
	1,ja)}),fa.loops=fa.pseudos.length||fa.attrs.length||fa.classes.length,fa.oquery=fa.query=I(Fa,ja),fa.otag=fa.tag=fa.oper?null:fa.tag||"*",fa.tag&&(fa.tag=fa.tag.toUpperCase()),M.length&&M[M.length-1].oper&&(fa.infixOper=M.pop(),fa.query=fa.infixOper.query+" "+fa.query),M.push(fa),fa=null));return M},f=function(F,I){return F?I?function(){return F.apply(window,arguments)&&I.apply(window,arguments)}:F:I},e=function(F,I){I=I||[];F&&I.push(F);return I},l=function(F){return 1==F.nodeType},k=function(F,
	I){return F?"class"==I?F.className||"":"for"==I?F.htmlFor||"":"style"==I?F.style.cssText||"":(h?F.getAttribute(I):F.getAttribute(I,2))||"":""},d={"*\x3d":function(F,I){return function(M){return 0<=k(M,F).indexOf(I)}},"^\x3d":function(F,I){return function(M){return 0==k(M,F).indexOf(I)}},"$\x3d":function(F,I){return function(M){M=" "+k(M,F);var Q=M.lastIndexOf(I);return-1<Q&&Q==M.length-I.length}},"~\x3d":function(F,I){var M=" "+I+" ";return function(Q){return 0<=(" "+k(Q,F)+" ").indexOf(M)}},"|\x3d":function(F,
	I){var M=I+"-";return function(Q){Q=k(Q,F);return Q==I||0==Q.indexOf(M)}},"\x3d":function(F,I){return function(M){return k(M,F)==I}}};x=r.doc.documentElement;var u=!(x.nextElementSibling||"nextElementSibling"in x),y=u?"nextSibling":"nextElementSibling",n=u?"previousSibling":"previousElementSibling",v=u?l:c,D=function(F){for(;F=F[n];)if(v(F))return!1;return!0},O=function(F){for(;F=F[y];)if(v(F))return!1;return!0},z=function(F){var I=F.parentNode;I=7!=I.nodeType?I:I.nextSibling;var M=0,Q=I.children||
	I.childNodes,aa=F._i||F.getAttribute("_i")||-1,ba=I._l||("undefined"!==typeof I.getAttribute?I.getAttribute("_l"):-1);if(!Q)return-1;Q=Q.length;if(ba==Q&&0<=aa&&0<=ba)return aa;A("ie")&&"undefined"!==typeof I.setAttribute?I.setAttribute("_l",Q):I._l=Q;aa=-1;for(I=I.firstElementChild||I.firstChild;I;I=I[y])v(I)&&(A("ie")?I.setAttribute("_i",++M):I._i=++M,F===I&&(aa=M));return aa},w=function(F){return!(z(F)%2)},E=function(F){return z(F)%2},C={checked:function(F,I){return function(M){return!("checked"in
	M?!M.checked:!M.selected)}},disabled:function(F,I){return function(M){return M.disabled}},enabled:function(F,I){return function(M){return!M.disabled}},"first-child":function(){return D},"last-child":function(){return O},"only-child":function(F,I){return function(M){return D(M)&&O(M)}},empty:function(F,I){return function(M){var Q=M.childNodes;for(M=M.childNodes.length-1;0<=M;M--){var aa=Q[M].nodeType;if(1===aa||3==aa)return!1}return!0}},contains:function(F,I){F=I.charAt(0);if('"'==F||"'"==F)I=I.slice(1,
	-1);return function(M){return 0<=M.innerHTML.indexOf(I)}},not:function(F,I){F=a(I)[0];I={el:1};"*"!=F.tag&&(I.tag=1);F.classes.length||(I.classes=1);var M=B(F,I);return function(Q){return!M(Q)}},"nth-child":function(F,I){F=parseInt;if("odd"==I)return E;if("even"==I)return w;if(-1!=I.indexOf("n")){I=I.split("n",2);var M=I[0]?"-"==I[0]?-1:F(I[0]):1,Q=I[1]?F(I[1]):0,aa=0,ba=-1;0<M?0>Q?Q=Q%M&&M+Q%M:0<Q&&(Q>=M&&(aa=Q-Q%M),Q%=M):0>M&&(M*=-1,0<Q&&(ba=Q,Q%=M));if(0<M)return function(Z){Z=z(Z);return Z>=aa&&
	(0>ba||Z<=ba)&&Z%M==Q};I=Q}var la=F(I);return function(Z){return z(Z)==la}}},H=9>A("ie")||9==A("ie")&&A("quirks")?function(F){var I=F.toLowerCase();"class"==I&&(F="className");return function(M){return h?M.getAttribute(F):M[F]||M[I]}}:function(F){return function(I){return I&&I.getAttribute&&I.hasAttribute(F)}},B=function(F,I){if(!F)return c;I=I||{};var M=null;"el"in I||(M=f(M,l));"tag"in I||"*"!=F.tag&&(M=f(M,function(Q){return Q&&(h?Q.tagName:Q.tagName.toUpperCase())==F.getTag()}));"classes"in I||
	p(F.classes,function(Q,aa,ba){var la=new RegExp("(?:^|\\s)"+Q+"(?:\\s|$)");M=f(M,function(Z){return la.test(Z.className)});M.count=aa});"pseudos"in I||p(F.pseudos,function(Q){var aa=Q.name;C[aa]&&(M=f(M,C[aa](aa,Q.value)))});"attrs"in I||p(F.attrs,function(Q){var aa,ba=Q.attr;Q.type&&d[Q.type]?aa=d[Q.type](ba,Q.matchFor):ba.length&&(aa=H(ba));aa&&(M=f(M,aa))});"id"in I||F.id&&(M=f(M,function(Q){return!!Q&&Q.id==F.id}));M||"default"in I||(M=c);return M},K=function(F){return function(I,M,Q){for(;I=
	I[y];)if(!u||l(I)){Q&&!ia(I,Q)||!F(I)||M.push(I);break}return M}},J=function(F){return function(I,M,Q){for(I=I[y];I;){if(v(I)){if(Q&&!ia(I,Q))break;F(I)&&M.push(I)}I=I[y]}return M}},R=function(F,I){var M=function(Q){var aa=[];try{aa=Array.prototype.slice.call(Q)}catch(Z){for(var ba=0,la=Q.length;ba<la;ba++)aa.push(Q[ba])}return aa};F=F||c;return function(Q,aa,ba){var la=0,Z=[];Z=M(Q.children||Q.childNodes);for(I&&q.forEach(Z,function(ea){1===ea.nodeType&&(Z=Z.concat(M(ea.getElementsByTagName("*"))))});Q=
	Z[la++];)v(Q)&&(!ba||ia(Q,ba))&&F(Q,la)&&aa.push(Q);return aa}},V=function(F,I){for(F=F.parentNode;F&&F!=I;)F=F.parentNode;return!!F},Y={},S=function(F){var I=Y[F.query];if(I)return I;var M=F.infixOper;M=M?M.oper:"";var Q=B(F,{el:1}),aa="*"==F.tag,ba=r.doc.getElementsByClassName;if(M)ba={el:1},aa&&(ba.tag=1),Q=B(F,ba),"+"==M?I=K(Q):"~"==M?I=J(Q):"\x3e"==M&&(I=R(Q));else if(F.id)Q=!F.loops&&aa?c:B(F,{el:1,id:1}),I=function(Z,ea){var pa=b.byId(F.id,Z.ownerDocument||Z);Z.ownerDocument&&!V(Z,Z.ownerDocument)&&
	q.some(11===Z.nodeType?Z.childNodes:[Z],function(ma){ma=R(function(ua){return ua.id===F.id},!0)(ma,[]);if(ma.length)return pa=ma[0],!1});if(pa&&Q(pa)&&(9==Z.nodeType||V(pa,Z)))return e(pa,ea)};else if(ba&&/\{\s*\[native code\]\s*\}/.test(String(ba))&&F.classes.length&&!t){Q=B(F,{el:1,classes:1,id:1});var la=F.classes.join(" ");I=function(Z,ea,pa){ea=e(0,ea);for(var ma,ua=0,sa=Z.getElementsByClassName(la);ma=sa[ua++];)Q(ma,Z)&&ia(ma,pa)&&ea.push(ma);return ea}}else aa||F.loops?(Q=B(F,{el:1,tag:1,id:1}),
	I=function(Z,ea,pa){ea=e(0,ea);for(var ma,ua=0,sa=(ma=F.getTag())?Z.getElementsByTagName(ma):[];ma=sa[ua++];)Q(ma,Z)&&ia(ma,pa)&&ea.push(ma);return ea}):I=function(Z,ea,pa){ea=e(0,ea);var ma=0,ua=F.getTag();for(ua=ua?Z.getElementsByTagName(ua):[];Z=ua[ma++];)ia(Z,pa)&&ea.push(Z);return ea};return Y[F.query]=I},U={},L={},T=function(F){var I=a(m(F));if(1==I.length){var M=S(I[0]);return function(Q){if(Q=M(Q,[]))Q.nozip=!0;return Q}}return function(Q){Q=e(Q);for(var aa,ba,la=I.length,Z,ea,pa=0;pa<la;pa++){ea=
	[];aa=I[pa];ba=Q.length-1;0<ba&&(Z={},ea.nozip=!0);ba=S(aa);for(var ma=0;aa=Q[ma];ma++)ba(aa,ea,Z);if(!ea.length)break;Q=ea}return ea}},da=A("ie")?"commentStrip":"nozip",ha=!!r.doc.querySelectorAll,ca=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,qa=function(F,I,M,Q){return M?(I?I+" ":"")+M+(Q?" "+Q:""):F},ta=/([^[]*)([^\]]*])?/g,oa=function(F,I,M){return I.replace(ca,qa)+(M||"")},va=function(F,I){F=F.replace(ta,oa);if(ha){var M=L[F];if(M&&!I)return M}if(M=U[F])return M;M=F.charAt(0);var Q=-1==F.indexOf(" ");
	0<=F.indexOf("#")&&Q&&(I=!0);if(!ha||I||-1!="\x3e~+".indexOf(M)||A("ie")&&-1!=F.indexOf(":")||t&&0<=F.indexOf(".")||-1!=F.indexOf(":contains")||-1!=F.indexOf(":checked")||-1!=F.indexOf("|\x3d")){var aa=F.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return U[F]=2>aa.length?T(F):function(la){for(var Z=0,ea=[],pa;pa=aa[Z++];)ea=ea.concat(T(pa)(la));return ea}}var ba=0<="\x3e~+".indexOf(F.charAt(F.length-1))?F+" *":F;return L[F]=function(la){if(9==la.nodeType||Q)try{var Z=la.querySelectorAll(ba);
	Z[da]=!0;return Z}catch(ea){}return va(F,!0)(la)}},na=0,ra=A("ie")?function(F){return h?F.getAttribute("_uid")||F.setAttribute("_uid",++na)||na:F.uniqueID}:function(F){return F._uid||(F._uid=++na)},ia=function(F,I){if(!I)return 1;F=ra(F);return I[F]?0:I[F]=1},wa=function(F){if(F&&F.nozip)return F;if(!F||!F.length)return[];if(2>F.length)return[F[0]];var I=[];na++;var M,Q;if(A("ie")&&h){var aa=na+"";for(M=0;M<F.length;M++)(Q=F[M])&&Q.getAttribute("_zipIdx")!=aa&&(I.push(Q),Q.setAttribute("_zipIdx",
	aa))}else if(A("ie")&&F.commentStrip)try{for(M=0;M<F.length;M++)(Q=F[M])&&l(Q)&&I.push(Q)}catch(ba){}else for(M=0;M<F.length;M++)(Q=F[M])&&Q._zipIdx!=na&&(I.push(Q),Q._zipIdx=na);return I},ya=function(F,I){I=I||r.doc;h="div"===(I.ownerDocument||I).createElement("div").tagName;return(F=va(F)(I))&&F.nozip?F:wa(F)};ya.filter=function(F,I,M){var Q=[],aa=a(I);aa=1!=aa.length||/[^\w#\.]/.test(I)?function(Z){return-1!=q.indexOf(ya(I,b.byId(M)),Z)}:B(aa[0]);for(var ba=0,la;la=F[ba];ba++)aa(la)&&Q.push(la);
	return Q};return ya})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),function(b,A,q,x,r,m,p,t,h){function c(u){return function(y,n,v){return 2==arguments.length?u["string"==typeof n?"get":"set"](y,n):u.set(y,n,v)}}var a=function(u){return 1==u.length&&"string"==typeof u[0]},f=function(u){var y=u.parentNode;y&&y.removeChild(u)},e=A.NodeList,l=e._adaptWithCondition,k=e._adaptAsForEach,
	d=e._adaptAsMap;x.extend(e,{_normalize:function(u,y){var n=!0===u.parse;if("string"==typeof u.template){var v=u.templateFunc||b.string&&b.string.substitute;u=v?v(u.template,u):u}v=typeof u;"string"==v||"number"==v?(u=m.toDom(u,y&&y.ownerDocument),u=11==u.nodeType?x._toArray(u.childNodes):[u]):x.isArrayLike(u)?x.isArray(u)||(u=x._toArray(u)):u=[u];n&&(u._runParse=!0);return u},_cloneNode:function(u){return u.cloneNode(!0)},_place:function(u,y,n,v){if(1==y.nodeType||"only"!=n)for(var D,O=u.length,z=
	O-1;0<=z;z--){var w=v?this._cloneNode(u[z]):u[z];if(u._runParse&&b.parser&&b.parser.parse)for(D||(D=y.ownerDocument.createElement("div")),D.appendChild(w),b.parser.parse(D),w=D.firstChild;D.firstChild;)D.removeChild(D.firstChild);z==O-1?m.place(w,y,n):y.parentNode.insertBefore(w,y);y=w}},position:d(p.position),attr:l(c(t),a),style:l(c(h),a),addClass:k(r.add),removeClass:k(r.remove),toggleClass:k(r.toggle),replaceClass:k(r.replace),empty:k(m.empty),removeAttr:k(t.remove),marginBox:d(p.getMarginBox),
	place:function(u,y){var n=A(u)[0];return this.forEach(function(v){m.place(v,n,y)})},orphan:function(u){return(u?A._filterResult(this,u):this).forEach(f)},adopt:function(u,y){return A(u).place(this[0],y)._stash(this)},query:function(u){if(!u)return this;var y=new e;this.map(function(n){A(u,n).forEach(function(v){void 0!==v&&y.push(v)})});return y._stash(this)},filter:function(u){var y=arguments,n=this,v=0;if("string"==typeof u){n=A._filterResult(this,y[0]);if(1==y.length)return n._stash(this);v=1}return this._wrap(q.filter(n,
	y[v],y[v+1]),this)},addContent:function(u,y){u=this._normalize(u,this[0]);for(var n=0,v;v=this[n];n++)u.length?this._place(u,v,y,0<n):m.empty(v);return this}});return e})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),function(b,A,q,x,r,m,p,t,h){var c=q.mixin,a={},f=a._Line=function(n,v){this.start=n;this.end=v};f.prototype.getValue=function(n){return(this.end-this.start)*n+this.start};var e=a.Animation=function(n){c(this,
	n);q.isArray(this.curve)&&(this.curve=new f(this.curve[0],this.curve[1]))};e.prototype=new x;q.extend(e,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var n=this._percent,v=this.easing;return v?v(n):n},_fire:function(n,v){v=v||[];if(this[n])if(A.debugAtAllCosts)this[n].apply(this,v);else try{this[n].apply(this,v)}catch(D){console.error("exception in animation handler for:",n),console.error(D)}return this},play:function(n,v){this._delayTimer&&this._clearTimer();if(v)this._stopTimer(),
	this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);n=n||this.delay;v=q.hitch(this,"_play",v);if(0<n)return this._delayTimer=setTimeout(v,n),this;v();return this},_play:function(n){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;n=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||
	(this._startRepeatCount=this.repeat),this._fire("onBegin",[n]));this._fire("onPlay",[n]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(n,v){this._stopTimer();this._active=this._paused=!0;this._percent=n;v&&this.play();return this},stop:function(n){this._delayTimer&&this._clearTimer();if(!this._timer)return this;
	this._stopTimer();n&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var n=(new Date).valueOf();n=0===this.duration?1:(n-this._startTime)/this.duration;1<=n&&(n=1);this._percent=n;this.easing&&(n=this.easing(n));this._fire("onAnimate",[this.curve.getValue(n)]);1>this._percent?this._startTimer():
	(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var l=0,k=null,d={run:function(){}};q.extend(e,{_startTimer:function(){this._timer||(this._timer=m.after(d,"run",q.hitch(this,"_cycle"),!0),
	l++);k||(k=setInterval(q.hitch(d,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,l--);0>=l&&(clearInterval(k),k=null,l=0)}});var u=p("ie")?function(n){var v=n.style;v.width.length||"auto"!=h.get(n,"width")||(v.width="auto")}:function(){};a._fade=function(n){n.node=t.byId(n.node);var v=c({properties:{}},n);n=v.properties.opacity={};n.start="start"in v?v.start:function(){return+h.get(v.node,"opacity")||0};n.end=v.end;n=a.animateProperty(v);m.after(n,"beforeBegin",
	q.partial(u,v.node),!0);return n};a.fadeIn=function(n){return a._fade(c({end:1},n))};a.fadeOut=function(n){return a._fade(c({end:0},n))};a._defaultEasing=function(n){return.5+Math.sin((n+1.5)*Math.PI)/2};var y=function(n){this._properties=n;for(var v in n){var D=n[v];D.start instanceof r&&(D.tempColor=new r)}};y.prototype.getValue=function(n){var v={},D;for(D in this._properties){var O=this._properties[D],z=O.start;z instanceof r?v[D]=r.blendColors(z,O.end,n,O.tempColor).toCss():q.isArray(z)||(v[D]=
	(O.end-z)*n+z+("opacity"!=D?O.units||"px":0))}return v};a.animateProperty=function(n){var v=n.node=t.byId(n.node);n.easing||(n.easing=b._defaultEasing);n=new e(n);m.after(n,"beforeBegin",q.hitch(n,function(){var D={},O;for(O in this.properties){if("width"==O||"height"==O)this.node.display="block";var z=this.properties[O];q.isFunction(z)&&(z=z(v));z=D[O]=c({},q.isObject(z)?z:{end:z});q.isFunction(z.start)&&(z.start=z.start(v));q.isFunction(z.end)&&(z.end=z.end(v));var w=0<=O.toLowerCase().indexOf("color"),
	E=function(C,H){var B={height:C.offsetHeight,width:C.offsetWidth}[H];if(void 0!==B)return B;B=h.get(C,H);return"opacity"==H?+B:w?B:parseFloat(B)};"end"in z?"start"in z||(z.start=E(v,O)):z.end=E(v,O);w?(z.start=new r(z.start),z.end=new r(z.end)):z.start="opacity"==O?+z.start:parseFloat(z.start)}this.curve=new y(D)}),!0);m.after(n,"onAnimate",q.hitch(h,"set",n.node),!0);return n};a.anim=function(n,v,D,O,z,w){return a.animateProperty({node:n,duration:D||e.prototype.duration,properties:v,easing:O,onEnd:z}).play(w||
	0)};c(b,a);b._Animation=e;return a})},"*noref":1}});(function(){var b=this.require;b({cache:{}});!b.async&&b(["dojo"]);b.boot&&b.apply(null,b.boot)})();// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
	// See https://js.arcgis.com/3.36/esri/copyright.txt for details.
	//>>built
	require({cache:{"dojo/fx/Toggler":function(){define(["../_base/lang","../_base/declare","../_base/fx","../aspect"],function(C,y,b,w){return y("dojo.fx.Toggler",null,{node:null,showFunc:b.fadeIn,hideFunc:b.fadeOut,showDuration:200,hideDuration:200,constructor:function(n){C.mixin(this,n);this.node=n.node;this._showArgs=C.mixin({},n);this._showArgs.node=this.node;this._showArgs.duration=this.showDuration;this.showAnim=this.showFunc(this._showArgs);this._hideArgs=C.mixin({},n);this._hideArgs.node=this.node;
	this._hideArgs.duration=this.hideDuration;this.hideAnim=this.hideFunc(this._hideArgs);w.after(this.showAnim,"beforeBegin",C.hitch(this.hideAnim,"stop",!0),!0);w.after(this.hideAnim,"beforeBegin",C.hitch(this.showAnim,"stop",!0),!0)},show:function(n){return this.showAnim.play(n||0)},hide:function(n){return this.hideAnim.play(n||0)}})})},"dijit/_base":function(){define("./main ./a11y ./WidgetSet ./_base/focus ./_base/manager ./_base/place ./_base/popup ./_base/scroll ./_base/sniff ./_base/typematic ./_base/wai ./_base/window".split(" "),
	function(C){return C._base})},"dijit/main":function(){define(["dojo/_base/kernel"],function(C){return C.dijit})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),function(C,y,b,w,n,l,k){var h={_isElementShown:function(f){var d=w.get(f);return"hidden"!=d.visibility&&"collapsed"!=d.visibility&&"none"!=d.display&&"hidden"!=b.get(f,"type")},hasDefaultTabStop:function(f){switch(f.nodeName.toLowerCase()){case "a":return b.has(f,
	"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":try{var d=f.contentDocument;if("designMode"in d&&"on"==d.designMode)return!0;var a=d.body}catch(c){try{a=f.contentWindow.document.body}catch(e){return!1}}return a&&("true"==a.contentEditable||a.firstChild&&"true"==a.firstChild.contentEditable);default:return"true"==f.contentEditable}},effectiveTabIndex:function(f){if(!b.get(f,"disabled"))return b.has(f,"tabIndex")?+b.get(f,"tabIndex"):
	h.hasDefaultTabStop(f)?0:void 0},isTabNavigable:function(f){return 0<=h.effectiveTabIndex(f)},isFocusable:function(f){return-1<=h.effectiveTabIndex(f)},_getTabNavigable:function(f){function d(v){return v&&"input"==v.tagName.toLowerCase()&&v.type&&"radio"==v.type.toLowerCase()&&v.name&&v.name.toLowerCase()}function a(v){return x[d(v)]||v}var c,e,q,t,g,p,x={},u=h._isElementShown,A=h.effectiveTabIndex,m=function(v){for(v=v.firstChild;v;v=v.nextSibling)if(!(1!=v.nodeType||9>=l("ie")&&"HTML"!==v.scopeName)&&
	u(v)){var r=A(v);if(0<=r){if(0==r)c||(c=v),e=v;else if(0<r){if(!q||r<t)t=r,q=v;if(!g||r>=p)p=r,g=v}r=d(v);b.get(v,"checked")&&r&&(x[r]=v)}"SELECT"!=v.nodeName.toUpperCase()&&m(v)}};u(f)&&m(f);return{first:a(c),last:a(e),lowest:a(q),highest:a(g)}},getFirstInTabbingOrder:function(f,d){f=h._getTabNavigable(y.byId(f,d));return f.lowest?f.lowest:f.first},getLastInTabbingOrder:function(f,d){f=h._getTabNavigable(y.byId(f,d));return f.last?f.last:f.highest}};n.mixin(k,h);return h})},"dijit/WidgetSet":function(){define(["dojo/_base/array",
	"dojo/_base/declare","dojo/_base/kernel","./registry"],function(C,y,b,w){var n=y("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0},add:function(l){if(this._hash[l.id])throw Error("Tried to register widget with id\x3d\x3d"+l.id+" but that id is already registered");this._hash[l.id]=l;this.length++},remove:function(l){this._hash[l]&&(delete this._hash[l],this.length--)},forEach:function(l,k){k=k||b.global;var h=0,f;for(f in this._hash)l.call(k,this._hash[f],h++,this._hash);
	return this},filter:function(l,k){k=k||b.global;var h=new n,f=0,d;for(d in this._hash){var a=this._hash[d];l.call(k,a,f++,this._hash)&&h.add(a)}return h},byId:function(l){return this._hash[l]},byClass:function(l){var k=new n,h;for(h in this._hash){var f=this._hash[h];f.declaredClass==l&&k.add(f)}return k},toArray:function(){var l=[],k;for(k in this._hash)l.push(this._hash[k]);return l},map:function(l,k){return C.map(this.toArray(),l,k)},every:function(l,k){k=k||b.global;var h=0,f;for(f in this._hash)if(!l.call(k,
	this._hash[f],h++,this._hash))return!1;return!0},some:function(l,k){k=k||b.global;var h=0,f;for(f in this._hash)if(l.call(k,this._hash[f],h++,this._hash))return!0;return!1}});C.forEach("forEach filter byClass map every some".split(" "),function(l){w[l]=n.prototype[l]});return n})},"dijit/registry":function(){define(["dojo/_base/array","dojo/_base/window","./main"],function(C,y,b){var w={},n={},l={length:0,add:function(k){if(n[k.id])throw Error("Tried to register widget with id\x3d\x3d"+k.id+" but that id is already registered");
	n[k.id]=k;this.length++},remove:function(k){n[k]&&(delete n[k],this.length--)},byId:function(k){return"string"==typeof k?n[k]:k},byNode:function(k){return n[k.getAttribute("widgetId")]},toArray:function(){var k=[],h;for(h in n)k.push(n[h]);return k},getUniqueId:function(k){do var h=k+"_"+(k in w?++w[k]:w[k]=0);while(n[h]);return"dijit"==b._scopeName?h:b._scopeName+"_"+h},findWidgets:function(k,h){function f(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType){var c=a.getAttribute("widgetId");
	c?(c=n[c])&&d.push(c):a!==h&&f(a)}}var d=[];f(k);return d},_destroyAll:function(){b._curFocus=null;b._prevFocus=null;b._activeStack=[];C.forEach(l.findWidgets(y.body()),function(k){k._destroyed||(k.destroyRecursive?k.destroyRecursive():k.destroy&&k.destroy())})},getEnclosingWidget:function(k){for(;k;){var h=1==k.nodeType&&k.getAttribute("widgetId");if(h)return n[h];k=k.parentNode}return null},_hash:n};return b.registry=l})},"dijit/_base/focus":function(){define("dojo/_base/array dojo/dom dojo/_base/lang dojo/topic dojo/_base/window ../focus ../selection ../main".split(" "),
	function(C,y,b,w,n,l,k,h){l.focus=function(f){if(f){var d="node"in f?f.node:f,a=f.bookmark;f=f.openedForWindow;var c=a?a.isCollapsed:!1;if(d){var e="iframe"==d.tagName.toLowerCase()?d.contentWindow:d;if(e&&e.focus)try{e.focus()}catch(q){}l._onFocusNode(d)}if(a&&n.withGlobal(f||n.global,h.isCollapsed)&&!c){f&&f.focus();try{n.withGlobal(f||n.global,h.moveToBookmark,null,[a])}catch(q){}}}};l.watch("curNode",function(f,d,a){h._curFocus=a;h._prevFocus=d;a&&w.publish("focusNode",a)});l.watch("activeStack",
	function(f,d,a){h._activeStack=a});l.on("widget-blur",function(f,d){w.publish("widgetBlur",f,d)});l.on("widget-focus",function(f,d){w.publish("widgetFocus",f,d)});b.mixin(h,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return h.getBookmark().isCollapsed},getBookmark:function(){return(n.global==window?k:new k.SelectionManager(n.global)).getBookmark()},moveToBookmark:function(f){return(n.global==window?k:new k.SelectionManager(n.global)).moveToBookmark(f)},getFocus:function(f,d){f=!l.curNode||
	f&&y.isDescendant(l.curNode,f.domNode)?h._prevFocus:l.curNode;return{node:f,bookmark:f&&f==l.curNode&&n.withGlobal(d||n.global,h.getBookmark),openedForWindow:d}},_activeStack:[],registerIframe:function(f){return l.registerIframe(f)},unregisterIframe:function(f){f&&f.remove()},registerWin:function(f,d){return l.registerWin(f,d)},unregisterWin:function(f){f&&f.remove()}});return h})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p){var x,u,A=new (y([c,k],{curNode:null,activeStack:[],constructor:function(){var v=h.hitch(this,function(r){b.isDescendant(this.curNode,r)&&this.set("curNode",null);b.isDescendant(this.prevNode,r)&&this.set("prevNode",null)});C.before(l,"empty",v);C.before(l,"destroy",v)},registerIframe:function(v){return this.registerWin(v.contentWindow,v)},registerWin:function(v,r){var B=this,D=v.document&&v.document.body;if(D){var G=a("pointer-events")?"pointerdown":a("MSPointer")?
	"MSPointerDown":a("touch-events")?"mousedown, touchstart":"mousedown",z=f(v.document,G,function(I){I&&I.target&&null==I.target.parentNode||B._onTouchNode(r||I.target,"mouse")}),E=f(D,"focusin",function(I){if(I.target.tagName){var O=I.target.tagName.toLowerCase();"#document"!=O&&"body"!=O&&(t.isFocusable(I.target)?B._onFocusNode(r||I.target):B._onTouchNode(r||I.target))}}),H=f(D,"focusout",function(I){B._onBlurNode(r||I.target)});return{remove:function(){z.remove();E.remove();H.remove();D=z=E=H=null}}}},
	_onBlurNode:function(v){v=(new Date).getTime();v<x+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(h.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),v<u+100||(this._clearActiveWidgetsTimer=setTimeout(h.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(v,r){u=(new Date).getTime();
	this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);n.contains(v,"dijitPopup")&&(v=v.firstChild);var B=[];try{for(;v;){var D=w.get(v,"dijitPopupParent");if(D)v=g.byId(D).domNode;else if(v.tagName&&"body"==v.tagName.toLowerCase()){if(v===e.body())break;v=q.get(v.ownerDocument).frameElement}else{var G=v.getAttribute&&v.getAttribute("widgetId"),z=G&&g.byId(G);!z||"mouse"==r&&z.get("disabled")||B.unshift(G);v=v.parentNode}}}catch(E){}this._setStack(B,
	r)},_onFocusNode:function(v){v&&9!=v.nodeType&&(x=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(v),v!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",v)))},_setStack:function(v,r){var B=this.activeStack,D=B.length-1,G=v.length-1;if(v[G]!=B[D]){this.set("activeStack",v);var z;for(z=D;0<=z&&B[z]!=v[z];z--)if(D=g.byId(B[z]))D._hasBeenBlurred=!0,D.set("focused",!1),D._focusManager==this&&D._onBlur(r),
	this.emit("widget-blur",D,r);for(z++;z<=G;z++)if(D=g.byId(v[z]))D.set("focused",!0),D._focusManager==this&&D._onFocus(r),this.emit("widget-focus",D,r)}},focus:function(v){if(v)try{v.focus()}catch(r){}}}));d(function(){var v=A.registerWin(q.get(document));a("ie")&&f(window,"unload",function(){v&&(v.remove(),v=null)})});p.focus=function(v){A.focus(v)};for(var m in A)/^_/.test(m)||(p.focus[m]="function"==typeof A[m]?h.hitch(A,m):A[m]);A.watch(function(v,r,B){p.focus[v]=B});return A})},"dojo/Stateful":function(){define(["./_base/declare",
	"./_base/lang","./_base/array","./when"],function(C,y,b,w){return C("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(n){var l=this._attrPairNames;return l[n]?l[n]:l[n]={s:"_"+n+"Setter",g:"_"+n+"Getter"}},postscript:function(n){n&&this.set(n)},_get:function(n,l){return"function"===typeof this[l.g]?this[l.g]():this[n]},get:function(n){return this._get(n,this._getAttrNames(n))},set:function(n,l){if("object"===typeof n){for(var k in n)n.hasOwnProperty(k)&&"_watchCallbacks"!=k&&this.set(k,
	n[k]);return this}k=this._getAttrNames(n);var h=this._get(n,k);k=this[k.s];var f;"function"===typeof k?f=k.apply(this,Array.prototype.slice.call(arguments,1)):this[n]=l;if(this._watchCallbacks){var d=this;w(f,function(){d._watchCallbacks(n,h,l)})}return this},_changeAttrValue:function(n,l){var k=this.get(n);this[n]=l;this._watchCallbacks&&this._watchCallbacks(n,k,l);return this},watch:function(n,l){var k=this._watchCallbacks;if(!k){var h=this;k=this._watchCallbacks=function(d,a,c,e){var q=function(t){if(t){t=
	t.slice();for(var g=0,p=t.length;g<p;g++)t[g].call(h,d,a,c)}};q(k["_"+d]);e||q(k["*"])}}l||"function"!==typeof n?n="_"+n:(l=n,n="*");var f=k[n];"object"!==typeof f&&(f=k[n]=[]);f.push(l);n={};n.unwatch=n.remove=function(){var d=b.indexOf(f,l);-1<d&&f.splice(d,1)};return n}})})},"dojo/window":function(){define("./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),function(C,y,b,w,n,l,k){y.add("rtl-adjust-position-for-verticalScrollBar",function(f,d){f=b.body(d);
	d=k.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},f,"last");var a=k.create("div",{style:{overflow:"hidden",direction:"ltr"}},d,"last"),c=0!=n.position(a).x;d.removeChild(a);f.removeChild(d);return c});y.add("position-fixed-support",function(f,d){f=b.body(d);d=k.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},f,"last");var a=k.create("span",{style:{position:"fixed",
	left:"0",top:"0"}},d,"last"),c=n.position(a).x!=n.position(d).x;d.removeChild(a);f.removeChild(d);return c});var h={getBox:function(f){f=f||b.doc;var d="BackCompat"==f.compatMode?b.body(f):f.documentElement,a=n.docScroll(f);if(y("touch")){var c=h.get(f);f=c.innerWidth||d.clientWidth;d=c.innerHeight||d.clientHeight}else f=d.clientWidth,d=d.clientHeight;return{l:a.x,t:a.y,w:f,h:d}},get:function(f){if(y("ie")&&h!==document.parentWindow){f.parentWindow.execScript("document._parentWindow \x3d window;",
	"Javascript");var d=f._parentWindow;f._parentWindow=null;return d}return f.parentWindow||f.defaultView},scrollIntoView:function(f,d){try{f=w.byId(f);var a=f.ownerDocument||b.doc,c=b.body(a),e=a.documentElement||c.parentNode,q=y("ie")||y("trident"),t=y("webkit");if(f!=c&&f!=e)if(!(y("mozilla")||q||t||y("opera")||y("trident")||y("edge"))&&"scrollIntoView"in f)f.scrollIntoView(!1);else{var g="BackCompat"==a.compatMode,p=Math.min(c.clientWidth||e.clientWidth,e.clientWidth||c.clientWidth),x=Math.min(c.clientHeight||
	e.clientHeight,e.clientHeight||c.clientHeight);a=t||g?c:e;var u=d||n.position(f),A=f.parentNode;d=function(ia){return 6>=q||7==q&&g?!1:y("position-fixed-support")&&"fixed"==l.get(ia,"position").toLowerCase()};var m=this;t=function(ia,ca,W){"BODY"==ia.tagName||"HTML"==ia.tagName?m.get(ia.ownerDocument).scrollBy(ca,W):(ca&&(ia.scrollLeft+=ca),W&&(ia.scrollTop+=W))};if(!d(f))for(;A;){A==c&&(A=a);var v=n.position(A),r=d(A),B="rtl"==l.getComputedStyle(A).direction.toLowerCase();if(A==a)v.w=p,v.h=x,a==
	e&&(q||y("trident"))&&B&&(v.x+=a.offsetWidth-v.w),v.x=0,v.y=0;else{var D=n.getPadBorderExtents(A);v.w-=D.w;v.h-=D.h;v.x+=D.l;v.y+=D.t;var G=A.clientWidth,z=v.w-G;0<G&&0<z&&(B&&y("rtl-adjust-position-for-verticalScrollBar")&&(v.x+=z),v.w=G);G=A.clientHeight;z=v.h-G;0<G&&0<z&&(v.h=G)}r&&(0>v.y&&(v.h+=v.y,v.y=0),0>v.x&&(v.w+=v.x,v.x=0),v.y+v.h>x&&(v.h=x-v.y),v.x+v.w>p&&(v.w=p-v.x));var E=u.x-v.x,H=u.y-v.y,I=E+u.w-v.w,O=H+u.h-v.h;if(0<I*E&&(A.scrollLeft||A==a||A.scrollWidth>A.offsetHeight)){var T=Math[0>
	E?"max":"min"](E,I);B&&(8==q&&!g||5<=y("trident"))&&(T=-T);var Z=A.scrollLeft;t(A,T,0);T=A.scrollLeft-Z;u.x-=T}0<O*H&&(A.scrollTop||A==a||A.scrollHeight>A.offsetHeight)&&(T=Math.ceil(Math[0>H?"max":"min"](H,O)),Z=A.scrollTop,t(A,0,T),T=A.scrollTop-Z,u.y-=T);A=A!=a&&!r&&A.parentNode}}}catch(ia){console.error("scrollIntoView: "+ia),f.scrollIntoView(!1)}}};C.setObject("dojo.window",h);return h})},"dijit/selection":function(){define("dojo/_base/array dojo/dom dojo/_base/lang dojo/sniff dojo/_base/window dijit/focus".split(" "),
	function(C,y,b,w,n,l){var k=function(f){var d=f.document;this.getType=function(){if(d.getSelection){var a="text";try{var c=f.getSelection()}catch(e){}c&&1==c.rangeCount&&(c=c.getRangeAt(0),c.startContainer==c.endContainer&&1==c.endOffset-c.startOffset&&3!=c.startContainer.nodeType&&(a="control"));return a}return d.selection.type.toLowerCase()};this.getSelectedText=function(){if(d.getSelection){var a=f.getSelection();return a?a.toString():""}return"control"==this.getType()?null:d.selection.createRange().text};
	this.getSelectedHtml=function(){if(d.getSelection){var a=f.getSelection();if(a&&a.rangeCount){var c,e="";for(c=0;c<a.rangeCount;c++){var q=a.getRangeAt(c).cloneContents(),t=d.createElement("div");t.appendChild(q);e+=t.innerHTML}return e}return null}return"control"==this.getType()?null:d.selection.createRange().htmlText};this.getSelectedElement=function(){if("control"==this.getType()){if(d.getSelection){var a=f.getSelection();return a.anchorNode.childNodes[a.anchorOffset]}if((a=d.selection.createRange())&&
	a.item)return d.selection.createRange().item(0)}return null};this.getParentElement=function(){if("control"==this.getType()){var a=this.getSelectedElement();if(a)return a.parentNode}else if(d.getSelection){if(a=d.getSelection()){for(a=a.anchorNode;a&&1!=a.nodeType;)a=a.parentNode;return a}}else return a=d.selection.createRange(),a.collapse(!0),a.parentElement();return null};this.hasAncestorElement=function(a){return null!=this.getAncestorElement.apply(this,arguments)};this.getAncestorElement=function(a){var c=
	this.getSelectedElement()||this.getParentElement();return this.getParentOfType(c,arguments)};this.isTag=function(a,c){if(a&&a.tagName){a=a.tagName.toLowerCase();for(var e=0;e<c.length;e++){var q=String(c[e]).toLowerCase();if(a==q)return q}}return""};this.getParentOfType=function(a,c){for(;a;){if(this.isTag(a,c).length)return a;a=a.parentNode}return null};this.collapse=function(a){if(d.getSelection){var c=f.getSelection();c.removeAllRanges?a?c.collapseToStart():c.collapseToEnd():c.collapse(a)}else c=
	d.selection.createRange(),c.collapse(a),c.select()};this.remove=function(){var a=d.selection;d.getSelection?(a=f.getSelection(),a.deleteFromDocument()):"none"!=a.type.toLowerCase()&&a.clear();return a};this.selectElementChildren=function(a,c){a=y.byId(a);if(d.getSelection)if(c=f.getSelection(),w("opera")){var e=c.rangeCount?c.getRangeAt(0):d.createRange();e.setStart(a,0);e.setEnd(a,3==a.nodeType?a.length:a.childNodes.length);c.addRange(e)}else c.selectAllChildren(a);else if(e=a.ownerDocument.body.createTextRange(),
	e.moveToElementText(a),!c)try{e.select()}catch(q){}};this.selectElement=function(a,c){a=y.byId(a);if(d.getSelection){c=d.getSelection();var e=d.createRange();c.removeAllRanges&&(w("opera")&&c.getRangeAt(0)&&(e=c.getRangeAt(0)),e.selectNode(a),c.removeAllRanges(),c.addRange(e))}else try{var q=a.tagName?a.tagName.toLowerCase():"";e="img"===q||"table"===q?n.body(d).createControlRange():n.body(d).createRange();e.addElement(a);c||e.select()}catch(t){this.selectElementChildren(a,c)}};this.inSelection=function(a){if(a){var c;
	if(d.getSelection){var e=f.getSelection();e&&0<e.rangeCount&&(c=e.getRangeAt(0));if(c&&c.compareBoundaryPoints&&d.createRange)try{var q=d.createRange();q.setStart(a,0);if(1===c.compareBoundaryPoints(c.START_TO_END,q))return!0}catch(t){}}else{c=d.selection.createRange();try{q=a.ownerDocument.body.createTextRange(),q.moveToElementText(a)}catch(t){}if(c&&q&&1===c.compareEndPoints("EndToStart",q))return!0}}return!1};this.getBookmark=function(){var a,c=d.selection,e=l.curNode;if(d.getSelection){if(c=f.getSelection())if(c.isCollapsed){if(a=
	e?e.tagName:"")if(a=a.toLowerCase(),"textarea"==a||"input"==a&&(!e.type||"text"==e.type.toLowerCase()))return c={start:e.selectionStart,end:e.selectionEnd,node:e,pRange:!0},{isCollapsed:c.end<=c.start,mark:c};a={isCollapsed:!0};c.rangeCount&&(a.mark=c.getRangeAt(0).cloneRange())}else{var q=c.getRangeAt(0);a={isCollapsed:!1,mark:q.cloneRange()}}}else if(c){a=e?e.tagName:"";a=a.toLowerCase();if(e&&a&&("button"==a||"textarea"==a||"input"==a)){if(c.type&&"none"==c.type.toLowerCase())return{isCollapsed:!0,
	mark:null};q=c.createRange();return{isCollapsed:q.text&&q.text.length?!1:!0,mark:{range:q,pRange:!0}}}a={};try{q=c.createRange(),a.isCollapsed=!("Text"==c.type?q.htmlText.length:q.length)}catch(t){return a.isCollapsed=!0,a}if("CONTROL"==c.type.toUpperCase())if(q.length)for(a.mark=[],c=0,e=q.length;c<e;)a.mark.push(q.item(c++));else a.isCollapsed=!0,a.mark=null;else a.mark=q.getBookmark()}else console.warn("No idea how to store the current selection for this browser!");return a};this.moveToBookmark=
	function(a){if(a=a.mark)if(d.getSelection){var c=f.getSelection();c&&c.removeAllRanges?a.pRange?(c=a.node,c.selectionStart=a.start,c.selectionEnd=a.end):(c.removeAllRanges(),c.addRange(a)):console.warn("No idea how to restore selection for this browser!")}else if(d.selection&&a){if(a.pRange)var e=a.range;else b.isArray(a)?(e=d.body.createControlRange(),C.forEach(a,function(q){e.addElement(q)})):(e=d.body.createTextRange(),e.moveToBookmark(a));e.select()}};this.isCollapsed=function(){return this.getBookmark().isCollapsed}},
	h=new k(window);h.SelectionManager=k;return h})},"dijit/_base/manager":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(C,y,b,w,n){var l={};C.forEach("byId getUniqueId findWidgets _destroyAll byNode getEnclosingWidget".split(" "),function(k){l[k]=w[k]});b.mixin(l,{defaultDuration:y.defaultDuration||200});b.mixin(n,l);return n})},"dijit/_base/place":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],
	function(C,y,b,w,n){var l={getViewport:function(){return b.getBox()}};l.placeOnScreen=w.at;l.placeOnScreenAroundElement=function(k,h,f,d){if(y.isArray(f))var a=f;else{a=[];for(var c in f)a.push({aroundCorner:c,corner:f[c]})}return w.around(k,h,a,!0,d)};l.placeOnScreenAroundNode=l.placeOnScreenAroundElement;l.placeOnScreenAroundRectangle=l.placeOnScreenAroundElement;l.getPopupAroundAlignment=function(k,h){var f={};C.forEach(k,function(d){var a=h;switch(d){case "after":f[h?"BR":"BL"]=h?"BL":"BR";break;
	case "before":f[h?"BL":"BR"]=h?"BR":"BL";break;case "below-alt":a=!a;case "below":f[a?"BL":"BR"]=a?"TL":"TR";f[a?"BR":"BL"]=a?"TR":"TL";break;case "above-alt":a=!a;default:f[a?"TL":"TR"]=a?"BL":"BR",f[a?"TR":"TL"]=a?"BR":"BL"}});return f};y.mixin(n,l);return n})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),function(C,y,b,w,n,l,k){function h(d,a,c,e){var q=l.getEffectiveBox(d.ownerDocument);d.parentNode&&
	"body"==String(d.parentNode.tagName).toLowerCase()||n.body(d.ownerDocument).appendChild(d);var t=null;C.some(a,function(x){var u=x.corner,A=x.pos,m=0,v={w:{L:q.l+q.w-A.x,R:A.x-q.l,M:q.w}[u.charAt(1)],h:{T:q.t+q.h-A.y,B:A.y-q.t,M:q.h}[u.charAt(0)]},r=d.style;r.left=r.right="auto";c&&(m=c(d,x.aroundCorner,u,v,e),m="undefined"==typeof m?0:m);var B=d.style,D=B.display,G=B.visibility;"none"==B.display&&(B.visibility="hidden",B.display="");r=y.position(d);B.display=D;B.visibility=G;D={L:A.x,R:A.x-r.w,M:Math.max(q.l,
	Math.min(q.l+q.w,A.x+(r.w>>1))-r.w)}[u.charAt(1)];G={T:A.y,B:A.y-r.h,M:Math.max(q.t,Math.min(q.t+q.h,A.y+(r.h>>1))-r.h)}[u.charAt(0)];A=Math.max(q.l,D);B=Math.max(q.t,G);D=Math.min(q.l+q.w,D+r.w)-A;G=Math.min(q.t+q.h,G+r.h)-B;m+=r.w-D+(r.h-G);if(null==t||m<t.overflow)t={corner:u,aroundCorner:x.aroundCorner,x:A,y:B,w:D,h:G,overflow:m,spaceAvailable:v};return!m});t.overflow&&c&&c(d,t.aroundCorner,t.corner,t.spaceAvailable,e);a=t.y;var g=t.x,p=n.body(d.ownerDocument);/relative|absolute/.test(b.get(p,
	"position"))&&(a-=b.get(p,"marginTop"),g-=b.get(p,"marginLeft"));p=d.style;p.top=a+"px";p.left=g+"px";p.right="auto";return t}var f={TL:"BR",TR:"BL",BL:"TR",BR:"TL"};return k.place={at:function(d,a,c,e,q){c=C.map(c,function(t){var g={corner:t,aroundCorner:f[t],pos:{x:a.x,y:a.y}};e&&(g.pos.x+="L"==t.charAt(1)?e.x:-e.x,g.pos.y+="T"==t.charAt(0)?e.y:-e.y);return g});return h(d,c,q)},around:function(d,a,c,e,q){function t(z,E){G.push({aroundCorner:z,corner:E,pos:{x:{L:v,R:v+B,M:v+(B>>1)}[z.charAt(1)],
	y:{T:r,B:r+D,M:r+(D>>1)}[z.charAt(0)]}})}if("string"==typeof a||"offsetWidth"in a||"ownerSVGElement"in a){var g=y.position(a,!0);if(/^(above|below)/.test(c[0])){var p=y.getBorderExtents(a),x=a.firstChild?y.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0},u=y.getBorderExtents(d),A=d.firstChild?y.getBorderExtents(d.firstChild):{t:0,l:0,b:0,r:0};g.y+=Math.min(p.t+x.t,u.t+A.t);g.h-=Math.min(p.t+x.t,u.t+A.t)+Math.min(p.b+x.b,u.b+A.b)}}else g=a;if(a.parentNode)for(p="absolute"==b.getComputedStyle(a).position,
	a=a.parentNode;a&&1==a.nodeType&&"BODY"!=a.nodeName;){x=y.position(a,!0);u=b.getComputedStyle(a);/relative|absolute/.test(u.position)&&(p=!1);if(!p&&/hidden|auto|scroll/.test(u.overflow)){A=Math.min(g.y+g.h,x.y+x.h);var m=Math.min(g.x+g.w,x.x+x.w);g.x=Math.max(g.x,x.x);g.y=Math.max(g.y,x.y);g.h=A-g.y;g.w=m-g.x}"absolute"==u.position&&(p=!0);a=a.parentNode}var v=g.x,r=g.y,B="w"in g?g.w:g.w=g.width,D="h"in g?g.h:(w.deprecated("place.around: dijit/place.__Rectangle: { x:"+v+", y:"+r+", height:"+g.height+
	", width:"+B+" } has been deprecated.  Please use { x:"+v+", y:"+r+", h:"+g.height+", w:"+B+" }","","2.0"),g.h=g.height),G=[];C.forEach(c,function(z){var E=e;switch(z){case "above-centered":t("TM","BM");break;case "below-centered":t("BM","TM");break;case "after-centered":E=!E;case "before-centered":t(E?"ML":"MR",E?"MR":"ML");break;case "after":E=!E;case "before":t(E?"TL":"TR",E?"TR":"TL");t(E?"BL":"BR",E?"BR":"BL");break;case "below-alt":E=!E;case "below":t(E?"BL":"BR",E?"TL":"TR");t(E?"BR":"BL",
	E?"TR":"TL");break;case "above-alt":E=!E;case "above":t(E?"TL":"TR",E?"BL":"BR");t(E?"TR":"TL",E?"BR":"BL");break;default:t(z.aroundCorner,z.corner)}});d=h(d,G,q,{w:B,h:D});d.aroundNodePos=g;return d}}})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(C,y,b,w,n){var l=new C,k;b(function(){var h=n.getBox();l._rlh=y(window,"resize",function(){var d=n.getBox();if(h.h!=d.h||h.w!=d.w)h=d,l.emit("resize")});if(8==w("ie")){var f=screen.deviceXDPI;
	setInterval(function(){screen.deviceXDPI!=f&&(f=screen.deviceXDPI,l.emit("resize"))},500)}w("ios")&&(y(document,"focusin",function(d){k=d.target}),y(document,"focusout",function(d){k=null}))});l.getEffectiveBox=function(h){h=n.getBox(h);var f=k&&k.tagName&&k.tagName.toLowerCase();w("ios")&&k&&!k.readOnly&&("textarea"==f||"input"==f&&/^(color|email|number|password|search|tel|text|url)$/.test(k.type))&&(h.h*=0==orientation||180==orientation?.66:.4,f=k.getBoundingClientRect(),h.h=Math.max(h.h,f.top+
	f.height));return h};return l})},"dijit/_base/popup":function(){define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(C,y,b){var w=b._createWrapper;b._createWrapper=function(l){l.declaredClass||(l={_popupWrapper:l.parentNode&&C.contains(l.parentNode,"dijitPopup")?l.parentNode:null,domNode:l,destroy:function(){},ownerDocument:l.ownerDocument,ownerDocumentBody:y.body(l.ownerDocument)});return w.call(this,l)};var n=b.open;b.open=function(l){if(l.orient&&"string"!=typeof l.orient&&
	!("length"in l.orient)){var k=[],h;for(h in l.orient)k.push({aroundCorner:h,corner:l.orient[h]});l.orient=k}return n.call(this,l)};return b})},"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main dojo/touch".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g){function p(){this._popupWrapper&&(l.destroy(this._popupWrapper),
	delete this._popupWrapper)}b=b(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var x=this._firstAroundPosition,u=k.position(this._firstAroundNode,!0),A=u.x-x.x;x=u.y-x.y;if(A||x)for(this._firstAroundPosition=u,u=0;u<this._stack.length;u++){var m=this._stack[u].wrapper.style;m.top=parseFloat(m.top)+x+"px";"auto"==m.right?m.left=parseFloat(m.left)+A+"px":m.right=parseFloat(m.right)-A+"px"}this._aroundMoveListener=setTimeout(a.hitch(this,"_repositionAll"),
	A||x?10:50)}},_createWrapper:function(x){var u=x._popupWrapper,A=x.domNode;u||(u=l.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":x["aria-label"]||x.label||x.name||x.id},x.ownerDocumentBody),u.appendChild(A),A=A.style,A.display="",A.visibility="",A.position="",A.top="0px",x._popupWrapper=u,y.after(x,"destroy",p,!0),"ontouchend"in document&&c(u,"touchend",function(m){/^(input|button|textarea)$/i.test(m.target.tagName)||m.preventDefault()}),u.dojoClick=!0);return u},
	moveOffScreen:function(x){var u=this._createWrapper(x);x=k.isBodyLtr(x.ownerDocument);var A={visibility:"hidden",top:"-9999px",display:""};A[x?"left":"right"]="-9999px";A[x?"right":"left"]="auto";h.set(u,A);return u},hide:function(x){var u=this._createWrapper(x);h.set(u,{display:"none",height:"auto",overflowY:"visible",border:""});x=x.domNode;"_originalStyle"in x&&(x.style.cssText=x._originalStyle)},getTopPopup:function(){for(var x=this._stack,u=x.length-1;0<u&&x[u].parent===x[u-1].widget;u--);return x[u]},
	open:function(x){for(var u=this._stack,A=x.popup,m=A.domNode,v=x.orient||["below","below-alt","above","above-alt"],r=x.parent?x.parent.isLeftToRight():k.isBodyLtr(A.ownerDocument),B=x.around,D=x.around&&x.around.id?x.around.id+"_dropdown":"popup_"+this._idGen++;u.length&&(!x.parent||!w.isDescendant(x.parent.domNode,u[u.length-1].widget.domNode));)this.close(u[u.length-1].widget);var G=this.moveOffScreen(A);A.startup&&!A._started&&A.startup();var z=k.position(m);if("maxHeight"in x&&-1!=x.maxHeight)var E=
	x.maxHeight||Infinity;else{E=t.getEffectiveBox(this.ownerDocument);var H=B?k.position(B,!1):{y:x.y-(x.padding||0),h:2*(x.padding||0)};E=Math.floor(Math.max(H.y,E.h-(H.y+H.h)))}z.h>E&&(z=h.getComputedStyle(m),h.set(G,{overflowY:"scroll",height:E+"px",border:z.borderLeftWidth+" "+z.borderLeftStyle+" "+z.borderLeftColor}),m._originalStyle=m.style.cssText,m.style.border="none");n.set(G,{id:D,style:{zIndex:this._beginZIndex+u.length},"class":"dijitPopup "+(A.baseClass||A["class"]||"").split(" ")[0]+"Popup",
	dijitPopupParent:x.parent?x.parent.id:""});0==u.length&&B&&(this._firstAroundNode=B,this._firstAroundPosition=k.position(B,!0),this._aroundMoveListener=setTimeout(a.hitch(this,"_repositionAll"),50));f("config-bgIframe")&&!A.bgIframe&&(A.bgIframe=new q(G));D=A.orient?a.hitch(A,"orient"):null;v=B?e.around(G,B,v,r,D):e.at(G,x,"R"==v?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],x.padding,D);G.style.visibility="visible";m.style.visibility="visible";m=[];m.push(c(G,"keydown",a.hitch(this,function(I){if(I.keyCode==
	d.ESCAPE&&x.onCancel)I.stopPropagation(),I.preventDefault(),x.onCancel();else if(I.keyCode==d.TAB&&(I.stopPropagation(),I.preventDefault(),(I=this.getTopPopup())&&I.onCancel))I.onCancel()})));A.onCancel&&x.onCancel&&m.push(A.on("cancel",x.onCancel));m.push(A.on(A.onExecute?"execute":"change",a.hitch(this,function(){var I=this.getTopPopup();if(I&&I.onExecute)I.onExecute()})));u.push({widget:A,wrapper:G,parent:x.parent,onExecute:x.onExecute,onCancel:x.onCancel,onClose:x.onClose,handlers:m});if(A.onOpen)A.onOpen(v);
	return v},close:function(x){for(var u=this._stack;x&&C.some(u,function(B){return B.widget==x})||!x&&u.length;){var A=u.pop(),m=A.widget,v=A.onClose;m.bgIframe&&(m.bgIframe.destroy(),delete m.bgIframe);if(m.onClose)m.onClose();for(var r;r=A.handlers.pop();)r.remove();m&&m.domNode&&this.hide(m);v&&v()}0==u.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}});return g.popup=new b})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),
	function(C,y,b,w,n,l,k,h){h.add("config-bgIframe",(h("ie")||h("trident"))&&!/IEMobile\/10\.0/.test(navigator.userAgent));var f=new function(){var d=[];this.pop=function(){if(d.length){var a=d.pop();a.style.display=""}else 9>h("ie")?(a=b.dojoBlankHtmlUrl||C.toUrl("dojo/resources/blank.html")||'javascript:""',a=document.createElement("\x3ciframe src\x3d'"+a+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e")):(a=w.create("iframe"),
	a.src='javascript:""',a.className="dijitBackgroundIframe",a.setAttribute("role","presentation"),n.set(a,"opacity",.1)),a.tabIndex=-1;return a};this.push=function(a){a.style.display="none";d.push(a)}};y.BackgroundIframe=function(d){if(!d.id)throw Error("no id");if(h("config-bgIframe")){var a=this.iframe=f.pop();d.appendChild(a);7>h("ie")||h("quirks")?(this.resize(d),this._conn=k(d,"resize",l.hitch(this,"resize",d))):n.set(a,{width:"100%",height:"100%"})}};l.extend(y.BackgroundIframe,{resize:function(d){this.iframe&&
	n.set(this.iframe,{width:d.offsetWidth+"px",height:d.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),f.push(this.iframe),delete this.iframe)}});return y.BackgroundIframe})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(C,y,b,w,n,l,k,h,f,d){function a(H,I,O){return t&&O?function(T,Z){return l(T,
	O,Z)}:p?function(T,Z){var ia=l(T,I,function(W){Z.call(this,W);z=(new Date).getTime()}),ca=l(T,H,function(W){(!z||(new Date).getTime()>z+1E3)&&Z.call(this,W)});return{remove:function(){ia.remove();ca.remove()}}}:function(T,Z){return l(T,H,Z)}}function c(H){do if(void 0!==H.dojoClick)return H;while(H=H.parentNode)}function e(H,I,O){if(!h.isRight(H)){var T=c(H.target);if(u=!H.target.disabled&&T&&T.dojoClick)if(m=(A="useTarget"==u)?T:H.target,A&&H.preventDefault(),v=H.changedTouches?H.changedTouches[0].pageX-
	d.global.pageXOffset:H.clientX,r=H.changedTouches?H.changedTouches[0].pageY-d.global.pageYOffset:H.clientY,B=("object"==typeof u?u.x:"number"==typeof u?u:0)||4,D=("object"==typeof u?u.y:"number"==typeof u?u:0)||4,!x){x=!0;var Z=function(ia){u=A?b.isDescendant(d.doc.elementFromPoint(ia.changedTouches?ia.changedTouches[0].pageX-d.global.pageXOffset:ia.clientX,ia.changedTouches?ia.changedTouches[0].pageY-d.global.pageYOffset:ia.clientY),m):u&&(ia.changedTouches?ia.changedTouches[0].target:ia.target)==
	m&&Math.abs((ia.changedTouches?ia.changedTouches[0].pageX-d.global.pageXOffset:ia.clientX)-v)<=B&&Math.abs((ia.changedTouches?ia.changedTouches[0].pageY-d.global.pageYOffset:ia.clientY)-r)<=D};d.doc.addEventListener(I,function(ia){h.isRight(ia)||(Z(ia),A&&ia.preventDefault())},!0);d.doc.addEventListener(O,function(ia){if(!h.isRight(ia)&&(Z(ia),u)){G=(new Date).getTime();var ca=A?m:ia.target;"LABEL"===ca.tagName&&(ca=b.byId(ca.getAttribute("for"))||ca);var W=ia.changedTouches?ia.changedTouches[0]:
	ia,ha=function(Y){var la=document.createEvent("MouseEvents");la._dojo_click=!0;la.initMouseEvent(Y,!0,!0,ia.view,ia.detail,W.screenX,W.screenY,W.clientX,W.clientY,ia.ctrlKey,ia.altKey,ia.shiftKey,ia.metaKey,0,null);return la},ma=ha("mousedown"),xa=ha("mouseup"),K=ha("click");setTimeout(function(){l.emit(ca,"mousedown",ma);l.emit(ca,"mouseup",xa);l.emit(ca,"click",K);G=(new Date).getTime()},0)}},!0);H=function(ia){d.doc.addEventListener(ia,function(ca){var W=ca.target;u&&!ca._dojo_click&&(new Date).getTime()<=
	G+1E3&&("INPUT"!=W.tagName||!w.contains(W,"dijitOffScreen"))&&(ca.stopPropagation(),ca.stopImmediatePropagation&&ca.stopImmediatePropagation(),"click"==ia&&("INPUT"!=W.tagName||"radio"==W.type&&(w.contains(W,"dijitCheckBoxInput")||w.contains(W,"mblRadioButton"))||"checkbox"==W.type&&(w.contains(W,"dijitCheckBoxInput")||w.contains(W,"mblCheckBox")))&&"TEXTAREA"!=W.tagName&&"AUDIO"!=W.tagName&&"VIDEO"!=W.tagName&&ca.preventDefault())},!0)};H("click");H("mousedown");H("mouseup")}}}var q=5>k("ios"),t=
	k("pointer-events")||k("MSPointer"),g=function(){var H={},I;for(I in{down:1,move:1,up:1,cancel:1,over:1,out:1})H[I]=k("MSPointer")?"MSPointer"+I.charAt(0).toUpperCase()+I.slice(1):"pointer"+I;return H}(),p=k("touch-events"),x,u,A=!1,m,v,r,B,D,G,z,E;k("touch")&&(t?f(function(){d.doc.addEventListener(g.down,function(H){e(H,g.move,g.up)},!0)}):f(function(){function H(I){var O=n.delegate(I,{bubbles:!0});6<=k("ios")&&(O.touches=I.touches,O.altKey=I.altKey,O.changedTouches=I.changedTouches,O.ctrlKey=I.ctrlKey,
	O.metaKey=I.metaKey,O.shiftKey=I.shiftKey,O.targetTouches=I.targetTouches);return O}E=d.body();d.doc.addEventListener("touchstart",function(I){z=(new Date).getTime();var O=E;E=I.target;l.emit(O,"dojotouchout",{relatedTarget:E,bubbles:!0});l.emit(E,"dojotouchover",{relatedTarget:O,bubbles:!0});e(I,"touchmove","touchend")},!0);l(d.doc,"touchmove",function(I){z=(new Date).getTime();var O=d.doc.elementFromPoint(I.pageX-(q?0:d.global.pageXOffset),I.pageY-(q?0:d.global.pageYOffset));O&&(E!==O&&(l.emit(E,
	"dojotouchout",{relatedTarget:O,bubbles:!0}),l.emit(O,"dojotouchover",{relatedTarget:E,bubbles:!0}),E=O),l.emit(O,"dojotouchmove",H(I))||I.preventDefault())});l(d.doc,"touchend",function(I){z=(new Date).getTime();var O=d.doc.elementFromPoint(I.pageX-(q?0:d.global.pageXOffset),I.pageY-(q?0:d.global.pageYOffset))||d.body();l.emit(O,"dojotouchend",H(I))})}));y={press:a("mousedown","touchstart",g.down),move:a("mousemove","dojotouchmove",g.move),release:a("mouseup","dojotouchend",g.up),cancel:a(h.leave,
	"touchcancel",t?g.cancel:null),over:a("mouseover","dojotouchover",g.over),out:a("mouseout","dojotouchout",g.out),enter:h._eventHandler(a("mouseover","dojotouchover",g.over)),leave:h._eventHandler(a("mouseout","dojotouchout",g.out))};return C.touch=y})},"dijit/_base/scroll":function(){define(["dojo/window","../main"],function(C,y){y.scrollIntoView=function(b,w){C.scrollIntoView(b,w)}})},"dijit/_base/sniff":function(){define(["dojo/uacss"],function(){})},"dojo/uacss":function(){define(["./dom-geometry",
	"./_base/lang","./domReady","./sniff","./_base/window"],function(C,y,b,w,n){var l=n.doc.documentElement;n=w("ie");var k=w("trident"),h=w("opera"),f=Math.floor,d=w("ff"),a=C.boxModel.replace(/-/,"");h={dj_quirks:w("quirks"),dj_opera:h,dj_khtml:w("khtml"),dj_webkit:w("webkit"),dj_safari:w("safari"),dj_chrome:w("chrome"),dj_edge:w("edge"),dj_gecko:w("mozilla"),dj_ios:w("ios"),dj_android:w("android")};n&&(h.dj_ie=!0,h["dj_ie"+f(n)]=!0,h.dj_iequirks=w("quirks"));k&&(h.dj_trident=!0,h["dj_trident"+f(k)]=
	!0);d&&(h["dj_ff"+f(d)]=!0);h["dj_"+a]=!0;var c="",e;for(e in h)h[e]&&(c+=e+" ");l.className=y.trim(l.className+" "+c);b(function(){if(!C.isBodyLtr()){var q="dj_rtl dijitRtl "+c.replace(/ /g,"-rtl ");l.className=y.trim(l.className+" "+q+"dj_rtl dijitRtl "+c.replace(/ /g,"-rtl "))}});return w})},"dijit/_base/typematic":function(){define(["../typematic"],function(){})},"dijit/typematic":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/lang dojo/on dojo/sniff ./main".split(" "),function(C,
	y,b,w,n,l){var k=l.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(0>this._currentTimeout?this._initialDelay:1<this._subsequentDelay?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay),this._minDelay);this._timer=setTimeout(b.hitch(this,"_fireEventAndReload"),this._currentTimeout)},trigger:function(h,f,d,a,c,e,q,t){if(c!=this._obj){this.stop();this._initialDelay=q||500;this._subsequentDelay=
	e||.9;this._minDelay=t||10;this._obj=c;this._node=d;this._count=this._currentTimeout=-1;this._callback=b.hitch(f,a);this._evt={faux:!0};for(var g in h)"layerX"!=g&&"layerY"!=g&&(f=h[g],"function"!=typeof f&&"undefined"!=typeof f&&(this._evt[g]=f));this._fireEventAndReload()}},stop:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._obj&&(this._callback(-1,this._node,this._evt),this._obj=null)},addKeyListener:function(h,f,d,a,c,e,q){var t="keyCode"in f?"keyCode":"charCode"in
	f?"charCode":"charOrCode",g=[w(h,"keyCode"in f?"keydown":"charCode"in f?"keypress":y._keypress,b.hitch(this,function(p){p[t]!=f[t]||void 0!==f.ctrlKey&&f.ctrlKey!=p.ctrlKey||void 0!==f.altKey&&f.altKey!=p.altKey||void 0!==f.metaKey&&f.metaKey!=(p.metaKey||!1)||void 0!==f.shiftKey&&f.shiftKey!=p.shiftKey?k._obj==f&&k.stop():(p.stopPropagation(),p.preventDefault(),k.trigger(p,d,h,a,f,c,e,q))})),w(h,"keyup",b.hitch(this,function(){k._obj==f&&k.stop()}))];return{remove:function(){C.forEach(g,function(p){p.remove()})}}},
	addMouseListener:function(h,f,d,a,c,e){var q=[w(h,"mousedown",b.hitch(this,function(t){t.preventDefault();k.trigger(t,f,h,d,h,a,c,e)})),w(h,"mouseup",b.hitch(this,function(t){this._obj&&t.preventDefault();k.stop()})),w(h,"mouseout",b.hitch(this,function(t){this._obj&&t.preventDefault();k.stop()})),w(h,"dblclick",b.hitch(this,function(t){t.preventDefault();9>n("ie")&&(k.trigger(t,f,h,d,h,a,c,e),setTimeout(b.hitch(this,k.stop),50))}))];return{remove:function(){C.forEach(q,function(t){t.remove()})}}},
	addListener:function(h,f,d,a,c,e,q,t){var g=[this.addKeyListener(f,d,a,c,e,q,t),this.addMouseListener(h,a,c,e,q,t)];return{remove:function(){C.forEach(g,function(p){p.remove()})}}}};return k})},"dijit/_base/wai":function(){define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(C,y,b){y.mixin(b,{hasWaiRole:function(w,n){w=this.getWaiRole(w);return n?-1<w.indexOf(n):0<w.length},getWaiRole:function(w){return y.trim((C.get(w,"role")||"").replace("wairole:",""))},setWaiRole:function(w,
	n){C.set(w,"role",n)},removeWaiRole:function(w,n){var l=C.get(w,"role");l&&(n?(n=y.trim((" "+l+" ").replace(" "+n+" "," ")),C.set(w,"role",n)):w.removeAttribute("role"))},hasWaiState:function(w,n){return w.hasAttribute?w.hasAttribute("aria-"+n):!!w.getAttribute("aria-"+n)},getWaiState:function(w,n){return w.getAttribute("aria-"+n)||""},setWaiState:function(w,n,l){w.setAttribute("aria-"+n,l)},removeWaiState:function(w,n){w.removeAttribute("aria-"+n)}});return b})},"dijit/hccss":function(){define(["dojo/dom-class",
	"dojo/hccss","dojo/domReady","dojo/_base/window"],function(C,y,b,w){b(function(){y("highcontrast")&&C.add(w.body(),"dijit_a11y")});return y})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(C,y,b,w,n,l,k){n.add("highcontrast",function(){var h=k.doc.createElement("div");try{h.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+(y.blankGif||
	C.toUrl("./resources/blank.gif"))+'");';k.body().appendChild(h);var f=w.getComputedStyle(h),d=f.backgroundImage;return f.borderTopColor==f.borderRightColor||d&&("none"==d||"url(invalid-url:)"==d)}catch(a){return console.warn("hccss: exception detecting high-contrast mode, document is likely hidden: "+a.toString()),!1}finally{8>=n("ie")?h.outerHTML="":k.body().removeChild(h)}});l(function(){n("highcontrast")&&b.add(k.body(),"dj_a11y")});return n})},"dijit/_base/window":function(){define(["dojo/window",
	"../main"],function(C,y){y.getDocumentWindow=function(b){return C.get(b)}})},"dijit/form/DropDownButton":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/query ../registry ../popup ./Button ../_Container ../_HasDropDown dojo/text!./templates/DropDownButton.html ../a11yclick".split(" "),function(C,y,b,w,n,l,k,h,f,d){return C("dijit.form.DropDownButton",[k,h,f],{baseClass:"dijitDropDownButton",templateString:d,_fillContent:function(){var a=this.srcNodeRef,c=this.containerNode;
	if(a&&c)for(;a.hasChildNodes();){var e=a.firstChild;e.hasAttribute&&(e.hasAttribute("data-dojo-type")||e.hasAttribute("dojoType")||e.hasAttribute("data-"+y._scopeName+"-type")||e.hasAttribute(y._scopeName+"Type"))?(this.dropDownContainer=this.ownerDocument.createElement("div"),this.dropDownContainer.appendChild(e)):c.appendChild(e)}},startup:function(){this._started||(!this.dropDown&&this.dropDownContainer&&(this.dropDown=n.byNode(this.dropDownContainer.firstChild),delete this.dropDownContainer),
	this.dropDown&&l.hide(this.dropDown),this.inherited(arguments))},isLoaded:function(){var a=this.dropDown;return!!a&&(!a.href||a.isLoaded)},loadDropDown:function(a){var c=this.dropDown,e=c.on("load",b.hitch(this,function(){e.remove();a()}));c.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html ../a11yclick".split(" "),
	function(C,y,b,w,n,l,k,h,f,d){w("dijit-legacy-requires")&&k(0,function(){C(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});k=y("dijit.form.Button"+(w("dojo-bidi")?"_NoBidi":""),[h,f],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:d,_setValueAttr:"valueNode",_setNameAttr:function(a){this.valueNode&&this.valueNode.setAttribute("name",a)},postCreate:function(){this.inherited(arguments);
	this._setLabelFromContainer()},_setLabelFromContainer:function(){this.containerNode&&!this.label&&(this.label=l.trim(this.containerNode.innerHTML),this.onLabelSet())},_setShowLabelAttr:function(a){this.containerNode&&b.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){n.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},onLabelSet:function(){this.inherited(arguments);this.showLabel||
	"title"in this.params||(this.titleNode.title=l.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});w("dojo-bidi")&&(k=y("dijit.form.Button",k,{onLabelSet:function(){this.inherited(arguments);this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this._setLabelAttr(this.label))}}));return k})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),
	function(C,y,b,w,n,l,k,h){y("dijit-legacy-requires")&&w(0,function(){require(["dijit/form/_FormValueWidget"])});return C("dijit.form._FormWidget",[n,k,l,h],{setDisabled:function(f){b.deprecated("setDisabled("+f+") is deprecated. Use set('disabled',"+f+") instead.","","2.0");this.set("disabled",f)},setValue:function(f){b.deprecated("dijit.form._FormWidget:setValue("+f+") is deprecated.  Use set('value',"+f+") instead.","","2.0");this.set("value",f)},getValue:function(){b.deprecated(this.declaredClass+
	"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!y("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)}})})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e){function q(){}function t(g){return function(p,x,u,A){return p&&"string"==typeof x&&p[x]==q?p.on(x.substring(2).toLowerCase(),k.hitch(u,A)):g.apply(b,arguments)}}C.around(b,"connect",t);l.connect&&C.around(l,"connect",t);C=w("dijit._Widget",[a,c,e],{onClick:q,onDblClick:q,onKeyDown:q,onKeyPress:q,onKeyUp:q,onMouseDown:q,onMouseMove:q,onMouseOut:q,onMouseOver:q,onMouseLeave:q,onMouseEnter:q,onMouseUp:q,constructor:function(g){this._toConnect={};for(var p in g)this[p]===
	q&&(this._toConnect[p.replace(/^on/,"").toLowerCase()]=g[p],delete g[p])},postCreate:function(){this.inherited(arguments);for(var g in this._toConnect)this.on(g,this._toConnect[g]);delete this._toConnect},on:function(g,p){return this[this._onMap(g)]===q?b.connect(this.domNode,g.toLowerCase(),this,p):this.inherited(arguments)},_setFocusedAttr:function(g){this._focused=g;this._set("focused",g)},setAttribute:function(g,p){l.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.",
	"","2.0");this.set(g,p)},attr:function(g,p){return 2<=arguments.length||"object"===typeof g?this.set.apply(this,arguments):this.get(g)},getDescendants:function(){l.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?h("[widgetId]",this.containerNode).map(d.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});n("dijit-legacy-requires")&&f(0,function(){require(["dijit/_base"])});
	return C})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x,u,A,m,v,r){function B(G){return function(z){h[z?
	"set":"remove"](this.domNode,G,z);this._set(G,z)}}e.add("dijit-legacy-requires",!q.isAsync);e.add("dojo-bidi",!1);e("dijit-legacy-requires")&&p(0,function(){C(["dijit/_base/manager"])});var D={};w=l("dijit._WidgetBase",[x,m],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:B("lang"),dir:"",_setDirAttr:B("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(G){this._set("ownerDocument",
	G)},attributeMap:{},_blankGif:w.blankGif||C.toUrl("dojo/resources/blank.gif"),textDir:"",_introspect:function(){var G=this.constructor;if(!G._setterAttrs){var z=G.prototype,E=G._setterAttrs=[];G=G._onMap={};for(var H in z.attributeMap)E.push(H);for(H in z)/^on/.test(H)&&(G[H.substring(2).toLowerCase()]=H),/^_set[A-Z](.*)Attr$/.test(H)&&(H=H.charAt(4).toLowerCase()+H.substr(5,H.length-9),z.attributeMap&&H in z.attributeMap||E.push(H))}},postscript:function(G,z){this.create(G,z)},create:function(G,
	z){this._introspect();this.srcNodeRef=k.byId(z);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&this.srcNodeRef.id&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);G&&(this.params=G,t.mixin(this,G));this.postMixInProperties();this.id||(this.id=r.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=A.body(this.ownerDocument);
	r.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();if((G=this.srcNodeRef)&&G.parentNode&&this.domNode!==G){G.parentNode.replaceChild(this.domNode,G);var E=!0}this.domNode.setAttribute("widgetId",this.id)}this.postCreate();E&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var G={},z;for(z in this.params||{})G[z]=this._get(z);y.forEach(this.constructor._setterAttrs,function(E){if(!(E in G)){var H=this._get(E);H&&this.set(E,H)}},this);for(z in G)this.set(z,
	G[z])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var G=this.baseClass.split(" ");this.isLeftToRight()||(G=G.concat(y.map(G,function(z){return z+"Rtl"})));f.add(this.domNode,G)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,y.forEach(this.getChildren(),function(G){G._started||G._destroyed||!t.isFunction(G.startup)||(G.startup(),G._started=!0)}))},
	destroyRecursive:function(G){this._beingDestroyed=!0;this.destroyDescendants(G);this.destroy(G)},destroy:function(G){function z(E){E.destroyRecursive?E.destroyRecursive(G):E.destroy&&E.destroy(G)}this._beingDestroyed=!0;this.uninitialize();y.forEach(this._connects,t.hitch(this,"disconnect"));y.forEach(this._supportingWidgets,z);this.domNode&&y.forEach(r.findWidgets(this.domNode,this.containerNode),z);this.destroyRendering(G);r.remove(this.id);this._destroyed=!0},destroyRendering:function(G){this.bgIframe&&
	(this.bgIframe.destroy(G),delete this.bgIframe);this.domNode&&(G?h.remove(this.domNode,"widgetId"):d.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(G||d.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(G){y.forEach(this.getChildren(),function(z){z.destroyRecursive&&z.destroyRecursive(G)})},uninitialize:function(){return!1},_setStyleAttr:function(G){var z=this.domNode;t.isObject(G)?c.set(z,G):z.style.cssText=z.style.cssText?z.style.cssText+("; "+G):G;this._set("style",
	G)},_attrToDom:function(G,z,E){E=3<=arguments.length?E:this.attributeMap[G];y.forEach(t.isArray(E)?E:[E],function(H){var I=this[H.node||H||"domNode"];switch(H.type||"attribute"){case "attribute":t.isFunction(z)&&(z=t.hitch(this,z));H=H.attribute?H.attribute:/^on[A-Z][a-zA-Z]*$/.test(G)?G.toLowerCase():G;I.tagName?h.set(I,H,z):I.set(H,z);break;case "innerText":I.innerHTML="";I.appendChild(this.ownerDocument.createTextNode(z));break;case "textContent":I.textContent=z;break;case "innerHTML":I.innerHTML=
	z;break;case "class":f.replace(I,z,this[G]);break;case "toggleClass":f.toggle(I,H.className||G,z)}},this)},get:function(G){var z=this._getAttrNames(G);return this[z.g]?this[z.g]():this._get(G)},set:function(G,z){if("object"===typeof G){for(var E in G)this.set(E,G[E]);return this}E=this._getAttrNames(G);var H=this[E.s];if(t.isFunction(H))var I=H.apply(this,Array.prototype.slice.call(arguments,1));else{H=this.focusNode&&!t.isFunction(this.focusNode)?"focusNode":"domNode";var O=this[H]&&this[H].tagName,
	T;if((T=O)&&!(T=D[O])){T=this[H];var Z={};for(ia in T)Z[ia.toLowerCase()]=!0;T=D[O]=Z}var ia=T;E=G in this.attributeMap?this.attributeMap[G]:E.s in this?this[E.s]:ia&&E.l in ia&&"function"!=typeof z||/^aria-|^data-|^role$/.test(G)?H:null;null!=E&&this._attrToDom(G,z,E);this._set(G,z)}return I||this},_attrPairNames:{},_getAttrNames:function(G){var z=this._attrPairNames;if(z[G])return z[G];var E=G.replace(/^[a-z]|-[a-zA-Z]/g,function(H){return H.charAt(H.length-1).toUpperCase()});return z[G]={n:G+"Node",
	s:"_set"+E+"Attr",g:"_get"+E+"Attr",l:E.toLowerCase()}},_set:function(G,z){var E=this[G];this[G]=z;!this._created||E===z||E!==E&&z!==z||(this._watchCallbacks&&this._watchCallbacks(G,E,z),this.emit("attrmodified-"+G,{detail:{prevValue:E,newValue:z}}))},_get:function(G){return this[G]},emit:function(G,z,E){z=z||{};void 0===z.bubbles&&(z.bubbles=!0);void 0===z.cancelable&&(z.cancelable=!0);z.detail||(z.detail={});z.detail.widget=this;var H,I=this["on"+G];I&&(H=I.apply(this,E?E:[z]));this._started&&!this._beingDestroyed&&
	g.emit(this.domNode,G.toLowerCase(),z);return H},on:function(G,z){var E=this._onMap(G);return E?b.after(this,E,z,!0):this.own(g(this.domNode,G,z))[0]},_onMap:function(G){var z=this.constructor,E=z._onMap;if(!E){E=z._onMap={};for(var H in z.prototype)/^on/.test(H)&&(E[H.replace(/^on/,"").toLowerCase()]=H)}return E["string"==typeof G&&G.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?r.findWidgets(this.containerNode):
	[]},getParent:function(){return r.getEnclosingWidget(this.domNode.parentNode)},connect:function(G,z,E){return this.own(n.connect(G,z,this,E))[0]},disconnect:function(G){G.remove()},subscribe:function(G,z){return this.own(u.subscribe(G,t.hitch(this,z)))[0]},unsubscribe:function(G){G.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir.toLowerCase():a.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=c.get(this.domNode,"display")},placeAt:function(G,z){var E=
	!G.tagName&&r.byId(G);!E||!E.addChild||z&&"number"!==typeof z?(G=E&&"domNode"in E?E.containerNode&&!/after|before|replace/.test(z||"")?E.containerNode:E.domNode:k.byId(G,this.ownerDocument),d.place(this.domNode,G,z),!this._started&&(this.getParent()||{})._started&&this.startup()):E.addChild(this,z);return this},defer:function(G,z){var E=setTimeout(t.hitch(this,function(){E&&(E=null,this._destroyed||t.hitch(this,G)())}),z||0);return{remove:function(){E&&(clearTimeout(E),E=null);return null}}}});e("dojo-bidi")&&
	w.extend(v);return w})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(C,y,b){return b("dijit.Destroyable",null,{destroy:function(w){this._destroyed=!0},own:function(){var w=["destroyRecursive","destroy","remove"];C.forEach(arguments,function(n){function l(){k.remove();C.forEach(h,function(d){d.remove()})}var k=y.before(this,"destroy",function(d){n[f](d)}),h=[];if(n.then){var f="cancel";n.then(l,l)}else C.forEach(w,function(d){"function"===typeof n[d]&&
	(f||(f=d),h.push(y.after(n,d,l,!0)))})},this);return arguments}})})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(C,y,b,w,n,l){C=w("dijit._OnDijitClickMixin",null,{connect:function(k,h,f){return this.inherited(arguments,[k,"ondijitclick"==h?l:h,f])}});C.a11yclick=l;return C})},"dijit/a11yclick":function(){define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(C,y,b,w){function n(h){if((h.keyCode===
	C.ENTER||h.keyCode===C.SPACE)&&!/input|button|textarea/i.test(h.target.nodeName))for(h=h.target;h;h=h.parentNode)if(h.dojoClick)return!0}var l;b(document,"keydown",function(h){n(h)?(l=h.target,h.preventDefault()):l=null});b(document,"keyup",function(h){n(h)&&h.target==l&&(l=null,b.emit(h.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:h.ctrlKey,shiftKey:h.shiftKey,metaKey:h.metaKey,altKey:h.altKey,_origType:h.type}))});var k=function(h,f){h.dojoClick=!0;return b(h,"click",f)};k.click=k;k.press=function(h,
	f){var d=b(h,w.press,function(c){("mousedown"!=c.type||y.isLeft(c))&&f(c)}),a=b(h,"keydown",function(c){c.keyCode!==C.ENTER&&c.keyCode!==C.SPACE||f(c)});return{remove:function(){d.remove();a.remove()}}};k.release=function(h,f){var d=b(h,w.release,function(c){("mouseup"!=c.type||y.isLeft(c))&&f(c)}),a=b(h,"keyup",function(c){c.keyCode!==C.ENTER&&c.keyCode!==C.SPACE||f(c)});return{remove:function(){d.remove();a.remove()}}};k.move=w.move;return k})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase",
	"dojo/_base/declare","dojo/_base/lang"],function(C,y,b,w){w.extend(y,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return b("dijit._FocusMixin",null,{_focusManager:C})})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c){y=y("dijit._CssStateMixin",
	[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);C.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(q){this.watch(q,l.hitch(this,"_setStateClass"))},this);for(var e in this.cssStateNodes||{})this._trackMouseState(this[e],this.cssStateNodes[e]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(e){if(!this.disabled)switch(e.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",
	!0);this._set("active",this._mouseDown);break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function e(u){q=q.concat(C.map(q,function(A){return A+u}),"dijit"+u)}var q=this.baseClass.split(" ");
	this.isLeftToRight()||e("Rtl");var t="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&e(t);this.state&&e(this.state);this.selected&&e("Selected");this._opened&&e("Opened");this.disabled?e("Disabled"):this.readOnly?e("ReadOnly"):this.active?e("Active"):this.hovering&&e("Hover");this.focused&&e("Focused");t=this.stateNode||this.domNode;var g={};C.forEach(t.className.split(" "),function(u){g[u]=!0});"_stateClasses"in this&&C.forEach(this._stateClasses,function(u){delete g[u]});C.forEach(q,
	function(u){g[u]=!0});var p=[],x;for(x in g)p.push(x);t.className=p.join(" ");this._stateClasses=q},_subnodeCssMouseEvent:function(e,q,t){function g(p){w.toggle(e,q+"Active",p)}if(!this.disabled&&!this.readOnly)switch(t.type){case "mouseover":case "MSPointerOver":case "pointerover":w.toggle(e,q+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":w.toggle(e,q+"Hover",!1);g(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":g(!0);
	break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":g(!1);break;case "focus":case "focusin":w.toggle(e,q+"Focused",!0);break;case "blur":case "focusout":w.toggle(e,q+"Focused",!1)}},_trackMouseState:function(e,q){e._cssState=q}});h(function(){function e(g,p,x){if(!x||!b.isDescendant(x,p))for(;p&&p!=x;p=p.parentNode)if(p._cssState){var u=c.getEnclosingWidget(p);u&&(p==u.domNode?u._cssMouseEvent(g):u._subnodeCssMouseEvent(p,p._cssState,g))}}var q=d.body(),t;k(q,
	f.over,function(g){e(g,g.target,g.relatedTarget)});k(q,f.out,function(g){e(g,g.target,g.relatedTarget)});k(q,a.press,function(g){t=g.target;e(g,t)});k(q,a.release,function(g){e(g,t);t=null});k(q,"focusin, focusout",function(g){var p=g.target;if(p._cssState&&!p.getAttribute("widgetId")){var x=c.getEnclosingWidget(p);x&&x._subnodeCssMouseEvent(p,p._cssState,g)}})});return y})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),
	function(C,y,b,w,n,l,k,h){var f=y("dijit._TemplatedMixin",h,{templateString:null,templatePath:null,_skipNodeCache:!1,searchContainerNode:!0,_stringRepl:function(d){var a=this.declaredClass,c=this;return k.substitute(d,this,function(e,q){"!"==q.charAt(0)&&(e=w.getObject(q.substr(1),!1,c));if("undefined"==typeof e)throw Error(a+" template:"+q);return null==e?"":"!"==q.charAt(0)?e:this._escapeValue(""+e)},this)},_escapeValue:function(d){return d.replace(/["'<>&]/g,function(a){return{"\x26":"\x26amp;",
	"\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[a]})},buildRendering:function(){if(!this._rendered){this.templateString||(this.templateString=C(this.templatePath,{sanitize:!0}));var d=f.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);if(w.isString(d)){var a=b.toDom(this._stringRepl(d),this.ownerDocument);if(1!=a.nodeType)throw Error("Invalid template: "+d);}else a=d.cloneNode(!0);this.domNode=a}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);
	this._rendered=!0},_fillContent:function(d){var a=this.containerNode;if(d&&a)for(;d.hasChildNodes();)a.appendChild(d.firstChild)}});f._templateCache={};f.getCachedTemplate=function(d,a,c){var e=f._templateCache,q=d,t=e[q];if(t){try{if(!t.ownerDocument||t.ownerDocument==(c||document))return t}catch(g){}b.destroy(t)}d=k.trim(d);if(a||d.match(/\$\{([^\}]+)\}/g))return e[q]=d;a=b.toDom(d,c);if(1!=a.nodeType)throw Error("Invalid template: "+d);return e[q]=a};l("ie")&&n(window,"unload",function(){var d=
	f._templateCache,a;for(a in d){var c=d[a];"object"==typeof c&&b.destroy(c);delete d[a]}});return f})},"dojo/cache":function(){define(["./_base/kernel","./text"],function(C){return C.cache})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(C,y){var b=/[&<>'"\/]/g,w={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},n={};y.setObject("dojo.string",n);n.escape=function(l){return l?l.replace(b,function(k){return w[k]}):""};n.rep=
	function(l,k){if(0>=k||!l)return"";for(var h=[];;){k&1&&h.push(l);if(!(k>>=1))break;l+=l}return h.join("")};n.pad=function(l,k,h,f){h||(h="0");l=String(l);k=n.rep(h,Math.ceil((k-l.length)/h.length));return f?l+k:k+l};n.substitute=function(l,k,h,f){f=f||C.global;h=h?y.hitch(f,h):function(d){return d};return l.replace(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,function(d,a,c){if(""==a)return"$";d=y.getObject(a,!1,k);c&&(d=y.getObject(c,!1,f).call(f,d,a));c=h(d,a);if("undefined"===typeof c)throw Error('string.substitute could not find key "'+
	a+'" in template');return c.toString()})};n.trim=String.prototype.trim?y.trim:function(l){l=l.replace(/^\s+/,"");for(var k=l.length-1;0<=k;k--)if(/\S/.test(l.charAt(k))){l=l.substring(0,k+1);break}return l};return n})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),function(C,y,b,w,n,l,k,h,f){var d=n.delegate(h,{mouseenter:l.enter,mouseleave:l.leave,keypress:b._keypress}),
	a;b=w("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(c){for(var e=c;;)if(1==e.nodeType&&(this._processTemplateNode(e,function(q,t){return q.getAttribute(t)},this._attach)||this.searchContainerNode)&&e.firstChild)e=e.firstChild;else{if(e==c)break;for(;!e.nextSibling;)if(e=
	e.parentNode,e==c)return;e=e.nextSibling}},_processTemplateNode:function(c,e,q){var t=!0,g=this.attachScope||this,p=e(c,"dojoAttachPoint")||e(c,"data-dojo-attach-point");if(p)for(var x=p.split(/\s*,\s*/);p=x.shift();)n.isArray(g[p])?g[p].push(c):g[p]=c,t="containerNode"!=p,this._attachPoints.push(p);if(e=e(c,"dojoAttachEvent")||e(c,"data-dojo-attach-event"))for(p=e.split(/\s*,\s*/),x=n.trim;e=p.shift();)if(e){var u=null;-1!=e.indexOf(":")?(u=e.split(":"),e=x(u[0]),u=x(u[1])):e=x(e);u||(u=e);this._attachEvents.push(q(c,
	e,n.hitch(g,u)))}return t},_attach:function(c,e,q){e=e.replace(/^on/,"").toLowerCase();e="dijitclick"==e?a||(a=C("./a11yclick")):d[e]||e;return k(c,e,q)},_detachTemplateNodes:function(){var c=this.attachScope||this;y.forEach(this._attachPoints,function(e){delete c[e]});this._attachPoints=[];y.forEach(this._attachEvents,function(e){e.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();this.inherited(arguments)}});n.extend(f,{dojoAttachEvent:"",dojoAttachPoint:""});
	return b})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),function(C,y,b,w,n,l,k,h,f,d){return y("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(a){this._set("disabled",
	a);/^(button|input|select|textarea|optgroup|option|fieldset)$/i.test(this.focusNode.tagName)?(b.set(this.focusNode,"disabled",a),h("trident")&&"readOnly"in this&&b.set(this.focusNode,"readonly",a||this.readOnly)):this.focusNode.setAttribute("aria-disabled",a?"true":"false");this.valueNode&&b.set(this.valueNode,"disabled",a);a?(this._set("hovering",!1),this._set("active",!1),a="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",C.forEach(n.isArray(a)?
	a:[a],function(c){c=this[c];h("webkit")||d.hasDefaultTabStop(c)?c.setAttribute("tabIndex","-1"):c.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var c=this.own(k(this.focusNode,"focus",function(){q.remove();c.remove()}))[0],e=h("pointer-events")?"pointerup":h("MSPointer")?"MSPointerUp":h("touch-events")?"touchend, mouseup":"mouseup",q=this.own(k(this.ownerDocumentBody,e,n.hitch(this,function(t){q.remove();
	c.remove();this.focused&&("touchend"==t.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){f.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=w.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,c){return"number"==typeof a&&"number"==typeof c?isNaN(a)&&isNaN(c)?0:a-c:a>c?1:a<c?-1:0},onChange:function(){},
	_onChangeActive:!1,_handleOnChange:function(a,c){void 0!=this._lastValueReported||null!==c&&this._onChangeActive||(this._resetValue=this._lastValueReported=a);this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);(this.intermediateChanges||c||void 0===c)&&this._pendingOnChange&&(this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=
	this.defer(function(){this._onChangeHandle=null;this.onChange(a)})))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(C,y,b,w){var n=C("dijit.form._ButtonMixin"+(b("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(l){l.stopPropagation();
	l.preventDefault();this.disabled||this.valueNode.click(l);return!1},_onClick:function(l){if(this.disabled)return l.stopPropagation(),l.preventDefault(),!1;!1===this.onClick(l)&&l.preventDefault();var k=l.defaultPrevented;if(!k&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var h=this.domNode;h.parentNode;h=h.parentNode){var f=w.byNode(h);if(f&&"function"==typeof f._onSubmit){f._onSubmit(l);l.preventDefault();k=!0;break}}return!k},postCreate:function(){this.inherited(arguments);y.setSelectable(this.focusNode,
	!1)},onClick:function(){return!0},_setLabelAttr:function(l){this._set("label",l);(this.containerNode||this.focusNode).innerHTML=l;this.onLabelSet()},onLabelSet:function(){}});b("dojo-bidi")&&(n=C("dijit.form._ButtonMixin",n,{onLabelSet:function(){this.inherited(arguments);this.applyTextDir(this.containerNode||this.focusNode)}}));return n})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(C,y,b,w){return y("dijit._Container",
	null,{buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode)},addChild:function(n,l){var k=this.containerNode;if(0<l){for(k=k.firstChild;0<l;)1==k.nodeType&&l--,k=k.nextSibling;k?l="before":(k=this.containerNode,l="last")}b.place(n.domNode,k,l);this._started&&!n._started&&n.startup()},removeChild:function(n){"number"==typeof n&&(n=this.getChildren()[n]);n&&(n=n.domNode)&&n.parentNode&&n.parentNode.removeChild(n)},hasChildren:function(){return 0<this.getChildren().length},
	_getSiblingOfChild:function(n,l){var k=this.getChildren();n=C.indexOf(k,n);return k[n+l]},getIndexOfChild:function(n){return C.indexOf(this.getChildren(),n)}})})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g){return C("dijit._HasDropDown",g,{_buttonNode:null,
	_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(p){this.disabled||this.readOnly||("MSPointerDown"!=p.type&&p.preventDefault(),this.own(a.once(this.ownerDocument,c.release,d.hitch(this,"_onDropDownMouseUp"))),this.toggleDropDown())},_onDropDownMouseUp:function(p){var x=this.dropDown,u=!1;if(p&&this._opened){var A=l.position(this._buttonNode,!0);if(!(p.pageX>=
	A.x&&p.pageX<=A.x+A.w&&p.pageY>=A.y&&p.pageY<=A.y+A.h)){for(A=p.target;A&&!u;)n.contains(A,"dijitPopup")?u=!0:A=A.parentNode;if(u){A=p.target;if(x.onItemClick){for(var m;A&&!(m=e.byNode(A));)A=A.parentNode;if(m&&m.onClick&&m.getParent)m.getParent().onItemClick(m,p)}return}}}this._opened?x.focus&&(!1!==x.autoFocus||"mouseup"==p.type&&!this.hovering)&&(this._focusDropDownTimer=this.defer(function(){x.focus();delete this._focusDropDownTimer})):this.focus&&this.defer("focus")},_onDropDownClick:function(p){this._stopClickEvents&&
	(p.stopPropagation(),p.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var p={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";n.add(this._arrowWrapperNode||this._buttonNode,"dijit"+p+"ArrowButton")},
	postCreate:function(){this.inherited(arguments);var p=this.focusNode||this.domNode;this.own(a(this._buttonNode,c.press,d.hitch(this,"_onDropDownMouseDown")),a(this._buttonNode,"click",d.hitch(this,"_onDropDownClick")),a(p,"keydown",d.hitch(this,"_onKey")),a(p,"keyup",d.hitch(this,"_onKeyUp")))},destroy:function(){this._opened&&this.closeDropDown(!0);this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(p){if(!this.disabled&&
	!this.readOnly){var x=this.dropDown,u=p.target;x&&this._opened&&x.handleKey&&!1===x.handleKey(p)?(p.stopPropagation(),p.preventDefault()):x&&this._opened&&p.keyCode==f.ESCAPE?(this.closeDropDown(),p.stopPropagation(),p.preventDefault()):!this._opened&&(p.keyCode==f.DOWN_ARROW||(p.keyCode==f.ENTER||p.keyCode==f.SPACE&&(!this._searchTimer||p.ctrlKey||p.altKey||p.metaKey))&&("input"!==(u.tagName||"").toLowerCase()||u.type&&"text"!==u.type.toLowerCase()))&&(this._toggleOnKeyUp=!0,p.stopPropagation(),
	p.preventDefault())}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var p=this.dropDown;p&&p.focus&&this.defer(d.hitch(p,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(p){p()},loadAndOpenDropDown:function(){var p=new y,x=d.hitch(this,function(){this.openDropDown();p.resolve(this.dropDown)});this.isLoaded()?x():this.loadDropDown(x);return p},toggleDropDown:function(){this.disabled||
	this.readOnly||(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var p=this.dropDown,x=p.domNode,u=this._aroundNode||this.domNode,A=this,m=t.open({parent:this,popup:p,around:u,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){A.closeDropDown(!0)},onCancel:function(){A.closeDropDown(!0)},onClose:function(){w.set(A._popupStateNode,"popupActive",!1);n.remove(A._popupStateNode,"dijitHasDropDownOpen");A._set("_opened",!1)}});if(this.forceWidth||
	this.autoWidth&&u.offsetWidth>p._popupWrapper.offsetWidth){u=u.offsetWidth-p._popupWrapper.offsetWidth;var v={w:p.domNode.offsetWidth+u};this._origStyle=x.style.cssText;d.isFunction(p.resize)?p.resize(v):l.setMarginBox(x,v);"R"==m.corner[1]&&(p._popupWrapper.style.left=p._popupWrapper.style.left.replace("px","")-u+"px")}w.set(this._popupStateNode,"popupActive","true");n.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");
	this._popupStateNode.setAttribute("aria-owns",p.id);"presentation"===x.getAttribute("role")||x.getAttribute("aria-labelledby")||x.setAttribute("aria-labelledby",this.id);return m},closeDropDown:function(p){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),p&&this.focus&&this.focus(),t.close(this.dropDown),this._opened=!1);this._origStyle&&(this.dropDown.domNode.style.cssText=this._origStyle,
	delete this._origStyle)}})})},"dijit/form/ComboButton":function(){define("dojo/_base/declare dojo/keys ../focus ./DropDownButton dojo/text!./templates/ComboButton.html ../a11yclick".split(" "),function(C,y,b,w,n){return C("dijit.form.ComboButton",w,{templateString:n,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{buttonNode:"dijitButtonNode",titleNode:"dijitButtonContents",_popupStateNode:"dijitDownArrowButton"},
	_focusedNode:null,_onButtonKeyDown:function(l){l.keyCode==y[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]&&(b.focus(this._popupStateNode),l.stopPropagation(),l.preventDefault())},_onArrowKeyDown:function(l){l.keyCode==y[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]&&(b.focus(this.titleNode),l.stopPropagation(),l.preventDefault())},focus:function(l){this.disabled||b.focus("start"==l?this.titleNode:this._popupStateNode)}})})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel",
	"./Button","./_ToggleButtonMixin"],function(C,y,b,w){return C("dijit.form.ToggleButton",[b,w],{baseClass:"dijitToggleButton",setChecked:function(n){y.deprecated("setChecked("+n+") is deprecated. Use set('checked',"+n+") instead.","","2.0");this.set("checked",n)}})})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(C,y){return C("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(b){var w=this.checked;this._set("checked",
	!w);var n=this.inherited(arguments);this.set("checked",n?this.checked:w);return n},_setCheckedAttr:function(b,w){this._set("checked",b);var n=this.focusNode||this.domNode;this._created&&y.get(n,"checked")!=!!b&&y.set(n,"checked",!!b);n.setAttribute(this._aria_attr,String(b));this._handleOnChange(b,w)},postCreate:function(){this.inherited(arguments);var b=this.focusNode||this.domNode;this.checked&&b.setAttribute("checked","checked");void 0===this._resetValue&&(this._lastValueReported=this._resetValue=
	this.checked)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"dijit/TooltipDialog":function(){define("dojo/_base/declare dojo/dom-class dojo/has dojo/keys dojo/_base/lang dojo/on ./focus ./layout/ContentPane ./_DialogMixin ./form/_FormMixin ./_TemplatedMixin dojo/text!./templates/TooltipDialog.html ./main".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c,e){C=C("dijit.TooltipDialog",[h,a,d,f],{title:"",doLayout:!1,autofocus:!0,baseClass:"dijitTooltipDialog",
	_firstFocusItem:null,_lastFocusItem:null,templateString:c,_setTitleAttr:"containerNode",postCreate:function(){this.inherited(arguments);this.own(l(this.domNode,"keydown",n.hitch(this,"_onKey")))},orient:function(q,t,g){q={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight",
	"BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[t+"-"+g];y.replace(this.domNode,q,this._currentOrientClass||"");this._currentOrientClass=q},focus:function(){this._getFocusItems();k.focus(this._firstFocusItem)},onOpen:function(q){this.orient(this.domNode,q.aroundCorner,q.corner);var t=q.aroundNodePos;"M"==
	q.corner.charAt(0)&&"M"==q.aroundCorner.charAt(0)?(this.connectorNode.style.top=t.y+(t.h-this.connectorNode.offsetHeight>>1)-q.y+"px",this.connectorNode.style.left=""):"M"==q.corner.charAt(1)&&"M"==q.aroundCorner.charAt(1)&&(this.connectorNode.style.left=t.x+(t.w-this.connectorNode.offsetWidth>>1)-q.x+"px");this._onShow()},onClose:function(){this.onHide()},_onKey:function(q){if(q.keyCode==w.ESCAPE)this.defer("onCancel"),q.stopPropagation(),q.preventDefault();else if(q.keyCode==w.TAB){var t=q.target;
	this._getFocusItems();this._firstFocusItem==this._lastFocusItem?(q.stopPropagation(),q.preventDefault()):t==this._firstFocusItem&&q.shiftKey?(k.focus(this._lastFocusItem),q.stopPropagation(),q.preventDefault()):t!=this._lastFocusItem||q.shiftKey?q.stopPropagation():(k.focus(this._firstFocusItem),q.stopPropagation(),q.preventDefault())}}});b("dojo-bidi")&&C.extend({_setTitleAttr:function(q){this.containerNode.title=this.textDir&&this.enforceTextDirWithUcc?this.enforceTextDirWithUcc(null,q):q;this._set("title",
	q)},_setTextDirAttr:function(q){this._created&&this.textDir==q||(this._set("textDir",q),this.textDir&&this.title&&(this.containerNode.title=this.enforceTextDirWithUcc(null,this.title)))}});return C})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when dojo/i18n!../nls/loading".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g){return f("dijit.layout.ContentPane",[b,w,n],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:C._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",
	isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,markupFactory:function(p,x,u){var A=new u(p,x);return!A.href&&A._contentSetter&&A._contentSetter.parseDeferred&&!A._contentSetter.parseDeferred.isFulfilled()?A._contentSetter.parseDeferred.then(function(){return A}):A},create:function(p,x){if(!(p&&p.template||!x||"href"in p||"content"in p)){x=a.byId(x);for(var u=x.ownerDocument.createDocumentFragment();x.firstChild;)u.appendChild(x.firstChild);
	p=y.delegate(p,{content:u})}this.inherited(arguments,[p,x])},postMixInProperties:function(){this.inherited(arguments);var p=t.getLocalization("dijit","loading",this.lang);this.loadingMessage=l.substitute(this.loadingMessage,p);this.errorMessage=l.substitute(this.errorMessage,p)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&h.forEach(this._contentSetter.parseResults,
	function(p){p._started||p._destroyed||!y.isFunction(p.startup)||(p.startup(),p._started=!0)},this)},_startChildren:function(){h.forEach(this.getChildren(),function(p){p._started||p._destroyed||!y.isFunction(p.startup)||(p.startup(),p._started=!0)});this._contentSetter&&h.forEach(this._contentSetter.parseResults,function(p){p._started||p._destroyed||!y.isFunction(p.startup)||(p.startup(),p._started=!0)},this)},setHref:function(p){C.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.",
	"","2.0");return this.set("href",p)},_setHrefAttr:function(p){this.cancel();this.onLoadDeferred=new d(y.hitch(this,"cancel"));this.onLoadDeferred.then(y.hitch(this,"onLoad"));this._set("href",p);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(p){C.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",p)},_setContentAttr:function(p){this._set("href",
	"");this.cancel();this.onLoadDeferred=new d(y.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(y.hitch(this,"onLoad"));this._setContent(p||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(p){this._beingDestroyed||
	this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new d(y.hitch(this,"cancel"));this.onLoadDeferred.then(y.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var p=this,x={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};
	y.isObject(this.ioArgs)&&y.mixin(x,this.ioArgs);var u=this._xhrDfd=(this.ioMethod||q.get)(x),A;u.then(function(m){A=m;try{return p._isDownloaded=!0,p._setContent(m,!1)}catch(v){p._onError("Content",v)}},function(m){u.canceled||p._onError("Download",m);delete p._xhrDfd;return m}).then(function(){p.onDownloadEnd();delete p._xhrDfd;return A});delete this._hrefChanged},_onLoadHandler:function(p){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(p)}catch(x){console.error("Error "+(this.widgetId||
	this.id)+" running custom onLoad code: "+x.message)}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(p){console.error("Error "+this.widgetId+" running custom onUnload code: "+p.message)}},destroyDescendants:function(p){this.isLoaded&&this._onUnloadHandler();var x=this._contentSetter;h.forEach(this.getChildren(),function(u){u.destroyRecursive?u.destroyRecursive(p):u.destroy&&u.destroy(p);u._destroyed=!0});x&&(h.forEach(x.parseResults,function(u){u._destroyed||(u.destroyRecursive?
	u.destroyRecursive(p):u.destroy&&u.destroy(p),u._destroyed=!0)}),delete x.parseResults);p||e.empty(this.containerNode);delete this._singleChild},_setContent:function(p,x){p=this.preprocessContent(p);this.destroyDescendants();var u=this._contentSetter;u&&u instanceof k._ContentSetter||(u=this._contentSetter=new k._ContentSetter({node:this.containerNode,_onError:y.hitch(this,this._onError),onContentError:y.hitch(this,function(v){v=this.onContentError(v);try{this.containerNode.innerHTML=v}catch(r){console.error("Fatal "+
	this.id+" could not change content due to "+r.message,r)}})}));var A=y.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!p.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});A=u.set(y.isObject(p)&&p.domNode?p.domNode:p,A);var m=this;return g(A&&A.then?A:u.parseDeferred,function(){delete m._contentSetterParams;x||(m._started&&(m._startChildren(),m._scheduleLayout()),
	m._onLoadHandler(p))})},preprocessContent:function(p){return p},_onError:function(p,x,u){this.onLoadDeferred.reject(x);p=this["on"+p+"Error"].call(this,x);u?console.error(u,x):p&&this._setContent(p,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query ../registry ../Viewport ./utils".split(" "),
	function(C,y,b,w,n,l,k,h,f,d){return y("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var a=this.getParent();this._childOfLayoutWidget=a&&a.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(f.on("resize",l.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var a=[],c=!1;k("\x3e *",this.containerNode).some(function(e){var q=
	h.byNode(e);q&&q.resize?a.push(q):!/script|link|style/i.test(e.nodeName)&&e.offsetHeight&&(c=!0)});this._singleChild=1!=a.length||c?null:a[0];b.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},resize:function(a,c){this._resizeCalled=!0;this._scheduleLayout(a,c)},_scheduleLayout:function(a,c){this._isShown()?this._layout(a,c):(this._needLayout=!0,this._changeSize=a,this._resultSize=c)},_layout:function(a,c){delete this._needLayout;this._wasShown||!1===this.open||this._onShow();
	a&&w.setMarginBox(this.domNode,a);var e=this.containerNode;e===this.domNode?(c=c||{},l.mixin(c,a||{}),"h"in c&&"w"in c||(c=l.mixin(w.getMarginBox(e),c)),this._contentBox=d.marginBox2contentBox(e,c)):this._contentBox=w.getContentBox(e);this._layoutChildren()},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||w.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else{a=this.getChildren();for(var c,e=0;c=
	a[e++];)c.resize&&c.resize()}},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,c=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!b.contains(a,"dijitHidden")&&c&&c.style&&"none"!=c.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dijit/layout/utils":function(){define(["dojo/_base/array",
	"dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(C,y,b,w,n){function l(f){return f.substring(0,1).toUpperCase()+f.substring(1)}function k(f,d){var a=f.resize?f.resize(d):b.setMarginBox(f.domNode,d);a?n.mixin(f,a):(n.mixin(f,b.getMarginBox(f.domNode)),n.mixin(f,d))}var h={marginBox2contentBox:function(f,d){var a=w.getComputedStyle(f),c=b.getMarginExtents(f,a),e=b.getPadBorderExtents(f,a);return{l:w.toPixelValue(f,a.paddingLeft),t:w.toPixelValue(f,a.paddingTop),w:d.w-
	(c.w+e.w),h:d.h-(c.h+e.h)}},layoutChildren:function(f,d,a,c,e){d=n.mixin({},d);y.add(f,"dijitLayoutContainer");a=C.filter(a,function(q){return"center"!=q.region&&"client"!=q.layoutAlign}).concat(C.filter(a,function(q){return"center"==q.region||"client"==q.layoutAlign}));C.forEach(a,function(q){var t=q.domNode,g=q.region||q.layoutAlign;if(!g)throw Error("No region setting for "+q.id);var p=t.style;p.left=d.l+"px";p.top=d.t+"px";p.position="absolute";y.add(t,"dijitAlign"+l(g));t={};c&&c==q.id&&(t["top"==
	q.region||"bottom"==q.region?"h":"w"]=e);"leading"==g&&(g=q.isLeftToRight()?"left":"right");"trailing"==g&&(g=q.isLeftToRight()?"right":"left");"top"==g||"bottom"==g?(t.w=d.w,k(q,t),d.h-=q.h,"top"==g?d.t+=q.h:p.top=d.t+d.h+"px"):"left"==g||"right"==g?(t.h=d.h,k(q,t),d.w-=q.w,"left"==g?d.l+=q.w:p.left=d.l+d.w+"px"):"client"!=g&&"center"!=g||k(q,d)})}};n.setObject("dijit.layout.utils",h);return h})},"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),
	function(C,y,b,w,n,l,k){var h=0,f={_secureForInnerHtml:function(d){return d.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")},_emptyNode:l.empty,_setNodeContent:function(d,a){l.empty(d);if(a)if("number"==typeof a&&(a=a.toString()),"string"==typeof a&&(a=l.toDom(a,d.ownerDocument)),!a.nodeType&&y.isArrayLike(a))for(var c=a.length,e=0;e<a.length;e=c==a.length?e+1:0)l.place(a[e],d,"last");else l.place(a,d,"last");return d},_ContentSetter:w("dojo.html._ContentSetter",null,{node:"",
	content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:C._scopeName,startup:!0,constructor:function(d,a){y.mixin(this,d||{});a=this.node=n.byId(this.node||a);this.id||(this.id=["Setter",a?a.id||a.tagName:"",h++].join("_"))},set:function(d,a){void 0!==d&&(this.content=d);"number"==typeof d&&(d=d.toString());a&&this._mixin(a);this.onBegin();this.setContent();return(d=this.onEnd())&&d.then?d:this.node},setContent:function(){var d=this.node;if(!d)throw Error(this.declaredClass+
	": setContent given no node");try{d=f._setNodeContent(d,this.content)}catch(c){var a=this.onContentError(c);try{d.innerHTML=a}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e)}}this.node=d},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(b.forEach(this.parseResults,function(d){d.destroy&&d.destroy()}),delete this.parseResults);
	l.empty(this.node)},onBegin:function(){var d=this.content;if(y.isString(d)&&(this.cleanContent&&(d=f._secureForInnerHtml(d)),this.extractContent)){var a=d.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);a&&(d=a[1])}this.empty();this.content=d;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(d){return"Error occurred setting content: "+
	d},onExecError:function(d){return"Error occurred executing scripts: "+d},_mixin:function(d){var a={},c;for(c in d)c in a||(this[c]=d[c])},_parse:function(){var d=this.node;try{var a={};b.forEach(["dir","lang","textDir"],function(e){this[e]&&(a[e]=this[e])},this);var c=this;this.parseDeferred=k.parse({rootNode:d,noStart:!this.startup,inherited:a,scope:this.parserScope}).then(function(e){return c.parseResults=e},function(e){c._onError("Content",e,"Error parsing in _ContentSetter#"+c.id)})}catch(e){this._onError("Content",
	e,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(d,a,c){d=this["on"+d+"Error"].call(this,a);c?console.error(c,a):d&&f._setNodeContent(this.node,d,!0)}}),set:function(d,a,c){void 0==a&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),a="");"number"==typeof a&&(a=a.toString());return c?(new f._ContentSetter(y.mixin(c,{content:a,node:d}))).set():f._setNodeContent(d,a,!0)}};y.setObject("dojo.html",f);return f})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g){function p(v){return eval("("+v+")")}function x(v){var r=v._nameCaseMap,B=v.prototype;if(!r||r._extendCnt<A){r=v._nameCaseMap={};for(var D in B)"_"!==D.charAt(0)&&(r[D.toLowerCase()]=D);r._extendCnt=A}return r}function u(v,r){r||(r=C);var B=r._dojoParserCtorMap||(r._dojoParserCtorMap={}),D=v.join();if(!B[D]){for(var G=[],z=0,E=v.length;z<E;z++){var H=v[z];G[G.length]=B[H]=B[H]||b.getObject(H)||~H.indexOf("/")&&r(H)}v=G.shift();B[D]=G.length?v.createSubclass?
	v.createSubclass(G):v.extend.apply(v,G):v}return B[D]}new Date("X");var A=0;f.after(b,"extend",function(){A++},!0);var m={_clearCache:function(){A++;_ctorMap={}},_functionFromScript:function(v,r){var B="",D="",G=v.getAttribute(r+"args")||v.getAttribute("args");r=v.getAttribute("with");G=(G||"").split(/\s*,\s*/);r&&r.length&&w.forEach(r.split(/\s*,\s*/),function(z){B+="with("+z+"){";D+="}"});return new Function(G,B+v.innerHTML+D)},instantiate:function(v,r,B){r=r||{};B=B||{};var D=(B.scope||y._scopeName)+
	"Type",G="data-"+(B.scope||y._scopeName)+"-",z=G+"type",E=G+"mixins",H=[];w.forEach(v,function(I){var O=D in r?r[D]:I.getAttribute(z)||I.getAttribute(D);if(O){var T=I.getAttribute(E);O=T?[O].concat(T.split(/\s*,\s*/)):[O];H.push({node:I,types:O})}});return this._instantiate(H,r,B)},_instantiate:function(v,r,B,D){function G(z){r._started||B.noStart||w.forEach(z,function(E){"function"!==typeof E.startup||E._started||E.startup()});return z}v=w.map(v,function(z){var E=z.ctor||u(z.types,B.contextRequire);
	if(!E)throw Error("Unable to resolve constructor for: '"+z.types.join()+"'");return this.construct(E,z.node,r,B,z.scripts,z.inherited)},this);return D?d(v).then(G):G(v)},construct:function(v,r,B,D,G,z){function E(R){W&&b.setObject(W,R);for(ia=0;ia<K.length;ia++)f[K[ia].advice||"after"](R,K[ia].method,b.hitch(R,K[ia].func),!0);for(ia=0;ia<Y.length;ia++)Y[ia].call(R);for(ia=0;ia<la.length;ia++)R.watch(la[ia].prop,la[ia].func);for(ia=0;ia<L.length;ia++)t(R,L[ia].event,L[ia].func);return R}var H=v&&v.prototype;
	D=D||{};var I={};D.defaults&&b.mixin(I,D.defaults);z&&b.mixin(I,z);if(e("dom-attributes-explicit"))var O=r.attributes;else e("dom-attributes-specified-flag")?O=w.filter(r.attributes,function(R){return R.specified}):(z=(/^input$|^img$/i.test(r.nodeName)?r:r.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),O=w.map(z.split(/\s+/),function(R){var da=R.toLowerCase();return{name:R,value:"LI"==r.nodeName&&"value"==R||"enctype"==
	da?r.getAttribute(da):r.getAttributeNode(da).value}}));var T=D.scope||y._scopeName;z="data-"+T+"-";var Z={};"dojo"!==T&&(Z[z+"props"]="data-dojo-props",Z[z+"type"]="data-dojo-type",Z[z+"mixins"]="data-dojo-mixins",Z[T+"type"]="dojotype",Z[z+"id"]="data-dojo-id");var ia=0,ca;T=[];for(var W,ha;ca=O[ia++];){var ma=ca.name,xa=ma.toLowerCase();ca=ca.value;switch(Z[xa]||xa){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":ha=ca;break;case "data-dojo-id":case "jsid":W=
	ca;break;case "data-dojo-attach-point":case "dojoattachpoint":I.dojoAttachPoint=ca;break;case "data-dojo-attach-event":case "dojoattachevent":I.dojoAttachEvent=ca;break;case "class":I["class"]=r.className;break;case "style":I.style=r.style&&r.style.cssText;break;default:if(ma in H||(ma=x(v)[xa]||ma),ma in H)switch(typeof H[ma]){case "string":I[ma]=ca;break;case "number":I[ma]=ca.length?Number(ca):NaN;break;case "boolean":I[ma]="false"!=ca.toLowerCase();break;case "function":""===ca||-1!=ca.search(/[^\w\.]+/i)?
	I[ma]=new Function(ca):I[ma]=b.getObject(ca,!1)||new Function(ca);T.push(ma);break;default:xa=H[ma],I[ma]=xa&&"length"in xa?ca?ca.split(/\s*,\s*/):[]:xa instanceof Date?""==ca?new Date(""):"now"==ca?new Date:a.fromISOString(ca):xa instanceof h?y.baseUrl+ca:p(ca)}else I[ma]=ca}}for(O=0;O<T.length;O++)Z=T[O].toLowerCase(),r.removeAttribute(Z),r[Z]=null;if(ha)try{ha=p.call(D.propsThis,"{"+ha+"}"),b.mixin(I,ha)}catch(R){throw Error(R.toString()+" in data-dojo-props\x3d'"+ha+"'");}b.mixin(I,B);G||(G=v&&
	(v._noScript||H._noScript)?[]:q("\x3e script[type^\x3d'dojo/']",r));var K=[],Y=[],la=[],L=[];if(G)for(ia=0;ia<G.length;ia++)Z=G[ia],r.removeChild(Z),B=Z.getAttribute(z+"event")||Z.getAttribute("event"),D=Z.getAttribute(z+"prop"),ha=Z.getAttribute(z+"method"),T=Z.getAttribute(z+"advice"),O=Z.getAttribute("type"),Z=this._functionFromScript(Z,z),B?"dojo/connect"==O?K.push({method:B,func:Z}):"dojo/on"==O?L.push({event:B,func:Z}):I[B]=Z:"dojo/aspect"==O?K.push({method:ha,advice:T,func:Z}):"dojo/watch"==
	O?la.push({prop:D,func:Z}):Y.push(Z);v=(G=v.markupFactory||H.markupFactory)?G(I,r,v):new v(I,r);return v.then?v.then(E):E(v)},scan:function(v,r){function B(xa){if(!xa.inherited){xa.inherited={};var K=xa.node,Y=B(xa.parent);K={dir:K.getAttribute("dir")||Y.dir,lang:K.getAttribute("lang")||Y.lang,textDir:K.getAttribute(O)||Y.textDir};for(var la in K)K[la]&&(xa.inherited[la]=K[la])}return xa.inherited}var D=[],G=[],z={},E=(r.scope||y._scopeName)+"Type",H="data-"+(r.scope||y._scopeName)+"-",I=H+"type",
	O=H+"textdir";H+="mixins";var T=v.firstChild,Z=r.inherited;if(!Z){Z=function la(K,Y){return K.getAttribute&&K.getAttribute(Y)||K.parentNode&&la(K.parentNode,Y)};Z={dir:Z(v,"dir"),lang:Z(v,"lang"),textDir:Z(v,O)};for(var ia in Z)Z[ia]||delete Z[ia]}ia={inherited:Z};for(var ca,W;;)if(T)if(1!=T.nodeType)T=T.nextSibling;else if(ca&&"script"==T.nodeName.toLowerCase())(Z=T.getAttribute("type"))&&/^dojo\/\w/i.test(Z)&&ca.push(T),T=T.nextSibling;else if(W)T=T.nextSibling;else if(Z=T.getAttribute(I)||T.getAttribute(E),
	v=T.firstChild,Z||v&&(3!=v.nodeType||v.nextSibling)){W=null;if(Z){var ha=T.getAttribute(H);ca=ha?[Z].concat(ha.split(/\s*,\s*/)):[Z];try{W=u(ca,r.contextRequire)}catch(xa){}W||w.forEach(ca,function(xa){~xa.indexOf("/")&&!z[xa]&&(z[xa]=!0,G[G.length]=xa)});ha=W&&!W.prototype._noScript?[]:null;ia={types:ca,ctor:W,parent:ia,node:T,scripts:ha};ia.inherited=B(ia);D.push(ia)}else ia={node:T,scripts:ca,parent:ia};ca=ha;W=T.stopParser||W&&W.prototype.stopParser&&!r.template;T=v}else T=T.nextSibling;else{if(!ia||
	!ia.node)break;T=ia.node.nextSibling;W=!1;ia=ia.parent;ca=ia.scripts}var ma=new c;G.length?(e("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+G.join(", ")),(r.contextRequire||C)(G,function(){ma.resolve(w.filter(D,function(xa){if(!xa.ctor)try{xa.ctor=u(xa.types,r.contextRequire)}catch(la){}for(var K=xa.parent;K&&!K.types;)K=K.parent;var Y=xa.ctor&&xa.ctor.prototype;xa.instantiateChildren=!(Y&&Y.stopParser&&!r.template);xa.instantiate=!K||K.instantiate&&K.instantiateChildren;
	return xa.instantiate}))})):ma.resolve(D);return ma.promise},_require:function(v,r){v=p("{"+v.innerHTML+"}");var B=[],D=[],G=new c;r=r&&r.contextRequire||C;for(var z in v)B.push(z),D.push(v[z]);r(D,function(){for(var E=0;E<B.length;E++)b.setObject(B[E],arguments[E]);G.resolve(arguments)});return G.promise},_scanAmd:function(v,r){var B=new c,D=B.promise;B.resolve(!0);var G=this;q("script[type\x3d'dojo/require']",v).forEach(function(z){D=D.then(function(){return G._require(z,r)});z.parentNode.removeChild(z)});
	return D},parse:function(v,r){!v||"string"==typeof v||"nodeType"in v||(r=v,v=r.rootNode);var B=v?l.byId(v):k.body();r=r||{};var D=r.template?{template:!0}:{},G=[],z=this;v=this._scanAmd(B,r).then(function(){return z.scan(B,r)}).then(function(E){return z._instantiate(E,D,r,!0)}).then(function(E){return G=G.concat(E)}).otherwise(function(E){console.error("dojo/parser::parse() error",E);throw E;});b.mixin(G,v);return G}};y.parser=m;n.parseOnLoad&&g(100,m,"parse");return m})},"dojo/_base/url":function(){define(["./kernel"],
	function(C){var y=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,b=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,w=function(){for(var n=arguments,l=[n[0]],k=1;k<n.length;k++)if(n[k]){var h=new w(n[k]+"");l=new w(l[0]+"");if(""==h.path&&!h.scheme&&!h.authority&&!h.query)null!=h.fragment&&(l.fragment=h.fragment),h=l;else if(!h.scheme&&(h.scheme=l.scheme,!h.authority&&(h.authority=l.authority,"/"!=h.path.charAt(0)))){l=(l.path.substring(0,l.path.lastIndexOf("/")+1)+
	h.path).split("/");for(var f=0;f<l.length;f++)"."==l[f]?f==l.length-1?l[f]="":(l.splice(f,1),f--):0<f&&(1!=f||""!=l[0])&&".."==l[f]&&".."!=l[f-1]&&(f==l.length-1?(l.splice(f,1),l[f-1]=""):(l.splice(f-1,2),f-=2));h.path=l.join("/")}l=[];h.scheme&&l.push(h.scheme,":");h.authority&&l.push("//",h.authority);l.push(h.path);h.query&&l.push("?",h.query);h.fragment&&l.push("#",h.fragment)}this.uri=l.join("");n=this.uri.match(y);this.scheme=n[2]||(n[1]?"":null);this.authority=n[4]||(n[3]?"":null);this.path=
	n[5];this.query=n[7]||(n[6]?"":null);this.fragment=n[9]||(n[8]?"":null);null!=this.authority&&(n=this.authority.match(b),this.user=n[3]||null,this.password=n[4]||null,this.host=n[6]||n[7],this.port=n[9]||null)};w.prototype.toString=function(){return this.uri};return C._Url=w})},"dojo/promise/all":function(){define(["../_base/array","../_base/lang","../Deferred","../when"],function(C,y,b,w){var n=C.some;return function(l){var k,h;y.isArray(l)?h=l:l&&"object"===typeof l&&(k=l);var f=[];if(k){h=[];for(var d in k)Object.hasOwnProperty.call(k,
	d)&&(f.push(d),h.push(k[d]));var a={}}else h&&(a=[]);if(!h||!h.length)return(new b).resolve(a);var c=new b;c.promise.always(function(){a=f=null});var e=h.length;n(h,function(q,t){k||f.push(t);w(q,function(g){c.isFulfilled()||(a[f[t]]=g,0===--e&&c.resolve(a))},c.reject);return c.isFulfilled()});return c.promise}})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(C,y){var b={};C.setObject("dojo.date.stamp",b);b.fromISOString=function(w,n){b._isoRegExp||(b._isoRegExp=
	/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var l=b._isoRegExp.exec(w);w=null;if(l){l.shift();l[1]&&l[1]--;l[6]&&(l[6]*=1E3);n&&(n=new Date(n),y.forEach(y.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(f){return n["get"+f]()}),function(f,d){l[d]=l[d]||f}));w=new Date(l[0]||1970,l[1]||0,l[2]||1,l[3]||0,l[4]||0,l[5]||0,l[6]||0);100>l[0]&&w.setFullYear(l[0]||1970);var k=0,h=l[7]&&l[7].charAt(0);"Z"!=
	h&&(k=60*(l[8]||0)+(Number(l[9])||0),"-"!=h&&(k*=-1));h&&(k-=w.getTimezoneOffset());k&&w.setTime(w.getTime()+6E4*k)}return w};b.toISOString=function(w,n){var l=function(d){return 10>d?"0"+d:d};n=n||{};var k=[],h=n.zulu?"getUTC":"get",f="";"time"!=n.selector&&(f=w[h+"FullYear"](),f=["0000".substr((f+"").length)+f,l(w[h+"Month"]()+1),l(w[h+"Date"]())].join("-"));k.push(f);"date"!=n.selector&&(f=[l(w[h+"Hours"]()),l(w[h+"Minutes"]()),l(w[h+"Seconds"]())].join(":"),h=w[h+"Milliseconds"](),n.milliseconds&&
	(f+="."+(100>h?"0":"")+l(h)),n.zulu?f+="Z":"time"!=n.selector&&(w=w.getTimezoneOffset(),n=Math.abs(w),f+=(0<w?"-":"+")+l(Math.floor(n/60))+":"+l(n%60)),k.push(f));return k.join("T")};return b})},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(C,y){return C("dijit._DialogMixin",null,{actionBarTemplate:"",execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var b=
	y._getTabNavigable(this.domNode);this._firstFocusItem=b.lowest||b.first||this.closeButtonNode||this.domNode;this._lastFocusItem=b.last||b.highest||this._firstFocusItem}})})},"dijit/form/_FormMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/on dojo/window".split(" "),function(C,y,b,w,n,l){return y("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(k){var h=[];C.forEach(k||this.getChildren(),function(f){"value"in f?h.push(f):
	h=h.concat(this._getDescendantFormWidgets(f.getChildren()))},this);return h},reset:function(){C.forEach(this._getDescendantFormWidgets(),function(k){k.reset&&k.reset()})},validate:function(){var k=!1;return C.every(C.map(this._getDescendantFormWidgets(),function(h){h._hasBeenBlurred=!0;var f=h.disabled||!h.validate||h.validate();f||k||(l.scrollIntoView(h.containerNode||h.domNode),h.focus(),k=!0);return f}),function(h){return h})},setValues:function(k){b.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.",
	"","2.0");return this.set("value",k)},_setValueAttr:function(k){var h={};C.forEach(this._getDescendantFormWidgets(),function(c){c.name&&(h[c.name]||(h[c.name]=[])).push(c)});for(var f in h)if(h.hasOwnProperty(f)){var d=h[f],a=w.getObject(f,!1,k);void 0!==a&&(a=[].concat(a),"boolean"==typeof d[0].checked?C.forEach(d,function(c){c.set("value",-1!=C.indexOf(a,c._get("value")))}):d[0].multiple?d[0].set("value",a):C.forEach(d,function(c,e){c.set("value",a[e])}))}},getValues:function(){b.deprecated(this.declaredClass+
	"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var k={};C.forEach(this._getDescendantFormWidgets(),function(h){var f=h.name;if(f&&!h.disabled){var d=h.get("value");"boolean"==typeof h.checked?/Radio/.test(h.declaredClass)?!1!==d?w.setObject(f,d,k):(d=w.getObject(f,!1,k),void 0===d&&w.setObject(f,null,k)):(h=w.getObject(f,!1,k),h||(h=[],w.setObject(f,h,k)),!1!==d&&h.push(d)):(h=w.getObject(f,!1,k),"undefined"!=typeof h?w.isArray(h)?
	h.push(d):w.setObject(f,[h,d],k):w.setObject(f,d,k))}});return k},isValid:function(){return""==this.state},onValidStateChange:function(){},_getState:function(){var k=C.map(this._descendants,function(h){return h.get("state")||""});return 0<=C.indexOf(k,"Error")?"Error":0<=C.indexOf(k,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(k){this._descendants=this._getDescendantFormWidgets();C.forEach(this._descendants,function(h){h._started||h.startup()});k||this._onChildChange()},
	_onChildChange:function(k){k&&"state"!=k&&"disabled"!=k||this._set("state",this._getState());k&&"value"!=k&&"disabled"!=k&&"checked"!=k||(this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10))},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var k=this;this.own(n(this.containerNode,
	"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(h){h.target!=k.domNode&&k._onChildChange(h.type.replace("attrmodified-",""))}));this.watch("state",function(h,f,d){this.onValidStateChange(""==d)})},destroy:function(){this.inherited(arguments)}})})},"esri/main":function(){define(["./kernel","dojo/i18n!./nls/jsapi","./config","./sniff"],function(C,y){C.bundle=y;return C})},"esri/kernel":function(){define(["dojo/_base/kernel","dojo/_base/config","dojo/has"],
	function(C,y,b){var w=function(){return this}(),n=w.location,l=n.pathname,k=n.protocol;n={version:"3.36",_appBaseUrl:k+"//"+n.host+l.substring(0,l.lastIndexOf(l.split("/")[l.split("/").length-1]))};y.noGlobals||(w.esri=n);C.isAsync||b.add("extend-esri",1);(n.dijit=n.dijit||{})._arcgisUrl=("http:"===k||"https:"===k?k:"http:")+"//www.arcgis.com/sharing/rest";return n})},"esri/config":function(){define(["dojo/_base/config","dojo/topic","dojo/has","./kernel"],function(C,y,b,w){var n=function(){return this}(),
	l={defaults:{screenDPI:96,geometryService:null,kmlService:null,map:{width:400,height:400,layerNamePrefix:"layer",graphicsLayerNamePrefix:"graphicsLayer",slider:{left:"30px",top:"30px",width:null,height:"200px"},sliderLabel:{tick:5,labels:null,style:"width:2em; font-family:Verdana; font-size:75%;"},sliderChangeImmediate:!0,zoomSymbol:{color:[0,0,0,64],outline:{color:[255,0,0,255],width:1.25,style:"esriSLSSolid"},style:"esriSFSSolid"},zoomDuration:500,zoomRate:25,zoomAnimationThrottled:!1,panDuration:350,
	panRate:25,logoLink:"http://www.esri.com"},autoSpatialIndexing:n.Worker&&!1,io:{errorHandler:function(k,h){y.publish("esri.Error",[k])},proxyUrl:null,alwaysUseProxy:!1,useCors:"with-credentials",corsEnabledServers:[/^https?:\/\/.+\.arcgis\.com(\/|$)/i,"server.arcgisonline.com","services.arcgisonline.com","www.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","tiles.arcgis.com","tiles1.arcgis.com","tiles2.arcgis.com","tiles3.arcgis.com","tiles4.arcgis.com","basemaps.arcgis.com","basemapsbeta.arcgis.com",
	"basemaps-api.arcgis.com","elevation3d.arcgis.com","services.arcgis.com","services1.arcgis.com","services2.arcgis.com","services3.arcgis.com","services4.arcgis.com","services5.arcgis.com","services6.arcgis.com","services7.arcgis.com","services8.arcgis.com","services9.arcgis.com","cdn.arcgis.com","cdn-a.arcgis.com","cdn-b.arcgis.com","static.arcgis.com","utility.arcgis.com","utility.arcgisonline.com","geocode.arcgis.com","geoenrich.arcgis.com","qaext.arcgis.com","staticqa.arcgis.com","tilesqa.arcgis.com",
	"servicesqa.arcgis.com","servicesqa1.arcgis.com","servicesqa2.arcgis.com","servicesqa3.arcgis.com","geocodeqa.arcgis.com","geoenrichqa.arcgis.com","dev.arcgis.com","devext.arcgis.com","localvtiles.arcgis.com","staticdev.arcgis.com","tilesdevext.arcgis.com","elevation3ddev.arcgis.com","servicesdev.arcgis.com","servicesdev1.arcgis.com","servicesdev2.arcgis.com","servicesdev3.arcgis.com","geocodedev.arcgis.com","geoenrichdev.arcgis.com","basemapsdev.arcgis.com","basemapsdev-api.arcgis.com","basemapsbetadev.arcgis.com"],
	corsDetection:n.cordova?!1:!0,corsDetectionTimeout:15,corsStatus:{},webTierAuthServers:[],proxyRules:[],postLength:2E3,timeout:6E4,useWorkers:"on-request",maxRequestWorkers:5,httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" ")},workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}}}};b("extend-esri")&&(w.config=l);C.noGlobals||(n.esriConfig=l);return l})},
	"esri/sniff":function(){define(["dojo/_base/sniff","dojo/global","./kernel"],function(C,y,b){var w=C("ff"),n=C("ie"),l=void 0===n&&7<=C("trident"),k=C("edge"),h=C("webkit"),f=C("opera"),d=C("chrome"),a=C("safari"),c=navigator.userAgent,e;(e=c.match(/(iPhone|iPad|CPU)\s+OS\s+(\d+_\d+)/i))&&C.add("esri-iphone",parseFloat(e[2].replace("_",".")));(e=c.match(/Android\s+(\d+(\.\d+)*)/i))&&C.add("esri-android",parseFloat(e[1]));(e=c.match(/Fennec\/(\d+\.\d+)/i))&&C.add("esri-fennec",parseFloat(e[1]));0<=
	c.indexOf("BlackBerry")&&0<=c.indexOf("WebKit")&&C.add("esri-blackberry",1);C.add("esri-touch",C("esri-iphone")||C("esri-android")||C("esri-blackberry")||6<=C("esri-fennec")||(w||h)&&(document.createTouch||"ontouchstart"in y||y.TouchEvent&&0<navigator.maxTouchPoints)?!0:!1);(e=c.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i))&&C.add("esri-mobile",!!e);C.add("esri-pointer",!w&&(navigator.pointerEnabled||navigator.msPointerEnabled||!!y.PointerEvent));b._getDOMAccessor=function(t){var g=
	"";w?g="Moz":h?g="Webkit":n?g="ms":f&&(g="O");return g+t.charAt(0).toUpperCase()+t.substr(1)};C.add("esri-phonegap",!!y.cordova);C.add("esri-cors",C("esri-phonegap")||y.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest);C.add("esri-file-upload",y.FormData&&y.FileList?!0:!1);C.add("esri-script-sandbox",function(){return"MessageChannel"in y&&"HTMLIFrameElement"in y&&"sandbox"in HTMLIFrameElement.prototype});C.add("esri-secure-context",function(){if("isSecureContext"in y)return y.isSecureContext;
	if(y.location&&y.location.origin)return 0===y.location.origin.indexOf("https:")});C.add("esri-wasm","WebAssembly"in y);C.add("esri-workers",y.Worker?!0:!1);C.add("esri-featurelayer-webgl",!1);if(c=C("esri-featurelayer-webgl")){var q=C("esri-mobile");e=q?1:2;q=q?1:3;"object"===typeof c?(c.maxDrillLevel=null==c.maxDrillLevel?e:c.maxDrillLevel,c.maxRecordCountFactor=null==c.maxRecordCountFactor?q:c.maxRecordCountFactor,c.enablePBFQuery=null==c.enablePBFQuery?!0:c.enablePBFQuery):C.add("esri-featurelayer-webgl",
	{maxDrillLevel:e,maxRecordCountFactor:q,enablePBFQuery:!0},null,!0)}C.add("esri-featurelayer-webgl-labeling",!1);C.add("esri-pbf",!n||10<=n);C.add("esri-featurelayer-pbf",!0);C.add("esri-transforms",l||k||9<=n||3.5<=w||4<=d||3.1<=a||10.5<=f||3.2<=C("esri-iphone")||2.1<=C("esri-android"));C.add("esri-transitions",l||k||10<=n||4<=w||4<=d||3.1<=a||10.5<=f||3.2<=C("esri-iphone")||2.1<=C("esri-android"));C.add("esri-transforms3d",l||k||10<=w||12<=d||4<=a||3.2<=C("esri-iphone")||3<=C("esri-android"));C.add("esri-url-encodes-apostrophe",
	function(){if(!y.document)return!1;var t=y.document.createElement("a");t.href="?'";return-1<t.href.indexOf("?%27")});3>C("esri-android")&&(C.add("esri-transforms",!1,!1,!0),C.add("esri-transitions",!1,!1,!0),C.add("esri-transforms3d",!1,!1,!0));C.add("esri-will-change",C("esri-transforms")&&(52<=d||11.1<=a));b._css=function(t){var g=C("esri-transforms3d");void 0!==t&&null!==t?g=t:g&&(d||a&&!C("esri-iphone"))&&(g=!1);var p=g?"translate3d(":"translate(",x=g?d?",-1px)":",0px)":")",u=g?"scale3d(":"scale(",
	A=g?",1)":")",m=g?"rotate3d(0,0,1,":"rotate(",v=g?"matrix3d(":"matrix(",r=g?",0,0,":",",B=g?",0,0,0,0,1,0,":",",D=g?",0,1)":")";return{names:{transition:h&&"-webkit-transition"||w&&"MozTransition"||f&&"OTransition"||n&&"msTransition"||"transition",transform:h&&"-webkit-transform"||w&&"MozTransform"||f&&"OTransform"||n&&"msTransform"||"transform",transformName:h&&"-webkit-transform"||w&&"-moz-transform"||f&&"-o-transform"||n&&"-ms-transform"||"transform",origin:h&&"-webkit-transform-origin"||w&&"MozTransformOrigin"||
	f&&"OTransformOrigin"||n&&"msTransformOrigin"||"transformOrigin",endEvent:h&&"webkitTransitionEnd"||w&&"transitionend"||f&&"oTransitionEnd"||n&&"MSTransitionEnd"||"transitionend"},translate:function(G,z){return p+G+"px,"+z+"px"+x},scale:function(G){return u+G+","+G+A},rotate:function(G){return m+G+"deg)"},matrix:function(G){return v+G.xx+","+G.xy+r+G.yx+","+G.yy+B+G.dx.toFixed(10)+(w&&59>=w?"px,":",")+G.dy.toFixed(10)+(w&&59>=w?"px":"")+D},getScaleFromMatrix:function(G){if(!G)return 1;G=G.toLowerCase();
	var z=-1<G.indexOf("matrix3d")?"matrix3d(":"matrix(";return Number(G.substring(z.length,G.indexOf(",")))}}};C("extend-esri")&&(b.isiPhone=C("esri-iphone"),b.isAndroid=C("esri-android"),b.isFennec=C("esri-fennec"),b.isBlackBerry=C("esri-blackberry"),b.isTouchEnabled=C("esri-touch"),b.isPointerEnabled=C("esri-pointer"),b._hasCors=C("esri-cors"),b._hasFileUpload=C("esri-file-upload"),b._hasTransforms=C("esri-transforms"),b._hasTransitions=C("esri-transitions"),b._has3DTransforms=C("esri-transforms3d"));
	return C})},"esri/map":function(){define("require dojo/_base/kernel dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/event dojo/on dojo/aspect dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dijit/a11yclick dijit/registry ./kernel ./config ./sniff ./lang ./_coremap ./MapNavigationManager dojo/i18n!./nls/jsapi".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x,u,A,m,v,r,B){var D={up:"panUp",right:"panRight",down:"panDown",
	left:"panLeft"},G={upperRight:"panUpperRight",lowerRight:"panLowerRight",lowerLeft:"panLowerLeft",upperLeft:"panUpperLeft"},z=w.connect,E=w.disconnect,H=e.create,I=t.set,O=n.hitch,T=q.getMarginBox,Z=y.deprecated,ia=n.mixin,ca=0;y=b(v,{declaredClass:"esri.Map",constructor:function(W,ha){ha=ha||{};ia(this,{_slider:null,_navDiv:null,_mapParams:ia({attributionWidth:.45,slider:!0,nav:!1,logo:!0,sliderStyle:"small",sliderPosition:"top-left",sliderOrientation:"vertical",autoResize:!0},ha)});ia(this,{isMapNavigation:null!=
	ha.isMapNavigation?ha.isMapNavigation:!0,isDoubleClickZoom:null!=ha.isDoubleClickZoom?ha.isDoubleClickZoom:!0,isClickRecenter:null!=ha.isClickRecenter?ha.isClickRecenter:!0,isPan:null!=ha.isPan?ha.isPan:!0,isRubberBandZoom:null!=ha.isRubberBandZoom?ha.isRubberBandZoom:!0,isPinchZoom:null!=ha.isPinchZoom?ha.isPinchZoom:!0,isKeyboardNavigation:null!=ha.isKeyboardNavigation?ha.isKeyboardNavigation:!0,isScrollWheel:null!=ha.isScrollWheel?ha.isScrollWheel:!0,isShiftDoubleClickZoom:!1,isScrollWheelZoom:!1,
	isPanArrows:!1,isZoomSlider:!1});n.isFunction(x._css)&&(x._css=x._css(this._mapParams.force3DTransforms),this.force3DTransforms=this._mapParams.force3DTransforms);W=A("esri-transforms")&&A("esri-transitions");this.navigationMode=this._mapParams.navigationMode||W&&"css-transforms"||"classic";"css-transforms"!==this.navigationMode||W||(this.navigationMode="classic");this.fadeOnZoom=m.isDefined(this._mapParams.fadeOnZoom)?this._mapParams.fadeOnZoom:"css-transforms"===this.navigationMode;"css-transforms"!==
	this.navigationMode&&(this.fadeOnZoom=!1);this.setMapCursor("default");this.smartNavigation=ha&&ha.smartNavigation;if(!(m.isDefined(this.smartNavigation)||!A("mac")||A("esri-touch")||A("esri-pointer")||3.5>=A("ff"))){var ma=navigator.userAgent.match(/Mac\s+OS\s+X\s+([\d]+)(\.|_)([\d]+)\D/i);ma&&m.isDefined(ma[1])&&m.isDefined(ma[3])&&(W=parseInt(ma[1],10),ma=parseInt(ma[3],10),this.smartNavigation=10<W||10===W&&6<=ma)}this.showAttribution=m.isDefined(this._mapParams.showAttribution)?this._mapParams.showAttribution:
	!0;this._onLoadHandler_connect=z(this,"onLoad",this,"_onLoadInitNavsHandler");var xa=H("div",{class:"esriControlsBR"+(this._mapParams.nav?" withPanArrows":"")},this.root);if(this.showAttribution)if(W=n.getObject("esri.dijit.Attribution",!1))this._initAttribution(W,xa);else{var K=ca++,Y=this;this._rids&&this._rids.push(K);C(["./dijit/Attribution"],function(la){var L=Y._rids?l.indexOf(Y._rids,K):-1;-1!==L&&(Y._rids.splice(L,1),Y._initAttribution(la,xa))})}this._mapParams.logo&&(W={},6===A("ie")&&(W.filter=
	"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled\x3d'true', sizingMethod\x3d'crop', src\x3d'"+C.toUrl("./images/map/logo-med.png")+"')"),this._ogol=H("div",{style:W,tabIndex:"0",title:"Esri"},xa),this._setLogoSize(),this._onMapResizeLogo_connect=z(this,"onResize",this,"_setLogoSize"),this._ogol_connect=z(this._ogol,g,this,"_openLogoLink"));this.navigationManager=new r(this);ha&&ha.basemap&&(this._onLoadFix=!0,this.setBasemap(ha.basemap),this._onLoadFix=!1);if(this.autoResize=this._mapParams.autoResize)ha=
	this._getEnclosingResizableWidget(this.container)||window,W=this.resize,this._rszSignal=h.pausable(ha,"resize",W),this._oriSignal=h.pausable(window,"orientationchange",W),f.after(ha,"resize",W,!0),this._startResizeTimer()},_startResizeTimer:function(){clearTimeout(this._persistentTimer);this._persistentTimer=setTimeout(this._timedResize,2*this.resizeDelay)},_getEnclosingResizableWidget:function(W){var ha=p.getEnclosingWidget(W);return ha?ha.resize?ha:this._getEnclosingResizableWidget(W.parentNode):
	ha},_setLogoSize:function(){this._ogol&&(25E4>this.root.clientWidth*this.root.clientHeight?(c.remove(this._ogol,"logo-med"),c.add(this._ogol,"logo-sm")):(c.remove(this._ogol,"logo-sm"),c.add(this._ogol,"logo-med")))},_initAttribution:function(W,ha){ha=H("span",{class:"esriAttribution"},ha,"first");I(ha,"maxWidth",Math.floor(this.width*this._mapParams.attributionWidth)+"px");this._connects.push(z(ha,g,function(){c.contains(this,"esriAttributionOpen")?c.remove(this,"esriAttributionOpen"):this.scrollWidth>
	this.clientWidth&&c.add(this,"esriAttributionOpen")}));this.attribution=new W({map:this},ha)},_cleanUp:function(){this.disableMapNavigation();this.navigationManager.destroy();var W=this._slider;W&&W.destroy&&!W._destroyed&&W.destroy();W=this._navDiv;var ha=this.attribution;W&&e.destroy(W);ha&&ha.destroy();this._connects.push(this._slider_connect,this._ogol_connect,this._rszSignal,this._oriSignal);l.forEach(this._connects,E);clearInterval(this._persistentTimer);this.attribution=this.navigationManager=
	this._rids=this._connects=this._slider_connect=this._ogol_connect=this._rszSignal=this._oriSignal=this._persistentTimer=null;this.inherited("_cleanUp",arguments)},_isPanningOrZooming:function(){return this.__panning||this.__zooming},_canZoom:function(W){var ha=this.getLevel();return!this.__tileInfo||!(ha===this.getMinZoom()&&0>W||ha===this.getMaxZoom()&&0<W)},_onLoadInitNavsHandler:function(){this._evalMapNavigation();this._createNav();if("small"===this._mapParams.sliderStyle||!this._createSlider)this._createSimpleSlider();
	else if(this._mapParams.slider){var W=-1!==this._getSliderClass(!0).indexOf("Horizontal");W=[W?"dijit.form.HorizontalSlider":"dijit.form.VerticalSlider",W?"dijit.form.HorizontalRule":"dijit.form.VerticalRule",W?"dijit.form.HorizontalRuleLabels":"dijit.form.VerticalRuleLabels"];if(l.some(W,function(xa){return!n.getObject(xa,!1)})){W=l.map(W,function(xa){return xa.replace(/\./g,"/")});var ha=ca++,ma=this;this._rids&&this._rids.push(ha);C(W,function(){var xa=ma._rids?l.indexOf(ma._rids,ha):-1;-1!==xa&&
	(ma._rids.splice(xa,1),ma._createSlider.apply(ma,arguments))})}else W=l.map(W,function(xa){return n.getObject(xa,!1)}),this._createSlider.apply(this,W)}E(this._onLoadHandler_connect)},_createNav:function(){if(this._mapParams.nav){var W,ha=c.add,ma=this.id;this._navDiv=H("div",{id:ma+"_navdiv"},this.root);ha(this._navDiv,"navDiv");var xa=this.width/2,K=this.height/2;for(W in D){var Y=D[W];var la=H("div",{id:ma+"_pan_"+W},this._navDiv);ha(la,"fixedPan "+Y);if("up"===W||"down"===W){var L=parseInt(T(la).w,
	10)/2;I(la,{left:xa-L+"px",zIndex:30})}else L=parseInt(T(la).h,10)/2,I(la,{top:K-L+"px",zIndex:30});this._connects.push(z(la,"onclick",O(this,this[Y])))}this._onMapResizeNavHandler_connect=z(this,"onResize",this,"_onMapResizeNavHandler");for(W in G)Y=G[W],la=H("div",{id:ma+"_pan_"+W,style:{zIndex:30}},this._navDiv),ha(la,"fixedPan "+Y),this._connects.push(z(la,"onclick",O(this,this[Y])));this.isPanArrows=!0}},_onMapResizeNavHandler:function(W,ha,ma){W=this.id;ha/=2;ma/=2;var xa=d.byId,K;for(K in D){var Y=
	xa(W+"_pan_"+K);if("up"===K||"down"===K){var la=parseInt(T(Y).w,10)/2;I(Y,"left",ha-la+"px")}else la=parseInt(T(Y).h,10)/2,I(Y,"top",ma-la+"px")}},_createSimpleSlider:function(){if(this._mapParams.slider){var W=this._slider=H("div",{id:this.id+"_zoom_slider",class:this._getSliderClass(),style:{zIndex:30}}),ha=H("div",{class:"esriSimpleSliderIncrementButton",tabIndex:"0",role:"button"},W),ma=H("div",{class:"esriSimpleSliderDecrementButton",tabIndex:"0",role:"button"},W);this._addZoomButtonTooltips(ha,
	ma);this._incButton=ha;this._decButton=ma;this._simpleSliderZoomHandler(null,null,null,this.getLevel());var xa=B.widgets.zoomSlider;this._addZoomButtonIcon(ha,"+",xa.zoomIn);this._addZoomButtonIcon(ma,"\x26minus;",xa.zoomOut);8>A("ie")&&c.add(ma,"dj_ie67Fix");this._connects.push(z(ha,g,this,this._simpleSliderChangeHandler));this._connects.push(z(ma,g,this,this._simpleSliderChangeHandler));(-1<this.getMaxZoom()||-1<this.getMinZoom())&&this._connects.push(z(this,"onZoomEnd",this,this._simpleSliderZoomHandler));
	10>A("ie")&&d.setSelectable(W,!1);this.root.appendChild(W);this.isZoomSlider=!0}},_simpleSliderChangeHandler:function(W){k.stop(W);W=-1!==W.currentTarget.className.indexOf("IncrementButton")?!0:!1;this._extentUtil({numLevels:W?1:-1})},_simpleSliderZoomHandler:function(W,ha,ma,xa){var K;W=this._incButton;ha=this._decButton;-1<xa&&xa===this.getMaxZoom()?K=W:-1<xa&&xa===this.getMinZoom()&&(K=ha);K?(c.add(K,"esriSimpleSliderDisabledButton"),c.remove(K===W?ha:W,"esriSimpleSliderDisabledButton")):(c.remove(W,
	"esriSimpleSliderDisabledButton"),c.remove(ha,"esriSimpleSliderDisabledButton"))},_getSliderClass:function(W){W=W?"Large":"Simple";var ha=this._mapParams.sliderOrientation,ma=this._mapParams.sliderPosition||"";ha=ha&&"horizontal"===ha.toLowerCase()?"esri"+W+"SliderHorizontal":"esri"+W+"SliderVertical";if(ma)switch(ma.toLowerCase()){case "top-left":ma="esri"+W+"SliderTL";break;case "top-right":ma="esri"+W+"SliderTR";break;case "bottom-left":ma="esri"+W+"SliderBL";break;case "bottom-right":ma="esri"+
	W+"SliderBR"}return"esri"+W+"Slider "+ha+" "+ma},_addZoomButtonIcon:function(W,ha,ma){e.create("span",{"aria-hidden":"true",role:"presentation",innerHTML:ha},W);e.create("span",{class:"esriIconFallbackText",innerHTML:ma},W)},_addZoomButtonTooltips:function(W,ha){var ma=B.widgets.zoomSlider;a.set(W,"title",ma.zoomIn);a.set(ha,"title",ma.zoomOut)},_createSlider:function(W,ha,ma){if(this._mapParams.slider){var xa=H("div",{id:this.id+"_zoom_slider"},this.root),K=u.defaults.map,Y=this._getSliderClass(!0),
	la=-1!==Y.indexOf("Horizontal"),L=this.getNumLevels();if(0<L){var R,da,ka=this._mapParams.sliderLabels,qa=!!ka,va=!1!==ka;if(va){var Ea=la?"bottomDecoration":"rightDecoration";if(!ka)for(ka=[],K=0;K<L;K++)ka[K]="";l.forEach([{class:"esriLargeSliderTicks",container:Ea,count:L,dijitClass:ha},{class:qa&&"esriLargeSliderLabels",container:Ea,count:L,labels:ka,dijitClass:ma}],function(fa){var pa=H("div"),wa=fa.dijitClass;delete fa.dijitClass;xa.appendChild(pa);wa===ha?R=new wa(fa,pa):da=new wa(fa,pa)})}W=
	this._slider=new W({id:xa.id,class:Y,minimum:this.getMinZoom(),maximum:this.getMaxZoom(),discreteValues:L,value:this.getLevel(),clickSelect:!0,intermediateChanges:!0,style:"z-index:30;"},xa);W.startup();va&&(R.startup(),da.startup());this._slider_connect=z(W,"onChange",this,"_onSliderChangeHandler");this._connects.push(z(this,"onExtentChange",this,"_onExtentChangeSliderHandler"));this._connects.push(z(W._movable,"onFirstMove",this,"_onSliderMoveStartHandler"))}else{W=this._slider=new W({id:xa.id,
	class:Y,minimum:0,maximum:2,discreteValues:3,value:1,clickSelect:!0,intermediateChanges:K.sliderChangeImmediate,style:"height:50px; z-index:30;"},xa);ma=W.domNode.firstChild.childNodes;for(K=1;3>=K;K++)I(ma[K],"visibility","hidden");W.startup();this._slider_connect=z(W,"onChange",this,"_onDynSliderChangeHandler");this._connects.push(z(this,"onExtentChange",this,"_onExtentChangeDynSliderHandler"))}K=W.incrementButton;ma=W.decrementButton;la?this._addZoomButtonTooltips(K,ma):this._addZoomButtonTooltips(ma,
	K);K.style.outline="none";ma.style.outline="none";W.sliderHandle.style.outline="none";W._onKeyPress=function(){};if(la=W._movable){var ba=la.onMouseDown;la.onMouseDown=function(fa){9>A("ie")&&1!==fa.button||ba.apply(this,arguments)}}this.isZoomSlider=!0}},_onSliderMoveStartHandler:function(){E(this._slider_connect);E(this._slidermovestop_connect);this._slider_connect=z(this._slider,"onChange",this,"_onSliderChangeDragHandler");this._slidermovestop_connect=z(this._slider._movable,"onMoveStop",this,
	"_onSliderMoveEndHandler")},_onSliderChangeDragHandler:function(W){this._extentUtil({targetLevel:W})},_onSliderMoveEndHandler:function(){E(this._slider_connect);E(this._slidermovestop_connect)},_onSliderChangeHandler:function(W){this.setLevel(W)},_updateSliderValue:function(W,ha){E(this._slider_connect);var ma=this._slider,xa=ma._onChangeActive;ma._onChangeActive=!1;ma.set("value",W);ma._onChangeActive=xa;this._slider_connect=z(ma,"onChange",this,ha)},_onExtentChangeSliderHandler:function(W,ha,ma,
	xa){E(this._slidermovestop_connect);this._updateSliderValue(xa.level,"_onSliderChangeHandler")},_onDynSliderChangeHandler:function(W){this._extentUtil({numLevels:0<W?1:-1})},_onExtentChangeDynSliderHandler:function(){this._updateSliderValue(1,"_onDynSliderChangeHandler")},_openLogoLink:function(W){window.open(u.defaults.map.logoLink,"_blank");k.stop(W)},enableMapNavigation:function(){this.isMapNavigation||(this.isMapNavigation=!0,this._evalMapNavigation())},disableMapNavigation:function(){this.isMapNavigation&&
	(this.isMapNavigation=!1,this._evalMapNavigation())},_evalMapNavigation:function(){this.isMapNavigation?this.navigationManager.enableNavigation():this.navigationManager.disableNavigation()},_evalNavigationFeature:function(W){if(this.isMapNavigation&&this["is"+W])this.navigationManager["enable"+W]();else this.navigationManager["disable"+W]()},enableDoubleClickZoom:function(){this.isDoubleClickZoom||(this.isDoubleClickZoom=!0,this._evalNavigationFeature("DoubleClickZoom"))},disableDoubleClickZoom:function(){this.isDoubleClickZoom&&
	(this.isDoubleClickZoom=!1,this._evalNavigationFeature("DoubleClickZoom"))},enableShiftDoubleClickZoom:function(){this.isShiftDoubleClickZoom||(Z(this.declaredClass+": Map.(enable/disable)ShiftDoubleClickZoom deprecated. Shift-Double-Click zoom behavior will not be supported.",null,"v2.0"),this.navigationManager.enableShiftDoubleClickZoom(),this.isShiftDoubleClickZoom=!0)},disableShiftDoubleClickZoom:function(){this.isShiftDoubleClickZoom&&(Z(this.declaredClass+": Map.(enable/disable)ShiftDoubleClickZoom deprecated. Shift-Double-Click zoom behavior will not be supported.",
	null,"v2.0"),this.navigationManager.disableShiftDoubleClickZoom(),this.isShiftDoubleClickZoom=!1)},enableClickRecenter:function(){this.isClickRecenter||(this.isClickRecenter=!0,this._evalNavigationFeature("ClickRecenter"))},disableClickRecenter:function(){this.isClickRecenter&&(this.isClickRecenter=!1,this._evalNavigationFeature("ClickRecenter"))},enablePan:function(){this.isPan||(this.isPan=!0,this._evalNavigationFeature("Pan"))},disablePan:function(){this.isPan&&(this.isPan=!1,this._evalNavigationFeature("Pan"))},
	enableRubberBandZoom:function(){this.isRubberBandZoom||(this.isRubberBandZoom=!0,this._evalNavigationFeature("RubberBandZoom"))},disableRubberBandZoom:function(){this.isRubberBandZoom&&(this.isRubberBandZoom=!1,this._evalNavigationFeature("RubberBandZoom"))},enablePinchZoom:function(){this.isPinchZoom||(this.isPinchZoom=!0,this._evalNavigationFeature("PinchZoom"))},disablePinchZoom:function(){this.isPinchZoom&&(this.isPinchZoom=!1,this._evalNavigationFeature("PinchZoom"))},enableKeyboardNavigation:function(){this.isKeyboardNavigation||
	(this.isKeyboardNavigation=!0,this._evalNavigationFeature("KeyboardNavigation"))},disableKeyboardNavigation:function(){this.isKeyboardNavigation&&(this.isKeyboardNavigation=!1,this._evalNavigationFeature("KeyboardNavigation"))},enableScrollWheel:function(){this.isScrollWheel||(this.isScrollWheel=!0,this._evalNavigationFeature("ScrollWheel"))},disableScrollWheel:function(){this.isScrollWheel&&(this.isScrollWheel=!1,this._evalNavigationFeature("ScrollWheel"))},enableScrollWheelZoom:function(){this.isScrollWheelZoom||
	(this.navigationManager.enableScrollWheelZoom(),this.isScrollWheelZoom=!0)},disableScrollWheelZoom:function(){this.isScrollWheelZoom&&(this.navigationManager.disableScrollWheelZoom(),this.isScrollWheelZoom=!1)},enableScrollWheelPan:function(){this.isScrollWheelPan||this.navigationManager.enableScrollWheelPan()},disableScrollWheelPan:function(){this.isScrollWheelPan&&this.navigationManager.disableScrollWheelPan()},showPanArrows:function(){this._navDiv&&(this._navDiv.style.display="block",this.isPanArrows=
	!0)},hidePanArrows:function(){this._navDiv&&(this._navDiv.style.display="none",this.isPanArrows=!1)},showZoomSlider:function(){this._slider&&(I(this._slider.domNode||this._slider,"visibility","inherit"),this.isZoomSlider=!0)},hideZoomSlider:function(){this._slider&&(I(this._slider.domNode||this._slider,"visibility","hidden"),this.isZoomSlider=!1)},onClick:function(W){W.graphic||(W.graphic=this.syncHitTestForWebGL(W))}});A("extend-esri")&&(x.Map=y);return y})},"esri/lang":function(){define("dojo/_base/array dojo/_base/json dojo/_base/kernel dojo/_base/lang dojo/date dojo/has dojo/number dojo/date/locale ./kernel".split(" "),
	function(C,y,b,w,n,l,k,h,f){function d(u,A,m,v){(A=A&&A[u])?A={formatType:A.formatType,options:A}:v&&-1!==C.indexOf(v.properties||"",u)?A={formatType:v.formatter||"DateString",options:null}:m&&-1!==C.indexOf(m.properties||"",u)&&(A={formatType:m.formatter||"NumberFormat",options:null});return A}function a(u,A,m){return[w.isString(u)?u.split(""):u,A||b.global,w.isString(m)?new Function("item","index","array",m):m]}function c(u){return void 0!==u&&null!==u}function e(u){return c(u)?u:""}function q(u,
	A,m,v){var r=m.match(/([^\(]+)(\([^\)]+\))?/i);m=w.trim(r[1]);var B=r[2]?w.trim(r[2]):null;r=A[u];v=v||(B?y.fromJson(B.replace(/^\(/,"({").replace(/\)$/,"})")):{});B=v.utcOffset;if(-1===C.indexOf(g,m))m=w.getObject(m),w.isFunction(m)&&(r=m(r,u,A,v));else if("number"===typeof r||"string"===typeof r&&r&&!isNaN(Number(r)))switch(r=Number(r),m){case "NumberFormat":return k.format(r,v);case "DateString":u=new Date(r);if(v.local||v.systemLocale)return v.systemLocale?u.toLocaleDateString()+(v.hideTime?"":
	" "+u.toLocaleTimeString()):u.toDateString()+(v.hideTime?"":" "+u.toTimeString());u=u.toUTCString();v.hideTime&&(u=u.replace(/\s+\d\d:\d\d:\d\d\s+(utc|gmt)/i,""));return u;case "DateFormat":return u=new Date(r),c(B)&&(u=n.add(u,"minute",u.getTimezoneOffset()-B)),h.format(u,v)}return e(r)}function t(u,A){var m;if(A)for(m in u)u.hasOwnProperty(m)&&(void 0===u[m]?delete u[m]:u[m]instanceof Object&&t(u[m],!0));else for(m in u)u.hasOwnProperty(m)&&void 0===u[m]&&delete u[m];return u}var g=["NumberFormat",
	"DateString","DateFormat"],p=/<\/?[^>]+>/g,x={valueOf:function(u,A){for(var m in u)if(u[m]==A)return m;return null},stripTags:function(u){if(u){var A=typeof u;if("string"===A)u=u.replace(p,"");else if("object"===A)for(var m in u)(A=u[m])&&"string"===typeof A&&(A=A.replace(p,"")),u[m]=A}return u},substitute:function(u,A,m){if(c(m))if(w.isObject(m)){var v=m.first;var r=m.dateFormat;var B=m.numberFormat;var D=m.format}else v=m;if(A&&"${*}"!==A)return w.replace(A,w.hitch({obj:u},function(z,E){var H=E.split(":");
	return 1<H.length?(E=H[0],H.shift(),(z=D&&D[H[0]])?H=z.formatType:(H=H.join(":"),z=null),q(E,this.obj,H,z)):(z=d(E,D,B,r))?q(E,this.obj,z.formatType,z.options):e(this.obj[E])}),/\$\{([^\}]+)\}/g);A=[];for(var G in u)if(m=(m=d(G,D,B,r))?q(G,u,m.formatType,m.options):u[G],A.push(G+" \x3d "+e(m)+"\x3cbr/\x3e"),v)break;return A.join("")},filter:function(u,A,m){A=a(u,m,A);m={};var v;u=A[0];for(v in u)A[2].call(A[v],u[v],v,u)&&(m[v]=u[v]);return m},startsWith:function(u,A,m){m=m||0;return u.indexOf(A,m)===
	m},endsWith:function(u,A,m){if("number"!==typeof m||!isFinite(m)||Math.floor(m)!==m||m>u.length)m=u.length;m-=A.length;u=u.indexOf(A,m);return-1!==u&&u===m},isDefined:c,fixJson:t,isObject:function(u){return u&&"object"===typeof u},isString:function(u){return"string"===typeof u},mixin:function(u,A){for(var m in A)A.hasOwnProperty(m)&&(u[m]=A[m]);return u},clone2DArray:function(u){if(u=u?u.slice(0):null){var A,m=u.length;for(A=0;A<m;A++)u[A]=u[A]?u[A].slice(0):null}return u},clone3DArray:function(u){if(u=
	u?u.slice(0):null){var A,m=u.length;for(A=0;A<m;A++){u[A]=u[A]?u[A].slice(0):null;var v=u[A];if(v){var r,B=v.length;for(r=0;r<B;r++)v[r]=v[r]?v[r].slice(0):null}}}return u}};l("extend-esri")&&(w.mixin(f,x),f._isDefined=c,f._getParts=a,f._sanitize=t);return x})},"dojo/date":function(){define(["./has","./_base/lang"],function(C,y){var b={getDaysInMonth:function(w){var n=w.getMonth();return 1==n&&b.isLeapYear(w)?29:[31,28,31,30,31,30,31,31,30,31,30,31][n]},isLeapYear:function(w){w=w.getFullYear();return!(w%
	400)||!(w%4)&&!!(w%100)},getTimezoneName:function(w){var n=w.toString(),l="",k=n.indexOf("(");if(-1<k)l=n.substring(++k,n.indexOf(")"));else if(k=/([A-Z\/]+) \d{4}$/,n=n.match(k))l=n[1];else if(n=w.toLocaleString(),k=/ ([A-Z\/]+)$/,n=n.match(k))l=n[1];return"AM"==l||"PM"==l?"":l},compare:function(w,n,l){w=new Date(+w);n=new Date(+(n||new Date));"date"==l?(w.setHours(0,0,0,0),n.setHours(0,0,0,0)):"time"==l&&(w.setFullYear(0,0,0),n.setFullYear(0,0,0));return w>n?1:w<n?-1:0},add:function(w,n,l){var k=
	new Date(+w),h=!1,f="Date";switch(n){case "day":break;case "weekday":if(n=l%5)var d=parseInt(l/5);else n=0<l?5:-5,d=0<l?(l-5)/5:(l+5)/5;var a=w.getDay(),c=0;6==a&&0<l?c=1:0==a&&0>l&&(c=-1);a+=n;if(0==a||6==a)c=0<l?2:-2;l=7*d+n+c;break;case "year":f="FullYear";h=!0;break;case "week":l*=7;break;case "quarter":l*=3;case "month":h=!0;f="Month";break;default:f="UTC"+n.charAt(0).toUpperCase()+n.substring(1)+"s"}if(f)k["set"+f](k["get"+f]()+l);h&&k.getDate()<w.getDate()&&k.setDate(0);return k},difference:function(w,
	n,l){n=n||new Date;l=l||"day";var k=n.getFullYear()-w.getFullYear(),h=1;switch(l){case "quarter":w=w.getMonth();n=n.getMonth();h=Math.floor(n/3)+1+4*k-(Math.floor(w/3)+1);break;case "weekday":k=Math.round(b.difference(w,n,"day"));l=parseInt(b.difference(w,n,"week"));if(0==k%7)k=5*l;else{h=0;var f=w.getDay(),d=n.getDay();l=parseInt(k/7);n=k%7;w=new Date(w);w.setDate(w.getDate()+7*l);w=w.getDay();if(0<k)switch(!0){case 6==f:h=-1;break;case 0==f:h=0;break;case 6==d:h=-1;break;case 0==d:h=-2;break;case 5<
	w+n:h=-2}else if(0>k)switch(!0){case 6==f:h=0;break;case 0==f:h=1;break;case 6==d:h=2;break;case 0==d:h=1;break;case 0>w+n:h=2}k=k+h-2*l}h=k;break;case "year":h=k;break;case "month":h=n.getMonth()-w.getMonth()+12*k;break;case "week":h=parseInt(b.difference(w,n,"day")/7);break;case "day":h/=24;case "hour":h/=60;case "minute":h/=60;case "second":h/=1E3;case "millisecond":h*=n.getTime()-w.getTime()}return Math.round(h)}};y.mixin(y.getObject("dojo.date",!0),b);return b})},"dojo/number":function(){define(["./_base/lang",
	"./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(C,y,b,w,n){var l={};C.setObject("dojo.number",l);l.format=function(h,f){f=C.mixin({},f||{});var d=y.normalizeLocale(f.locale);d=y.getLocalization("dojo.cldr","number",d);f.customs=d;d=f.pattern||d[(f.type||"decimal")+"Format"];return isNaN(h)||Infinity==Math.abs(h)?null:l._applyPattern(h,d,f)};l._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;l._applyPattern=function(h,f,d){d=d||{};var a=d.customs.group,c=d.customs.decimal;f=f.split(";");
	var e=f[0];f=f[0>h?1:0]||"-"+e;if(-1!=f.indexOf("%"))h*=100;else if(-1!=f.indexOf("\u2030"))h*=1E3;else if(-1!=f.indexOf("\u00a4"))a=d.customs.currencyGroup||a,c=d.customs.currencyDecimal||c,f=f.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/,function(t,g,p,x){return(t=d[["symbol","currency","displayName"][p.length-1]]||d.currency||"")?g+t+x:""});else if(-1!=f.indexOf("E"))throw Error("exponential notation not supported");var q=l._numberPatternRE;e=e.match(q);if(!e)throw Error("unable to find a number expression in pattern: "+
	f);!1===d.fractional&&(d.places=0);return f.replace(q,l._formatAbsolute(h,e[0],{decimal:c,group:a,places:d.places,round:d.round}))};l.round=function(h,f,d){d=10/(d||10);return(d*+h).toFixed(f)/d};if(0==(.9).toFixed()){var k=l.round;l.round=function(h,f,d){var a=Math.pow(10,-f||0),c=Math.abs(h);if(!h||c>=a)a=0;else if(c/=a,.5>c||.95<=c)a=0;return k(h,f,d)+(0<h?a:-a)}}l._formatAbsolute=function(h,f,d){d=d||{};!0===d.places&&(d.places=0);Infinity===d.places&&(d.places=6);f=f.split(".");var a="string"==
	typeof d.places&&d.places.indexOf(","),c=d.places;a?c=d.places.substring(a+1):0<=c||(c=(f[1]||[]).length);0>d.round||(h=l.round(h,c,d.round));h=String(Math.abs(h)).split(".");var e=h[1]||"";f[1]||d.places?(a&&(d.places=d.places.substring(0,a)),a=void 0!==d.places?d.places:f[1]&&f[1].lastIndexOf("0")+1,a>e.length&&(h[1]=w.pad(e,a,"0",!0)),c<e.length&&(h[1]=e.substr(0,c))):h[1]&&h.pop();c=f[0].replace(",","");a=c.indexOf("0");-1!=a&&(a=c.length-a,a>h[0].length&&(h[0]=w.pad(h[0],a)),-1==c.indexOf("#")&&
	(h[0]=h[0].substr(h[0].length-a)));c=f[0].lastIndexOf(",");var q;if(-1!=c){var t=f[0].length-c-1;f=f[0].substr(0,c);c=f.lastIndexOf(",");-1!=c&&(q=f.length-c-1)}f=[];for(c=h[0];c;)a=c.length-t,f.push(0<a?c.substr(a):c),c=0<a?c.slice(0,a):"",q&&(t=q,q=void 0);h[0]=f.reverse().join(d.group||",");return h.join(d.decimal||".")};l.regexp=function(h){return l._parseInfo(h).regexp};l._parseInfo=function(h){h=h||{};var f=y.normalizeLocale(h.locale);f=y.getLocalization("dojo.cldr","number",f);var d=h.pattern||
	f[(h.type||"decimal")+"Format"],a=f.group,c=f.decimal,e=1;if(-1!=d.indexOf("%"))e/=100;else if(-1!=d.indexOf("\u2030"))e/=1E3;else{var q=-1!=d.indexOf("\u00a4");q&&(a=f.currencyGroup||a,c=f.currencyDecimal||c)}f=d.split(";");1==f.length&&f.push("-"+f[0]);f=n.buildGroupRE(f,function(t){t="(?:"+n.escapeString(t,".")+")";return t.replace(l._numberPatternRE,function(g){var p={signed:!1,separator:h.strict?a:[a,""],fractional:h.fractional,decimal:c,exponent:!1};g=g.split(".");var x=h.places;1==g.length&&
	1!=e&&(g[1]="###");1==g.length||0===x?p.fractional=!1:(void 0===x&&(x=h.pattern?g[1].lastIndexOf("0")+1:Infinity),x&&void 0==h.fractional&&(p.fractional=!0),!h.places&&x<g[1].length&&(x+=","+g[1].length),p.places=x);g=g[0].split(",");1<g.length&&(p.groupSize=g.pop().length,1<g.length&&(p.groupSize2=g.pop().length));return"("+l._realNumberRegexp(p)+")"})},!0);q&&(f=f.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(t,g,p,x){t=n.escapeString(h[["symbol","currency","displayName"][p.length-1]]||
	h.currency||"");if(!t)return"";g=g?"[\\s\\xa0]":"";x=x?"[\\s\\xa0]":"";return h.strict?g+t+x:(g&&(g+="*"),x&&(x+="*"),"(?:"+g+t+x+")?")}));return{regexp:f.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:a,decimal:c,factor:e}};l.parse=function(h,f){f=l._parseInfo(f);h=(new RegExp("^"+f.regexp+"$")).exec(h);if(!h)return NaN;var d=h[1];if(!h[1]){if(!h[2])return NaN;d=h[2];f.factor*=-1}d=d.replace(new RegExp("["+f.group+"\\s\\xa0]","g"),"").replace(f.decimal,".");return d*f.factor};l._realNumberRegexp=function(h){h=
	h||{};"places"in h||(h.places=Infinity);"string"!=typeof h.decimal&&(h.decimal=".");"fractional"in h&&!/^0/.test(h.places)||(h.fractional=[!0,!1]);"exponent"in h||(h.exponent=[!0,!1]);"eSigned"in h||(h.eSigned=[!0,!1]);var f=l._integerRegexp(h),d=n.buildGroupRE(h.fractional,function(c){var e="";c&&0!==h.places&&(e="\\"+h.decimal,e=Infinity==h.places?"(?:"+e+"\\d+)?":e+("\\d{"+h.places+"}"));return e},!0),a=n.buildGroupRE(h.exponent,function(c){return c?"([eE]"+l._integerRegexp({signed:h.eSigned})+
	")":""});f+=d;d&&(f="(?:(?:"+f+")|(?:"+d+"))");return f+a};l._integerRegexp=function(h){h=h||{};"signed"in h||(h.signed=[!0,!1]);"separator"in h?"groupSize"in h||(h.groupSize=3):h.separator="";var f=n.buildGroupRE(h.signed,function(a){return a?"[-+]":""},!0),d=n.buildGroupRE(h.separator,function(a){if(!a)return"(?:\\d+)";a=n.escapeString(a);" "==a?a="\\s":"\u00a0"==a&&(a="\\s\\xa0");var c=h.groupSize,e=h.groupSize2;return e?(a="(?:0|[1-9]\\d{0,"+(e-1)+"}(?:["+a+"]\\d{"+e+"})*["+a+"]\\d{"+c+"})",0<
	c-e?"(?:"+a+"|(?:0|[1-9]\\d{0,"+(c-1)+"}))":a):"(?:0|[1-9]\\d{0,"+(c-1)+"}(?:["+a+"]\\d{"+c+"})*)"},!0);return f+d};return l})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(C,y){var b={};y.setObject("dojo.regexp",b);b.escapeString=function(w,n){return w.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,function(l){return n&&-1!=n.indexOf(l)?l:"\\"+l})};b.buildGroupRE=function(w,n,l){if(!(w instanceof Array))return n(w);for(var k=[],h=0;h<w.length;h++)k.push(n(w[h]));return b.group(k.join("|"),
	l)};b.group=function(w,n){return"("+(n?"?:":"")+w+")"};return b})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(C,y,b,w,n,l,k,h,f){function d(p,x,u,A){return A.replace(/([a-z])\1*/ig,function(m){var v=m.charAt(0);m=m.length;var r=["abbr","wide","narrow"];switch(v){case "G":var B=x[4>m?"eraAbbr":"eraNames"][0>p.getFullYear()?0:1];break;case "y":B=p.getFullYear();
	switch(m){case 1:break;case 2:if(!u.fullYear){B=String(B);B=B.substr(B.length-2);break}default:var D=!0}break;case "Q":case "q":B=Math.ceil((p.getMonth()+1)/3);D=!0;break;case "M":case "L":B=p.getMonth();3>m?(B+=1,D=!0):(v=["months","L"==v?"standAlone":"format",r[m-3]].join("-"),B=x[v][B]);break;case "w":B=e._getWeekOfYear(p,0);D=!0;break;case "d":B=p.getDate();D=!0;break;case "D":B=e._getDayOfYear(p);D=!0;break;case "e":case "c":if(B=p.getDay(),2>m){B=(B-w.getFirstDayOfWeek(u.locale)+8)%7;break}case "E":B=
	p.getDay();3>m?(B+=1,D=!0):(v=["days","c"==v?"standAlone":"format",r[m-3]].join("-"),B=x[v][B]);break;case "a":v=12>p.getHours()?"am":"pm";B=u[v]||x["dayPeriods-format-wide-"+v];break;case "h":case "H":case "K":case "k":D=p.getHours();switch(v){case "h":B=D%12||12;break;case "H":B=D;break;case "K":B=D%12;break;case "k":B=D||24}D=!0;break;case "m":B=p.getMinutes();D=!0;break;case "s":B=p.getSeconds();D=!0;break;case "S":B=Math.round(p.getMilliseconds()*Math.pow(10,m-3));D=!0;break;case "v":case "z":if(B=
	e._getZone(p,!0,u))break;m=4;case "Z":v=e._getZone(p,!1,u);v=[0>=v?"+":"-",k.pad(Math.floor(Math.abs(v)/60),2),k.pad(Math.abs(v)%60,2)];4==m&&(v.splice(0,0,"GMT"),v.splice(3,0,":"));B=v.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+A);}D&&(B=k.pad(B,m));return B})}function a(p,x,u,A){var m=function(B){return B};x=x||m;u=u||m;A=A||m;var v=p.match(/(''|[^'])+/g),r="'"==p.charAt(0);y.forEach(v,function(B,D){B?(v[D]=(r?u:x)(B.replace(/''/g,"'")),r=!r):v[D]=""});
	return A(v.join(""))}function c(p,x,u,A){A=l.escapeString(A);u.strict||(A=A.replace(" a"," ?a"));return A.replace(/([a-z])\1*/ig,function(m){var v=m.charAt(0);var r=m.length,B="",D="";u.strict?(1<r&&(B="0{"+(r-1)+"}"),2<r&&(D="0{"+(r-2)+"}")):(B="0?",D="0{0,2}");switch(v){case "y":v="\\d{2,4}";break;case "M":case "L":2<r?(v=x["months-"+("L"==v?"standAlone":"format")+"-"+q[r-3]].slice(0).join("|"),u.strict||(v=v.replace(/\./g,""),v="(?:"+v+")\\.?")):v="1[0-2]|"+B+"[1-9]";break;case "D":v="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+
	B+"[1-9][0-9]|"+D+"[1-9]";break;case "d":v="3[01]|[12]\\d|"+B+"[1-9]";break;case "w":v="[1-4][0-9]|5[0-3]|"+B+"[1-9]";break;case "E":case "e":case "c":v=".+?";break;case "h":v="1[0-2]|"+B+"[1-9]";break;case "k":v="1[01]|"+B+"\\d";break;case "H":v="1\\d|2[0-3]|"+B+"\\d";break;case "K":v="1\\d|2[0-4]|"+B+"[1-9]";break;case "m":case "s":v="[0-5]\\d";break;case "S":v="\\d{"+r+"}";break;case "a":r=u.am||x["dayPeriods-format-wide-am"];B=u.pm||x["dayPeriods-format-wide-pm"];v=r+"|"+B;u.strict||(r!=r.toLowerCase()&&
	(v+="|"+r.toLowerCase()),B!=B.toLowerCase()&&(v+="|"+B.toLowerCase()),-1!=v.indexOf(".")&&(v+="|"+v.replace(/\./g,"")));v=v.replace(/\./g,"\\.");break;default:v=".*"}p&&p.push(m);return"("+v+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var e={};C.setObject(f.id.replace(/\//g,"."),e);e._getZone=function(p,x,u){return x?b.getTimezoneName(p):p.getTimezoneOffset()};e.format=function(p,x){x=x||{};var u=n.normalizeLocale(x.locale),A=x.formatLength||"short";u=e._getGregorianBundle(u);var m=[];p=C.hitch(this,d,
	p,u,x);if("year"==x.selector)return a(u["dateFormatItem-yyyy"]||"yyyy",p);var v;"date"!=x.selector&&(v=x.timePattern||u["timeFormat-"+A])&&m.push(a(v,p));"time"!=x.selector&&(v=x.datePattern||u["dateFormat-"+A])&&m.push(a(v,p));return 1==m.length?m[0]:u["dateTimeFormat-"+A].replace(/'/g,"").replace(/\{(\d+)\}/g,function(r,B){return m[B]})};e.regexp=function(p){return e._parseInfo(p).regexp};e._parseInfo=function(p){p=p||{};var x=n.normalizeLocale(p.locale);x=e._getGregorianBundle(x);var u=p.formatLength||
	"short",A=p.datePattern||x["dateFormat-"+u],m=p.timePattern||x["timeFormat-"+u];u="date"==p.selector?A:"time"==p.selector?m:x["dateTimeFormat-"+u].replace(/\{(\d+)\}/g,function(r,B){return[m,A][B]});var v=[];return{regexp:a(u,C.hitch(this,c,v,x,p)),tokens:v,bundle:x}};e.parse=function(p,x){var u=/[\u200E\u200F\u202A\u202E]/g,A=e._parseInfo(x),m=A.tokens,v=A.bundle;p=(new RegExp("^"+A.regexp.replace(u,"")+"$",A.strict?"":"i")).exec(p&&p.replace(u,""));if(!p)return null;var r=["abbr","wide","narrow"],
	B=[1970,0,1,0,0,0,0],D="";p=y.every(p,function(z,E){if(!E)return!0;var H=m[E-1];E=H.length;H=H.charAt(0);switch(H){case "y":if(2!=E&&x.strict)B[0]=z;else if(100>z)z=Number(z),H=""+(new Date).getFullYear(),E=100*H.substring(0,2),H=Math.min(Number(H.substring(2,4))+20,99),B[0]=z<H?E+z:E-100+z;else{if(x.strict)return!1;B[0]=z}break;case "M":case "L":if(2<E){if(E=v["months-"+("L"==H?"standAlone":"format")+"-"+r[E-3]].concat(),x.strict||(z=z.replace(".","").toLowerCase(),E=y.map(E,function(O){return O.replace(".",
	"").toLowerCase()})),z=y.indexOf(E,z),-1==z)return!1}else z--;B[1]=z;break;case "E":case "e":case "c":E=v["days-"+("c"==H?"standAlone":"format")+"-"+r[E-3]].concat();x.strict||(z=z.toLowerCase(),E=y.map(E,function(O){return O.toLowerCase()}));z=y.indexOf(E,z);if(-1==z)return!1;break;case "D":B[1]=0;case "d":B[2]=z;break;case "a":E=x.am||v["dayPeriods-format-wide-am"];H=x.pm||v["dayPeriods-format-wide-pm"];if(!x.strict){var I=/\./g;z=z.replace(I,"").toLowerCase();E=E.replace(I,"").toLowerCase();H=
	H.replace(I,"").toLowerCase()}if(x.strict&&z!=E&&z!=H)return!1;D=z==H?"p":z==E?"a":"";break;case "K":24==z&&(z=0);case "h":case "H":case "k":if(23<z)return!1;B[3]=z;break;case "m":B[4]=z;break;case "s":B[5]=z;break;case "S":B[6]=z}return!0});u=+B[3];"p"===D&&12>u?B[3]=u+12:"a"===D&&12==u&&(B[3]=0);u=new Date(B[0],B[1],B[2],B[3],B[4],B[5],B[6]);x.strict&&u.setFullYear(B[0]);var G=m.join("");A=-1!=G.indexOf("d");G=-1!=G.indexOf("M");if(!p||G&&u.getMonth()>B[1]||A&&u.getDate()>B[2])return null;if(G&&
	u.getMonth()<B[1]||A&&u.getDate()<B[2])u=b.add(u,"hour",1);return u};var q=["abbr","wide","narrow"],t=[],g={};e.addCustomFormats=function(p,x){t.push({pkg:p,name:x});g={}};e._getGregorianBundle=function(p){if(g[p])return g[p];var x={};y.forEach(t,function(u){u=n.getLocalization(u.pkg,u.name,p);x=C.mixin(x,u)},this);return g[p]=x};e.addCustomFormats(f.id.replace(/\/date\/locale$/,".cldr"),"gregorian");e.getNames=function(p,x,u,A){A=e._getGregorianBundle(A);p=[p,u,x];if("standAlone"==u){u=p.join("-");
	var m=A[u];1==m[0]&&(m=void 0)}p[1]="format";return(m||A[p.join("-")]).concat()};e.isWeekend=function(p,x){x=w.getWeekend(x);p=(p||new Date).getDay();x.end<x.start&&(x.end+=7,p<x.start&&(p+=7));return p>=x.start&&p<=x.end};e._getDayOfYear=function(p){return b.difference(new Date(p.getFullYear(),0,1,p.getHours()),p)+1};e._getWeekOfYear=function(p,x){1==arguments.length&&(x=0);var u=(new Date(p.getFullYear(),0,1)).getDay(),A=(u-x+7)%7;A=Math.floor((e._getDayOfYear(p)+A-1)/7);u==x&&A++;return A};return e})},
	"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(C,y){var b={};C.setObject("dojo.cldr.supplemental",b);b.getFirstDayOfWeek=function(w){w={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,
	sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[b._region(w)];return void 0===w?1:w};b._region=function(w){w=y.normalizeLocale(w);w=w.split("-");var n=w[1];n?4==n.length&&(n=w[2]):n={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",
	fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",
	mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",
	ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",
	dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",
	kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",
	niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",
	tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[w[0]];return n};b.getWeekend=function(w){var n=b._region(w);w={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[n];n={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,
	ma:6,qa:6,sd:6,sy:6,tn:6}[n];void 0===w&&(w=6);void 0===n&&(n=0);return{start:w,end:n}};return b})},"esri/_coremap":function(){define("require module dojo/_base/kernel dojo/_base/declare dojo/_base/connect dojo/_base/Deferred dojo/_base/lang dojo/_base/array dojo/_base/event dojo/_base/unload dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/sniff dijit/registry dojox/gfx/matrix ./kernel ./config ./basemaps ./lang ./Evented ./fx ./deferredUtils ./tileUtils ./urlUtils ./PluginTarget ./Color ./promiseList ./arcade/Dictionary ./geometry/Point ./geometry/ScreenPoint ./geometry/Extent ./geometry/Rect ./geometry/mathUtils ./geometry/scaleUtils ./geometry/screenUtils ./geometry/webMercatorUtils ./layers/GraphicsLayer ./layers/TileInfo ./layers/LOD ./layers/ArcGISTiledMapServiceLayer ./layers/MapImageLayer ./layers/OpenStreetMapLayer ./layers/support/webglUtils ./dijit/Popup ./plugins/popupManager dojo/uacss".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x,u,A,m,v,r,B,D,G,z,E,H,I,O,T,Z,ia,ca,W,ha,ma,xa,K,Y,la,L,R,da,ka,qa,va){function Ea(N,S){var ea=N.lods;ea.sort(function(Ba,Qa){return Ba.scale>Qa.scale?-1:Ba.scale<Qa.scale?1:0});var na=[];ea=h.filter(ea,function(Ba){if(-1===U(na,Ba.scale))return na.push(Ba.scale),!0});var ua=S.lods=[],Aa;h.forEach(ea,function(Ba,Qa){Aa=ua[Qa]=new L(Ba);Aa.level=Qa});S.tileInfo=new la(oa(N,{lods:ua}))}var ba,fa=xa.toMapPoint,pa=xa.toScreenPoint,wa=n.connect,ra=n.disconnect,
	Oa=k.hitch,X=g.set,U=h.indexOf,oa=k.mixin,sa=0,Fa=m.defaults.map,Ta=Fa.layerNamePrefix,Ya=Fa.graphicsLayerNamePrefix,bb=new RegExp("^"+Ta+"(\\d+)$"),Ma=new RegExp("^"+Ya+"(\\d+)$"),J=function(){},Q=0,aa=qa.isWebGLEnabled();w=w([B,H],{declaredClass:"esri._CoreMap",tables:null,resizeDelay:300,invalidExtent:"Map does not have a valid extent.",invalidGeometry:"Geometry (wkid: ${geometry}) cannot be converted to spatial reference of the map (wkid: ${map})",unknownBasemap:'Unable to find basemap definition for: "${basemapName}". Try one of these: ${list}',
	invalidBasemap:'Unable to add basemap: "${basemapName}".',unknownLayerType:'Unknown basemap layer type: "${type}" found in basemap definition for: "${basemapName}".',visible:!0,webglEnabled:aa,_eventMap:{"basemap-change":!0,"extent-change":["extent","delta","levelChange","lod"],"layer-add":["layer"],"layer-add-result":["layer","error"],"layer-remove":["layer"],"layer-reorder":["layer","index"],"layer-resume":["layer"],"layer-suspend":["layer"],"layers-add-result":["layers"],"layers-removed":!0,"layers-reordered":["layerIds"],
	load:["map"],pan:["extent","delta"],"pan-end":["extent","delta"],"pan-start":["extent","screenPoint"],reposition:["x","y"],resize:["extent","width","height"],scale:["matrix","immediate"],"time-extent-change":["timeExtent"],"before-unload":["map"],unload:["map"],"update-end":["error"],"update-start":!0,zoom:["extent","zoomFactor","anchor"],"zoom-end":["extent","zoomFactor","anchor","level"],"zoom-start":["extent","zoomFactor","anchor","level"],click:!0,"dbl-click":!0,"key-down":!0,"key-up":!0,"mouse-down":!0,
	"mouse-drag":!0,"mouse-drag-end":!0,"mouse-drag-start":!0,"mouse-move":!0,"mouse-out":!0,"mouse-over":!0,"mouse-up":!0,"mouse-wheel":!0,"basic-tap":!0,"double-tap":!0,"pinch-end":!0,"pinch-move":!0,"pinch-start":!0,"processed-double-tap":!0,"processed-tap":!0,"swipe-end":!0,"swipe-move":!0,"swipe-start":!0,tap:!0,"two-finger-tap":!0},constructor:function(N,S){S=S||{};this.registerConnectEvents();oa(this,{_internalLayerIds:[],_layers:[],_layerDivs:[],_basemapPending:!1,_connects:[],_layerAddPromises:{},
	_zoomAnimDiv:null,_zoomAnim:null,_layersDiv:null,_firstLayerId:null,_delta:null,_cursor:null,_ratioW:1,_ratioH:1,_params:null,_minResolution:0,_maxResolution:0,cursor:null,layerIds:[],graphicsLayerIds:[],graphics:null,_labels:null,loaded:!1,__panning:!1,__zooming:!1,__container:null,root:null,__LOD:null,__tileInfo:null,__visibleRect:null,__visibleDelta:null,_rids:[],_webglContextOwners:[]});var ea=this.container=a.byId(N),na=this.id=c.get(ea,"id")||x.getUniqueId(this.declaredClass);e.add(ea,"map");
	var ua=t.getContentBox(ea);N=e.add;var Aa=q.create;this.position=new ia(0,0);this._reposition();var Ba=this.width=0<ua.w?ua.w:Fa.width,Qa=this.height=0<ua.h?ua.h:Fa.height,La=this.root=Aa("div",{id:na+"_root",style:{width:Ba+"px",height:Qa+"px",direction:"ltr"}});N(La,"esriMapContainer");ua=this.__container=Aa("div",{id:na+"_container"},La);X(ua,"position","absolute");N(ua,"esriMapContainer");ea.appendChild(La);S=this._params=oa({slider:!0,nav:!1,zoom:-1,minZoom:-1,maxZoom:-1,scale:-1,minScale:0,
	maxScale:0,showInfoWindowOnClick:!0,displayGraphicsOnPan:!0,wrapAround180:!0,fitExtent:!1,optimizePanAnimation:!0},S);this.setWebGLEnabled(null!=S.webglEnabled?S.webglEnabled:this.webglEnabled);this.maxWebGLContexts=null!=S.maxWebGLContexts?S.maxWebGLContexts:-1;this.wrapAround180=S.wrapAround180;this.optimizePanAnimation=S.optimizePanAnimation;this.setBackgroundColor(S.backgroundColor);r.isDefined(S.resizeDelay)&&(this.resizeDelay=S.resizeDelay);S.lods&&(Ea({rows:512,cols:512,dpi:96,format:"JPEG",
	compressionQuality:75,origin:{x:-180,y:90},spatialReference:{wkid:4326},lods:S.lods},S),this.__tileInfo=S.tileInfo);this.extent=S.extent;this._extentUtil({mapCenter:S.center,targetLevel:S.zoom,targetScale:S.scale});this.__visibleRect=new W(0,0,Ba,Qa);this.__visibleDelta=new W(0,0,Ba,Qa);na=this._layersDiv=Aa("div",{id:na+"_layers"});N(na,"esriMapLayers");ua.appendChild(na);this._zoomAnimDiv=Aa("div",{style:{position:"absolute"}});S.infoWindow?this.infoWindow=S.infoWindow:(N=this.infoWindow=new va(S.popupOptions,
	Aa("div")),N.startup(),N._ootb=!0,X(N.domNode,"zIndex",40));if(S.showLabels){var Ia=this;C(["./layers/LabelLayer"],function(Na){ba=Na;Ia._createLabelLayer()});this.on("load",function(){Ia._createLabelLayer()})}this.addPlugin(this._getAbsMid("./plugins/popupManager"),{enabled:S.showInfoWindowOnClick});this._zoomStartHandler=Oa(this,this._zoomStartHandler);this._zoomingHandler=Oa(this,this._zoomingHandler);this._zoomEndHandler=Oa(this,this._zoomEndHandler);this._panningHandler=Oa(this,this._panningHandler);
	this._panEndHandler=Oa(this,this._panEndHandler);this._endTranslate=Oa(this,this._endTranslate);this._timedResize=Oa(this,this._timedResize);this._execResize=Oa(this,this._execResize);this._processLabelLayers=Oa(this,this._processLabelLayers);this._updateLabelLayers=Oa(this,this._updateLabelLayers);this.resize=Oa(this,this.resize);d.addOnWindowUnload(this,this.destroy)},_getAbsMid:function(N){return C.toAbsMid?C.toAbsMid(N):y.id.replace(/\/[^\/]*$/ig,"/")+N},_cleanUp:function(){var N=this.infoWindow;
	N&&(N._ootb&&N.destroy?N.destroy():N.unsetMap(this),delete this.infoWindow);ra(this._tsTimeExtentChange_connect);this.removePlugin("./plugins/popupManager");q.destroy(this.root);this.root=null},_addLayer:function(N,S,ea){if(N.id){var na=N.id.match(N instanceof Y?Ma:bb);na&&na[1]&&(na=Number(na[1]),sa<=na&&(sa=na+1))}var ua=N.id||(N instanceof Y?Ya:Ta)+sa++;N.id=ua;this._layers[ua]=N;N._isRefLayer="top"===ea;ea=!r.isDefined(ea)||0>ea||ea>S.length||"top"===ea?S.length:ea;var Aa;if(!N._isRefLayer)for(;(Aa=
	this.getLayer(S[ea-1]))&&Aa._isRefLayer;)ea--;if(na=!this._firstLayerId&&!this.loaded&&!this._basemapPending&&0===ea&&(S===this.layerIds||S===this.graphicsLayerIds))this._firstLayerId=ua;S.splice(ea,0,ua);var Ba=Oa(this,this._addLayerHandler),Qa=this;ea=this._connects;Aa=function(){N.loaded?Qa._onLoadFix?(Qa._onLoadFix=!1,setTimeout(function(){Ba(N)},0)):Ba(N):(Qa["_"+ua+"_addtoken_load"]=wa(N,"onLoad",Qa,"_addLayerHandler"),Qa["_"+ua+"_addtoken_err"]=wa(N,"onError",Qa,function(La){Ba(N,La,S)}))};
	this.loaded||na||N.loaded&&-1===U(this.graphicsLayerIds,ua)?Aa():ea.push(wa(this,"onLoad",Aa));return N},_forgetLayer:function(N){N=N.id;ra(this["_"+N+"_addtoken_load"]);ra(this["_"+N+"_addtoken_err"]);var S=this._layerAddPromises[N];S&&(delete this._layerAddPromises[N],S.cancel())},_addLayerHandler:function(N,S,ea){S?this._attachLayerToMap(N,S,ea):N._prepareToAttach?(this._layerAddPromises[N.id]=N._prepareToAttach(this)).always(k.hitch(this,function(na){na&&"cancel"===na.dojoType||this._attachLayerToMap(N,
	null,ea)})):N.declaredClass&&(-1<N.declaredClass.toLowerCase().indexOf("vectortilelayer")||-1<N.declaredClass.toLowerCase().indexOf("rasterxlayer")&&N.useWebGL)&&!this.isWebGLContextAvailable()?(S=Error("Too many WebGL contexts. Unable to add the layer: ",N.url),this._attachLayerToMap(N,S,this.layerIds)):this._attachLayerToMap(N,S,ea)},_attachLayerToMap:function(N,S,ea){var na=this.id,ua=N.id,Aa=U(N instanceof Y?this.graphicsLayerIds:this.layerIds,ua),Ba=Aa,Qa=!1,La=this._params;this._forgetLayer(N);
	if(S)delete this._layers[ua],-1!==Aa&&(ea.splice(Aa,1),this.onLayerAddResult(N,S));else{-1===Aa&&(Aa=U(this._internalLayerIds,ua),Ba=20+Aa,Qa=!0);if(ua===this._firstLayerId){S=N.spatialReference;ea=this.extent&&this.extent.spatialReference;!ea||ea.equals(S)||!N.tileInfo&&N.url||(ea=null);ea=this.spatialReference=ea||S;this.wrapAround180=this.wrapAround180&&ea&&ea._isWrappable()?!0:!1;N.tileInfo&&(this.__tileInfo?(S=this.__tileInfo.lods,this.__tileInfo=oa({},N.tileInfo),this.__tileInfo.lods=S):(Ea(oa({},
	N.tileInfo),La),this.__tileInfo=La.tileInfo));if(this.wrapAround180){S=this.__tileInfo;ea=ea._getInfo();if(!S||Math.abs(ea.origin[0]-S.origin.x)>ea.dx)this.wrapAround180=!1;this.wrapAround180&&S&&z._addFrameInfo(S,ea)}La.units=N.units;if((S=this.__tileInfo&&this.__tileInfo.lods)&&S.length){ea=La.minScale;Aa=La.maxScale;var Ia=-1,Na=-1,eb=!1,ab=!1,gb;for(gb=0;gb<S.length;gb++)0<ea&&!eb&&ea>=S[gb].scale&&(Ia=S[gb].level,eb=!0),0<Aa&&!ab&&Aa>=S[gb].scale&&(Na=0<gb?S[gb-1].level:-1,ab=!0);-1===La.minZoom&&
	(La.minZoom=0===ea?S[0].level:Ia);-1===La.maxZoom&&(La.maxZoom=0===Aa?S[S.length-1].level:Na);for(gb=0;gb<S.length;gb++)La.minZoom===S[gb].level&&(La.minScale=S[gb].scale,this._minResolution=S[gb].resolution),La.maxZoom===S[gb].level&&(La.maxScale=S[gb].scale,this._maxResolution=S[gb].resolution)}else La.minZoom=La.maxZoom=La.zoom=-1}N instanceof Y?(this._gc||(this._gc=new Y._GraphicsContainer,this._gc._setMap(this,this._layersDiv).id=na+"_gc"),this._attachGraphicsLayer(N).id=na+"_"+ua):(Ba=N._setMap(this,
	this._layersDiv,Ba,this.__LOD),Ba.id=na+"_"+ua,this._layerDivs[ua]=Ba,this._reorderLayers(this.layerIds),Qa||-1===N.declaredClass.indexOf("VETiledLayer")||this._onBingLayerAdd(N));ua===this._firstLayerId&&(this.graphics=new Y({id:na+"_graphics",displayOnPan:La.displayGraphicsOnPan}),this._addLayer(this.graphics,this._internalLayerIds,20));if(N===this.graphics){ea=this._layers[this._firstLayerId];na=La.zoom;Ba=La.scale;S=La.center;ea=ea.initialExtent||ea.fullExtent;this._firstLayerId=null;this.extent&&
	(this.extent=this._convertGeometry(this,this.extent));!this.extent&&ea&&(S&&(S=this._convertGeometry(ea,S)),S&&(ea=ea.centerAt(S),S=null));if(S=this.extent||ea&&new ca(ea.toJson()))-1<na?S=this.__getExtentForLevel(na,null,S).extent:0<Ba&&(S=ma.getExtentForScale(this,Ba,S));if(!S){console.log("Map: "+this.invalidExtent);return}La=this._fixExtent(S,La.fitExtent);this.extent=La.extent;this.__LOD=La.lod;this.__setExtent(this.extent);this.loaded=!0;this.attr("data-loaded","");this.infoWindow.setMap(this);
	this.onLoad(this)}Qa||(this.onLayerAdd(N),this.onLayerAddResult(N));ra(this[ua+"_addLayerHandler_connect"])}},_convertGeometry:function(N,S){N=N&&N.spatialReference;var ea=S&&S.spatialReference;N&&ea&&!N.equals(ea)&&(N._canProject(ea)?N.isWebMercator()?S=K.geographicToWebMercator(S):4326===N.wkid&&(S=K.webMercatorToGeographic(S,!0)):(console.log("Map: "+r.substitute({geometry:ea.wkid||ea.wkt,map:N.wkid||N.wkt},this.invalidGeometry)),S=null));return S},_attachGraphicsLayer:function(N){var S=N.id;N=
	N._setMap(this,this._gc._surface);this._layerDivs[S]=N;this._reorderLayers(this.graphicsLayerIds);return N},_detachGraphicsLayer:function(N){N.loaded&&N.getMap()&&N._unsetMap(this,this._gc._surface)},_reorderLayers:function(N){var S=this.onLayerReorder,ea=q.place,na=this._layerDivs,ua=this._layers,Aa=this._gc?this._gc._surface.getEventSource():null;if(N===this.graphicsLayerIds)h.forEach(N,function(Na,eb){var ab=na[Na];Na=ua[Na];ab&&(this._gc._reorderLayer(Na,ab,eb),S(Na,eb))},this);else{var Ba=this.graphics,
	Qa=Ba?Ba.id:null,La=this._layersDiv,Ia;h.forEach(N,function(Na,eb){Ia=na[Na];Na!==Qa&&Ia&&(ea(Ia,La,eb),S(ua[Na],eb))});this._mapImageLyr&&this._placeMapImageLyr();Aa&&(Aa=9>p("ie")?Aa.parentNode:Aa,ea(Aa,Aa.parentNode,"last"))}this.onLayersReordered([].concat(N))},_zoomStartHandler:function(){this.__zoomStart(this._zoomAnimDiv.startingExtent,this._zoomAnimDiv.anchor)},_zoomingHandler:function(N){var S=parseFloat(N.left),ea=parseFloat(N.top);N=new ca(S,ea-parseFloat(N.height),S+parseFloat(N.width),
	ea,this.spatialReference);S=this.extent.getWidth()/N.getWidth();this.__zoom(N,S,this._zoomAnimDiv.anchor)},_zoomEndHandler:function(){var N=this._zoomAnimDiv,S=N.extent,ea=this.extent.getWidth()/S.getWidth(),na=N.anchor,ua=N.newLod,Aa=N.levelChange;N.extent=N.anchor=N.levelChange=N.startingExtent=N.newLod=this._delta=this._zoomAnim=null;this.__zoomEnd(S,ea,na,ua,Aa)},_panningHandler:function(N){if(isNaN(parseFloat(N.left))||isNaN(parseFloat(N.top))){var S=Math.round,ea=this._panAnim.node;N.left=-1*
	(this._delta.x-S(this.width/2))+"px";N.top=-1*(this._delta.y-S(this.height/2))+"px";g.set(ea,"left",N.left);g.set(ea,"top",N.top)}N=new ia(parseFloat(N.left),parseFloat(N.top));S=this.toMap(N);this.onPan(this.extent.offset(this.extent.xmin-S.x,this.extent.ymax-S.y),N)},_panEndHandler:function(N){this.__panning=!1;var S=Math.round;N=new ia(-S(parseFloat(N.style.left)),-S(parseFloat(N.style.top)));S=N.x;var ea=N.y,na=this.__visibleRect,ua=this.__visibleDelta;na.x+=-S;na.y+=-ea;ua.x+=-S;ua.y+=-ea;X(this._zoomAnimDiv,
	{left:"0px",top:"0px"});na=this.extent;ua=this._ratioW;var Aa=this._ratioH;na=new ca(na.xmin+S/ua,na.ymin-ea/Aa,na.xmax+S/ua,na.ymax-ea/Aa,this.spatialReference);N.setX(-N.x);N.setY(-N.y);this._delta=this._panAnim=null;this._updateExtent(na);this.onPanEnd(na,N);this._fireExtChg([na,N,!1,this.__LOD])},_fixExtent:function(N,S){for(var ea=this._reshapeExtent(N),na=1.25;!0===S&&(ea.extent.getWidth()<N.getWidth()||ea.extent.getHeight()<N.getHeight())&&0<ea.lod.level&&3>=na;)ea=this._reshapeExtent(N.expand(na)),
	na+=.25;return ea},_getFrameWidth:function(){var N=-1,S=this.spatialReference._getInfo();this.__LOD?(S=this.__LOD._frameInfo)&&(N=S[3]):S&&(N=Math.round(2*S.valid[1]/(this.extent.getWidth()/this.width)));return N},_fixAspectRatio:function(N){var S=N.getWidth(),ea=N.getHeight(),na=S/ea,ua=this.width/this.height,Aa=0,Ba=0;this.width>this.height?S>ea?ua>na?Aa=ea*ua-S:Ba=S/ua-ea:Aa=ea*ua-S:this.width<this.height?S<ea?ua>na?Aa=ea*ua-S:Ba=S/ua-ea:Ba=S/ua-ea:S<ea?Aa=ea-S:S>ea&&(Ba=S/ua-ea);Aa&&(N.xmin-=
	Aa/2,N.xmax+=Aa/2);Ba&&(N.ymin-=Ba/2,N.ymax+=Ba/2);return N},_reshapeExtent:function(N){N=this._fixAspectRatio(N);return this._getAdjustedExtent(N)},_getAdjustedExtent:function(N){if(this.__tileInfo)return z.getCandidateTileInfo(this,this.__tileInfo,N);var S=ma.getScale(this,N),ea=this.getMinScale(),na=this.getMaxScale();!ea||S<=ea?!na||S>=na||(N=ma.getExtentForScale(this,na,N)):N=ma.getExtentForScale(this,ea,N);return{extent:N}},_onBingLayerAdd:function(N){this["__"+N.id+"_vis_connect"]=n.connect(N,
	"onVisibilityChange",this,"_toggleBingLogo");this._toggleBingLogo(N.visible)},_onBingLayerRemove:function(N){n.disconnect(this["__"+N.id+"_vis_connect"]);delete this["__"+N.id+"_vis_connect"];var S=h.some(this.layerIds,function(ea){return(N=this._layers[ea])&&N.visible&&-1!==N.declaredClass.indexOf("VETiledLayer")},this);this._toggleBingLogo(S)},_toggleBingLogo:function(N){N&&!this._bingLogo?(N={left:this._mapParams&&this._mapParams.nav?"25px":""},6===p("ie")&&(N.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled\x3d'true', sizingMethod\x3d'crop', src\x3d'"+
	C.toUrl("./images/map/bing-logo-lg.png")+"')"),N=this._bingLogo=q.create("div",{style:N},this.root),e.add(N,"bingLogo-lg")):!N&&this._bingLogo&&(q.destroy(this._bingLogo),delete this._bingLogo)},__panStart:function(N,S){var ea=this._zoomAnim,na=this._panAnim;if(ea&&ea._active)ea.stop(),ea._fire("onEnd",[ea.node]);else if(na&&na._active){na.stop();this._panAnim=null;S=na.curve.getValue(na._getStep());N=Math.round(parseFloat(S.left));S=Math.round(parseFloat(S.top));ea=this.navigationManager._dragOrigin;
	this.__pan(N,S);ea&&(ea.x-=N,ea.y-=S);return}this.__panning=!0;this.onPanStart(this.extent,new ia(N,S))},__pan:function(N,S){var ea=this.extent,na=this._ratioW,ua=this._ratioH;this.onPan(new ca(ea.xmin-N/na,ea.ymin+S/ua,ea.xmax-N/na,ea.ymax+S/ua,this.spatialReference),new ia(N,S))},__panEnd:function(N,S){var ea=this.__visibleRect,na=this.__visibleDelta;ea.x+=N;ea.y+=S;na.x+=N;na.y+=S;ea=new ia(N,S);na=this.extent;var ua=this._ratioW,Aa=this._ratioH;na=new ca(na.xmin-N/ua,na.ymin+S/Aa,na.xmax-N/ua,
	na.ymax+S/Aa,this.spatialReference);this.__panning=!1;this._updateExtent(na);this.onPanEnd(na,ea);this._fireExtChg([na,ea,!1,this.__LOD])},__zoomStart:function(N,S){this.__zooming=!0;this.onZoomStart(N,1,S,this.__LOD?this.__LOD.level:null)},__zoom:function(N,S,ea){this.onZoom(N,S,ea)},__zoomEnd:function(N,S,ea,na,ua){X(this._layersDiv,{left:"0px",top:"0px"});this._delta=new ia(0,0);this.__visibleRect.x=this.__visibleRect.y=0;N=new ca(N);this.__LOD=na;this._ratioW=this.width/N.getWidth();this._ratioH=
	this.height/N.getHeight();var Aa=this._delta;this._delta=null;this.__zooming=!1;this._updateExtent(N,ua);this.onZoomEnd(N,S,ea,na?na.level:null);this._fireExtChg([N,Aa,ua,na])},_extentUtil:function(N,S,ea,na,ua){var Aa=new l,Ba=this.width,Qa=this.height;if(N){var La=N.numLevels;var Ia=N.targetLevel;var Na=r.isDefined(Ia);var eb=N.factor;var ab=N.mapAnchor;var gb=N.screenAnchor;var cb=N.mapCenter;var kb=N.levelOrFactor;var ub=N.targetScale;var ob=r.isDefined(ub)&&0<ub}if(S){var db=S.dx;var jb=S.dy;
	cb=S.mapCenter}k.isArray(cb)&&(cb=new Z(cb));var nb=this._panAnim;S=(N=this._stopAnim())?N.divExtent:this.extent;var Jb=this.__tileInfo,Ab=this._params;if(!this.loaded){if(ea)S&&(ea=this._convertGeometry(S,ea)),ea&&(this.extent=ea,Ab.zoom=Ab.scale=-1,Ab.center=null);else if(cb||Na||ob){if(cb)if(S){if(cb=this._convertGeometry(S,cb))this.extent=S.centerAt(cb),Ab.center=null}else Ab.center=cb;Na&&-1<Ia?(Ab.zoom=Ia,Ab.scale=-1):ob&&(Ab.scale=ub,Ab.zoom=-1)}Aa.resolve();return Aa}if(cb&&(cb=this._convertGeometry(this,
	cb),!cb)||ab&&(ab=this._convertGeometry(this,ab),!ab)||ea&&(ea=this._convertGeometry(this,ea),!ea))return Aa.reject(),Aa;nb&&ab&&gb&&(ab=fa(this.extent,Ba,Qa,gb));N&&ab&&gb&&(ab=fa(N.divExtent,Ba,Qa,gb));if(Na)if(Jb)La=this.getMinZoom(),Na=this.getMaxZoom(),Ia<La?Ia=La:Ia>Na&&(Ia=Na),La=Ia-(N?N.level:this.getLevel());else{La=0<Ia?-1:1;var vb=kb?Ia:null}if(!ea)if(r.isDefined(La))Jb?(Ba=N?N.level:this.getLevel(),Ba=this.__getExtentForLevel(Ba+La,cb,S).extent):(Ba=(N?N.end:this.extent).expand(vb||(0<
	La?.5*La:2*-La)),vb&&cb&&(Ba=Ba.centerAt(cb))),Ba&&(cb?ea=Ba:(db=ab||S.getCenter(),Qa=Ba.getWidth(),jb=Ba.getHeight(),Ba=db.x>=S.xmin&&db.x<=S.xmax?(db.x-S.xmin)/S.getWidth():.5,ea=db.y>=S.ymin&&db.y<=S.ymax?(db.y-S.ymin)/S.getHeight():.5,Ba=db.x-Ba*Qa,db=db.y-ea*jb,ea=new ca(Ba,db,Ba+Qa,db+jb,this.spatialReference)));else if(ob)ea=ma.getExtentForScale(this,ub,S);else if(r.isDefined(eb))ea=S.expand(eb);else if(db||jb)N?(ea=N.end,ab=ea.getCenter(),vb=pa(ea,Ba,Qa,ab),vb.x+=db,vb.y+=jb,vb=fa(ea,Ba,Qa,
	vb),ea=ea.offset(vb.x-ab.x,vb.y-ab.y)):(db=new ia(Ba/2+db,Qa/2+jb),db=fa(S,Ba,Qa,db),Qa=S.getWidth(),jb=S.getHeight(),Ba=db.x-Qa/2,db=db.y-jb/2,ea=new ca(Ba,db,Ba+Qa,db+jb,this.spatialReference));ea||(cb?(S=N?N.end:S,Qa=S.getWidth(),jb=S.getHeight(),Ba=cb.x-Qa/2,db=cb.y-jb/2,ea=new ca(Ba,db,Ba+Qa,db+jb,this.spatialReference)):N&&(ea=N.end));ea?(this._extentDfd&&-1===this._extentDfd.fired&&(this._extentDfd.then(null,J),this._extentDfd.reject()),this._extentDfd=Aa,this.__setExtent(ea,null,gb,na,N,ua)):
	Aa.reject();return Aa},__setExtent:function(N,S,ea,na,ua,Aa){try{if(this._firstLayerId)this.extent=N;else{var Ba=!0,Qa=this.spatialReference,La=ua?ua.divExtent:this.extent,Ia=this._fixExtent(N,na||!1);N=Ia.extent;var Na=N.getWidth(),eb=N.getHeight(),ab=Math.round;if(La){var gb=ab(1E6*La.getWidth()),cb=ab(1E6*Na),kb=ab(1E6*La.getHeight()),ub=ab(1E6*eb);Ba=gb!==cb||kb!==ub}var ob,db=ua&&ua.rect,jb=ua&&ua.divExtent;if(Fa.zoomDuration&&Ba&&La){jb=jb||new ca(La);db=db||{left:La.xmin,top:La.ymax,width:La.getWidth(),
	height:La.getHeight()};var nb={left:N.xmin,top:N.ymax,width:Na,height:eb};var Jb=new Z(N.xmin,N.ymax,Qa),Ab=new Z(N.xmin,N.ymin,Qa),vb=new Z(this.extent.xmin,this.extent.ymax,Qa),Tb=new Z(this.extent.xmin,this.extent.ymin,Qa);(ob=ha.getLineIntersection(vb,Jb,Tb,Ab,Qa))||ua||(Ba=!1)}this._ratioW=this.width/Na;this._ratioH=this.height/eb;var zb=this._zoomAnimDiv;if(Ba)if(X(this._layersDiv,{left:"0px",top:"0px"}),S=new ia(0,0),this.__visibleRect.x=this.__visibleRect.y=0,db&&nb){this._delta=S;zb.id="_zAD";
	zb.startingExtent=jb;zb.extent=N;zb.levelChange=Ba;zb.newLod=Ia.lod;zb.anchor=ea?ea:!ob&&ua?ua.anchor:pa(this.extent,this.width,this.height,ob);var Db=this.extent.getWidth()/N.getWidth();Fa.zoomAnimationThrottled&&1024<(1>Db?1/Db:Db)?(this.__zoomStart(jb,zb.anchor),this.__zoom(jb,1,zb.anchor),this._fireOnScale(1,zb.anchor,!0),this.__zoomEnd(N,Db,zb.anchor,Ia.lod,Ba)):(this._zoomAnim=D.resize({node:zb,start:db,end:nb,duration:Fa.zoomDuration,rate:Fa.zoomRate,beforeBegin:ua?null:this._zoomStartHandler,
	onAnimate:this._zoomingHandler,onEnd:this._zoomEndHandler}).play(),this._fireOnScale(Db,zb.anchor,Aa))}else this._updateExtent(N,Ba,Aa),this._fireExtChg([this.extent,S,Ba,this.__LOD=Ia.lod]);else if(!this.__panning)if(!1===this.loaded||Aa)this._updateExtent(N,Ba,Aa),this._fireExtChg([this.extent,S,Ba,this.__LOD=Ia.lod]);else{this.__panning=!0;db=(new W(0,0,this.width,this.height,this.spatialReference)).getCenter();db.x=ab(db.x);db.y=ab(db.y);var Kb=this._delta=this.toScreen(N.getCenter()),Qb=Math.abs(db.x-
	Kb.x),Gb=Math.abs(db.y-Kb.y);this.optimizePanAnimation&&(Qb>2*this.width||Gb>2*this.height)?(this.__panStart(0,0),this.__pan(0,0),this.__visibleRect.x=this.__visibleRect.y=this.__visibleDelta.x=this.__visibleDelta.y=0,this.__panning=!1,this._delta=null,this._updateExtent(N,!1,Aa),this.onPanEnd(this.extent,new ia(0,0)),this._fireExtChg([this.extent,new ia(0,0),!0,this.__LOD])):(this.onPanStart(this.extent,new ia(0,0)),this._panAnim=D.slideTo({node:zb,left:db.x-Kb.x,top:db.y-Kb.y,duration:Fa.panDuration,
	rate:Fa.panRate,onAnimate:this._panningHandler,onEnd:this._panEndHandler}),this._panAnim.play())}}}catch(Rb){console.log(Rb.stack),console.error(Rb)}},_fireOnScale:function(N,S,ea){if("css-transforms"===this.navigationMode){var na=this.__visibleDelta;this.onScale(u.scaleAt(N,{x:-1*(this.width/2-(S.x-na.x)),y:-1*(this.height/2-(S.y-na.y))}),ea)}},_stopAnim:function(){var N=this._zoomAnim,S=this._panAnim;if(N&&N._active){N.stop();S=N.curve.getValue(N._getStep());var ea=parseFloat(S.left),na=parseFloat(S.top);
	N=N.node;return{anchor:N.anchor,start:N.startingExtent,end:N.extent,level:N.newLod&&N.newLod.level,rect:S,divExtent:new ca(ea,na-parseFloat(S.height),ea+parseFloat(S.width),na,this.spatialReference)}}S&&S._active&&(S.stop(),S._fire("onEnd",[S.node]))},__getExtentForLevel:function(N,S,ea){var na=this.__tileInfo;na=na&&na.lods;N=r.isDefined(N)?N:0;ea=ea||this.extent;S=S||ea&&ea.getCenter();if(na){if(S){ea=this.getMinZoom();var ua=this.getMaxZoom();N>ua&&(N=ua);N<ea&&(N=ea);N=na[N];na=this.width*N.resolution/
	2;ea=this.height*N.resolution/2;return{extent:new ca(S.x-na,S.y-ea,S.x+na,S.y+ea,S.spatialReference),lod:N}}}else if(ea)return{extent:ea.expand(!N||1>N?1:N).centerAt(S)};console.log("Map: "+this.invalidExtent)},_jobs:0,_incr:function(){1===++this._jobs&&(this.updating=!0,this.attr("data-updating",""),this.onUpdateStart())},_decr:function(){var N=--this._jobs;N?0>N&&(this._jobs=0):(this.updating=!1,this.attr("data-updating"),this.onUpdateEnd())},_fireEvent:function(N,S){this[N]&&this[N].apply(this,
	S)},_updateExtent:function(N,S,ea){this.extent=N;N=this.spatialReference;this._viewInfo={view:new T({viewingMode:"map",scale:this.getScale()}),sr:N,version:S?++Q:Q};(S||ea)&&this._setClipRect();this._calcGeographicExtent()},_calcGeographicExtent:function(){var N=this.spatialReference;N&&(N.isWebMercator()?this.geographicExtent=K.webMercatorToGeographic(this._getAvailExtent(),!0):4326===N.wkid&&(this.geographicExtent=new ca(this._getAvailExtent().toJson())))},_fireExtChg:function(N){this.attr("data-zoom",
	this.getZoom());this.attr("data-scale",this.getScale());this._fireEvent("onExtentChange",N);if(N=this._extentDfd)delete this._extentDfd,N.resolve()},attr:function(N,S){var ea=this.container;ea&&(null==S?ea.removeAttribute(N):ea.setAttribute(N,S));return this},onUpdateStart:function(){},onUpdateEnd:function(){},onLoad:function(){this._setClipRect();this._calcGeographicExtent()},onBeforeUnload:function(){},onUnload:function(){},onExtentChange:function(N,S,ea){},onTimeExtentChange:function(){},onWebGLEnabledChange:function(){},
	onLayerAdd:function(){},onLayerAddResult:function(){},onLayersAddResult:function(){},onLayerRemove:function(){},onLayersRemoved:function(){},onLayerReorder:function(){},onLayersReordered:function(){},onLayerSuspend:function(){},onLayerResume:function(){},onPanStart:function(){},onPan:function(){},onPanEnd:function(){},onScale:function(){},onZoomStart:function(){},onZoom:function(){},onZoomEnd:function(){},onResize:function(){this._setClipRect()},onReposition:function(){},destroy:function(){this._destroyed||
	(this.onBeforeUnload(this),this.removeAllLayers(),this.releaseAllWebGLContexts(),this._cleanUp(),clearTimeout(this._resizeTimerHandle),this._gc&&this._gc._cleanUp(),this._destroyed=!0,this.onUnload(this))},setCursor:function(N){X(this.__container,"cursor",this.cursor=N)},setMapCursor:function(N){this.setCursor(this._cursor=N)},resetMapCursor:function(){this.setCursor(this._cursor)},setBackgroundColor:function(N){N&&!N.declaredClass&&(N=new I(N));this.backgroundColor=N||null;var S="";N&&(S=9>p("ie")?
	N.toHex():"rgba("+N.toRgba().join(",")+")");g.set(this.root,{backgroundColor:S})},setInfoWindow:function(N){var S=this.infoWindow;S&&S.unsetMap(this);this.infoWindow=N;this.loaded&&N&&N.setMap(this)},setInfoWindowOnClick:function(N){this._params.showInfoWindowOnClick=N;this.popupManager&&this.popupManager.set("enabled",N)},getInfoWindowAnchor:function(N){return this.infoWindow&&this.infoWindow._getAnchor&&this.infoWindow._getAnchor(N)||"upperright"},toScreen:function(N,S){return pa(this.extent,this.width,
	this.height,N,S)},toMap:function(N){return fa(this.extent,this.width,this.height,N)},addLayer:function(N,S){N&&!this.getLayer(N.id)&&this._addLayer(N,N instanceof Y?this.graphicsLayerIds:this.layerIds,S);return N},addLayers:function(N){var S=[],ea=N.length,na,ua=N.length;var Aa=n.connect(this,"onLayerAddResult",function(Ba,Qa){-1!==h.indexOf(N,Ba)&&(ea--,S.push({layer:Ba,success:!Qa,error:Qa}),ea||(n.disconnect(Aa),this.onLayersAddResult(S)))});for(na=0;na<ua;na++)this.addLayer(N[na]);return this},
	removeLayer:function(N,S){var ea=N.id,na=N instanceof Y?this.graphicsLayerIds:this.layerIds,ua=U(na,ea);0<=ua&&(this._forgetLayer(N),na.splice(ua,1),this.loaded||this._firstLayerId!==ea||(this._firstLayerId=null),N instanceof Y?this._detachGraphicsLayer(N):N.loaded&&(N.getMap()&&N._unsetMap(this,this._layersDiv),-1!==N.declaredClass.indexOf("VETiledLayer")&&this._onBingLayerRemove(N)),delete this._layers[ea],delete this._layerDivs[ea],S||this._reorderLayers(na),this.onLayerRemove(N))},removeAllLayers:function(){var N=
	this.layerIds,S;for(S=N.length-1;0<=S;S--)this.removeLayer(this._layers[N[S]],1);N=this.graphicsLayerIds;for(S=N.length-1;0<=S;S--)this.removeLayer(this._layers[N[S]],1);this.onLayersRemoved()},reorderLayer:function(N,S){k.isString(N)&&(b.deprecated(this.declaredClass+": Map.reorderLayer(/*String*/ id, /*Number*/ index) deprecated. Use Map.reorderLayer(/*Layer*/ layer, /*Number*/ index).",null,"v2.0"),N=this.getLayer(N));var ea=N.id,na=N instanceof Y?this.graphicsLayerIds:this.layerIds;0>S?S=0:S>=
	na.length&&(S=na.length-1);N=U(na,ea);-1!==N&&N!==S&&(na.splice(N,1),na.splice(S,0,ea),this._reorderLayers(na))},getLayer:function(N){return this._layers[N]},setWebGLEnabled:function(N){var S=this.webglEnabled;this.webglEnabled=(N||!1)&&aa;if(S!==this.webglEnabled)this.onWebGLEnabledChange()},isWebGLContextAvailable:function(){return qa.isContextAvailable()&&(-1===this.maxWebGLContexts||0<this.maxWebGLContexts&&this._webglContextOwners.length<this.maxWebGLContexts)},ownsWebGLContext:function(N){return-1!==
	h.indexOf(this._webglContextOwners,N)},acquireWebGLContext:function(N){return-1!==h.indexOf(this._webglContextOwners,N)?!0:this.isWebGLContextAvailable()?(qa.acquireContext(N),this._webglContextOwners.push(N),!0):!1},releaseWebGLContext:function(N){var S=h.indexOf(this._webglContextOwners,N);-1!==S&&this._webglContextOwners.splice(S,1);qa.releaseContext(N)},releaseAllWebGLContexts:function(){var N=this._webglContextOwners.slice(0);h.forEach(N,function(S){this.releaseWebGLContext(S)},this)},syncHitTestForWebGL:function(N){var S,
	ea=N.screenPoint;N=this.graphicsLayerIds.slice(0).reverse();h.some(N,function(na){na=this.getLayer(na);na.loaded&&!na.suspended&&na.hasWebGLSurface()&&(S=na._div.syncHitTest(ea.x,ea.y));return!!S},this);return S},setExtent:function(N,S){N=new ca(N.toJson());var ea=N.getWidth(),na=N.getHeight();return 0===ea&&0===na?this.centerAt(new Z({x:N.xmin,y:N.ymin,spatialReference:N.spatialReference&&N.spatialReference.toJson()})):this._extentUtil(null,null,N,S)},getTargetExtent:function(N){if(N)return N=new ca(N.toJson()),
	0!==N.getWidth()&&0!==N.getHeight()&&(N=(N=this._convertGeometry(this,N))&&this._fixExtent(N).extent),N},centerAt:function(N){return this._extentUtil(null,{mapCenter:N})},centerAndZoom:function(N,S){return this._extentUtil({targetLevel:S,mapCenter:N,levelOrFactor:!0})},getScale:function(){return this.__LOD?this.__LOD.scale:ma.getScale(this)},getResolution:function(){return this.__LOD?this.__LOD.resolution:this.extent?this.extent.getWidth()/this.width:0},getResolutionInMeters:function(){return this.getResolution()*
	ma.getUnitValueForSR(this.spatialReference)},getResolutionForPopup:function(){var N=this.getResolution(),S=this.getResolutionInMeters(),ea=S/16;return 10>=ea?0:N/S*ea},getMinResolution:function(){return this._minResolution},getMaxResolution:function(){return this._maxResolution},getMinScale:function(){return this._params.minScale},getMaxScale:function(){return this._params.maxScale},getViewInfo:function(){return this._viewInfo},setScale:function(N){return this._extentUtil({targetScale:N})},getLayersVisibleAtScale:function(N){var S=
	[];(N=N||this.getScale())&&h.forEach(this.layerIds.concat(this.graphicsLayerIds),function(ea){ea=this.getLayer(ea);ea.isVisibleAtScale(N)&&S.push(ea)},this);return S},getNumLevels:function(){var N=this.getMinZoom(),S=this.getMaxZoom();return N===S&&0>N?0:S-N+1},getLevel:function(){return this.__LOD?this.__LOD.level:-1},setLevel:function(N){if(-1<N)return this._extentUtil({targetLevel:N})},getZoom:function(){return this.getLevel()},setZoom:function(N){return this.setLevel(N)},getMinZoom:function(){return this._params.minZoom},
	getMaxZoom:function(){return this._params.maxZoom},setBasemap:function(N){if(k.isObject(N)){var S=N;N=S.title}else S=v&&v[N];if(S){this._basemapDfd&&!this._basemapDfd.isFulfilled()&&this._basemapDfd.cancel();var ea=[],na=0;h.forEach(S.baseMapLayers||S.layers,function(Aa){var Ba={id:Aa.id,displayLevels:Aa.displayLevels,opacity:r.isDefined(Aa.opacity)?Aa.opacity:null,visible:r.isDefined(Aa.visibility)?Aa.visibility:null};if(Ba=this._createBaseLayerInstance(Aa,Ba,N))ea.push(Ba),Aa.isReference||na++},
	this);ea.length&&na?(this._basemapDfd=O(ea).otherwise(Oa(this,function(Aa){this._basemapPending=!1;Aa&&"cancel"===Aa.dojoType&&h.forEach(ea,function(Ba){Ba.cancel()});throw Aa;})).then(function(Aa){var Ba=[],Qa=[];h.forEach(Aa,function(La){La&&(La.layerInfo&&Ba.push(La.layerInfo),La.layer&&Qa.push(La.layer))});return{basemapName:N,infos:Ba,layers:Qa}}).then(Oa(this,this._waitForBaseLayers)).then(Oa(this,this._setBasemap)),this._basemapPending=!this.loaded&&!this._basemapDfd.isFulfilled()):console.log("Map.setBasemap: "+
	r.substitute({basemapName:N},this.invalidBasemap))}else{S=[];for(var ua in v)S.push(ua);console.log("Map.setBasemap: "+r.substitute({basemapName:N,list:S.join(",")},this.unknownBasemap))}},_createBaseLayerInstance:function(N,S,ea){var na=new l;if(N.type)switch(N.type){case "OpenStreetMap":na.resolve({layerInfo:N,layer:new ka(S)});break;case "VectorTile":C(["./layers/VectorTileLayer"],function(Aa){ua=E.normalize(N.url);na.promise.isFulfilled()||na.resolve({layerInfo:N,layer:new Aa(ua,S)})});break;
	default:return console.log("Map.setBasemap: "+r.substitute({basemapName:ea,type:N.type},this.unknownLayerType)),null}else{var ua=E.normalize(N.url);na.resolve({layerInfo:N,layer:new R(ua,S)})}return na.promise},_waitForBaseLayers:function(N){var S=new l(G._dfdCanceller);S.promise.otherwise(function(na){if(na&&"cancel"===na.dojoType){for(var ua in S._layerEvents)na=S._layerEvents[ua],n.disconnect(na[0]),n.disconnect(na[1]);delete S._layerEvents}});if(!this.loaded)return S.resolve(N),S.promise;var ea=
	function(na){S._pendingLayers--;na=h.indexOf(N.layers,this);-1<na&&(na=S._layerEvents[na])&&(n.disconnect(na[0]),n.disconnect(na[1]));0>=S._pendingLayers&&(delete S._layerEvents,S.isFulfilled()||S.resolve(N))};S._pendingLayers=0;S._layerEvents={};h.forEach(N.layers,function(na,ua){na&&S._pendingLayers++});h.forEach(N.layers,function(na,ua){na&&(na.loaded?ea(na):S._layerEvents[ua]=[n.connect(na,"onLoad",na,ea),n.connect(na,"onError",na,ea)])});return S.promise},_setBasemap:function(N){var S=N.layers,
	ea=N.infos,na=0,ua=!0;this._basemapPending=!1;this.loaded&&(h.forEach(S,function(Ba,Qa){Ba.loaded&&(ea[Qa].isReference||na++)}),ua=na);if(ua){if(this.basemapLayerIds){var Aa={basemapName:this._basemap,infos:v&&v[this._basemap]&&v[this._basemap].baseMapLayers};Aa.basemapName||(h.forEach(this.basemapLayerIds,function(Ba){if(this.getLayer(Ba)instanceof ka)return Aa.basemapName="osm",Aa.infos=v&&v.osm&&v.osm.baseMapLayers,!1},this),Aa.basemapName||(Aa=null))}this._removeBasemap();this._basemap=N.basemapName;
	this.basemapLayerIds=this._addBasemapLayers(S,ea);this.attr("data-basemap",this.getBasemap());this.emit("basemap-change",{current:N,previous:Aa})}},_addBasemapLayers:function(N,S){var ea=[],na=[],ua=0;h.forEach(N,function(Aa,Ba){S[Ba].isReference?ea.push(Aa):(this.addLayer(Aa,ua++),na.push(Aa.id))},this);ea.length&&h.forEach(ea,function(Aa){Aa.attr("data-reference",!0);this.addLayer(Aa,"top");na.push(Aa.id)},this);return na},_removeBasemap:function(){var N=this.basemapLayerIds,S;N&&N.length&&h.forEach(N,
	function(ea){(S=this.getLayer(ea))&&this.removeLayer(S)},this)},getBasemap:function(){return this._basemap||""},translate:function(N,S){N=N||0;S=S||0;if(!this._txTimer){this._tx=this._ty=0;var ea=this.toScreen(this.extent.getCenter());this.__panStart(ea.x,ea.y)}this._tx+=N;this._ty+=S;this.__pan(this._tx,this._ty);clearTimeout(this._txTimer);this._txTimer=setTimeout(this._endTranslate,150)},_endTranslate:function(){clearTimeout(this._txTimer);this._txTimer=null;var N=this._tx,S=this._ty;this._tx=
	this._ty=0;this.__panEnd(N,S)},setTimeExtent:function(N){N=(this.timeExtent=N)?new N.constructor(N.toJson()):null;this.onTimeExtentChange(N)},setTimeSlider:function(N){this.timeSlider&&(ra(this._tsTimeExtentChange_connect),this.timeSlider=this._tsTimeExtentChange_connect=null);N&&(this.timeSlider=N,this.setTimeExtent(N.getCurrentTimeExtent()),this._tsTimeExtentChange_connect=wa(N,"onTimeExtentChange",this,"setTimeExtent"))},setVisibility:function(N){if(this.visible!==N){this.visible=N;N||(this._display=
	this.container.style.display);this.container.style.display=N?this._display:"none";if(this.autoResize){var S=N?"resume":"pause";this._rszSignal[S]();this._oriSignal[S]()}N&&this.resize()}return this},resize:function(N){clearTimeout(this._resizeTimerHandle);this._destroyed||(!0===N?this._execResize():this._resizeTimerHandle=setTimeout(this._execResize,this.resizeDelay))},_timedResize:function(){this._resizeTimerHandle||this._execResize()},_execResize:function(){clearTimeout(this._resizeTimerHandle);
	this._resizeTimerHandle=null;this.reposition();this._resize();this.autoResize&&this._startResizeTimer()},_resize:function(){var N=this.width,S=this.height,ea=g.get(this.container,"display"),na=t.getContentBox(this.container);if(!("none"===ea||0>=na.w||0>=na.h||N===na.w&&S===na.h)){if(ea=this._zoomAnim||this._panAnim)ea.stop(),ea._fire("onEnd",[ea.node]);X(this.root,{width:(this.width=na.w)+"px",height:(this.height=na.h)+"px"});na=this.width;ea=this.height;this.attribution&&this.attribution.domNode&&
	g.set(this.attribution.domNode,"maxWidth",Math.floor(na*this._mapParams.attributionWidth)+"px");this.__visibleRect.update(this.__visibleRect.x,this.__visibleRect.y,na,ea);this.__visibleDelta.update(this.__visibleDelta.x,this.__visibleDelta.y,na,ea);var ua=new W(this.extent);N=(new W(ua.x,ua.y,na/N*ua.width,ea/S*ua.height,this.spatialReference)).getExtent();this.onResize(N,na,ea);this._extentUtil(null,null,N,null,!0)}},reposition:function(){var N=this.position,S=N.x,ea=N.y;this._reposition();N=this.position;
	if(S!==N.x||ea!==N.y)this.onReposition(N.x,N.y)},_reposition:function(){var N=t.position(this.container,!0),S=t.getPadBorderExtents(this.container);this.position.update(N.x+S.l,N.y+S.t)},_setClipRect:function(){delete this._clip;var N=7>=p("ie")||void 0===p("ie")&&7<=p("trident")?"rect(auto,auto,auto,auto)":"auto";if(this.wrapAround180){var S=this.width,ea=this.height,na=this._getFrameWidth(),ua=S-na;0<ua&&(N=ua/2,N="rect(0px,"+(N+na)+"px,"+ea+"px,"+N+"px)",ea=this.extent.getWidth(),S=na/S*ea,this._clip=
	[(ea-S)/2,S])}X(this.__container,"clip",N)},_getAvailExtent:function(){var N=this.extent,S=this._clip;if(S){if(!N._clip){var ea=new W(N);ea.width=S[1];ea.x+=S[0];N._clip=ea.getExtent()}return N._clip}return N},_fixedPan:function(N,S){return this._extentUtil(null,{dx:N,dy:S})},panUp:function(){return this._fixedPan(0,-.75*this.height)},panUpperRight:function(){return this._fixedPan(.75*this.width,-.75*this.height)},panRight:function(){return this._fixedPan(.75*this.width,0)},panLowerRight:function(){return this._fixedPan(.75*
	this.width,.75*this.height)},panDown:function(){return this._fixedPan(0,.75*this.height)},panLowerLeft:function(){return this._fixedPan(-.75*this.width,.75*this.height)},panLeft:function(){return this._fixedPan(-.75*this.width,0)},panUpperLeft:function(){return this._fixedPan(-.75*this.width,-.75*this.height)},enableSnapping:function(N){N=N||{};if("esri.SnappingManager"===N.declaredClass)this.snappingManager=N;else{var S=sa++,ea=this;this._rids&&this._rids.push(S);C(["./SnappingManager"],function(na){var ua=
	ea._rids?h.indexOf(ea._rids,S):-1;-1!==ua&&(ea._rids.splice(ua,1),ea.snappingManager=new na(k.mixin({map:ea},N)))})}return this.snappingManager},disableSnapping:function(){this.snappingManager&&this.snappingManager.destroy();this.snappingManager=null},_createLabelLayer:function(){!this._labels&&ba&&this.loaded&&(this._labels=new ba({id:"_internal_LabelLayer"}),this._labels._setMap(this,this._gc._surface),this._processLabelLayers(),this.on("layers-reordered",this._processLabelLayers))},_processLabelLayers:function(){null==
	this._labelProcessor&&(this._labelProcessor=setTimeout(this._updateLabelLayers,0))},_updateLabelLayers:function(){this._labelProcessor=null;this._labels&&(this._labels.removeAllFeatureLayers(),h.forEach(this.graphicsLayerIds,function(N){N=this.getLayer(N);"function"===typeof N.applyEdits?this._labels.addFeatureLayer(N):"esri.layers.WFSLayer"===N.declaredClass&&this._labels.addFeatureLayer(N)},this))},_getMapImageLyr:function(){this.loaded&&!this._mapImageLyr&&(this._mapImageLyr=new da,this._mapImageLyr._setMap(this,
	this._layersDiv),this._placeMapImageLyr());return this._mapImageLyr},_placeMapImageLyr:function(){for(var N=this.layerIds,S=this._layerDivs,ea=!1,na,ua,Aa=N.length-1;0<=Aa;Aa--)if(na=N[Aa],ua=this.getLayer(na),na=S[na],ua&&na&&!ua._isReference){q.place(this._mapImageLyr._div,na,"after");ea=!0;break}ea||q.place(this._mapImageLyr._div,this._layersDiv,"first")}});p("extend-esri")&&(A._CoreMap=w);return w})},"dojox/gfx/matrix":function(){define(["./_base","dojo/_base/lang"],function(C,y){var b=C.matrix=
	{},w={};b._degToRad=function(n){return w[n]||(w[n]=Math.PI*n/180)};b._radToDeg=function(n){return n/Math.PI*180};b.Matrix2D=function(n){if(n)if("number"==typeof n)this.xx=this.yy=n;else if(n instanceof Array){if(0<n.length){for(var l=b.normalize(n[0]),k=1;k<n.length;++k){var h=l,f=b.normalize(n[k]);l=new b.Matrix2D;l.xx=h.xx*f.xx+h.xy*f.yx;l.xy=h.xx*f.xy+h.xy*f.yy;l.yx=h.yx*f.xx+h.yy*f.yx;l.yy=h.yx*f.xy+h.yy*f.yy;l.dx=h.xx*f.dx+h.xy*f.dy+h.dx;l.dy=h.yx*f.dx+h.yy*f.dy+h.dy}y.mixin(this,l)}}else y.mixin(this,
	n)};y.extend(b.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});y.mixin(b,{identity:new b.Matrix2D,flipX:new b.Matrix2D({xx:-1}),flipY:new b.Matrix2D({yy:-1}),flipXY:new b.Matrix2D({xx:-1,yy:-1}),translate:function(n,l){return 1<arguments.length?new b.Matrix2D({dx:n,dy:l}):new b.Matrix2D({dx:n.x,dy:n.y})},scale:function(n,l){return 1<arguments.length?new b.Matrix2D({xx:n,yy:l}):"number"==typeof n?new b.Matrix2D({xx:n,yy:n}):new b.Matrix2D({xx:n.x,yy:n.y})},rotate:function(n){var l=Math.cos(n);n=Math.sin(n);
	return new b.Matrix2D({xx:l,xy:-n,yx:n,yy:l})},rotateg:function(n){return b.rotate(b._degToRad(n))},skewX:function(n){return new b.Matrix2D({xy:Math.tan(n)})},skewXg:function(n){return b.skewX(b._degToRad(n))},skewY:function(n){return new b.Matrix2D({yx:Math.tan(n)})},skewYg:function(n){return b.skewY(b._degToRad(n))},reflect:function(n,l){1==arguments.length&&(l=n.y,n=n.x);var k=n*n,h=l*l,f=k+h,d=2*n*l/f;return new b.Matrix2D({xx:2*k/f-1,xy:d,yx:d,yy:2*h/f-1})},project:function(n,l){1==arguments.length&&
	(l=n.y,n=n.x);var k=n*n,h=l*l,f=k+h,d=n*l/f;return new b.Matrix2D({xx:k/f,xy:d,yx:d,yy:h/f})},normalize:function(n){return n instanceof b.Matrix2D?n:new b.Matrix2D(n)},isIdentity:function(n){return 1==n.xx&&0==n.xy&&0==n.yx&&1==n.yy&&0==n.dx&&0==n.dy},clone:function(n){var l=new b.Matrix2D,k;for(k in n)"number"==typeof n[k]&&"number"==typeof l[k]&&l[k]!=n[k]&&(l[k]=n[k]);return l},invert:function(n){n=b.normalize(n);var l=n.xx*n.yy-n.xy*n.yx;return n=new b.Matrix2D({xx:n.yy/l,xy:-n.xy/l,yx:-n.yx/
	l,yy:n.xx/l,dx:(n.xy*n.dy-n.yy*n.dx)/l,dy:(n.yx*n.dx-n.xx*n.dy)/l})},_multiplyPoint:function(n,l,k){return{x:n.xx*l+n.xy*k+n.dx,y:n.yx*l+n.yy*k+n.dy}},multiplyPoint:function(n,l,k){n=b.normalize(n);return"number"==typeof l&&"number"==typeof k?b._multiplyPoint(n,l,k):b._multiplyPoint(n,l.x,l.y)},multiplyRectangle:function(n,l){var k=b.normalize(n);l=l||{x:0,y:0,width:0,height:0};if(b.isIdentity(k))return{x:l.x,y:l.y,width:l.width,height:l.height};n=b.multiplyPoint(k,l.x,l.y);var h=b.multiplyPoint(k,
	l.x,l.y+l.height),f=b.multiplyPoint(k,l.x+l.width,l.y);l=b.multiplyPoint(k,l.x+l.width,l.y+l.height);k=Math.min(n.x,h.x,f.x,l.x);var d=Math.min(n.y,h.y,f.y,l.y);return{x:k,y:d,width:Math.max(n.x,h.x,f.x,l.x)-k,height:Math.max(n.y,h.y,f.y,l.y)-d}},multiply:function(n){for(var l=b.normalize(n),k=1;k<arguments.length;++k){var h=l,f=b.normalize(arguments[k]);l=new b.Matrix2D;l.xx=h.xx*f.xx+h.xy*f.yx;l.xy=h.xx*f.xy+h.xy*f.yy;l.yx=h.yx*f.xx+h.yy*f.yx;l.yy=h.yx*f.xy+h.yy*f.yy;l.dx=h.xx*f.dx+h.xy*f.dy+h.dx;
	l.dy=h.yx*f.dx+h.yy*f.dy+h.dy}return l},_sandwich:function(n,l,k){return b.multiply(b.translate(l,k),n,b.translate(-l,-k))},scaleAt:function(n,l,k,h){switch(arguments.length){case 4:return b._sandwich(b.scale(n,l),k,h);case 3:return"number"==typeof k?b._sandwich(b.scale(n),l,k):b._sandwich(b.scale(n,l),k.x,k.y)}return b._sandwich(b.scale(n),l.x,l.y)},rotateAt:function(n,l,k){return 2<arguments.length?b._sandwich(b.rotate(n),l,k):b._sandwich(b.rotate(n),l.x,l.y)},rotategAt:function(n,l,k){return 2<
	arguments.length?b._sandwich(b.rotateg(n),l,k):b._sandwich(b.rotateg(n),l.x,l.y)},skewXAt:function(n,l,k){return 2<arguments.length?b._sandwich(b.skewX(n),l,k):b._sandwich(b.skewX(n),l.x,l.y)},skewXgAt:function(n,l,k){return 2<arguments.length?b._sandwich(b.skewXg(n),l,k):b._sandwich(b.skewXg(n),l.x,l.y)},skewYAt:function(n,l,k){return 2<arguments.length?b._sandwich(b.skewY(n),l,k):b._sandwich(b.skewY(n),l.x,l.y)},skewYgAt:function(n,l,k){return 2<arguments.length?b._sandwich(b.skewYg(n),l,k):b._sandwich(b.skewYg(n),
	l.x,l.y)}});C.Matrix2D=b.Matrix2D;return b})},"dojox/gfx/_base":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/Color dojo/_base/sniff dojo/_base/window dojo/_base/array dojo/dom dojo/dom-construct dojo/dom-geometry".split(" "),function(C,y,b,w,n,l,k,h,f){var d=y.getObject("dojox.gfx",!0),a=d._base={};d._hasClass=function(p,x){return(p=p.getAttribute("className"))&&0<=(" "+p+" ").indexOf(" "+x+" ")};d._addClass=function(p,x){var u=p.getAttribute("className")||"";(!u||0>(" "+u+" ").indexOf(" "+
	x+" "))&&p.setAttribute("className",u+(u?" ":"")+x)};d._removeClass=function(p,x){var u=p.getAttribute("className");u&&p.setAttribute("className",u.replace(new RegExp("(^|\\s+)"+x+"(\\s+|$)"),"$1$2"))};a._getFontMeasurements=function(){var p={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},x;if(w("ie")){var u=n.doc.documentElement.style.fontSize||"";u||(n.doc.documentElement.style.fontSize="100%")}var A=h.create("div",{style:{position:"absolute",
	left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},n.body());for(x in p)A.style.fontSize=x,p[x]=16*Math.round(12*A.offsetHeight/16)/12/1E3;w("ie")&&(n.doc.documentElement.style.fontSize=u);n.body().removeChild(A);return p};var c=null;a._getCachedFontMeasurements=function(p){if(p||!c)c=a._getFontMeasurements();return c};var e=null,q={};a._getTextBox=function(p,x,u){var A=arguments.length,m;e||(e=h.create("div",
	{style:{position:"absolute",top:"-10000px",left:"0",visibility:"hidden"}},n.body()));var v=e;v.className="";var r=v.style;r.borderWidth="0";r.margin="0";r.padding="0";r.outline="0";if(1<A&&x)for(m in x)m in q||(r[m]=x[m]);2<A&&u&&(v.className=u);v.innerHTML=p;v.getBoundingClientRect?(r=v.getBoundingClientRect(),r={l:r.left,t:r.top,w:r.width||r.right-r.left,h:r.height||r.bottom-r.top}):r=f.getMarginBox(v);v.innerHTML="";return r};a._computeTextLocation=function(p,x,u,A){var m={};switch(p.align){case "end":m.x=
	p.x-x;break;case "middle":m.x=p.x-x/2;break;default:m.x=p.x}m.y=p.y-u*(A?.75:1);return m};a._computeTextBoundingBox=function(p){if(!d._base._isRendered(p))return{x:0,y:0,width:0,height:0};var x=p.getShape();var u=p.getFont()||d.defaultFont;p=p.getTextWidth();u=d.normalizedLength(u.size);x=a._computeTextLocation(x,p,u,!0);return{x:x.x,y:x.y,width:p,height:u}};a._isRendered=function(p){for(p=p.parent;p&&p.getParent;)p=p.parent;return null!==p};var t=0;a._getUniqueId=function(){do var p=C._scopeName+
	"xUnique"+ ++t;while(k.byId(p));return p};var g=w("pointer-events")?"touchAction":w("MSPointer")?"msTouchAction":null;a._fixMsTouchAction=g?function(p){p.rawNode.style[g]="none"}:function(){};y.mixin(d,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",
	x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,
	color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var p={};return function(x){var u=p[x];if(u)return new u;u=p[x]=function(){};u.prototype=d["default"+x];return new u}}(),normalizeColor:function(p){return p instanceof b?p:new b(p)},normalizeParameters:function(p,x){var u;if(x){var A={};for(u in p)u in x&&!(u in A)&&(p[u]=
	x[u])}return p},makeParameters:function(p,x){var u=null;if(!x)return y.delegate(p);var A={};for(u in p)u in A||(A[u]=y.clone(u in x?x[u]:p[u]));return A},formatNumber:function(p,x){var u=p.toString();if(0<=u.indexOf("e"))u=p.toFixed(4);else{var A=u.indexOf(".");0<=A&&5<u.length-A&&(u=p.toFixed(4))}return 0>p?u:x?" "+u:u},makeFontString:function(p){return p.style+" "+p.variant+" "+p.weight+" "+p.size+" "+p.family},splitFontString:function(p){var x=d.getDefault("Font");p=p.split(/\s+/);if(!(5>p.length)){x.style=
	p[0];x.variant=p[1];x.weight=p[2];var u=p[3].indexOf("/");x.size=0>u?p[3]:p[3].substring(0,u);var A=4;0>u&&("/"==p[4]?A=6:"/"==p[4].charAt(0)&&(A=5));A<p.length&&(x.family=p.slice(A).join(" "))}return x},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return d._base._getCachedFontMeasurements()["12pt"]/12},pt2px:function(p){return p*d.px_in_pt()},px2pt:function(p){return p/d.px_in_pt()},normalizedLength:function(p){if(0===p.length)return 0;if(2<p.length){var x=d.px_in_pt(),u=parseFloat(p);
	switch(p.slice(-2)){case "px":return u;case "pt":return u*x;case "in":return 72*u*x;case "pc":return 12*u*x;case "mm":return u*d.mm_in_pt*x;case "cm":return u*d.cm_in_pt*x}}return parseFloat(p)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,equalSources:function(p,x){return p&&x&&p===x},switchTo:function(p){var x="string"==typeof p?d[p]:p;x&&(l.forEach("Group Rect Ellipse Circle Line Polyline Image Text Path TextPath Surface createSurface fixTarget".split(" "),
	function(u){d[u]=x[u]}),"string"==typeof p?d.renderer=p:l.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(u){return d.renderer=d[u]&&d[u].Surface===d.Surface?u:null}))}});return d})},"esri/basemaps":function(){define(["require","dojo/has","./kernel","dojo/i18n!./nls/jsapi"],function(C,y,b,w){C={streets:{title:w.basemaps.streets,thumbnailUrl:C.toUrl("./images/basemap/streets.jpg"),itemId:"d8855ee4d3d74413babfb0f41203b168",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer"}]},
	satellite:{title:w.basemaps.satellite,thumbnailUrl:C.toUrl("./images/basemap/satellite.jpg"),itemId:"86de95d4e0244cba80f0fa2c9403a7b2",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}]},hybrid:{title:w.basemaps.hybrid,thumbnailUrl:C.toUrl("./images/basemap/hybrid.jpg"),itemId:"413fd05bbd7342f5991d5ec96f4f8b18",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"},{url:"https://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",
	isReference:!0}]},terrain:{title:w.basemaps.terrain,thumbnailUrl:C.toUrl("./images/basemap/terrain.jpg"),itemId:"aab054ab883c4a4094c72e949566ad40",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer"},{url:"https://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",isReference:!0}]},topo:{title:w.basemaps.topo,thumbnailUrl:C.toUrl("./images/basemap/topo.jpg"),itemId:"6e03e8c26aad4b9c92a87c1063ddb0e3",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer"}]},
	gray:{title:w.basemaps.gray,thumbnailUrl:C.toUrl("./images/basemap/gray.jpg"),itemId:"8b3b470883a744aeb60e5fff0a319ce7",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer"},{url:"https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",isReference:!0}]},"dark-gray":{title:w.basemaps["dark-gray"],thumbnailUrl:C.toUrl("./images/basemap/dark-gray.jpg"),itemId:"da65bacab5bd4defb576f839b6b28098",
	baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer"},{url:"https://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer",isReference:!0}]},oceans:{title:w.basemaps.oceans,thumbnailUrl:C.toUrl("./images/basemap/oceans.jpg"),itemId:"48b8cec7ebf04b5fbdcaf70d09daff21",baseMapLayers:[{url:"https://services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{url:"https://services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",
	isReference:!0}]},"national-geographic":{title:w.basemaps["national-geographic"],thumbnailUrl:C.toUrl("./images/basemap/national-geographic.jpg"),itemId:"509e2d6b034246d692a461724ae2d62c",baseMapLayers:[{url:"https://services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer"}]},osm:{title:w.basemaps.osm,thumbnailUrl:C.toUrl("./images/basemap/osm.jpg"),itemId:"5d2bfa736f8448b3a1708e1f6be23eed",baseMapLayers:[{type:"OpenStreetMap"}]},"dark-gray-vector":{title:w.basemaps["dark-gray"],
	thumbnailUrl:C.toUrl("./images/basemap/dark-gray.jpg"),itemId:"c11ce4f7801740b2905eb03ddc963ac8",baseMapLayers:[{url:"https://www.arcgis.com/sharing/rest/content/items/c11ce4f7801740b2905eb03ddc963ac8/resources/styles/root.json",type:"VectorTile"}]},"gray-vector":{title:w.basemaps.gray,thumbnailUrl:C.toUrl("./images/basemap/gray.jpg"),itemId:"8a2cba3b0ebf4140b7c0dc5ee149549a",baseMapLayers:[{url:"https://www.arcgis.com/sharing/rest/content/items/8a2cba3b0ebf4140b7c0dc5ee149549a/resources/styles/root.json",
	type:"VectorTile"}]},"streets-vector":{title:w.basemaps.streets,thumbnailUrl:C.toUrl("./images/basemap/streets.jpg"),itemId:"de26a3cf4cc9451298ea173c4b324736",baseMapLayers:[{url:"https://www.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",type:"VectorTile"}]},"topo-vector":{title:w.basemaps.topo,thumbnailUrl:C.toUrl("./images/basemap/topo.jpg"),itemId:"7dc6cea0b1764a1f9af2e679f642f0f5",baseMapLayers:[{url:"https://services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
	{url:"https://www.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",type:"VectorTile"}]},"streets-night-vector":{title:w.basemaps["streets-night-vector"],thumbnailUrl:C.toUrl("./images/basemap/streets-night.jpg"),itemId:"86f556a2d1fd468181855a35e344567f",baseMapLayers:[{url:"https://www.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",type:"VectorTile"}]},"streets-relief-vector":{title:w.basemaps["streets-relief-vector"],
	thumbnailUrl:C.toUrl("./images/basemap/streets-relief.jpg"),itemId:"b266e6d17fc345b498345613930fbd76",baseMapLayers:[{url:"https://www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",type:"VectorTile"}]},"streets-navigation-vector":{title:w.basemaps["streets-navigation-vector"],thumbnailUrl:C.toUrl("./images/basemap/streets-navigation.jpg"),itemId:"63c47b7177f946b49902c24129b87252",baseMapLayers:[{url:"https://www.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",
	type:"VectorTile"}]}};y("extend-esri")&&(b.basemaps=C);return C})},"esri/Evented":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/Evented dojo/has ./kernel".split(" "),function(C,y,b,w,n,l){C=C([w],{declaredClass:"esri.Evented",registerConnectEvents:function(){var k=this.constructor,h=this.constructor._meta.parents,f=[{}],d={},a,c=function(q,t){y.isArray(q)||(q=[q]);for(var g=0;g<q.length;g++){var p=q[g];p._meta&&p._meta.parents&&c(p._meta.parents,t);p.prototype._eventMap&&
	t.push(y.mixin({},p.prototype._eventMap))}return t};if(!k._onMap){c(h,f);f.push(this._eventMap);h=y.mixin.apply(this,f);for(e in this)/^on\w/.test(e)&&y.isFunction(this[e])&&(f=this._hyphenLower(e).toLowerCase(),h[f]||(d[f]={method:e}));for(a in h){var e=this._onCamelCase(a);d[a]={method:e,argKeys:h[a]}}k._onMap=d;return k._onMap}},on:function(k,h){if(-1<k.indexOf(",")){for(var f=k.split(/\s*,\s*/),d=f.length,a=[];d--;)a.push(this.on(f[d],h));a.remove=function(){for(var q=0;q<a.length;q++)a[q].remove()};
	return a}f=this.constructor._onMap||this.registerConnectEvents();d="string"==typeof k&&k.toLowerCase();var c=this._onCamelCase(d),e=f&&f[d];return(c=e&&e.method||this[c]&&y.isFunction(this[c])&&c)?e&&y.isArray(e.argKeys)?(f=this._onArr2Obj(h,f[d].argKeys),b.after(this,c,f,!0)):b.after(this,c,function(q){q=q||{};q.target||(q.target=this);h.call(this,q)},!0):this.inherited(arguments)},emit:function(k,h){var f,d,a=k.toLowerCase();var c=this._onCamelCase(k);var e=this.constructor._onMap||this.registerConnectEvents();
	c=(d=e&&e[a]&&e[a].method||y.isFunction(this[c])&&c)&&this[d];d&&e&&e[a]&&this._onObj2Arr(function(){f=Array.prototype.slice.call(arguments)},e[a].argKeys)(h);h=h||{};h.target||(h.target=this);if(c){var q=f&&f.length?f:[h];q=c.apply(this,q)}this.inherited(arguments,[k,h]);return q},_onObj2Arr:function(k,h){if(h){var f=this;return function(d){var a,c=[],e=h.length;for(a=0;a<e;a++)c[a]=d[h[a]];k.apply(f,c)}}return k},_onArr2Obj:function(k,h){if(h){var f=this;return function(){var d,a={},c=arguments.length;
	for(d=0;d<c;d++)a[h[d]]=arguments[d];a.target||(a.target=f);k.call(f,a)}}return k},_hyphenLower:function(k){return k.replace(/^on/,"").replace(/[A-Z](?=[a-z])/g,function(h,f){return(f?"-":"")+h.toLowerCase()})},_onCamelCase:function(k){return"on"+k.substr(0,1).toUpperCase()+k.substr(1).replace(/\-([a-z])/g,function(h,f){return f.toUpperCase()})}});n("extend-esri")&&(l.Evented=C);return C})},"esri/fx":function(){define("dojo/_base/connect dojo/_base/fx dojo/_base/lang dojo/dom dojo/dom-geometry dojo/dom-style dojo/fx dojo/has ./kernel".split(" "),
	function(C,y,b,w,n,l,k,h,f){var d={animateRange:function(a){var c=a.range;return new y.Animation(b.mixin({curve:new y._Line(c.start,c.end)},a))},resize:function(a){var c=a.node=w.byId(a.node),e=a.start,q=a.end;e||(e=n.getMarginBox(c),c=n.getPadBorderExtents(c),e=a.start={left:e.l+c.l,top:e.t+c.t,width:e.w-c.w,height:e.h-c.h});q||(q=a.anchor?a.anchor:{x:e.left,y:e.top},c=a.size,q=a.end={left:e.left-(c.width-e.width)*(q.x-e.left)/e.width,top:e.top-(c.height-e.height)*(q.y-e.top)/e.height,width:c.width,
	height:c.height});return y.animateProperty(b.mixin({properties:{left:{start:e.left,end:q.left},top:{start:e.top,end:q.top},width:{start:e.width,end:q.width},height:{start:e.height,end:q.height}}},a))},slideTo:function(a){var c=a.node=w.byId(a.node),e=l.getComputedStyle,q=null,t=null,g=function(){return function(){var p="absolute"==c.style.position?"absolute":"relative";q="absolute"==p?c.offsetTop:parseInt(e(c).top)||0;t="absolute"==p?c.offsetLeft:parseInt(e(c).left)||0;"absolute"!=p&&"relative"!=
	p&&(p=n.position(c,!0),q=p.y,t=p.x,c.style.position="absolute",c.style.top=q+"px",c.style.left=t+"px")}}();g();a=y.animateProperty(b.mixin({properties:{top:{start:q,end:a.top||0},left:{start:t,end:a.left||0}}},a));C.connect(a,"beforeBegin",a,g);return a},flash:function(a){a=b.mixin({end:"#f00",duration:500,count:1},a);a.duration/=2*a.count;var c=w.byId(a.node),e=a.start;e||(e=l.getComputedStyle(c).backgroundColor);var q=a.end,t=[],g=a.count;c={node:c,duration:a.duration};for(a=0;a<g;a++)t.push(y.animateProperty(b.mixin({properties:{backgroundColor:{start:e,
	end:q}}},c))),t.push(y.animateProperty(b.mixin({properties:{backgroundColor:{start:q,end:e}}},c)));return k.chain(t)}};h("extend-esri")&&b.mixin(b.getObject("fx",!0,f),d);return d})},"dojo/fx":function(){define("./_base/lang ./Evented ./_base/kernel ./_base/array ./aspect ./_base/fx ./dom ./dom-style ./dom-geometry ./ready require".split(" "),function(C,y,b,w,n,l,k,h,f,d,a){b.isAsync||d(0,function(){a(["./fx/Toggler"])});b=b.fx={};d={_fire:function(q,t){this[q]&&this[q].apply(this,t||[]);return this}};
	var c=function(q){this._index=-1;this._animations=q||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;w.forEach(this._animations,function(t){t&&("undefined"!=typeof t.duration&&(this.duration+=t.duration),t.delay&&(this.duration+=t.delay))},this)};c.prototype=new y;C.extend(c,{_onAnimate:function(){this._fire("onAnimate",arguments)},_onEnd:function(){this._onAnimateCtx.remove();this._onEndCtx.remove();this._onAnimateCtx=this._onEndCtx=null;this._index+1==this._animations.length?
	this._fire("onEnd"):(this._current=this._animations[++this._index],this._onAnimateCtx=n.after(this._current,"onAnimate",C.hitch(this,"_onAnimate"),!0),this._onEndCtx=n.after(this._current,"onEnd",C.hitch(this,"_onEnd"),!0),this._current.play(0,!0))},play:function(q,t){this._current||(this._current=this._animations[this._index=0]);if(!t&&"playing"==this._current.status())return this;var g=n.after(this._current,"beforeBegin",C.hitch(this,function(){this._fire("beforeBegin")}),!0),p=n.after(this._current,
	"onBegin",C.hitch(this,function(u){this._fire("onBegin",arguments)}),!0),x=n.after(this._current,"onPlay",C.hitch(this,function(u){this._fire("onPlay",arguments);g.remove();p.remove();x.remove()}));this._onAnimateCtx&&this._onAnimateCtx.remove();this._onAnimateCtx=n.after(this._current,"onAnimate",C.hitch(this,"_onAnimate"),!0);this._onEndCtx&&this._onEndCtx.remove();this._onEndCtx=n.after(this._current,"onEnd",C.hitch(this,"_onEnd"),!0);this._current.play.apply(this._current,arguments);return this},
	pause:function(){if(this._current){var q=n.after(this._current,"onPause",C.hitch(this,function(t){this._fire("onPause",arguments);q.remove()}),!0);this._current.pause()}return this},gotoPercent:function(q,t){this.pause();var g=this.duration*q;this._current=null;w.some(this._animations,function(p,x){if(g<=p.duration)return this._current=p,this._index=x,!0;g-=p.duration;return!1},this);this._current&&this._current.gotoPercent(g/this._current.duration);t&&this.play();return this},stop:function(q){if(this._current){if(q){for(;this._index+
	1<this._animations.length;++this._index)this._animations[this._index].stop(!0);this._current=this._animations[this._index]}var t=n.after(this._current,"onStop",C.hitch(this,function(g){this._fire("onStop",arguments);t.remove()}),!0);this._current.stop()}return this},status:function(){return this._current?this._current.status():"stopped"},destroy:function(){this.stop();this._onAnimateCtx&&this._onAnimateCtx.remove();this._onEndCtx&&this._onEndCtx.remove()}});C.extend(c,d);b.chain=function(q){return new c(C.isArray(q)?
	q:Array.prototype.slice.call(q,0))};var e=function(q){this._animations=q||[];this._connects=[];this.duration=this._finished=0;w.forEach(q,function(g){var p=g.duration;g.delay&&(p+=g.delay);this.duration<p&&(this.duration=p);this._connects.push(n.after(g,"onEnd",C.hitch(this,"_onEnd"),!0))},this);this._pseudoAnimation=new l.Animation({curve:[0,1],duration:this.duration});var t=this;w.forEach("beforeBegin onBegin onPlay onAnimate onPause onStop onEnd".split(" "),function(g){t._connects.push(n.after(t._pseudoAnimation,
	g,function(){t._fire(g,arguments)},!0))})};C.extend(e,{_doAction:function(q,t){w.forEach(this._animations,function(g){g[q].apply(g,t)});return this},_onEnd:function(){++this._finished>this._animations.length&&this._fire("onEnd")},_call:function(q,t){var g=this._pseudoAnimation;g[q].apply(g,t)},play:function(q,t){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this},gotoPercent:function(q,
	t){var g=this.duration*q;w.forEach(this._animations,function(p){p.gotoPercent(p.duration<g?1:g/p.duration,t)});this._call("gotoPercent",arguments);return this},stop:function(q){this._doAction("stop",arguments);this._call("stop",arguments);return this},status:function(){return this._pseudoAnimation.status()},destroy:function(){this.stop();w.forEach(this._connects,function(q){q.remove()})}});C.extend(e,d);b.combine=function(q){return new e(C.isArray(q)?q:Array.prototype.slice.call(q,0))};b.wipeIn=function(q){var t=
	q.node=k.byId(q.node),g=t.style,p;q=l.animateProperty(C.mixin({properties:{height:{start:function(){p=g.overflow;g.overflow="hidden";if("hidden"==g.visibility||"none"==g.display)return g.height="1px",g.display="",g.visibility="",1;var u=h.get(t,"height");return Math.max(u,1)},end:function(){return t.scrollHeight}}}},q));var x=function(){g.height="auto";g.overflow=p};n.after(q,"onStop",x,!0);n.after(q,"onEnd",x,!0);return q};b.wipeOut=function(q){var t=(q.node=k.byId(q.node)).style,g;q=l.animateProperty(C.mixin({properties:{height:{end:1}}},
	q));n.after(q,"beforeBegin",function(){g=t.overflow;t.overflow="hidden";t.display=""},!0);var p=function(){t.overflow=g;t.height="auto";t.display="none"};n.after(q,"onStop",p,!0);n.after(q,"onEnd",p,!0);return q};b.slideTo=function(q){var t=null,g=null,p=function(x){return function(){var u=h.getComputedStyle(x),A=u.position;t="absolute"==A?x.offsetTop:parseInt(u.top)||0;g="absolute"==A?x.offsetLeft:parseInt(u.left)||0;"absolute"!=A&&"relative"!=A&&(u=f.position(x,!0),t=u.y,g=u.x,x.style.position=
	"absolute",x.style.top=t+"px",x.style.left=g+"px")}}(q.node=k.byId(q.node));p();q=l.animateProperty(C.mixin({properties:{top:q.top||0,left:q.left||0}},q));n.after(q,"beforeBegin",p,!0);return q};return b})},"esri/deferredUtils":function(){define(["dojo/_base/lang","dojo/has","./kernel"],function(C,y,b){var w={_dfdCanceller:function(n){n.canceled=!0;var l=n._pendingDfd;if(!n.isFulfilled()&&l&&!l.isFulfilled()){l.cancel();var k=l.results&&l.results[1]}n._pendingDfd=null;return k},_fixDfd:function(n){var l=
	n.then;n.then=function(k,h,f){if(k){var d=k;k=function(a){return a&&a._argsArray?d.apply(null,a):d(a)}}return l.call(this,k,h,f)};return n},_resDfd:function(n,l,k){var h=l.length;1===h?k?n.errback(l[0]):n.callback(l[0]):1<h?(l._argsArray=!0,n.callback(l)):n.callback()}};y("extend-esri")&&C.mixin(b,w);return w})},"esri/tileUtils":function(){define(["dojo/_base/array","dojo/has","./kernel","./geometry/Point","./geometry/Extent"],function(C,y,b,w,n){var l={_addFrameInfo:function(k,h){var f,d,a=2*h.origin[1],
	c=h.origin[0],e=k.origin.x,q=k.width,t;C.forEach(k.lods,function(g){f=Math.round(a/g.resolution);d=Math.ceil(f/q);t=Math.floor((c-e)/(q*g.resolution));g._frameInfo||(g._frameInfo=[d,t,t+d-1,f])})},getContainingTileCoords:function(k,h,f){var d=k.origin;f=f.resolution;return{row:Math.floor((d.y-h.y)/(k.height*f)),col:Math.floor((h.x-d.x)/(k.width*f))}},getCandidateTileInfo:function(k,h,f){var d=k.width;var a=k.height,c=f.xmax-f.xmin,e=f.ymax-f.ymin,q=k.__tileInfo===h,t=q?k.getMinZoom():-1;q=q?k.getMaxZoom():
	-1;var g=-1,p=h.lods,x=Math.abs,u;q=-1<q?q:p.length-1;for(t=-1<t?t:0;t<=q;t++)if(u=p[t]){var A=c>e?x(e-a*u.resolution):x(c-d*u.resolution);if(0>g||A<=g){var m=u;g=A}else break}d=m;m=d.resolution;a=(f.xmin+f.xmax)/2;c=(f.ymin+f.ymax)/2;e=k.width/2*m;m*=k.height/2;a=new n(a-e,c-m,a+e,c+m,f.spatialReference);f=new w(a.xmin,a.ymax,f.spatialReference);q=d.resolution;e=h.width;c=h.height;h=h.origin;k=k.__visibleDelta;m=Math.floor;p=e*q;x=c*q;q=m((h.y-f.y)/x);g=m((f.x-h.x)/p);t=h.y-q*x;h=m(Math.abs((f.x-
	(h.x+g*p))*e/p))+k.x;k=m(Math.abs((f.y-t)*c/x))+k.y;return{tile:{point:f,coords:{row:q,col:g},offsets:{x:h,y:k}},lod:d,extent:a}},getTileExtent:function(k,h,f,d){var a=k.origin;h=k.lods[h].resolution;var c=k.width,e=k.height;return new n(d*h*c+a.x,a.y-(f+1)*h*e,(d+1)*h*c+a.x,a.y-f*h*e,k.spatialReference)}};y("extend-esri")&&(b.TileUtils=l);return l})},"esri/geometry/Point":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ../SpatialReference ./Geometry ../srUtils".split(" "),
	function(C,y,b,w,n,l,k,h){function f(q,t){89.99999<t?t=89.99999:-89.99999>t&&(t=-89.99999);t*=.017453292519943;return[111319.49079327169*q,3189068.5*Math.log((1+Math.sin(t))/(1-Math.sin(t)))]}function d(q,t,g){q=q/6378137*57.29577951308232;return g?[q,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*t/6378137)))]:[q-360*Math.floor((q+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*t/6378137)))]}function a(){}function c(){}function e(q){var t=q._json;q._unquantizeFn?
	(t=q._unquantizeFn({x:t.x,y:t.y}),q._xVal=t.x,q._yVal=t.y,q._unquantizeFn=null):(q._xVal=t.x,q._yVal=t.y);q._json=null}l={type:"point",x:0,y:0};C=C(k,{declaredClass:"esri.geometry.Point",type:"point",x:0,y:0,constructor:function(q,t,g){y.isArray(q)?(this.x=q[0],this.y=q[1],this.spatialReference=t):n.isObject(q)?(n.mixin(this,q),null!=this.latitude&&(this.y=this.latitude),null!=this.longitude&&(this.x=this.longitude),this.spatialReference&&(this.spatialReference=h.createSpatialReference(this.spatialReference))):
	(this.x=q,this.y=t,this.spatialReference=g);this.verifySR()},offset:function(q,t){return new this.constructor(this.x+q,this.y+t,this.spatialReference)},setX:function(q){this.x=q;this.clearCache();return this},setY:function(q){this.y=q;this.clearCache();return this},setLongitude:function(q){var t=this.spatialReference;t&&(t._isWebMercator()?this.setX(f(q,this.y)[0]):4326===t.wkid&&this.setX(q));return this},setLatitude:function(q){var t=this.spatialReference;t&&(t._isWebMercator()?this.setY(f(this.x,
	q)[1]):4326===t.wkid&&this.setY(q));return this},getLongitude:function(){var q=this.spatialReference;if(q)if(q._isWebMercator())var t=d(this.x,this.y)[0];else 4326===q.wkid&&(t=this.x);return t},getLatitude:function(){var q=this.spatialReference;if(q)if(q._isWebMercator())var t=d(this.x,this.y)[1];else 4326===q.wkid&&(t=this.y);return t},update:function(q,t){this.x=q;this.y=t;this.clearCache();return this},normalize:function(){var q=this.x,t=this.spatialReference;if(t){var g=t._getInfo();g&&(q=this._normalizeX(q,
	g))}return new this.constructor(q,this.y,t)},_normalizeX:function(q,t){var g=t.valid[0],p=t.valid[1];t=2*p;q>p?(g=Math.ceil(Math.abs(q-p)/t),q-=g*t):q<g&&(g=Math.ceil(Math.abs(q-g)/t),q+=g*t);return q},toJson:function(){var q={x:this.x,y:this.y},t=this.spatialReference;t&&(q.spatialReference=t.toJson());return q}});a.prototype=C.prototype;c.prototype=new a;Object.defineProperty(c.prototype,"x",{get:function(){this._json&&e(this);return this._xVal},set:function(q){this._xVal=q}});Object.defineProperty(c.prototype,
	"y",{get:function(){this._json&&e(this);return this._yVal},set:function(q){this._yVal=q}});c.prototype.setupLazyUnquantization=function(q,t){this._unquantizeFn=q;this._json=t};C.simpleConstructor=a;C.accessorConstructor=c;C.lngLatToXY=f;C.xyToLngLat=d;C.defaultProps=l;C.metersPerDegree=6378137*Math.PI/180;b("extend-esri")&&(y.setObject("geometry.Point",C,w),w.geometry.defaultPoint=l);return C})},"esri/SpatialReference":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/has","./kernel",
	"./lang"],function(C,y,b,w,n){function l(){}var k=[-2.0037508342788905E7,2.0037508342788905E7],h=[-2.0037508342787E7,2.0037508342787E7];C=C(null,{declaredClass:"esri.SpatialReference",constructor:function(f){f&&(n.isObject(f)?n.mixin(this,f):n.isString(f)?this.wkt=f:this.wkid=f)},wkid:null,wkt:null,_info:{102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
	valid:k,origin:h,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:k,origin:h,
	dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:k,origin:h,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
	valid:k,origin:h,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",${Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",${Central_Meridian}],UNIT["Degrees",111319.491]]',
	valid:[-180,180],origin:[-180,180],dx:1E-5}},_isWebMercator:function(){return-1!==y.indexOf([102113,102100,3857,3785],this.wkid)},_isWrappable:function(){return-1!==y.indexOf([102113,102100,3857,3785,4326],this.wkid)},_getInfo:function(){return this.wkid?this._info[this.wkid]:null},_canProject:function(f){var d=!1;f&&(d=this.isWebMercator()&&4326===f.wkid||f.isWebMercator()&&4326===this.wkid);return d},isWebMercator:function(){return this._isWebMercator()},equals:function(f){var d=!1;f&&(this===f&&
	(d=!0),this.wkid||f.wkid?d=this.wkid===f.wkid||this.isWebMercator()&&f.isWebMercator()||this.wkid===f.latestWkid||f.wkid===this.latestWkid:this.wkt&&f.wkt&&(d=this.wkt.toUpperCase()===f.wkt.toUpperCase()));return d},toJson:function(){var f=null;null!=this.wkid?f={wkid:this.wkid}:null!=this.wkt&&(f={wkt:this.wkt});f&&null!=this.latestWkid&&(f.latestWkid=this.latestWkid);return f}});l.prototype=C.prototype;C.simpleConstructor=l;b("extend-esri")&&(w.SpatialReference=C);return C})},"esri/geometry/Geometry":function(){define(["dojo/_base/declare",
	"dojo/_base/lang","dojo/has","../kernel","../SpatialReference"],function(C,y,b,w,n){C=C(null,{declaredClass:"esri.geometry.Geometry",spatialReference:null,type:null,cache:void 0,setSpatialReference:function(l){this.spatialReference=l;return this},verifySR:function(){this.spatialReference||this.setSpatialReference(new n(4326))},getExtent:function(){return null},clearCache:function(){this.cache=void 0},getCacheValue:function(l){return this.cache&&this.cache[l]},setCacheValue:function(l,k){this.cache||
	(this.cache={});this.cache[l]=k}});b("extend-esri")&&y.setObject("geometry.Geometry",C,w);return C})},"esri/srUtils":function(){define(["./SpatialReference","./ImageSpatialReference","./kernel","./sniff","dojo/_base/lang"],function(C,y,b,w,n){function l(h){var f=!1;h&&(h.ics||h.icsid)&&(f=!0);return f}var k={isICS:l,createSpatialReference:function(h){var f=null;h&&(f=l(h)?new y(h):new C(h));return f}};w("extend-esri")&&n.mixin(b,k);return k})},"esri/ImageSpatialReference":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ./kernel ./lang ./SpatialReference".split(" "),
	function(C,y,b,w,n,l){C=C(l,{declaredClass:"esri.ImageSpatialReference",constructor:function(k){k&&y.isObject(k)&&y.mixin(this,k)},icsid:null,icsns:null,ics:null,_isWebMercator:function(){return!1},_isWrappable:function(){return!1},equals:function(k){var h=!1;if(k)if(this.icsid&&k.icsid){if(h=this.icsid===k.icsid,this.icsns||k.icsns)h=h&&this.icsns===k.icsns}else this.ics&&k.ics&&(h=this.ics===k.ics);return h},toJson:function(k){var h=null,f=n.isDefined;k=f(k)?k:!0;f(this.icsid)?(h={icsid:this.icsid},
	f(this.icsns)&&(h.icsns=this.icsns)):f(this.ics)&&(h={ics:this.ics});f(this.url)&&f(h)&&k&&(h.url=this.url);return h}});b("extend-esri")&&(w.ImageSpatialReference=C);return C})},"esri/geometry/Extent":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../SpatialReference ./Geometry ./Point ./webMercatorUtils ./mathUtils ../srUtils".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c){function e(){}var q={type:"extent",xmin:0,ymin:0,xmax:0,ymax:0},t=C(h,{declaredClass:"esri.geometry.Extent",
	type:"extent",xmin:0,ymin:0,xmax:0,ymax:0,constructor:function(g,p,x,u,A){l.isObject(g)?(l.mixin(this,g),this.spatialReference&&(this.spatialReference=c.createSpatialReference(this.spatialReference))):this.update(g,p,x,u,A);this.verifySR()},getWidth:function(){return Math.abs(this.xmax-this.xmin)},getHeight:function(){return Math.abs(this.ymax-this.ymin)},getCenter:function(){return new f((this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2,this.spatialReference)},getTopLeft:function(){return new f(this.xmin,
	this.ymax,this.spatialReference)},getTopRight:function(){return new f(this.xmax,this.ymax,this.spatialReference)},getBottomLeft:function(){return new f(this.xmin,this.ymin,this.spatialReference)},getBottomRight:function(){return new f(this.xmax,this.ymin,this.spatialReference)},centerAt:function(g){var p=this.getCenter(),x=g.x-p.x;g=g.y-p.y;return new t(this.xmin+x,this.ymin+g,this.xmax+x,this.ymax+g,this.spatialReference)},update:function(g,p,x,u,A){this.xmin=g;this.ymin=p;this.xmax=x;this.ymax=
	u;this.spatialReference=A;this.clearCache();return this},offset:function(g,p){return new t(this.xmin+g,this.ymin+p,this.xmax+g,this.ymax+p,this.spatialReference)},expand:function(g){var p=(1-g)/2;g=this.getWidth()*p;p*=this.getHeight();return new t(this.xmin+g,this.ymin+p,this.xmax-g,this.ymax-p,this.spatialReference)},intersects:function(g){if(!g)return!1;var p=g.type,x=this.spatialReference,u=g.spatialReference;x&&u&&!x.equals(u)&&x._canProject(u)&&(g=x.isWebMercator()?d.geographicToWebMercator(g):
	d.webMercatorToGeographic(g,!0));switch(p){case "point":return this.contains(g);case "multipoint":return this._intersectsMultipoint(g);case "extent":return this._intersectsExtent(g);case "polygon":return this._intersectsPolygon(g);case "polyline":return this._intersectsPolyline(g)}},normalize:function(){var g=this._normalize(!1,!0);b.isArray(g)||(g=[g]);return g},shiftCentralMeridian:function(){return this._normalize(!0)},bisect:function(){var g=this.spatialReference,p=g&&g._getInfo(),x=[],u=0;if(p&&
	this._isOutOfBounds(p)){var A=this;u=A.xmin;var m=A.ymin,v=A.ymax,r=p.valid[0],B=p.valid[1];A.getWidth()>2*B&&(A=A.getCenter(),A=new t(A.x-B,m,A.x+B,v,new k(g.toJson())));u=A.xmin-u;var D=this._normalizeX(A.xmin,p);p=this._normalizeX(A.xmax,p);D.frameId===p.frameId?x.push(new t(D.x,m,p.x,v,new k(g.toJson()))):x.push(new t(D.x,m,B,v,new k(g.toJson())),new t(r,m,p.x,v,new k(g.toJson())))}else x.push(this.getExtent());return{extents:x,marginLeft:u}},_intersectsMultipoint:function(g){var p=g.points.length,
	x;for(x=0;x<p;x++)if(this.contains(g.getPoint(x)))return!0;return!1},_intersectsExtent:function(g){var p,x,u=!1;if(this.xmin<=g.xmin){var A=g.xmin;this.xmax<A?u=!0:p=Math.min(this.xmax,g.xmax)-A}else A=this.xmin,g.xmax<A?u=!0:p=Math.min(this.xmax,g.xmax)-A;if(this.ymin<=g.ymin){var m=g.ymin;this.ymax<m?u=!0:x=Math.min(this.ymax,g.ymax)-m}else m=this.ymin,g.ymax<m?u=!0:x=Math.min(this.ymax,g.ymax)-m;return u?null:new t(A,m,A+p,m+x,this.spatialReference)},_intersectsPolygon:function(g){var p=[this.xmin,
	this.ymax],x=[this.xmax,this.ymax],u=[this.xmin,this.ymin],A=[this.xmax,this.ymin],m=[p,x,u,A];p=[[u,p],[p,x],[x,A],[A,u]];u=g.rings;A=u.length;var v=new f(0,0,this.spatialReference);var r=m.length;for(x=0;x<r;x++)if(v.update(m[x][0],m[x][1]),g.contains(v))return!0;v.setSpatialReference(g.spatialReference);for(x=0;x<A;x++)if(m=u[x],r=m.length){var B=m[0];v.update(B[0],B[1]);if(this.contains(v))return!0;for(g=1;g<r;g++){var D=m[g];v.update(D[0],D[1]);if(this.contains(v)||this._intersectsLine([B,D],
	p))return!0;B=D}}return!1},_intersectsPolyline:function(g){var p=[[[this.xmin,this.ymin],[this.xmin,this.ymax]],[[this.xmin,this.ymax],[this.xmax,this.ymax]],[[this.xmax,this.ymax],[this.xmax,this.ymin]],[[this.xmax,this.ymin],[this.xmin,this.ymin]]],x,u=g.paths,A=u.length,m,v=new f(0,0,g.spatialReference);for(g=0;g<A;g++){var r=u[g];if(m=r.length){var B=r[0];v.update(B[0],B[1]);if(this.contains(v))return!0;for(x=1;x<m;x++){var D=r[x];v.update(D[0],D[1]);if(this.contains(v)||this._intersectsLine([B,
	D],p))return!0;B=D}}}return!1},_intersectsLine:function(g,p){var x=a._getLineIntersection2,u,A=p.length;for(u=0;u<A;u++)if(x(g,p[u]))return!0;return!1},contains:function(g){if(!g)return!1;var p=g.type;if("point"===p){var x=this.spatialReference,u=g.spatialReference;p=g.x;g=g.y;x&&u&&!x.equals(u)&&x._canProject(u)&&(g=x.isWebMercator()?f.lngLatToXY(p,g):f.xyToLngLat(p,g,!0),p=g[0],g=g[1]);return p>=this.xmin&&p<=this.xmax&&g>=this.ymin&&g<=this.ymax}return"extent"===p?this._containsExtent(g):!1},_containsExtent:function(g){var p=
	g.xmin,x=g.ymin,u=g.xmax,A=g.ymax,m=g.spatialReference;g=new f(p,x,m);p=new f(p,A,m);A=new f(u,A,m);x=new f(u,x,m);return this.contains(g)&&this.contains(p)&&this.contains(A)&&this.contains(x)?!0:!1},union:function(g){return new t(Math.min(this.xmin,g.xmin),Math.min(this.ymin,g.ymin),Math.max(this.xmax,g.xmax),Math.max(this.ymax,g.ymax),this.spatialReference)},getExtent:function(){var g=this.spatialReference;return new t(this.xmin,this.ymin,this.xmax,this.ymax,g&&new k(g.toJson()))},_shiftCM:function(g){var p=
	this.getCacheValue("_shifted");if(!p){p=new t(this.toJson());var x=p.spatialReference;if(g=g||x._getInfo()){var u=this._getCM(g);if(u){var A=x._isWebMercator()?d.webMercatorToGeographic(u):u;p.xmin-=u.x;p.xmax-=u.x;x._isWebMercator()||(A.x=this._normalizeX(A.x,g).x);p.setSpatialReference(new k(l.substitute({Central_Meridian:A.x},4326===x.wkid?g.altTemplate:g.wkTemplate)))}}this.setCacheValue("_shifted",p)}return p},_getCM:function(g){var p;this._isOutOfBounds(g)&&(p=this.getCenter());return p},_isOutOfBounds:function(g){var p=
	g.valid[0];g=g.valid[1];var x=this.xmin,u=this.xmax;return!(x>=p&&x<=g&&u>=p&&u<=g)},_normalize:function(g,p,x){var u=new t(this.toJson()),A=u.spatialReference;if(A&&(x=x||A._getInfo())){var m=y.map(this._getParts(x),function(v){return v.extent});return 2<m.length?g?this._shiftCM(x):u.update(x.valid[0],u.ymin,x.valid[1],u.ymax,A):2===m.length?g?this._shiftCM(x):p?m:{rings:y.map(m,function(v){return[[v.xmin,v.ymin],[v.xmin,v.ymax],[v.xmax,v.ymax],[v.xmax,v.ymin],[v.xmin,v.ymin]]}),spatialReference:A}:
	m[0]||u}return u},_getParts:function(g){var p=this.getCacheValue("_parts");if(!p){p=[];var x=this.xmin,u=this.xmax,A=this.ymin,m=this.ymax,v=this.spatialReference,r=this.getWidth(),B=x,D=u,G=0,z=0;g=g||v._getInfo();var E=g.valid[0];var H=g.valid[1];z=this._normalizeX(x,g);x=z.x;G=z.frameId;z=this._normalizeX(u,g);u=z.x;z=z.frameId;g=x===u&&0<r;if(r>2*H){r=new t(B<D?x:u,A,H,m,v);x=new t(E,A,B<D?u:x,m,v);H=new t(0,A,H,m,v);A=new t(E,A,0,m,v);v=[];E=[];r.contains(H)&&v.push(G);r.contains(A)&&E.push(G);
	x.contains(H)&&v.push(z);x.contains(A)&&E.push(z);for(m=G+1;m<z;m++)v.push(m),E.push(m);p.push({extent:r,frameIds:[G]},{extent:x,frameIds:[z]},{extent:H,frameIds:v},{extent:A,frameIds:E})}else x>u||g?p.push({extent:new t(x,A,H,m,v),frameIds:[G]},{extent:new t(E,A,u,m,v),frameIds:[z]}):p.push({extent:new t(x,A,u,m,v),frameIds:[G]});this.setCacheValue("_parts",p)}return p},_normalizeX:function(g,p){var x=0,u=p.valid[0],A=p.valid[1];p=2*A;g>A?(x=Math.ceil(Math.abs(g-A)/p),g-=x*p):g<u&&(x=Math.ceil(Math.abs(g-
	u)/p),g+=x*p,x=-x);return{x:g,frameId:x}},toJson:function(){var g={xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax},p=this.spatialReference;p&&(g.spatialReference=p.toJson());return g}});e.prototype=t.prototype;t.simpleConstructor=e;t.defaultProps=q;w("extend-esri")&&(b.setObject("geometry.Extent",t,n),n.geometry.defaultExtent=q);return t})},"esri/geometry/webMercatorUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/has ../kernel ../SpatialReference ./Point".split(" "),function(C,
	y,b,w,n,l){function k(d,a,c,e){if("point"===d.type){var q=a(d.x,d.y,e);return new d.constructor(q[0],q[1],new n(c))}if("extent"===d.type){q=a(d.xmin,d.ymin,e);var t=a(d.xmax,d.ymax,e);return new d.constructor(q[0],q[1],t[0],t[1],new n(c))}if("polyline"===d.type||"polygon"===d.type){q="polyline"===d.type;var g=[],p;C.forEach(q?d.paths:d.rings,function(u){g.push(p=[]);C.forEach(u,function(A){p.push(a(A[0],A[1],e))})});return q?new d.constructor({paths:g,spatialReference:new n(c)}):new d.constructor({rings:g,
	spatialReference:new n(c)})}if("multipoint"===d.type){var x=[];C.forEach(d.points,function(u){x.push(a(u[0],u[1],e))});return new d.constructor({points:x,spatialReference:new n(c)})}}function h(d,a){d=d&&(null!=d.wkid?d:d.spatialReference);a=a&&(null!=a.wkid?a:a.spatialReference);return d&&a?a.equals(d)?!0:a._canProject(d):!1}var f={canProject:h,project:function(d,a){var c=d&&d.spatialReference;a=a&&(null!=a.wkid?a:a.spatialReference);c&&a?c.equals(a)?d=new d.constructor(d.toJson()):h(c,a)?a.isWebMercator()?
	d=k(d,l.lngLatToXY,{wkid:102100}):4326===a.wkid&&(d=k(d,l.xyToLngLat,{wkid:4326})):d=null:d=null;return d},lngLatToXY:l.lngLatToXY,xyToLngLat:l.xyToLngLat,metersPerDegree:l.metersPerDegree,geographicToWebMercator:function(d){return k(d,l.lngLatToXY,{wkid:102100})},webMercatorToGeographic:function(d,a){return k(d,l.xyToLngLat,{wkid:4326},a)}};b("extend-esri")&&y.mixin(y.getObject("geometry",!0,w),f);return f})},"esri/geometry/mathUtils":function(){define(["dojo/_base/lang","dojo/has","../kernel","./Point"],
	function(C,y,b,w){function n(f,d,a){return f instanceof w?new w(f.x+a*(d.x-f.x),f.y+a*(d.y-f.y)):[f[0]+a*(d[0]-f[0]),f[1]+a*(d[1]-f[1])]}function l(f,d){return 1E-8>Math.abs(f-d)}function k(f,d,a,c){var e=l(f[0],d[0])?1E10:(f[1]-d[1])/(f[0]-d[0]),q=l(a[0],c[0])?1E10:(a[1]-c[1])/(a[0]-c[0]),t=f[1]-e*f[0],g=a[1]-q*a[0];if(l(e,q)){if(l(t,g)){if(l(f[0],d[0]))if(Math.min(f[1],d[1])<Math.max(a[1],c[1])||Math.max(f[1],d[1])>Math.min(a[1],c[1])){f=(f[1]+d[1]+a[1]+c[1]-Math.min(f[1],d[1],a[1],c[1])-Math.max(f[1],
	d[1],a[1],c[1]))/2;var p=(f-t)/e}else return null;else if(Math.min(f[0],d[0])<Math.max(a[0],c[0])||Math.max(f[0],d[0])>Math.min(a[0],c[0]))p=(f[0]+d[0]+a[0]+c[0]-Math.min(f[0],d[0],a[0],c[0])-Math.max(f[0],d[0],a[0],c[0]))/2,f=e*p+t;else return null;return[p,f]}return null}l(e,1E10)?(p=f[0],f=q*p+g):l(q,1E10)?(p=a[0],f=e*p+t):(p=-(t-g)/(e-q),f=f[1]===d[1]?f[1]:a[1]===c[1]?a[1]:e*p+t);return[p,f]}var h={getLength:function(f,d){var a=d.x-f.x;f=d.y-f.y;return Math.sqrt(a*a+f*f)},_getLength:function(f,
	d){var a=d[0]-f[0];f=d[1]-f[1];return Math.sqrt(a*a+f*f)},getPointOnLine:n,getMidpoint:function(f,d){return n(f,d,.5)},_equals:l,_getLineIntersection:k,getLineIntersection:function(f,d,a,c,e){(f=k([f.x,f.y],[d.x,d.y],[a.x,a.y],[c.x,c.y]))&&(f=new w(f[0],f[1],e));return f},_getLineIntersection2:function(f,d){var a=f[0],c=f[1],e=d[0],q=d[1];d=a[0];a=a[1];f=c[0];c=c[1];var t=e[0],g=e[1];e=q[0]-t;t=d-t;var p=f-d;q=q[1]-g;g=a-g;var x=c-a,u=q*p-e*x;if(0===u)return!1;e=(e*g-q*t)/u;t=(p*g-x*t)/u;return 0<=
	e&&1>=e&&0<=t&&1>=t?[d+e*(f-d),a+e*(c-a)]:!1},_pointLineDistance:function(f,d){var a=d[0],c=d[1];d=a[0];var e=a[1];a=f[0];f=f[1];var q=c[0]-d,t=c[1]-e,g=a-d,p=f-e;c=Math.sqrt;var x=Math.pow,u=c(x(q,2)+x(t,2));g=(g*q+p*t)/(u*u);e+=g*t;return c(x(a-(d+g*q),2)+x(f-e,2))}};y("extend-esri")&&C.mixin(C.getObject("geometry",!0,b),h);return h})},"esri/urlUtils":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/url dojo/global dojo/io-query ./kernel ./lang ./config ./sniff dojo/i18n!./nls/jsapi".split(" "),
	function(C,y,b,w,n,l,k,h,f,d){var a={},c=h.defaults.io,e=/^[a-z][a-z0-9\+\-\.]*:/i,q=/^\s*http:/i,t=/^\s*https:/i,g=/:\d+$/,p=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i;a.isHTTP=function(u){var A=w.location.protocol;return null==u?"http:"===A||"https:"===A:u?"https:"===A:"http:"===A};a.getProtocolForWebResource=function(u){return a.isHTTP()?w.location.protocol:u?"https:":"http:"};a.urlToObject=function(u){var A={},m=new b(u),v=u.indexOf("?");null===m.query?A={path:u,query:null}:(A.path=u.substring(0,
	v),A.query=n.queryToObject(m.query));m.fragment&&(A.hash=m.fragment,null===m.query&&(A.path=A.path.substring(0,A.path.length-(m.fragment.length+1))));return A};a.getProxyUrl=function(u,A){var m=C.isString(u)?0===C.trim(u).toLowerCase().indexOf("https:"):u,v=c.proxyUrl,r=d.io.proxyNotSet;C.isString(u)&&(u=a.getProxyRule(u))&&(v=u.proxyUrl);if(!v)throw console.log(r),Error(r);if(m&&!1!==A&&0!==w.location.href.toLowerCase().indexOf("https:")&&(A=v,0!==A.toLowerCase().indexOf("http")&&(A=a.getAbsoluteUrl(A)),
	A=A.replace(/^http:/i,"https:"),a.canUseXhr(A))){v=A;var B=1}v=a.urlToObject(v);v._xo=B;return v};a.addProxy=function(u){var A=a.getProxyRule(u),m;A?m=a.urlToObject(A.proxyUrl):c.alwaysUseProxy&&(m=a.getProxyUrl());m&&(A=a.urlToObject(u),u=m.path+"?"+A.path,(m=n.objectToQuery(C.mixin(m.query||{},A.query)))&&(u+="?"+m));return u};a.addProxyRule=function(u){var A=u.urlPrefix=a.urlToObject(u.urlPrefix).path.replace(/([^\/])$/,"$1/").replace(/^https?:\/\//ig,"").toLowerCase(),m=c.proxyRules,v,r=m.length,
	B=r;for(v=0;v<r;v++){var D=m[v].urlPrefix;if(0===A.indexOf(D)){if(A.length===D)return-1;B=v;break}else 0===D.indexOf(A)&&(B=v+1)}m.splice(B,0,u);return B};a.getProxyRule=function(u){var A=c.proxyRules,m=A.length,v=a.urlToObject(u).path.replace(/([^\/])$/,"$1/").replace(/^https?:\/\//ig,"").toLowerCase();for(u=0;u<m;u++)if(0===v.indexOf(A[u].urlPrefix)){var r=A[u];break}return r};a.hasSameOrigin=function(u,A,m){u=u.toLowerCase();A=A.toLowerCase();var v=w.location.href.toLowerCase();u=0===u.indexOf("http")?
	new b(u):v=new b(v);A=0===A.indexOf("http")?new b(A):C.isString(v)?new b(v):v;return(m||u.scheme===A.scheme)&&u.host===A.host&&u.port===A.port};a.canUseXhr=function(u,A){var m=f("esri-phonegap")?!0:!1,v=a.hasSameOrigin,r=c.corsEnabledServers,B,D=-1;!m&&f("esri-cors")&&r&&r.length&&(m=y.some(r,function(G,z){G=!G||"object"!==typeof G||G instanceof RegExp?G:G.host;if(G instanceof RegExp){if(G.test(u))return D=z,!0}else if(G&&(B=0!==G.trim().toLowerCase().indexOf("http"),v(u,B?"http://"+G:G)||B&&v(u,
	"https://"+G)))return D=z,!0;return!1}));return A?D:m};a.getAbsoluteUrl=function(u){var A=a.getProtocolForWebResource();return C.isString(u)&&!e.test(u)?0===u.indexOf("//")?A+u:0===u.indexOf("/")?A+"//"+w.location.host+u:l._appBaseUrl+u:u};a.fixUrl=function(u){u=C.trim(u);u=a.getAbsoluteUrl(u);u=a.normalizeSlashes(u);u=u.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");u=a.downgradeToHTTP(u);return u=a.upgradeToHTTPS(u)};a.normalize=function(u){return a.fixUrl(u)};a.normalizeSlashes=function(u){if(/^https?:\/\//i.test(u)){var A=
	u.indexOf("?");if(-1<A){var m=u.slice(0,A);var v=u.slice(A+1)}else m=u;u=m.replace(/\/{2,}/g,"/");u=u.replace("/","//");v&&(u+="?"+v)}return u};a.downgradeToHTTP=function(u){return a.isHTTP(!1)&&t.test(u)&&a.hasSameOrigin(w.location.href,u,!0)&&!a.canUseXhr(u)?u.replace(t,"http:"):u};a.upgradeToHTTPS=function(u){var A=c.httpsDomains,m=a.isHTTP(!1),v=a.isHTTP(!0);if(!q.test(u))return u;u=C.trim(u);var r=u.indexOf("/",7);r=-1===r?u:u.slice(0,r);r=r.toLowerCase().slice(7);if(g.test(r))if(k.endsWith(r,
	":80"))r=r.slice(0,-3),u=u.replace(":80","");else return u;if(m&&r===w.location.host&&(!p.test(u)||!a.canUseXhr(u)))return u;m=!1;if(v&&r===w.location.host)m=!0;else if(A)for(var B=0;B<A.length;B++){var D=A[B];if(r===D||k.endsWith(r,"."+D)){m=!0;break}}m||!v||c.alwaysUseProxy||a.getProxyRule(u)||(m=!0);m&&(u=u.replace(q,"https:"));return u};h=d.widgets.popup;var x=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,label:h.NLS_moreInfo},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"${hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,
	label:"${hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,appName:"App Studio Player",label:h.NLS_openLinkInApp},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,appName:"Collector",label:h.NLS_openLinkInApp},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,appName:"Explorer",label:h.NLS_openLinkInApp},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,appName:"Navigator",label:h.NLS_openLinkInApp},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,appName:"Survey123",
	label:h.NLS_openLinkInApp},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,appName:"Trek2There",label:h.NLS_openLinkInApp},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,appName:"Workforce",label:h.NLS_openLinkInApp},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,appName:"iForm",label:h.NLS_openLinkInApp},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,appName:"FlowFinity",label:h.NLS_openLinkInApp},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,appName:"Laserfische",label:h.NLS_openLinkInApp},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,
	appName:"Microsoft Power BI",label:h.NLS_openLinkInApp}];a.getURIInfo=function(u){var A;y.some(x,function(m){m.pattern.test(u)&&(A=m);return!!A});return A};a.isKnownURI=function(u){return!!a.getURIInfo(u)};f("extend-esri")&&(C.mixin(l,a),l._getProxyUrl=a.getProxyUrl,l._getProxiedUrl=a.addProxy,l._hasSameOrigin=a.hasSameOrigin,l._canDoXOXHR=a.canUseXhr,l._getAbsoluteUrl=a.getAbsoluteUrl,l.fixUrl=a.fixUrl);return a})},"esri/PluginTarget":function(){define("require dojo/aspect dojo/_base/array dojo/_base/lang dojo/Deferred dojo/when".split(" "),
	function(C,y,b,w,n,l){function k(){y.after(this.constructor._meta,"ctor",this._pluginsHandler,!0);this._plugins={}}k.prototype={addPlugin:function(h,f){var d=this,a=this._plugins,c=new n;try{C([h],function(e){h in a?c.resolve({id:a[h].declaredId||h.replace(/\//g,".")}):(a[h]=e,l(e.add(d,f),function(){var q={id:e.declaredId||h.replace(/\//g,".")};d.emit("plugin-add",q);c.resolve(q)},function(q){c.reject(q)}))})}catch(e){c.reject(e)}return c.promise},removePlugin:function(h){if(h in this._plugins){var f=
	this._plugins[h];f.remove(this);delete this._plugins[h];this.emit("plugin-remove",{id:f.declaredId||h.replace(/\//g,".")})}},_pluginsHandler:function(){var h=this;b.some(arguments,function(f){if(f&&f.plugins&&f.plugins instanceof Array){f=f.plugins;var d;for(d=0;d<f.length;d++){var a=f[d];var c=a instanceof Object?a.id:a;h.addPlugin(c,a.options)}return!0}})}};return k})},"esri/Color":function(){define(["dojo/_base/declare","dojo/_base/Color","dojo/has","./kernel"],function(C,y,b,w){var n=C([y],{declaredClass:"esri.Color"});
	n.toJsonColor=function(k){return k&&[k.r,k.g,k.b,1<k.a?k.a:Math.round(255*k.a)]};n.toDojoColor=function(k){return k&&new n([k[0],k[1],k[2],k[3]/255])};var l="named blendColors fromRgb fromHex fromArray fromString".split(" ");for(C=0;C<l.length;C++)n[l[C]]=y[l[C]];b("extend-esri")&&(w.Color=n);return n})},"esri/promiseList":function(){define(["dojo/_base/array","dojo/Deferred","dojo/when"],function(C,y,b){var w=C.forEach;return function(n){function l(q,t){a[t]=q;c.progress([q,t]);0===--e&&c.resolve(a)}
	var k,h;n instanceof Array?h=n:n&&"object"===typeof n&&(k=n);var f=[];if(k){h=[];for(var d in k)Object.hasOwnProperty.call(k,d)&&(f.push(d),h.push(k[d]));var a={}}else h&&(a=[]);if(!h||!h.length)return(new y).resolve(a);var c=new y;c.promise.always(function(){a=f=null});var e=h.length;w(h,function(q,t){k||f.push(t);b(q,function(g){c.isFulfilled()||l(g,f[t])},function(g){c.isFulfilled()||l(g,f[t])})});return c.promise}})},"esri/arcade/Dictionary":function(){define(["require","exports","./ImmutableArray",
	"./languageUtils","../geometry/Geometry"],function(C,y,b,w,n){function l(h){var f=null;if(null!==h)if(w.isNumber(h))f=w.toNumber(h);else if(w.isBoolean(h))f=w.toBoolean(h);else if(w.isString(h))f=w.toString(h);else if(w.isDate(h))f=w.toDate(h);else if(w.isArray(h)){f=[];for(var d=0;d<h.length;d++)f.push(l(h[d]))}else{if(0===Object.keys(h).length)return null;f=new k;f.immutable=!1;d=0;for(var a=Object.keys(h);d<a.length;d++){var c=a[d],e=h[c];void 0!==e&&f.setField(c,l(e))}f.immutable=!0}return f}
	var k=function(){function h(f){this.declaredClass="esri.arcade.Dictionary";this.attributes=null;this.plain=!1;this.immutable=!0;this.attributes=f instanceof h?f.attributes:void 0===f?{}:null===f?{}:f}h.prototype.field=function(f){var d=f.toLowerCase(),a=this.attributes[f];if(void 0!==a)return a;for(var c in this.attributes)if(c.toLowerCase()===d)return this.attributes[c];throw Error("Field not Found : "+f);};h.prototype.setField=function(f,d){if(this.immutable)throw Error("Dictionary is Immutable");
	var a=f.toLowerCase();if(void 0===this.attributes[f])for(var c in this.attributes)if(c.toLowerCase()===a){this.attributes[c]=d;return}this.attributes[f]=d};h.prototype.hasField=function(f){var d=f.toLowerCase();if(void 0!==this.attributes[f])return!0;for(var a in this.attributes)if(a.toLowerCase()===d)return!0;return!1};h.prototype.keys=function(){var f=[],d;for(d in this.attributes)f.push(d);return f=f.sort()};h.prototype.castToText=function(){var f="",d;for(d in this.attributes){""!==f&&(f+=",");
	var a=this.attributes[d];null==a?f+=JSON.stringify(d)+":null":w.isBoolean(a)||w.isNumber(a)||w.isString(a)?f+=JSON.stringify(d)+":"+JSON.stringify(a):a instanceof n?f+=JSON.stringify(d)+":"+w.toStringExplicit(a):a instanceof b?f+=JSON.stringify(d)+":"+w.toStringExplicit(a):a instanceof Array?f+=JSON.stringify(d)+":"+w.toStringExplicit(a):a instanceof Date?f+=JSON.stringify(d)+":"+JSON.stringify(a):null!==a&&"object"===typeof a&&void 0!==a.castToText&&(f+=JSON.stringify(d)+":"+a.castToText())}return"{"+
	f+"}"};h.convertObjectToArcadeDictionary=function(f){var d=new h;d.immutable=!1;for(var a in f){var c=f[a];void 0!==c&&d.setField(a.toString(),l(c))}d.immutable=!0;return d};return h}();return k})},"esri/arcade/ImmutableArray":function(){define(["require","exports"],function(C,y){return function(){function b(w){void 0===w&&(w=[]);this._elements=w}b.prototype.length=function(){return this._elements.length};b.prototype.get=function(w){return this._elements[w]};b.prototype.toArray=function(){for(var w=
	[],n=0;n<this.length();n++)w.push(this.get(n));return w};return b}()})},"esri/arcade/languageUtils":function(){define("require exports ./FunctionWrapper ./ImmutableArray ./ImmutablePathArray ./ImmutablePointArray ./polyfill/promiseUtils ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline dojo/number".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c,e,q){function t(K,Y,la){return""===Y||null===Y||void 0===Y||Y===la||Y===la?K:K=K.split(Y).join(la)}
	function g(K){return K instanceof ha||K instanceof b||K instanceof ma}function p(K){return x(K)||A(K)||r(K)||u(K)||null===K||K===y.voidOperation||"number"===typeof K?!0:!1}function x(K){return"string"===typeof K||K instanceof String}function u(K){return"boolean"===typeof K}function A(K){return"number"===typeof K}function m(K){return K instanceof Array}function v(K){return K instanceof w}function r(K){return K instanceof Date}function B(K,Y){if(!1===isNaN(K)){if(void 0===Y||null===Y||""===Y)return K.toString();
	Y=t(Y,"\u2030","");Y=t(Y,"\u00a4","");return q.format(K,{pattern:Y})}return K.toString()}function D(K,Y){K=y.MomentLibrary.Moment(K);return void 0===Y||null===Y||""===Y?K.format():K.format(G(Y))}function G(K){return K.replace(/(LTS)|L|l/g,function(Y){return"["+Y+"]"})}function z(K,Y,la){switch(la){case "\x3e":return K>Y;case "\x3c":return K<Y;case "\x3e\x3d":return K>=Y;case "\x3c\x3d":return K<=Y}return!1}function E(K,Y){if(K===Y||null===K&&Y===y.voidOperation||null===Y&&K===y.voidOperation)return!0;
	if(r(K)&&r(Y))return K.getTime()===Y.getTime();if(K instanceof n||K instanceof l)return K.equalityTest(Y);if(K instanceof a&&Y instanceof a){var la=K.getCacheValue("_arcadeCacheId"),L=Y.getCacheValue("_arcadeCacheId");if(void 0!==la&&null!==la)return la===L}return void 0!==K&&void 0!==Y&&null!==K&&null!==Y&&"object"===typeof K&&"object"===typeof Y&&(K._arcadeCacheId===Y._arcadeCacheId&&void 0!==K._arcadeCacheId&&null!==K._arcadeCacheId||K._underlyingGraphic===Y._underlyingGraphic&&void 0!==K._underlyingGraphic&&
	null!==K._underlyingGraphic)?!0:!1}function H(K,Y){if(x(K))return K;if(null===K)return"";if(A(K))return B(K,Y);if(u(K))return K.toString();if(r(K))return D(K,Y);if(K instanceof f)return JSON.stringify(K.toJson());if(m(K)){Y=[];for(var la=0;la<K.length;la++)Y[la]=O(K[la]);return"["+Y.join(",")+"]"}if(K instanceof w){Y=[];for(la=0;la<K.length();la++)Y[la]=O(K.get(la));return"["+Y.join(",")+"]"}return null!==K&&"object"===typeof K&&void 0!==K.castToText?K.castToText():g(K)?"object, Function":""}function I(K,
	Y){if(x(K))return K;if(null===K)return"";if(A(K))return B(K,Y);if(u(K))return K.toString();if(r(K))return D(K,Y);if(K instanceof f)return K instanceof h?'{"xmin":'+K.xmin.toString()+',"ymin":'+K.ymin.toString()+","+(K.hasZ?'"zmin":'+K.zmin.toString()+",":"")+(K.hasM?'"mmin":'+K.mmin.toString()+",":"")+'"xmax":'+K.xmax.toString()+',"ymax":'+K.ymax.toString()+","+(K.hasZ?'"zmax":'+K.zmax.toString()+",":"")+(K.hasM?'"mmax":'+K.mmax.toString()+",":"")+'"spatialReference":'+ia(K.spatialReference)+"}":
	ia(K.toJson(),function(L,R){return L.key===R.key?0:"spatialReference"===L.key?1:"spatialReference"===R.key||L.key<R.key?-1:L.key>R.key?1:0});if(m(K)){Y=[];for(var la=0;la<K.length;la++)Y[la]=O(K[la]);return"["+Y.join(",")+"]"}if(K instanceof w){Y=[];for(la=0;la<K.length();la++)Y[la]=O(K.get(la));return"["+Y.join(",")+"]"}return null!==K&&"object"===typeof K&&void 0!==K.castToText?K.castToText():g(K)?"object, Function":""}function O(K){return null===K?"null":u(K)||A(K)||x(K)?JSON.stringify(K):K instanceof
	f||K instanceof w||K instanceof Array?I(K):K instanceof Date?JSON.stringify(D(K,"")):null!==K&&"object"===typeof K&&void 0!==K.castToText?K.castToText():"null"}function T(K,Y){return A(K)?K:null===K||""===K?0:r(K)?NaN:u(K)?K?1:0:m(K)||""===K||void 0===K?NaN:void 0!==Y&&x(K)?(Y=t(Y,"\u2030",""),Y=t(Y,"\u00a4",""),q.parse(K,{pattern:Y})):K===y.voidOperation?0:Number(K)}function Z(K,Y){var la;Y.fields.some(function(L){L.name===K&&(la=L.domain);return!!la});return la}function ia(K,Y){Y||(Y={});"function"===
	typeof Y&&(Y={cmp:Y});var la="boolean"===typeof Y.cycles?Y.cycles:!1,L=Y.cmp&&function(da){return function(ka){return function(qa,va){return da({key:qa,value:ka[qa]},{key:va,value:ka[va]})}}}(Y.cmp),R=[];return function qa(ka){ka&&ka.toJson&&"function"===typeof ka.toJson&&(ka=ka.toJson());if(void 0!==ka){if("number"===typeof ka)return isFinite(ka)?""+ka:"null";if("object"!==typeof ka)return JSON.stringify(ka);var va;if(Array.isArray(ka)){var Ea="[";for(va=0;va<ka.length;va++)va&&(Ea+=","),Ea+=qa(ka[va])||
	"null";return Ea+"]"}if(null===ka)return"null";if(-1!==R.indexOf(ka)){if(la)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var ba=R.push(ka)-1,fa=Object.keys(ka).sort(L&&L(ka));Ea="";for(va=0;va<fa.length;va++){var pa=fa[va],wa=qa(ka[pa]);wa&&(Ea&&(Ea+=","),Ea+=JSON.stringify(pa)+":"+wa)}R.splice(ba,1);return"{"+Ea+"}"}}(K)}function ca(K,Y){if(Y instanceof a)K.push([Y.x,Y.y]);else throw Error("Invalid Argument");}Object.defineProperty(y,"__esModule",
	{value:!0});y.binaryOperator=y.MomentLibrary=y.tick=y.toStringArray=y.autoCastArrayOfPointsToMultiPoint=y.autoCastArrayOfPointsToPolyline=y.autoCastArrayOfPointsToPolygon=y.autoCastFeatureToGeometry=y.stableStringify=y.getDomain=y.getDomainCode=y.getDomainValue=y.fixNullGeometry=y.fixSpatialReference=y.toBoolean=y.toDateM=y.toDate=y.toNumber=y.toStringExplicit=y.toNumberArray=y.toString=y.equalityTest=y.greaterThanLessThan=y.standardiseDateFormat=y.formatDate=y.formatNumber=y.generateUUID=y.pcCheck=
	y.isDate=y.isImmutableArray=y.isFeatureSetCollection=y.isFeatureSet=y.isArray=y.isInteger=y.isNumber=y.isBoolean=y.isString=y.defaultUndefined=y.isSimpleType=y.isFunctionParameter=y.multiReplace=y.continueResult=y.breakResult=y.voidOperation=y.SizzleFunction=y.ReturnResult=y.ImplicitResult=y.NativeFunction=y.SizzleFunctionE=y.NativeFunctionE=y.ImplicitResultE=y.ReturnResultE=void 0;C=function(){return function(K){this.value=K}}();y.ReturnResultE=C;var W=function(){return function(K){this.value=K}}();
	y.ImplicitResultE=W;var ha=function(){return function(K){this.fn=K}}();y.NativeFunctionE=ha;var ma=function(){return function(K){this.fn=K}}();y.SizzleFunctionE=ma;y.NativeFunction=ha;y.ImplicitResult=W;y.ReturnResult=C;y.SizzleFunction=ma;y.voidOperation={type:"VOID"};y.breakResult={type:"BREAK"};y.continueResult={type:"CONTINUE"};y.multiReplace=t;y.isFunctionParameter=g;y.isSimpleType=p;y.defaultUndefined=function(K,Y){return void 0===K?Y:K};y.isString=x;y.isBoolean=u;y.isNumber=A;y.isInteger=function(K){return"number"===
	typeof K&&isFinite(K)&&Math.floor(K)===K};y.isArray=m;y.isFeatureSet=function(K){return!0===(K&&K.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===K.declaredRootClass)};y.isFeatureSetCollection=function(K){return!0===(K&&K.declaredRootClass&&"esri.arcade.featureSetCollection"===K.declaredRootClass)};y.isImmutableArray=v;y.isDate=r;y.pcCheck=function(K,Y,la){if(K.length<Y||K.length>la)throw Error("Function called with wrong number of Parameters");};y.generateUUID=function(){var K=(new Date).getTime();
	return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(Y){var la=(K+16*Math.random())%16|0;K=Math.floor(K/16);return("x"===Y?la:la&3|8).toString(16)})};y.formatNumber=B;y.formatDate=D;y.standardiseDateFormat=G;y.greaterThanLessThan=function(K,Y,la){if(null===K){if(null===Y||Y===y.voidOperation)return z(null,null,la);if(A(Y))return z(0,Y,la);if(x(Y)||u(Y))return z(0,T(Y),la);if(r(Y))return z(0,Y.getTime(),la)}if(K===y.voidOperation){if(null===Y||Y===y.voidOperation)return z(null,null,
	la);if(A(Y))return z(0,Y,la);if(x(Y)||u(Y))return z(0,T(Y),la);if(r(Y))return z(0,Y.getTime(),la)}else if(A(K)){if(A(Y))return z(K,Y,la);if(u(Y))return z(K,T(Y),la);if(null===Y||Y===y.voidOperation)return z(K,0,la);if(x(Y))return z(K,T(Y),la);if(r(Y))return z(K,Y.getTime(),la)}else if(x(K)){if(x(Y))return z(H(K),H(Y),la);if(r(Y))return z(T(K),Y.getTime(),la);if(A(Y))return z(T(K),Y,la);if(null===Y||Y===y.voidOperation)return z(T(K),0,la);if(u(Y))return z(T(K),T(Y),la)}else if(r(K)){if(r(Y))return z(K,
	Y,la);if(null===Y||Y===y.voidOperation)return z(K.getTime(),0,la);if(A(Y))return z(K.getTime(),Y,la);if(u(Y)||x(Y))return z(K.getTime(),T(Y),la)}else if(u(K)){if(u(Y))return z(K,Y,la);if(A(Y))return z(T(K),T(Y),la);if(r(Y))return z(T(K),Y.getTime(),la);if(null===Y||Y===y.voidOperation)return z(T(K),0,la);if(x(Y))return z(T(K),T(Y),la)}return!E(K,Y)||"\x3c\x3d"!==la&&"\x3e\x3d"!==la?!1:!0};y.equalityTest=E;y.toString=H;y.toNumberArray=function(K){var Y=[];if(!1===m(K))return null;if(K instanceof w){for(var la=
	0;la<K.length();la++)Y[la]=T(K.get(la));return Y}for(la=0;la<K.length;la++)Y[la]=T(K[la]);return Y};y.toStringExplicit=I;y.toNumber=T;y.toDate=function(K,Y){return r(K)?K:x(K)&&(K=y.MomentLibrary.Moment(K,[void 0===Y||null===Y||""===Y?y.MomentLibrary.Moment.ISO_8601:Y]),K.isValid())?K.toDate():null};y.toDateM=function(K,Y){return r(K)?y.MomentLibrary.Moment(K):x(K)&&(K=y.MomentLibrary.Moment(K,[void 0===Y||null===Y||""===Y?y.MomentLibrary.Moment.ISO_8601:Y]),K.isValid())?K:null};y.toBoolean=function(K){return u(K)?
	K:x(K)?(K=K.toLowerCase(),"true"===K?!0:!1):A(K)?0===K||isNaN(K)?!1:!0:!1};y.fixSpatialReference=function(K,Y){if(null===K||void 0===K)return null;if(null===K.spatialReference||void 0===K.spatialReference)K.spatialReference=Y;return K};y.fixNullGeometry=function(K){if(null===K)return null;if(K instanceof a)return"NaN"===K.x||null===K.x||isNaN(K.x)?null:K;if(K instanceof c){if(0===K.rings.length)return null;for(var Y=0,la=K.rings;Y<la.length;Y++){var L=la[Y];if(0<L.length)return K}return null}if(K instanceof
	e){if(0===K.paths.length)return null;Y=0;for(la=K.paths;Y<la.length;Y++)if(L=la[Y],0<L.length)return K;return null}return K instanceof d?0===K.points.length?null:K:K instanceof h?"NaN"===K.xmin||null===K.xmin||isNaN(K.xmin)?null:K:null};y.getDomainValue=function(K,Y){if(!K||!K.domain)return Y;var la=null;if("string"===K.field.type||"esriFieldTypeString"===K.field.type)Y=H(Y);else{if(null===Y||void 0===Y)return null;if(""===Y)return Y;Y=T(Y)}for(var L=0;L<K.domain.codedValues.length;L++){var R=K.domain.codedValues[L];
	R.code===Y&&(la=R)}return null===la?Y:la.name};y.getDomainCode=function(K,Y){if(!K||!K.domain)return Y;var la=null;Y=H(Y);for(var L=0;L<K.domain.codedValues.length;L++){var R=K.domain.codedValues[L];R.name===Y&&(la=R)}return null===la?Y:la.code};y.getDomain=function(K,Y,la,L){void 0===la&&(la=null);if(!Y||!Y.fields)return null;for(var R=null,da=0;da<Y.fields.length;da++){var ka=Y.fields[da];ka.name.toLowerCase()===K.toString().toLowerCase()&&(R=ka)}if(null===R)throw Error("Field not found");var qa,
	va;L||(L=la&&Y.typeIdField&&la._field(Y.typeIdField));null!=L&&Y.types.some(function(Ea){return Ea.id===L?((qa=Ea.domains&&Ea.domains[R.name])&&"inherited"===qa.type&&(qa=Z(R.name,Y),va=!0),!0):!1});va||qa||(qa=Z(K,Y));return{field:R,domain:qa}};y.stableStringify=ia;y.autoCastFeatureToGeometry=function(K){if(null===K)return null;for(var Y=[],la=0;la<K.length;la++){var L=K[la];L&&(L.declaredClass&&"esri.arcade.Feature"===L.declaredClass||"FeatureSetReader"===L.type)?Y.push(L.geometry()):Y.push(L)}return Y};
	y.autoCastArrayOfPointsToPolygon=function(K,Y){if(m(K)||v(K)){var la=!1,L=!1,R=[];if(m(K)){for(var da=0;da<K.length;da++){var ka=K[da];ca(R,ka)}0<R.length&&(Y=K[0].spatialReference,la=K[0].hasZ,L=K[0].hasM)}else if(K instanceof l)R=K._elements,0<R.length&&(la=K._hasZ,L=K._hasM,Y=K.get(0).spatialReference);else if(v(K)){da=0;for(var qa=K.toArray();da<qa.length;da++)ka=qa[da],ca(R,ka);0<R.length&&(Y=K.get(0).spatialReference,la=!0===K.get(0).hasZ,L=!0===K.get(0).hasM)}else throw Error("Invalid Argument");
	if(0===R.length)return null;!1===(new c({rings:[],spatialReference:{wkid:4326}})).isClockwise(R)&&(R=R.slice(0).reverse());return new c({rings:[R],spatialReference:Y,hasZ:la,hasM:L})}return K};y.autoCastArrayOfPointsToPolyline=function(K,Y){if(m(K)||v(K)){var la=!1,L=!1,R=[];if(m(K)){for(var da=0;da<K.length;da++){var ka=K[da];ca(R,ka)}0<R.length&&(Y=K[0].spatialReference,la=!0===K[0].hasZ,L=!0===K[0].hasM)}else if(K instanceof l)R=K._elements,0<R.length&&(la=K._hasZ,L=K._hasM,Y=K.get(0).spatialReference);
	else if(v(K)){da=0;for(var qa=K.toArray();da<qa.length;da++)ka=qa[da],ca(R,ka);0<R.length&&(Y=K.get(0).spatialReference,la=!0===K.get(0).hasZ,L=!0===K.get(0).hasM)}return 0===R.length?null:new e({paths:[R],spatialReference:Y,hasZ:la,hasM:L})}return K};y.autoCastArrayOfPointsToMultiPoint=function(K,Y){if(m(K)||v(K)){var la=!1,L=!1,R=[];if(m(K)){for(var da=0;da<K.length;da++){var ka=K[da];ca(R,ka)}0<R.length&&(Y=K[0].spatialReference,la=!0===K[0].hasZ,L=!0===K[0].hasM)}else if(K instanceof l)R=K._elements,
	0<R.length&&(la=K._hasZ,L=K._hasM,Y=K.get(0).spatialReference);else if(v(K)){da=0;for(var qa=K.toArray();da<qa.length;da++)ka=qa[da],ca(R,ka);0<R.length&&(Y=K.get(0).spatialReference,la=!0===K.get(0).hasZ,L=!0===K.get(0).hasM)}return 0===R.length?null:new d({points:R,spatialReference:Y,hasZ:la,hasM:L})}return K};y.toStringArray=function(K,Y){void 0===Y&&(Y=!1);var la=[];if(null===K)return la;if(!0===m(K)){for(var L=0;L<K.length;L++){var R=H(K[L]);""===R&&!0!==Y||la.push(R)}return la}if(K instanceof
	w){for(L=0;L<K.length();L++)R=H(K.get(L)),""===R&&!0!==Y||la.push(R);return la}return p(K)?(R=H(K),""===R&&!0!==Y||la.push(R),la):[]};var xa=0;y.tick=function(K){xa++;return 0===xa%100?(xa=0,k.create(function(Y){setTimeout(function(){Y(K)},0)})):K};y.MomentLibrary={Moment:null};y.binaryOperator=function(K,Y,la){switch(la){case "\x26":return K&Y;case "|":return K|Y;case "^":return K^Y;case "\x3c\x3c":return K<<Y;case "\x3e\x3e":return K>>Y;case "\x3e\x3e\x3e":return K>>>Y}}})},"esri/arcade/FunctionWrapper":function(){define(["require",
	"exports"],function(C,y){return function(){return function(b,w){this.context=this.definition=null;this.definition=b;this.context=w}}()})},"esri/arcade/ImmutablePathArray":function(){var C=this&&this.__extends||function(){var y=function(b,w){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var k in l)l.hasOwnProperty(k)&&(n[k]=l[k])};return y(b,w)};return function(b,w){function n(){this.constructor=b}y(b,w);b.prototype=null===w?Object.create(w):
	(n.prototype=w.prototype,new n)}}();define(["require","exports","./ImmutableArray","./ImmutablePointArray"],function(y,b,w,n){return function(l){function k(h,f,d,a,c){h=l.call(this,h)||this;h._lazyPath=[];h._hasZ=!1;h._hasM=!1;h._hasZ=d;h._hasM=a;h._spRef=f;h._cacheId=c;return h}C(k,l);k.prototype.get=function(h){if(void 0===this._lazyPath[h]){var f=this._elements[h];if(void 0===f)return;this._lazyPath[h]=new n(f,this._spRef,this._hasZ,this._hasM,this._cacheId,h)}return this._lazyPath[h]};k.prototype.equalityTest=
	function(h){return h===this?!0:null===h||!1===h instanceof k?!1:h.getUniqueHash()===this.getUniqueHash()};k.prototype.getUniqueHash=function(){return this._cacheId.toString()};return k}(w)})},"esri/arcade/ImmutablePointArray":function(){var C=this&&this.__extends||function(){var y=function(b,w){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var k in l)l.hasOwnProperty(k)&&(n[k]=l[k])};return y(b,w)};return function(b,w){function n(){this.constructor=
	b}y(b,w);b.prototype=null===w?Object.create(w):(n.prototype=w.prototype,new n)}}();define(["require","exports","./ImmutableArray","../geometry/Point"],function(y,b,w,n){return function(l){function k(h,f,d,a,c,e){h=l.call(this,h)||this;h._lazyPt=[];h._hasZ=!1;h._hasM=!1;h._spRef=f;h._hasZ=d;h._hasM=a;h._cacheId=c;h._partId=e;return h}C(k,l);k.prototype.get=function(h){if(void 0===this._lazyPt[h]){var f=this._elements[h];if(void 0===f)return;var d=this._hasZ,a=this._hasM,c=null;c=d&&!a?new n(f[0],f[1],
	f[2],void 0,this._spRef):a&&!d?new n(f[0],f[1],void 0,f[2],this._spRef):d&&a?new n(f[0],f[1],f[2],f[3],this._spRef):new n(f[0],f[1],this._spRef);c.setCacheValue("_arcadeCacheId",this._cacheId.toString()+"-"+this._partId.toString()+"-"+h.toString());this._lazyPt[h]=c}return this._lazyPt[h]};k.prototype.equalityTest=function(h){return h===this?!0:null===h||!1===h instanceof k?!1:h.getUniqueHash()===this.getUniqueHash()};k.prototype.getUniqueHash=function(){return this._cacheId.toString()+"-"+this._partId.toString()};
	return k}(w)})},"esri/arcade/polyfill/promiseUtils":function(){define(["require","exports","dojo/Deferred","dojo/promise/all"],function(C,y,b,w){function n(f,d){var a=new b(d);f(function(c){return h(c).then(a.resolve)},a.reject);return a.promise}function l(f){if(f){if("function"!==typeof f.forEach){var d=Object.keys(f),a=d.map(function(e){return f[e]});return l(a).then(function(e){var q={};d.forEach(function(t,g){return q[t]=e[g]});return q})}var c=null;return n(function(e,q){var t=[],g=f.length;
	0===g&&e(t);f.forEach(function(p){var x={promise:p};t.push(x);p.then(function(u){x.value=u}).catch(function(u){x.error=u}).then(function(){--g;0===g&&(c?q(Error("AbortError")):e(t))})})},function(e){c=e||"Invocation cancellation";f.forEach(function(q){return q.cancel(e)})})}}function k(f){void 0===f&&(f=void 0);var d=new b;d.resolve(f);return d.promise}function h(f){return f&&"function"===typeof f.then?f:k(f)}Object.defineProperty(y,"__esModule",{value:!0});y.createResolver=y.when=y.isPromiseLike=
	y.wrapCallback=y.timeout=y.after=y.resolve=y.reject=y.first=y.eachAlwaysValues=y.eachAlways=y.createDeferred=y.create=y.filter=y.all=void 0;y.all=function(f){return w(f)};y.filter=function(f,d){var a=f.slice();return w(f.map(function(c,e){return d(c,e)})).then(function(c){return a.filter(function(e,q){return c[q]})})};y.create=n;y.createDeferred=function(f){var d=null;f=n(function(a,c){d={resolve:a,reject:c}},f);d.promise=f;d.cancel=function(){d.reject(Error("AbortError"))};return d};y.eachAlways=
	l;y.eachAlwaysValues=function(f){return l(f).then(function(d){return d.filter(function(a){return!!a.value}).map(function(a){return a.value})})};y.first=function(f){return f&&f.length?n(function(d,a){for(var c=0;c<f.length;c++)f[c].then(d,a)}):k()};y.reject=function(f){var d=new b;d.reject(f);return d.promise};y.resolve=k;y.after=function(f,d){void 0===d&&(d=void 0);var a=0;return n(function(c){a=setTimeout(function(){c(d)},f)},function(){a&&(clearTimeout(a),a=0)})};y.timeout=function(f,d,a){var c=
	0,e=new b(f.cancel);f.then(function(q){e.isFulfilled()||(e.resolve(q),c&&(clearTimeout(c),c=0))});f.catch(function(q){e.isFulfilled()||(e.reject(q),c&&(clearTimeout(c),c=0))});c=setTimeout(function(){e.reject(a||Error("promiseUtils:timeout"))},d);return e.promise};y.wrapCallback=function(f){var d=!1;return n(function(){f(function(a){d||k(a)})},function(){return d=!0})};y.isPromiseLike=function(f){return f&&"function"===typeof f.then};y.when=h;y.createResolver=function(f){var d,a;f=n(function(e,q){d=
	e;a=q},f);var c=function(e){d(e)};c.resolve=function(e){return d(e)};c.reject=function(e){return a(e)};c.promise=f;return c}})},"esri/geometry/Multipoint":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ../SpatialReference ./Geometry ./Point ./Extent ../srUtils".split(" "),function(C,y,b,w,n,l,k,h,f,d){function a(){}function c(){}l={type:"multipoint",points:null};C=C(k,{declaredClass:"esri.geometry.Multipoint",type:"multipoint",points:null,constructor:function(e){this.points=
	[];e&&(e.points?n.mixin(this,e):this.spatialReference=e,this.spatialReference&&(this.spatialReference=d.createSpatialReference(this.spatialReference)));this.verifySR()},addPoint:function(e){this.clearCache();y.isArray(e)?this.points.push(e):this.points.push([e.x,e.y]);return this},removePoint:function(e){if(this._validateInputs(e))return this.clearCache(),new h(this.points.splice(e,1)[0],this.spatialReference)},getExtent:function(){var e=this.getCacheValue("_extent");if(e)return new f(e);e=this.points;
	var q=e.length;if(q){var t=e[0],g,p,x=g=t[0],u=p=t[1],A=Math.min,m=Math.max,v=this.spatialReference,r;for(r=0;r<q;r++){t=e[r];var B=t[0];t=t[1];x=A(x,B);u=A(u,t);g=m(g,B);p=m(p,t)}e={xmin:x,ymin:u,xmax:g,ymax:p,spatialReference:v?v.toJson():null};this.setCacheValue("_extent",e);return new f(e)}},_validateInputs:function(e){return null===e||0>e||e>=this.points.length?!1:!0},getPoint:function(e){if(this._validateInputs(e))return e=this.points[e],new h(e[0],e[1],this.spatialReference)},setPoint:function(e,
	q){if(this._validateInputs(e))return this.clearCache(),this.points[e]=[q.x,q.y],this},toJson:function(){var e={points:n.clone2DArray(this.points)},q=this.spatialReference;q&&(e.spatialReference=q.toJson());return e}});a.prototype=C.prototype;c.prototype=new a;Object.defineProperty(c.prototype,"points",{get:function(){this._unquantizeFn&&(this._pointsVal=this._unquantizeFn({points:n.clone2DArray(this._pointsVal)}).points,this._unquantizeFn=null);return this._pointsVal},set:function(e){this._pointsVal=
	e}});c.prototype.setupLazyUnquantization=function(e,q){this._unquantizeFn=e;this._pointsVal=q.points};C.simpleConstructor=a;C.accessorConstructor=c;C.defaultProps=l;b("extend-esri")&&(y.setObject("geometry.Multipoint",C,w),w.geometry.defaultMultipoint=l);return C})},"esri/geometry/Polygon":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../SpatialReference ./Geometry ./Point ./Extent ./mathUtils ../srUtils".split(" "),function(C,y,b,w,n,l,k,h,f,d,
	a,c){function e(){}function q(){}k={type:"polygon",rings:null};var t=C(h,{declaredClass:"esri.geometry.Polygon",type:"polygon",rings:null,constructor:function(g){this.rings=[];this._ring=0;g&&(b.isArray(g)?this.rings=b.isArray(g[0][0])?g:[g]:g.rings?l.mixin(this,g):this.spatialReference=g,this.spatialReference&&(this.spatialReference=c.createSpatialReference(this.spatialReference)));this.verifySR()},addRing:function(g){this.clearCache();this._ring=this.rings.length;this.rings[this._ring]=[];b.isArray(g[0])?
	y.forEach(g,this._addPointArr,this):y.forEach(g,this._addPoint,this);return this},_addPointArr:function(g){this.rings[this._ring].push(g)},_addPoint:function(g){this.rings[this._ring].push([g.x,g.y])},_insertPoints:function(g,p){this.clearCache();this._ring=p;this.rings[this._ring]||(this.rings[this._ring]=[]);y.forEach(g,this._addPoint,this)},_validateInputs:function(g,p){return null!==g&&void 0!==g&&(0>g||g>=this.rings.length)||null!==p&&void 0!==g&&(0>p||p>=this.rings[g].length)?!1:!0},getPoint:function(g,
	p){if(this._validateInputs(g,p))return new f(this.rings[g][p],this.spatialReference)},setPoint:function(g,p,x){if(this._validateInputs(g,p))return this.clearCache(),this.rings[g][p]=[x.x,x.y],this},insertPoint:function(g,p,x){if(this._validateInputs(g)&&null!=p&&0<=p&&p<=this.rings[g].length)return this.clearCache(),this.rings[g].splice(p,0,[x.x,x.y]),this},removeRing:function(g){if(this._validateInputs(g,null)){this.clearCache();g=this.rings.splice(g,1)[0];var p,x=g.length,u=this.spatialReference;
	for(p=0;p<x;p++)g[p]=new f(g[p],u);return g}},removePoint:function(g,p){if(this._validateInputs(g,p))return this.clearCache(),new f(this.rings[g].splice(p,1)[0],this.spatialReference)},getExtent:function(){var g=this.getCacheValue("_extent");var p=this.getCacheValue("_partwise");if(g)return g=new d(g),g._partwise=p,g;g=this.rings;var x=g.length;if(x&&g[0].length){var u,A,m,v,r=u=g[0][0][0],B=A=g[0][0][1],D=Math.min,G=Math.max,z=this.spatialReference;p=[];var E,H;for(m=0;m<x;m++){var I=g[m];var O=
	E=I[0]&&I[0][0];var T=H=I[0]&&I[0][1];var Z=I.length;for(v=0;v<Z;v++){var ia=I[v];var ca=ia[0];ia=ia[1];r=D(r,ca);B=D(B,ia);u=G(u,ca);A=G(A,ia);O=D(O,ca);T=D(T,ia);E=G(E,ca);H=G(H,ia)}p.push(new d({xmin:O,ymin:T,xmax:E,ymax:H,spatialReference:z?z.toJson():null}))}g={xmin:r,ymin:B,xmax:u,ymax:A,spatialReference:z?z.toJson():null};p=1<p.length?p:null;this.setCacheValue("_extent",g);this.setCacheValue("_partwise",p);g=new d(g);g._partwise=p;return g}},contains:function(g){var p=this.rings,x=!1,u,A,m,
	v=p.length;var r=this.spatialReference;var B=g.spatialReference;var D=g.x;g=g.y;r&&B&&!r.equals(B)&&r._canProject(B)&&(g=r.isWebMercator()?f.lngLatToXY(D,g):f.xyToLngLat(D,g,!0),D=g[0],g=g[1]);for(m=0;m<v;m++){r=p[m];var G=r.length;for(A=u=0;A<G;A++){u++;u===G&&(u=0);B=r[A];var z=r[u];(B[1]<g&&z[1]>=g||z[1]<g&&B[1]>=g)&&B[0]+(g-B[1])/(z[1]-B[1])*(z[0]-B[0])<D&&(x=!x)}}return x},getCentroid:function(){var g=this.getCacheValue("_centroid");if(void 0!==g)return g;g=this.rings;var p,x,u=[],A,m,v=Infinity,
	r=-Infinity,B=Infinity,D=-Infinity;y.forEach(g,function(E){G=p=x=0;y.forEach(E,function(H,I){I<E.length-1&&(A=E[I+1],m=H[0]*A[1]-A[0]*H[1],G+=(H[0]+A[0])*m,p+=(H[1]+A[1])*m,x+=m,H[0]<v&&(v=H[0]),H[0]>r&&(r=H[0]),H[1]<B&&(B=H[1]),H[1]>D&&(D=H[1]))});0<x&&(x*=-1);x&&u.push([G,p,x/2])});u.sort(function(E,H){return E[2]-H[2]});var G=p=void 0;if(u[0]){var z=6*u[0][2];G=u[0][0]/z;p=u[0][1]/z;if(G<v||G>r||p<B||p>D)G=p=void 0}if(void 0===G||void 0===p)if(g=g[0]&&g[0].length?this._getLineCentroid(g[0]):null)G=
	g.x,p=g.y;g=isNaN(G)||isNaN(p)?null:new f(G,p,this.spatialReference);this.setCacheValue("_centroid",g);return g},_getLineCentroid:function(g){var p=0,x=0,u=0,A={x:0,y:0},m={x:0,y:0},v,r=g.length,B;for(v=0;v<r-1;v++){var D=g[v];var G=g[v+1];if(D&&G){A.x=D[0];A.y=D[1];m.x=G[0];m.y=G[1];var z=a.getLength(A,m);0<z&&(p+=z,D=a.getMidpoint(D,G),x+=z*D[0],u+=z*D[1])}}0<p?B={x:x/p,y:u/p}:g[0]&&(B={x:g[0][0],y:g[0][1]});return B},isClockwise:function(g){var p=0,x,u=g.length,A=b.isArray(g[0])?function(m,v){return m[0]*
	v[1]-v[0]*m[1]}:function(m,v){return m.x*v.y-v.x*m.y};for(x=0;x<u;x++)p+=A(g[x],g[(x+1)%u]);return 0>=p/2},isSelfIntersecting:function(g){g=g||this;var p,x,u,A,m,v=g.rings.length;for(u=0;u<v;u++){for(p=0;p<g.rings[u].length-1;p++){var r=[[g.rings[u][p][0],g.rings[u][p][1]],[g.rings[u][p+1][0],g.rings[u][p+1][1]]];for(x=u+1;x<v;x++)for(A=0;A<g.rings[x].length-1;A++){var B=[[g.rings[x][A][0],g.rings[x][A][1]],[g.rings[x][A+1][0],g.rings[x][A+1][1]]];if((m=a._getLineIntersection2(r,B))&&!(m[0]===r[0][0]&&
	m[1]===r[0][1]||m[0]===B[0][0]&&m[1]===B[0][1]||m[0]===r[1][0]&&m[1]===r[1][1]||m[0]===B[1][0]&&m[1]===B[1][1]))return!0}}A=g.rings[u].length;if(!(4>=A))for(p=0;p<A-3;p++){var D=A-1;0===p&&(D=A-2);r=[[g.rings[u][p][0],g.rings[u][p][1]],[g.rings[u][p+1][0],g.rings[u][p+1][1]]];for(x=p+2;x<D;x++)if(B=[[g.rings[u][x][0],g.rings[u][x][1]],[g.rings[u][x+1][0],g.rings[u][x+1][1]]],(m=a._getLineIntersection2(r,B))&&!(m[0]===r[0][0]&&m[1]===r[0][1]||m[0]===B[0][0]&&m[1]===B[0][1]||m[0]===r[1][0]&&m[1]===
	r[1][1]||m[0]===B[1][0]&&m[1]===B[1][1]))return!0}}return!1},toJson:function(){var g={rings:l.clone3DArray(this.rings)},p=this.spatialReference;p&&(g.spatialReference=p.toJson());return g}});e.prototype=t.prototype;q.prototype=new e;Object.defineProperty(q.prototype,"rings",{get:function(){this._unquantizeFn&&(this._ringsVal=this._unquantizeFn({rings:l.clone3DArray(this._ringsVal)}).rings,this._unquantizeFn=null);return this._ringsVal},set:function(g){this._ringsVal=g}});q.prototype.setupLazyUnquantization=
	function(g,p){this._unquantizeFn=g;this._ringsVal=p.rings};t.simpleConstructor=e;t.accessorConstructor=q;t.defaultProps=k;t.createEllipse=function(g){var p=g.center.x,x=g.center.y,u=g.longAxis,A=g.shortAxis,m=g.numberOfPoints,v=g.map,r;g=[];var B=2*Math.PI/m;for(r=0;r<m;r++){var D=Math.cos(r*B);var G=Math.sin(r*B);D=v.toMap({x:u*D+p,y:A*G+x});g.push(D)}g.push(g[0]);p=new t(v.spatialReference);p.addRing(g);return p};t.createCircle=function(g){return t.createEllipse({center:g.center,longAxis:g.r,shortAxis:g.r,
	numberOfPoints:g.numberOfPoints,map:g.map})};t.fromExtent=function(g){var p=g.normalize();g=g.spatialReference;return new t({rings:y.map(p,function(x){return[[x.xmin,x.ymin],[x.xmin,x.ymax],[x.xmax,x.ymax],[x.xmax,x.ymin],[x.xmin,x.ymin]]}),spatialReference:g?g.toJson():null})};w("extend-esri")&&(b.setObject("geometry.Polygon",t,n),n.geometry.defaultPolygon=k,n.geometry.createEllipse=t.createEllipse,n.geometry.createCircle=t.createCircle,n.geometry.isClockwise=t.prototype.isClockwise,n.geometry.polygonSelfIntersecting=
	t.prototype.isSelfIntersecting);return t})},"esri/geometry/Polyline":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../SpatialReference ./Geometry ./Point ./Extent ../srUtils".split(" "),function(C,y,b,w,n,l,k,h,f,d,a){function c(){}function e(){}k={type:"polyline",paths:null};C=C(h,{declaredClass:"esri.geometry.Polyline",type:"polyline",paths:null,constructor:function(q){this.paths=[];this._path=0;q&&(b.isArray(q)?this.paths=b.isArray(q[0][0])?q:
	[q]:q.paths?l.mixin(this,q):this.spatialReference=q,this.spatialReference&&(this.spatialReference=a.createSpatialReference(this.spatialReference)));this.verifySR()},addPath:function(q){this.clearCache();this._path=this.paths.length;this.paths[this._path]=[];b.isArray(q[0])?y.forEach(q,this._addPointArr,this):y.forEach(q,this._addPoint,this);return this},_addPointArr:function(q){this.paths[this._path].push(q)},_addPoint:function(q){this.paths[this._path].push([q.x,q.y])},_insertPoints:function(q,t){this.clearCache();
	this._path=t;this.paths[this._path]||(this.paths[this._path]=[]);y.forEach(q,this._addPoint,this)},_validateInputs:function(q,t){return null!==q&&void 0!==q&&(0>q||q>=this.paths.length)||null!==t&&void 0!==q&&(0>t||t>=this.paths[q].length)?!1:!0},getPoint:function(q,t){if(this._validateInputs(q,t))return new f(this.paths[q][t],this.spatialReference)},setPoint:function(q,t,g){if(this._validateInputs(q,t))return this.clearCache(),this.paths[q][t]=[g.x,g.y],this},insertPoint:function(q,t,g){if(this._validateInputs(q)&&
	null!=t&&0<=t&&t<=this.paths[q].length)return this.clearCache(),this.paths[q].splice(t,0,[g.x,g.y]),this},removePath:function(q){if(this._validateInputs(q,null)){this.clearCache();q=this.paths.splice(q,1)[0];var t,g=q.length,p=this.spatialReference;for(t=0;t<g;t++)q[t]=new f(q[t],p);return q}},removePoint:function(q,t){if(this._validateInputs(q,t))return this.clearCache(),new f(this.paths[q].splice(t,1)[0],this.spatialReference)},getExtent:function(){var q=this.getCacheValue("_extent");var t=this.getCacheValue("_partwise");
	if(q)return q=new d(q),q._partwise=t,q;q=this.paths;var g=q.length;if(g&&q[0].length){var p,x,u,A,m=p=q[0][0][0],v=x=q[0][0][1],r=Math.min,B=Math.max,D=this.spatialReference;t=[];var G,z;for(u=0;u<g;u++){var E=q[u];var H=G=E[0]&&E[0][0];var I=z=E[0]&&E[0][1];var O=E.length;for(A=0;A<O;A++){var T=E[A];var Z=T[0];T=T[1];m=r(m,Z);v=r(v,T);p=B(p,Z);x=B(x,T);H=r(H,Z);I=r(I,T);G=B(G,Z);z=B(z,T)}t.push(new d({xmin:H,ymin:I,xmax:G,ymax:z,spatialReference:D?D.toJson():null}))}q={xmin:m,ymin:v,xmax:p,ymax:x,
	spatialReference:D?D.toJson():null};t=1<t.length?t:null;this.setCacheValue("_extent",q);this.setCacheValue("_partwise",t);q=new d(q);q._partwise=t;return q}},toJson:function(){var q={paths:l.clone3DArray(this.paths)},t=this.spatialReference;t&&(q.spatialReference=t.toJson());return q}});c.prototype=C.prototype;e.prototype=new c;Object.defineProperty(e.prototype,"paths",{get:function(){this._unquantizeFn&&(this._pathsVal=this._unquantizeFn({paths:l.clone3DArray(this._pathsVal)}).paths,this._unquantizeFn=
	null);return this._pathsVal},set:function(q){this._pathsVal=q}});e.prototype.setupLazyUnquantization=function(q,t){this._unquantizeFn=q;this._pathsVal=t.paths};C.simpleConstructor=c;C.accessorConstructor=e;C.defaultProps=k;w("extend-esri")&&(b.setObject("geometry.Polyline",C,n),n.geometry.defaultPolyline=k);return C})},"esri/geometry/ScreenPoint":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","./Point"],function(C,y,b,w,n){C=C(n,{declaredClass:"esri.geometry.ScreenPoint",
	verifySR:function(){}});b("extend-esri")&&y.setObject("geometry.ScreenPoint",C,w);return C})},"esri/geometry/Rect":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./Geometry ./Point ./Extent ../srUtils".split(" "),function(C,y,b,w,n,l,k,h,f){function d(c){return new h(parseFloat(c.x),parseFloat(c.y)-parseFloat(c.height),parseFloat(c.x)+parseFloat(c.width),parseFloat(c.y),c.spatialReference)}var a=C(l,{declaredClass:"esri.geometry.Rect",type:"rect",x:0,y:0,width:100,
	height:100,constructor:function(c,e,q,t,g){n.isObject(c)&&"extent"===c.type&&(e=c.ymax,q=c.getWidth(),t=c.getHeight(),g=c.spatialReference,c=c.xmin);n.isObject(c)?(n.mixin(this,c),this.spatialReference&&(this.spatialReference=f.createSpatialReference(this.spatialReference))):(this.x=c,this.y=e,this.width=q,this.height=t,this.spatialReference=g);this.verifySR()},getCenter:function(){return new k(this.x+this.width/2,this.y+this.height/2,this.spatialReference)},offset:function(c,e){return new a(this.x+
	c,this.y+e,this.width,this.height,this.spatialReference)},intersects:function(c){return c.x+c.width<=this.x||c.y+c.height<=this.y||c.y>=this.y+this.height||c.x>=this.x+this.width?!1:!0},getExtent:function(){return d(this)},update:function(c,e,q,t,g){this.x=c;this.y=e;this.width=q;this.height=t;this.spatialReference=g;this.clearCache();return this}});b("extend-esri")&&(y.setObject("geometry.Rect",a,w),w.geometry._rectToExtent=d,w.geometry._extentToRect=function(c){return new a(c)});return a})},"esri/geometry/scaleUtils":function(){define(["dojo/_base/lang",
	"dojo/has","../kernel","../config","../WKIDUnitConversion"],function(C,y,b,w,n){function l(c,e,q){return c&&e?c.getWidth()/e*(q||h)*39.37*f.screenDPI:0}function k(c,e,q,t,g){return c.expand(t*e/(39.37*((g?q:d.values[d[q]])||h)*f.screenDPI)/c.getWidth())}var h=6370997*Math.PI/180,f=w.defaults,d=n,a={getUnitValueForSR:function(c){return this.getUnitValue(c)||h},getUnitValue:function(c){if(c)if("object"===typeof c){var e=c.wkid;var q=c.wkt}else"number"===typeof c?e=c:"string"===typeof c&&(q=c);if(e)var t=
	d.values[d[e]];else q&&-1!==q.search(/^PROJCS/i)&&(c=/UNIT\[([^\]]+)\]\]$/i.exec(q))&&c[1]&&(t=parseFloat(c[1].split(",")[1]));return t},getScale:function(c,e,q){if(1<arguments.length&&null!=e&&!e.declaredClass){var t=c;var g=e;e=null;var p=a.getUnitValue(q)}else t=e||c.extent,g=c.width,p=a.getUnitValue(t&&t.spatialReference);return l(t,g,p)},getExtentForScale:function(c,e,q){return k(q||c.extent,c.width,a.getUnitValue(c.spatialReference),e,!0)}};y("extend-esri")&&(C.mixin(C.getObject("geometry",
	!0,b),a),b.geometry._getScale=l,b.geometry._getExtentForScale=k);return a})},"esri/WKIDUnitConversion":function(){define(["dojo/has","./kernel"],function(C,y){var b,w={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),
	2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,
	3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,
	3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,
	3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,
	5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,
	6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,
	6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,
	6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,
	6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,
	7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,
	7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,
	8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,
	8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,
	8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9367:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,
	24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,
	31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,
	102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,
	103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,
	103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,
	103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(b=2E3;2045>=b;b++)w[b]=0;for(b=2056;2065>=b;b++)w[b]=0;for(b=2067;2135>=b;b++)w[b]=0;for(b=2137;2154>=
	b;b++)w[b]=0;for(b=2161;2170>=b;b++)w[b]=0;for(b=2172;2193>=b;b++)w[b]=0;for(b=2195;2198>=b;b++)w[b]=0;for(b=2200;2203>=b;b++)w[b]=0;for(b=2205;2217>=b;b++)w[b]=0;for(b=2222;2224>=b;b++)w[b]=1;for(b=2225;2250>=b;b++)w[b]=2;for(b=2251;2253>=b;b++)w[b]=1;for(b=2257;2264>=b;b++)w[b]=2;for(b=2274;2279>=b;b++)w[b]=2;for(b=2280;2282>=b;b++)w[b]=1;for(b=2283;2289>=b;b++)w[b]=2;for(b=2290;2292>=b;b++)w[b]=0;for(b=2308;2313>=b;b++)w[b]=0;for(b=2315;2491>=b;b++)w[b]=0;for(b=2494;2866>=b;b++)w[b]=0;for(b=2867;2869>=
	b;b++)w[b]=1;for(b=2870;2888>=b;b++)w[b]=2;for(b=2891;2895>=b;b++)w[b]=2;for(b=2896;2898>=b;b++)w[b]=1;for(b=2902;2908>=b;b++)w[b]=2;for(b=2915;2920>=b;b++)w[b]=2;for(b=2921;2923>=b;b++)w[b]=1;for(b=2924;2930>=b;b++)w[b]=2;for(b=2931;2962>=b;b++)w[b]=0;for(b=2964;2968>=b;b++)w[b]=2;for(b=2969;2973>=b;b++)w[b]=0;for(b=2975;2991>=b;b++)w[b]=0;for(b=2995;3051>=b;b++)w[b]=0;for(b=3054;3079>=b;b++)w[b]=0;for(b=3081;3088>=b;b++)w[b]=0;for(b=3092;3101>=b;b++)w[b]=0;for(b=3106;3138>=b;b++)w[b]=0;for(b=3146;3151>=
	b;b++)w[b]=0;for(b=3153;3166>=b;b++)w[b]=0;for(b=3168;3172>=b;b++)w[b]=0;for(b=3174;3203>=b;b++)w[b]=0;for(b=3294;3358>=b;b++)w[b]=0;for(b=3367;3403>=b;b++)w[b]=0;for(b=3408;3416>=b;b++)w[b]=0;for(b=3417;3438>=b;b++)w[b]=2;for(b=3441;3446>=b;b++)w[b]=2;for(b=3447;3450>=b;b++)w[b]=0;for(b=3451;3459>=b;b++)w[b]=2;for(b=3460;3478>=b;b++)w[b]=0;for(b=3554;3559>=b;b++)w[b]=0;for(b=3560;3570>=b;b++)w[b]=2;for(b=3571;3581>=b;b++)w[b]=0;for(b=3594;3597>=b;b++)w[b]=0;for(b=3601;3604>=b;b++)w[b]=0;for(b=3637;3639>=
	b;b++)w[b]=0;for(b=3665;3667>=b;b++)w[b]=0;for(b=3693;3695>=b;b++)w[b]=0;for(b=3701;3727>=b;b++)w[b]=0;for(b=3728;3739>=b;b++)w[b]=2;for(b=3740;3751>=b;b++)w[b]=0;for(b=3753;3760>=b;b++)w[b]=2;for(b=3761;3773>=b;b++)w[b]=0;for(b=3775;3777>=b;b++)w[b]=0;for(b=3779;3781>=b;b++)w[b]=0;for(b=3783;3785>=b;b++)w[b]=0;for(b=3788;3791>=b;b++)w[b]=0;for(b=3797;3802>=b;b++)w[b]=0;for(b=3814;3816>=b;b++)w[b]=0;for(b=3825;3829>=b;b++)w[b]=0;for(b=3832;3841>=b;b++)w[b]=0;for(b=3844;3852>=b;b++)w[b]=0;for(b=3873;3885>=
	b;b++)w[b]=0;for(b=3890;3893>=b;b++)w[b]=0;for(b=3907;3912>=b;b++)w[b]=0;for(b=3942;3950>=b;b++)w[b]=0;for(b=3968;3970>=b;b++)w[b]=0;for(b=3973;3976>=b;b++)w[b]=0;for(b=3986;3989>=b;b++)w[b]=0;for(b=3994;3997>=b;b++)w[b]=0;for(b=4048;4051>=b;b++)w[b]=0;for(b=4056;4063>=b;b++)w[b]=0;for(b=4093;4096>=b;b++)w[b]=0;for(b=4390;4398>=b;b++)w[b]=0;for(b=4399;4413>=b;b++)w[b]=2;for(b=4418;4433>=b;b++)w[b]=2;for(b=4455;4457>=b;b++)w[b]=2;for(b=4484;4489>=b;b++)w[b]=0;for(b=4491;4554>=b;b++)w[b]=0;for(b=4568;4589>=
	b;b++)w[b]=0;for(b=4652;4656>=b;b++)w[b]=0;for(b=4766;4800>=b;b++)w[b]=0;for(b=5014;5016>=b;b++)w[b]=0;for(b=5069;5072>=b;b++)w[b]=0;for(b=5105;5130>=b;b++)w[b]=0;for(b=5173;5188>=b;b++)w[b]=0;for(b=5253;5259>=b;b++)w[b]=0;for(b=5269;5275>=b;b++)w[b]=0;for(b=5292;5311>=b;b++)w[b]=0;for(b=5329;5331>=b;b++)w[b]=0;for(b=5343;5349>=b;b++)w[b]=0;for(b=5355;5357>=b;b++)w[b]=0;for(b=5387;5389>=b;b++)w[b]=0;for(b=5459;5463>=b;b++)w[b]=0;for(b=5479;5482>=b;b++)w[b]=0;for(b=5518;5520>=b;b++)w[b]=0;for(b=5530;5539>=
	b;b++)w[b]=0;for(b=5550;5552>=b;b++)w[b]=0;for(b=5562;5583>=b;b++)w[b]=0;for(b=5623;5625>=b;b++)w[b]=2;for(b=5631;5639>=b;b++)w[b]=0;for(b=5649;5653>=b;b++)w[b]=0;for(b=5663;5680>=b;b++)w[b]=0;for(b=5682;5685>=b;b++)w[b]=0;for(b=5875;5877>=b;b++)w[b]=0;for(b=5896;5899>=b;b++)w[b]=0;for(b=5921;5940>=b;b++)w[b]=0;for(b=6050;6125>=b;b++)w[b]=0;for(b=6244;6275>=b;b++)w[b]=0;for(b=6328;6348>=b;b++)w[b]=0;for(b=6350;6356>=b;b++)w[b]=0;for(b=6366;6372>=b;b++)w[b]=0;for(b=6381;6387>=b;b++)w[b]=0;for(b=6393;6404>=
	b;b++)w[b]=0;for(b=6480;6483>=b;b++)w[b]=0;for(b=6511;6514>=b;b++)w[b]=0;for(b=6579;6581>=b;b++)w[b]=0;for(b=6619;6624>=b;b++)w[b]=0;for(b=6625;6627>=b;b++)w[b]=2;for(b=6628;6632>=b;b++)w[b]=0;for(b=6634;6637>=b;b++)w[b]=0;for(b=6669;6692>=b;b++)w[b]=0;for(b=6707;6709>=b;b++)w[b]=0;for(b=6720;6723>=b;b++)w[b]=0;for(b=6732;6738>=b;b++)w[b]=0;for(b=6931;6933>=b;b++)w[b]=0;for(b=6956;6959>=b;b++)w[b]=0;for(b=7005;7007>=b;b++)w[b]=0;for(b=7057;7070>=b;b++)w[b]=2;for(b=7074;7082>=b;b++)w[b]=0;for(b=7109;7118>=
	b;b++)w[b]=0;for(b=7119;7127>=b;b++)w[b]=1;for(b=7374;7376>=b;b++)w[b]=0;for(b=7528;7586>=b;b++)w[b]=0;for(b=7587;7645>=b;b++)w[b]=2;for(b=7692;7696>=b;b++)w[b]=0;for(b=7755;7787>=b;b++)w[b]=0;for(b=7791;7795>=b;b++)w[b]=0;for(b=7799;7801>=b;b++)w[b]=0;for(b=7803;7805>=b;b++)w[b]=0;for(b=7825;7831>=b;b++)w[b]=0;for(b=7845;7859>=b;b++)w[b]=0;for(b=8013;8032>=b;b++)w[b]=0;for(b=8065;8068>=b;b++)w[b]=1;for(b=8518;8529>=b;b++)w[b]=2;for(b=8533;8536>=b;b++)w[b]=2;for(b=8538;8540>=b;b++)w[b]=2;for(b=8677;8679>=
	b;b++)w[b]=0;for(b=8836;8840>=b;b++)w[b]=0;for(b=8857;8859>=b;b++)w[b]=0;for(b=8908;8910>=b;b++)w[b]=0;for(b=9154;9159>=b;b++)w[b]=0;for(b=9205;9218>=b;b++)w[b]=0;for(b=9271;9273>=b;b++)w[b]=0;for(b=9295;9297>=b;b++)w[b]=0;for(b=20002;20032>=b;b++)w[b]=0;for(b=20062;20092>=b;b++)w[b]=0;for(b=20135;20138>=b;b++)w[b]=0;for(b=20248;20258>=b;b++)w[b]=0;for(b=20348;20358>=b;b++)w[b]=0;for(b=20436;20440>=b;b++)w[b]=0;for(b=20822;20824>=b;b++)w[b]=0;for(b=20934;20936>=b;b++)w[b]=0;for(b=21035;21037>=b;b++)w[b]=
	0;for(b=21095;21097>=b;b++)w[b]=0;for(b=21148;21150>=b;b++)w[b]=0;for(b=21413;21423>=b;b++)w[b]=0;for(b=21453;21463>=b;b++)w[b]=0;for(b=21473;21483>=b;b++)w[b]=0;for(b=21780;21782>=b;b++)w[b]=0;for(b=21891;21894>=b;b++)w[b]=0;for(b=21896;21899>=b;b++)w[b]=0;for(b=22171;22177>=b;b++)w[b]=0;for(b=22181;22187>=b;b++)w[b]=0;for(b=22191;22197>=b;b++)w[b]=0;for(b=22234;22236>=b;b++)w[b]=0;for(b=22521;22525>=b;b++)w[b]=0;for(b=22991;22994>=b;b++)w[b]=0;for(b=23028;23038>=b;b++)w[b]=0;for(b=23830;23853>=
	b;b++)w[b]=0;for(b=23866;23872>=b;b++)w[b]=0;for(b=23877;23884>=b;b++)w[b]=0;for(b=23886;23894>=b;b++)w[b]=0;for(b=23946;23948>=b;b++)w[b]=0;for(b=24311;24313>=b;b++)w[b]=0;for(b=24342;24347>=b;b++)w[b]=0;for(b=24370;24374>=b;b++)w[b]=10;for(b=24375;24381>=b;b++)w[b]=0;for(b=24718;24721>=b;b++)w[b]=0;for(b=24817;24821>=b;b++)w[b]=0;for(b=24877;24882>=b;b++)w[b]=0;for(b=24891;24893>=b;b++)w[b]=0;for(b=25391;25395>=b;b++)w[b]=0;for(b=25828;25838>=b;b++)w[b]=0;for(b=26191;26195>=b;b++)w[b]=0;for(b=26391;26393>=
	b;b++)w[b]=0;for(b=26701;26722>=b;b++)w[b]=0;for(b=26729;26799>=b;b++)w[b]=2;for(b=26801;26803>=b;b++)w[b]=2;for(b=26811;26813>=b;b++)w[b]=2;for(b=26847;26870>=b;b++)w[b]=2;for(b=26891;26899>=b;b++)w[b]=0;for(b=26901;26923>=b;b++)w[b]=0;for(b=26929;26946>=b;b++)w[b]=0;for(b=26948;26998>=b;b++)w[b]=0;for(b=27037;27040>=b;b++)w[b]=0;for(b=27205;27232>=b;b++)w[b]=0;for(b=27258;27260>=b;b++)w[b]=0;for(b=27391;27398>=b;b++)w[b]=0;for(b=27561;27564>=b;b++)w[b]=0;for(b=27571;27574>=b;b++)w[b]=0;for(b=27581;27584>=
	b;b++)w[b]=0;for(b=27591;27594>=b;b++)w[b]=0;for(b=28191;28193>=b;b++)w[b]=0;for(b=28348;28358>=b;b++)w[b]=0;for(b=28402;28432>=b;b++)w[b]=0;for(b=28462;28492>=b;b++)w[b]=0;for(b=29118;29122>=b;b++)w[b]=0;for(b=29168;29172>=b;b++)w[b]=0;for(b=29177;29185>=b;b++)w[b]=0;for(b=29187;29195>=b;b++)w[b]=0;for(b=29900;29903>=b;b++)w[b]=0;for(b=30161;30179>=b;b++)w[b]=0;for(b=30491;30494>=b;b++)w[b]=0;for(b=30729;30732>=b;b++)w[b]=0;for(b=31251;31259>=b;b++)w[b]=0;for(b=31265;31268>=b;b++)w[b]=0;for(b=31275;31279>=
	b;b++)w[b]=0;for(b=31281;31297>=b;b++)w[b]=0;for(b=31461;31469>=b;b++)w[b]=0;for(b=31491;31495>=b;b++)w[b]=0;for(b=31917;31922>=b;b++)w[b]=0;for(b=31965;32E3>=b;b++)w[b]=0;for(b=32001;32003>=b;b++)w[b]=2;for(b=32005;32031>=b;b++)w[b]=2;for(b=32033;32060>=b;b++)w[b]=2;for(b=32064;32067>=b;b++)w[b]=2;for(b=32074;32077>=b;b++)w[b]=2;for(b=32081;32086>=b;b++)w[b]=0;for(b=32107;32130>=b;b++)w[b]=0;for(b=32133;32158>=b;b++)w[b]=0;for(b=32164;32167>=b;b++)w[b]=2;for(b=32180;32199>=b;b++)w[b]=0;for(b=32201;32260>=
	b;b++)w[b]=0;for(b=32301;32360>=b;b++)w[b]=0;for(b=32601;32662>=b;b++)w[b]=0;for(b=32664;32667>=b;b++)w[b]=2;for(b=32701;32761>=b;b++)w[b]=0;for(b=53001;53004>=b;b++)w[b]=0;for(b=53008;53019>=b;b++)w[b]=0;for(b=53021;53032>=b;b++)w[b]=0;for(b=53034;53037>=b;b++)w[b]=0;for(b=53042;53046>=b;b++)w[b]=0;for(b=53074;53080>=b;b++)w[b]=0;for(b=54001;54004>=b;b++)w[b]=0;for(b=54008;54019>=b;b++)w[b]=0;for(b=54021;54032>=b;b++)w[b]=0;for(b=54034;54037>=b;b++)w[b]=0;for(b=54042;54046>=b;b++)w[b]=0;for(b=54048;54053>=
	b;b++)w[b]=0;for(b=54074;54080>=b;b++)w[b]=0;for(b=54098;54101>=b;b++)w[b]=0;for(b=102001;102040>=b;b++)w[b]=0;for(b=102042;102063>=b;b++)w[b]=0;for(b=102065;102067>=b;b++)w[b]=0;for(b=102070;102117>=b;b++)w[b]=0;for(b=102122;102216>=b;b++)w[b]=0;for(b=102221;102377>=b;b++)w[b]=0;for(b=102382;102388>=b;b++)w[b]=0;for(b=102389;102398>=b;b++)w[b]=2;for(b=102399;102444>=b;b++)w[b]=0;for(b=102445;102447>=b;b++)w[b]=2;for(b=102448;102458>=b;b++)w[b]=0;for(b=102459;102468>=b;b++)w[b]=2;for(b=102469;102499>=
	b;b++)w[b]=0;for(b=102500;102519>=b;b++)w[b]=1;for(b=102520;102524>=b;b++)w[b]=0;for(b=102525;102529>=b;b++)w[b]=2;for(b=102530;102588>=b;b++)w[b]=0;for(b=102590;102598>=b;b++)w[b]=0;for(b=102601;102603>=b;b++)w[b]=0;for(b=102605;102628>=b;b++)w[b]=0;for(b=102629;102646>=b;b++)w[b]=2;for(b=102648;102700>=b;b++)w[b]=2;for(b=102701;102703>=b;b++)w[b]=0;for(b=102707;102730>=b;b++)w[b]=2;for(b=102733;102758>=b;b++)w[b]=2;for(b=102767;102900>=b;b++)w[b]=0;for(b=102965;102969>=b;b++)w[b]=0;for(b=102971;102973>=
	b;b++)w[b]=0;for(b=102975;102989>=b;b++)w[b]=0;for(b=102990;102992>=b;b++)w[b]=1;for(b=102997;103002>=b;b++)w[b]=0;for(b=103003;103008>=b;b++)w[b]=2;for(b=103009;103011>=b;b++)w[b]=0;for(b=103012;103014>=b;b++)w[b]=2;for(b=103019;103021>=b;b++)w[b]=0;for(b=103022;103024>=b;b++)w[b]=2;for(b=103029;103031>=b;b++)w[b]=0;for(b=103032;103034>=b;b++)w[b]=2;for(b=103065;103068>=b;b++)w[b]=0;for(b=103074;103076>=b;b++)w[b]=0;for(b=103077;103079>=b;b++)w[b]=1;for(b=103080;103082>=b;b++)w[b]=0;for(b=103083;103085>=
	b;b++)w[b]=2;for(b=103090;103093>=b;b++)w[b]=0;for(b=103097;103099>=b;b++)w[b]=0;for(b=103100;103102>=b;b++)w[b]=2;for(b=103107;103109>=b;b++)w[b]=0;for(b=103110;103112>=b;b++)w[b]=2;for(b=103113;103116>=b;b++)w[b]=0;for(b=103117;103120>=b;b++)w[b]=2;for(b=103153;103157>=b;b++)w[b]=0;for(b=103158;103162>=b;b++)w[b]=2;for(b=103163;103165>=b;b++)w[b]=0;for(b=103166;103168>=b;b++)w[b]=1;for(b=103169;103171>=b;b++)w[b]=2;for(b=103186;103188>=b;b++)w[b]=0;for(b=103189;103191>=b;b++)w[b]=2;for(b=103192;103195>=
	b;b++)w[b]=0;for(b=103196;103199>=b;b++)w[b]=2;for(b=103200;103224>=b;b++)w[b]=0;for(b=103225;103227>=b;b++)w[b]=1;for(b=103232;103237>=b;b++)w[b]=0;for(b=103238;103243>=b;b++)w[b]=2;for(b=103244;103246>=b;b++)w[b]=0;for(b=103247;103249>=b;b++)w[b]=2;for(b=103254;103256>=b;b++)w[b]=0;for(b=103257;103259>=b;b++)w[b]=2;for(b=103264;103266>=b;b++)w[b]=0;for(b=103267;103269>=b;b++)w[b]=2;for(b=103300;103375>=b;b++)w[b]=0;for(b=103381;103383>=b;b++)w[b]=0;for(b=103384;103386>=b;b++)w[b]=1;for(b=103387;103389>=
	b;b++)w[b]=0;for(b=103390;103392>=b;b++)w[b]=2;for(b=103397;103399>=b;b++)w[b]=0;for(b=103400;103471>=b;b++)w[b]=2;for(b=103476;103478>=b;b++)w[b]=0;for(b=103479;103481>=b;b++)w[b]=2;for(b=103486;103488>=b;b++)w[b]=0;for(b=103489;103491>=b;b++)w[b]=2;for(b=103492;103495>=b;b++)w[b]=0;for(b=103496;103499>=b;b++)w[b]=2;for(b=103528;103543>=b;b++)w[b]=0;for(b=103544;103548>=b;b++)w[b]=2;for(b=103549;103551>=b;b++)w[b]=0;for(b=103552;103554>=b;b++)w[b]=1;for(b=103555;103557>=b;b++)w[b]=2;for(b=103558;103560>=
	b;b++)w[b]=0;for(b=103571;103573>=b;b++)w[b]=0;for(b=103574;103576>=b;b++)w[b]=2;for(b=103577;103580>=b;b++)w[b]=0;for(b=103581;103583>=b;b++)w[b]=2;for(b=103595;103694>=b;b++)w[b]=0;for(b=103696;103699>=b;b++)w[b]=0;for(b=103700;103793>=b;b++)w[b]=2;for(b=103794;103872>=b;b++)w[b]=0;for(b=103900;103971>=b;b++)w[b]=2;C("extend-esri")&&(y.WKIDUnitConversion=w);return w})},"esri/geometry/screenUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/sniff ../kernel ./Point ./ScreenPoint ./Polyline ./Polygon ./Multipoint ./Extent".split(" "),
	function(C,y,b,w,n,l,k,h,f,d){var a=function(){return 9>b("ie")?function(e,q,t,g,p,x,u,A,m){var v=[],r=Math.round,B,D=u.length,G;for(B=0;B<D;B++){var z=u[B];var E=A?A(z[0][0],z[0][1],m):z[0];if(1<(G=z.length)){var H=r((E[0]-e)*t+p);var I=r((q-E[1])*g+x);E=A?A(z[1][0],z[1][1],m):z[1];var O=r((E[0]-e)*t+p);E=r((q-E[1])*g+x);v.push("M",H+","+I,"L",O+","+E);for(O=2;O<G;O++)E=A?A(z[O][0],z[O][1],m):z[O],H=r((E[0]-e)*t+p),I=r((q-E[1])*g+x),v.push(H+","+I)}else H=r((E[0]-e)*t+p),I=r((q-E[1])*g+x),v.push("M",
	H+","+I)}return v}:function(e,q,t,g,p,x,u,A,m,v){var r=[],B,D,G=Math.round;var z=0;for(B=u?u.length:0;z<B;z++){var E=u[z];r.push("M");var H=0;for(D=E?E.length:0;H<D;H++){var I=A?A(E[H][0],E[H][1],m):E[H];r.push(G((I[0]-e)*t+p)+","+G((q-I[1])*g+x))}v||r.push("Z")}return r}}(),c={toScreenPoint:function(e,q,t,g,p){var x=e.spatialReference,u=g.spatialReference,A=g.x;g=g.y;x&&u&&!x.equals(u)&&x._canProject(u)&&(x=x.isWebMercator()?n.lngLatToXY(A,g):n.xyToLngLat(A,g,!0),A=x[0],g=x[1]);A=(A-e.xmin)*(q/e.getWidth());
	g=(e.ymax-g)*(t/e.getHeight());p||(A=Math.round(A),g=Math.round(g));return new l(A,g)},toScreenGeometry:function(e,q,t,g){var p=e.xmin,x=e.ymax,u=q/e.getWidth(),A=t/e.getHeight(),m=C.forEach,v=Math.round;if(g instanceof n)return new n(v((g.x-p)*u),v((x-g.y)*A));if(g instanceof f){e=new f;var r=e.points;m(g.points,function(E,H){r[H]=[v((E[0]-p)*u),v((x-E[1])*A)]});return e}if(g instanceof d)return new d(v((g.xmin-p)*u),v((x-g.ymin)*A),v((g.xmax-p)*u),v((x-g.ymax)*u));if(g instanceof k){e=new k;var B=
	e.paths,D;m(g.paths,function(E,H){D=B[H]=[];m(E,function(I,O){D[O]=[v((I[0]-p)*u),v((x-I[1])*A)]})});return e}if(g instanceof h){e=new h;var G=e.rings,z;m(g.rings,function(E,H){z=G[H]=[];m(E,function(I,O){z[O]=[v((I[0]-p)*u),v((x-I[1])*A)]})});return e}},_toScreenPath:function(e,q,t,g,p,x){var u=g instanceof k,A=e.spatialReference,m=g.spatialReference;if(A&&m&&!A.equals(m)&&A._canProject(m))if(A.isWebMercator())var v=n.lngLatToXY;else{v=n.xyToLngLat;var r=!0}return a(e.xmin,e.ymax,q/e.getWidth(),
	t/e.getHeight(),p,x,u?g.paths:g.rings,v,r,u)},toMapPoint:function(e,q,t,g){return new n(e.xmin+g.x/(q/e.getWidth()),e.ymax-g.y/(t/e.getHeight()),e.spatialReference)},toMapGeometry:function(e,q,t,g){var p=e.xmin,x=e.ymax,u=e.spatialReference,A=q/e.getWidth(),m=t/e.getHeight(),v=C.forEach;if(g instanceof n)return new n(p+g.x/A,x-g.y/m,u);if(g instanceof f){e=new f(u);var r=e.points;v(g.points,function(E,H){r[H]=[p+E[0]/A,x-E[1]/m]});return e}if(g instanceof d)return new d(p+g.xmin/A,x-g.ymin/m,p+g.xmax/
	A,x-g.ymax/m,u);if(g instanceof k){e=new k(u);var B=e.paths,D;v(g.paths,function(E,H){D=B[H]=[];v(E,function(I,O){D[O]=[p+I[0]/A,x-I[1]/m]})});return e}if(g instanceof h){e=new h(u);var G=e.rings,z;v(g.rings,function(E,H){z=G[H]=[];v(E,function(I,O){z[O]=[p+I[0]/A,x-I[1]/m]})});return e}}};b("extend-esri")&&y.mixin(y.getObject("geometry",!0,w),c);return c})},"esri/layers/GraphicsLayer":function(){define("require dojo/_base/declare dojo/_base/Deferred dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/window dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/dom dojox/gfx dojox/gfx/matrix ./gfxSniff!esri-svg?dojox/gfx/filters ./layer ./support/webglUtils ./support/WebGLSurface ../kernel ../lang ../sniff ../Color ../domUtils ../symbols/MarkerSymbol ../symbols/SimpleMarkerSymbol ../symbols/utils ../geometry/Point ../geometry/ScreenPoint ../geometry/Extent ../geometry/mathUtils ../geometry/screenUtils ../PluginTarget ./gfxSniff!esri-svg?dojox/gfx/svgext".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x,u,A,m,v,r,B,D,G,z,E,H,I,O){var T=-1!==c.renderer.toLowerCase().indexOf("svg"),Z=-1!==c.renderer.toLowerCase().indexOf("canvas"),ia=Z?"canvas-2d":c.renderer,ca=9>A("ie");k=10===A("ie");var W=void 0===A("ie")&&7==A("trident"),ha=k||W,ma=A("esri-touch"),xa=!!A("chrome"),K=g.isWebGLEnabled(),Y=T&&A("esri-will-change"),la=K||Z;g=y(null,{declaredClass:"esri.layers._GraphicsContainer",_setMap:function(L,R){var da=this._connects=[];this._map=L;this._useWillChange=
	this._useGlobalTransform="css-transforms"===L.navigationMode&&Y;if(la){var ka=f.create("div",{style:{position:"absolute",overflow:"visible"}},R);this._surface={getEventSource:function(){return ka}};Z&&(da.push(w.connect(ka,"onmousedown",this,this._canvasDownHandler)),da.push(w.connect(ka,"onmouseup",this,this._canvasUpHandler)),da.push(w.connect(ka,"onclick",this,this._canvasClickHandler)));K&&(this._webglSurface=new p({map:L,node:ka}))}else ka=(this._surface=c.createSurface(R,L.width,L.height)).getEventSource(),
	this._useWillChange&&d.set(ka,"will-change","transform"),d.set(ka=ca?ka.parentNode:ka,{overflow:"visible",position:"absolute"});da.push(w.connect(L,"onResize",this,"_onResizeHandler"));this._useGlobalTransform&&(da.push(w.connect(L,"onPan",this,"_onPanHandler")),da.push(w.connect(L,"onPanEnd",this,"_onPanEndHandler")),da.push(w.connect(L,"onExtentChange",this,"_onExtentChangeHandler")));return ka},_reorderLayer:function(L,R,da){R=R.getEventSource();la&&"svg"===L.surfaceType&&(R=R.parentNode);f.place(R,
	this._surface.getEventSource(),da)},_onPanHandler:function(L,R){var da=this._map.__visibleRect;L=da.x+R.x;R=da.y+R.y;this._panDx=L;this._panDy=R;la||d.set(this._surface.getEventSource(),x._css.names.transform,x._css.translate(L,R))},_onPanEndHandler:function(L,R){R=this._map.__visibleRect;L=R.x;R=R.y;this._panDx=L;this._panDy=R;la||d.set(this._surface.getEventSource(),x._css.names.transform,x._css.translate(L,R))},_onExtentChangeHandler:function(L,R,da,ka){da&&(this._panDy=this._panDx=0,la||d.set(this._surface.getEventSource(),
	x._css.names.transform,x._css.translate(0,0)))},_getTransform:function(){return{dx:this._panDx||0,dy:this._panDy||0}},_onResizeHandler:function(L,R,da){L=this._surface.getEventSource();var ka=this._map,qa;ca&&d.set(L=L.parentNode,{width:R+"px",height:da+"px",clip:"rect(0px "+R+"px "+da+"px 0px)"});h.set(L,"width",R);h.set(L,"height",da);this._surface.declaredClass||l.forEach(L.childNodes,function(va){h.set(va,"width",R);h.set(va,"height",da)});ka.loaded&&(ka.graphics.suspended||(ka.graphics._resized=
	!0),l.forEach(ka.graphicsLayerIds,function(va){qa=ka.getLayer(va);qa.suspended||(qa._resized=!0,qa._childLayer&&(qa._childLayer._resized=!0));qa._updateSVGFilters(null,null,R,da)}),ka.graphics._updateSVGFilters(null,null,R,da),ka._labels&&ka._labels._updateSVGFilters(null,null,R,da))},_cleanUp:function(){l.forEach(this._connects,w.disconnect,w);this._map=this._surface=null},_processEvent:function(L){var R=this._map;L.screenPoint=new z(L.pageX-R.position.x,L.pageY-R.position.y);L.mapPoint=R.toMap(L.screenPoint)},
	_canvasDownHandler:function(L){this._processEvent(L);this._downPt=L.screenPoint.x+","+L.screenPoint.y},_canvasUpHandler:function(L){this._processEvent(L);this._upPt=L.screenPoint.x+","+L.screenPoint.y},_tolerance:15,_isPrimaryMatch:function(L,R,da,ka){if(!L.visible||!R)return!1;var qa=R.getTransformedBoundingBox();if(qa){var va=new E(qa[0].x,qa[0].y,qa[2].x,qa[2].y);delete va.spatialReference;return ma?va.intersects(da):va.contains(ka)}return l.some(R.children||[],function(Ea){qa=Ea.getTransformedBoundingBox();
	va=new E(qa[0].x,qa[0].y,qa[2].x,qa[2].y);delete va.spatialReference;return ma?va.intersects(da):va.contains(ka)})},_canvasClickHandler:function(L){if(this._downPt&&this._upPt&&this._downPt===this._upPt){this._processEvent(L);var R=this._map,da=l.map(R.graphicsLayerIds,function(ra){return R.getLayer(ra)});da.push(R.graphics);da.reverse();da=l.filter(da,function(ra){return ra.loaded&&!ra.hasWebGLSurface()&&ra._mouseEvents&&!ra.suspended&&(!u.isDefined(ra.opacity)||0<ra.opacity)});var ka=L.screenPoint,
	qa=this._tolerance,va=ka.x-qa,Ea=ka.y+qa,ba=ka.x+qa;qa=ka.y-qa;var fa=new E(va,qa,ba,Ea);va=R.toMap(new z(va,Ea));ba=R.toMap(new z(ba,qa));Ea=va.spatialReference._getInfo();var pa=new E(E.prototype._normalizeX(va.x,Ea).x,va.y,E.prototype._normalizeX(ba.x,Ea).x,ba.y,va.spatialReference),wa;delete fa.spatialReference;l.some(da,function(ra){ra=l.filter(ra.graphics,function(X){return this._isPrimaryMatch(X,X.getDojoShape(),fa,ka)||!(!X._bgShape||!this._isPrimaryMatch(X,X._bgShape,fa,ka))},this);ra.reverse();
	if(0<ra.length){var Oa;l.some(ra,function(X){return X.geometry&&pa.intersects(X.geometry)?(Oa=X,!0):!1});if(Oa)return wa=Oa,!0}return!1},this);wa&&(da=wa.getLayer())&&(L.graphic=wa,da.onClick(L))}}});t=y(t,{declaredClass:"esri.layers._GraphicsLayer",managedSuspension:!0,surfaceType:ia,webglEnabled:K,renderer:null,_eventMap:{"graphic-add":["graphic"],"graphic-remove":["graphic"],"renderer-change":["renderer"]},_suspendGraphics:!1,constructor:function(L,R){L=L||{};if(n.isString(L)||n.isObject(L)&&(L.layerDefinition||
	L.query))L=R;this._params=n.mixin({displayOnPan:!0,drawMode:!0,styling:!0},L);R=this._params.dataAttributes;"string"===typeof R&&(R=[R]);this.styling=T?this._params.styling:!0;this.dataAttributes=R;this.infoTemplate=L&&L.infoTemplate;this.graphics=[];this._draw=n.hitch(this,this._draw);this._refresh=n.hitch(this,this._refresh);this._acquireSVGMarker=n.hitch(this,this._acquireSVGMarker);this._evalSurfaceType=n.hitch(this,this._evalSurfaceType);this._setSurfaceType=n.hitch(this,this._setSurfaceType);
	this.setWebGLEnabled(null!=this._params.webglEnabled?this._params.webglEnabled:this.webglEnabled);this.registerConnectEvents()},getNode:function(){return this._div&&this._div.getEventSource()},setDrawMode:function(L){this._params.drawMode=L},suspendGraphics:function(L){this._suspendGraphics=L;l.forEach(this.graphics,function(R){R._suspended=L})},setWebGLEnabled:function(L){var R=this.webglEnabled;this.webglEnabled=(L||!1)&&K;R!==this.webglEnabled&&(this._evalSurfaceType(),this.onWebGLEnabledChange())},
	hasWebGLSurface:function(){return"webgl"===this.surfaceType},_getSurfaceType:function(L){return L&&"webgl"===L.surfaceType?"webgl":ia},_evalSurfaceType:function(L){K&&(L?this._setSurfaceType():null==this._evalSurfaceTimerHandle&&(this._evalSurfaceTimerHandle=setTimeout(this._setSurfaceType,0)))},_hasPendingSurfaceEval:function(){return!!this._evalSurfaceTimerHandle},_setSurfaceType:function(){clearTimeout(this._evalSurfaceTimerHandle);this._evalSurfaceTimerHandle=null;var L=this._canUseWebGLSurface()?
	"webgl":ia;this.surfaceType!==L?(this.surfaceType=L,this._handleSurfaceChange(),this.onSurfaceChange()):this._pendingRedraw&&this._redraw()},_handleSurfaceChange:function(){this._cancelWebGLDepsLoad();this._webglDepsPromise=this._prepareToAttach(this._map);this._webglDepsPromise.always(n.hitch(this,function(L){this._webglDepsPromise=null;L&&"cancel"===L.dojoType||this._evalSurface()}))},_cancelWebGLDepsLoad:function(){this._webglDepsPromise&&!this._webglDepsPromise.isFulfilled()&&this._webglDepsPromise.cancel();
	this._webglDepsPromise=null},_evalSurface:function(){var L=this._map,R=this._div;L&&R&&this._getSurfaceType(R)!==this.surfaceType&&(L._detachGraphicsLayer(this),L._attachGraphicsLayer(this))},_canUseWebGLSurface:function(L){L=L||this._map;return this.webglEnabled&&(!L||L.webglEnabled&&(L.ownsWebGLContext(this)||L.isWebGLContextAvailable()))&&this._params.drawMode&&this._isWebGLCompatible()},_isWebGLCompatible:function(){return!1},_prepareToAttach:function(L){var R=new b;!this.webglDeps&&this._canUseWebGLSurface(L)?
	C(["./support/webglDeps"],n.hitch(this,function(da){this.webglDeps=da;R.isFulfilled()||R.resolve()})):R.resolve();return R.promise},_setMap:function(L,R){this.inherited(arguments);this._map=L;this._evalSurfaceType(!0);this._webglChangeMapHandle=L.on("webgl-enabled-change",n.hitch(this,function(){this._evalSurfaceType()}));this._wrap=L.wrapAround180;this._srInfo=L.spatialReference._getInfo();this._svgFilters={};this._lineMarkers={};if(this.hasWebGLSurface())L.acquireWebGLContext(this),this._div=L._gc._webglSurface.createRenderer(this.webglDeps.WebGLRenderer,
	L.width,L.height,this);else{if("svg"===this.surfaceType)if(la){R=c.createSurface(R.getEventSource(),L.width,L.height);var da=R.getEventSource();d.set(da,{position:"absolute",overflow:"visible",pointerEvents:"none"});L._gc._useWillChange&&d.set(da,"will-change","transform");this._div=R.createGroup();d.set(this._div.getEventSource(),"pointer-events","auto")}else this._div=R.createGroup();else R=c.createSurface(R.getEventSource(),L.width,L.height),d.set(R.rawNode,"position","absolute"),this._div=R.createGroup(),
	this._renderProto=this._div.constructor.prototype._render,this._div._render=n.hitch(this,this._canvasRender);this._bgGroup=this._div.createGroup()}this._div.getEventSource().id=this.id+"_layer";this._initOpacity();return this._div},_unsetMap:function(L,R){L.releaseWebGLContext(this);"webgl"===this._div.surfaceType?L._gc._webglSurface.destroyRenderer(this._div):(l.forEach(this.graphics,function(da){da._shape=null}),"svg"===this.surfaceType?la?(R=this._div.parent,this._div.clear(),R.remove(this._div),
	f.destroy(this._div.getEventSource()),f.destroy(R.getEventSource())):(this._div.clear(),R.remove(this._div),f.destroy(this._div.getEventSource())):(R=this._div.getParent(),R._parent={},f.destroy(R.rawNode),R.destroy()));this._map=this._div=this._svgFilters=this._lineMarkers=null;this._pendingRedraw=!1;clearTimeout(this._wakeTimer);this._wakeTimer=null;clearTimeout(this._evalSurfaceTimerHandle);this._evalSurfaceTimerHandle=null;this._webglChangeMapHandle&&this._webglChangeMapHandle.remove();this._cancelWebGLDepsLoad();
	this._disableDrawConnectors();this.inherited(arguments)},_initOpacity:function(){var L=this.opacity;u.isDefined(L)&&1>L&&this.setOpacity(L,!0)},_onZoomStartHandler:function(){this.hasWebGLSurface()||v.hide(this._div.getEventSource())},_onExtentChangeHandler:function(L,R,da,ka){clearTimeout(this._wakeTimer);this._wakeTimer=null;da?(L=this._map.__visibleRect,R=this._div,this._evalSDRenderer(),this._refresh(!0),this._params._child||this._updateTransform(R,L.x,L.y,!0),this._renderProto&&R.surface.pendingRender?
	this._dirty=!0:this.suspended||v.show(R.getEventSource())):this._resized&&(this._resized=!1,this._refresh(!1));if(0<this.graphics.length)this.onUpdate()},_canvasRender:function(){var L=this._div;this._dirty&&(delete this._dirty,this.suspended||v.show(L.getEventSource()));return this._renderProto.apply(L,arguments)},_refresh:function(L){if(!this.hasWebGLSurface()){var R=this.graphics,da=R.length,ka,qa=this._draw;for(ka=0;ka<da;ka++)qa(R[ka],L)}},refresh:function(){this._refresh(!0)},_redraw:function(){this._pendingRedraw=
	!1;this.hasWebGLSurface()?this._div&&this._div.redraw():this._refresh(!0)},redraw:function(){this._hasPendingSurfaceEval()?this._pendingRedraw=!0:this._redraw()},hasLocalNavigationTransform:function(){return!(this._map&&this._map._gc._useGlobalTransform)},getNavigationTransform:function(){var L={dx:0,dy:0};this._map&&(this.hasLocalNavigationTransform()?this._div&&!this.hasWebGLSurface()&&(L=this._div.getTransform()):L=this._map._gc._getTransform());return L},_onPanHandler:function(L,R){this._panDx=
	R.x;this._panDy=R.y;L=this._map.__visibleRect;this._updateTransform(this._div,L.x+R.x,L.y+R.y);W&&this._updateSVGMarkers()},_onPanEndUpdateHandler:function(L,R){L=this._map.__visibleRect;this._params._child||R.x===this._panDx&&R.y===this._panDy?(this._updateSVGFilters(-L.x,-L.y),this._updateSVGMarkers()):this._updateTransform(this._div,L.x,L.y,!0);this._refresh(!1);if(this.graphics.length)this.onUpdate()},_onPanStartHandler:function(){v.hide(this._div.getEventSource())},_onPanEndHandler:function(){var L=
	this._map.__visibleRect,R=this._div;this._updateTransform(R,L.x,L.y,!0);this._refresh(!1);this._renderProto&&R.surface.pendingRender?this._dirty=!0:v.show(R.getEventSource());if(this.graphics.length)this.onUpdate()},_updateTransform:function(L,R,da,ka){this.hasWebGLSurface()||(this.hasLocalNavigationTransform()?L.setTransform(e.translate({x:R,y:da})):la&&d.set(this._div.parent.getEventSource(),x._css.names.transform,x._css.translate(R,da)),ka&&(this._updateSVGFilters(-R,-da),this._updateSVGMarkers()))},
	onSuspend:function(){this.inherited(arguments);v.hide(this._div.getEventSource());clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors()},onResume:function(L){this.inherited(arguments);L.firstOccurrence&&this._evalSDRenderer();this._enableDrawConnectors();this._wakeTimer=this._wakeTimer||setTimeout(n.hitch(this,function(){this.suspended||this._map.__zooming||this._onExtentChangeHandler(null,null,!0)}),0)},_enableDrawConnectors:function(){var L=this._map,R=w.connect;this._disableDrawConnectors();
	this._params.displayOnPan?(this._params._child||(this._onPanHandler_connect=R(L,"onPan",this,"_onPanHandler")),this._onPanEndHandler_connect=R(L,"onPanEnd",this,"_onPanEndUpdateHandler")):(this._onPanStartHandler_connect=R(L,"onPanStart",this,"_onPanStartHandler"),this._onPanEndHandler_connect=R(L,"onPanEnd",this,"_onPanEndHandler"));this._onZoomStartHandler_connect=R(L,"onZoomStart",this,"_onZoomStartHandler");this._onExtentChangeHandler_connect=R(L,"onExtentChange",this,"_onExtentChangeHandler")},
	_disableDrawConnectors:function(){var L=w.disconnect;L(this._onExtentChangeHandler_connect);L(this._onZoomStartHandler_connect);L(this._onPanHandler_connect);L(this._onPanStartHandler_connect);L(this._onPanEndHandler_connect);this._onExtentChangeHandler_connect=this._onZoomStartHandler_connect=this._onPanHandler_connect=this._onPanStartHandler_connect=this._onPanEndHandler_connect=null},_updateExtent:function(L){var R=L.geometry;if(!R)L._extent=null;else if(!(L._extent=R.getExtent())){if("esri.geometry.Point"===
	R.declaredClass){var da=R.x;var ka=R.y}else if("esri.geometry.Multipoint"===R.declaredClass)da=R.points[0][0],ka=R.points[0][1];else{L._extent=null;return}L._extent=new E(da,ka,da,ka,R.spatialReference)}},_intersects:function(L,R,da){var ka=L.spatialReference,qa=R.spatialReference,va=ka&&qa&&!ka.equals(qa)&&ka._canProject(qa)&&4326===qa.wkid;if(this._wrap&&!da){da=[];ka=L._getFrameWidth();var Ea=this._srInfo,ba=L._clip?L._getAvailExtent():L.extent,fa,pa=[];var wa=R._partwise;va&&(ba=L.geographicExtent,
	Ea=qa._getInfo());L=ba._getParts(Ea);if(wa&&wa.length)for(R=[],qa=0,va=wa.length;qa<va;qa++)R=R.concat(wa[qa]._getParts(Ea));else R=R._getParts(Ea);qa=0;for(va=R.length;qa<va;qa++){var ra=R[qa];Ea=0;for(ba=L.length;Ea<ba;Ea++){var Oa=L[Ea];if(Oa.extent.intersects(ra.extent))for(wa=0,fa=ra.frameIds.length;wa<fa;wa++)da.push((Oa.frameIds[0]-ra.frameIds[wa])*ka)}}qa=0;for(va=da.length;qa<va;qa++)wa=da[qa],l.indexOf(da,wa)===qa&&pa.push(wa);return pa.length?pa:null}return(va?L.geographicExtent:L.extent).intersects(R)?
	[0]:null},_defaultMarker:{type:"simplemarkersymbol",style:"square",size:1,xoffset:0,yoffset:0,angle:0},_draw:function(L,R){if(!this.hasWebGLSurface()&&this._params.drawMode&&this._map&&!this.suspended&&!this._map.__zooming&&!this._resized)try{var da=L._extent,ka,qa,va=!T||this.styling,Ea=T&&this.dataAttributes,ba=L.getDojoShape(),fa;if(!L._suspended&&L.visible&&da&&(ka=this._intersects(this._map,da,L.geometry._originOnly))&&(qa=va?this._getSymbol(L):this._defaultMarker)){if(L._offsets&&L._offsets.join(",")===
	ka.join(",")?fa=!0:L._offsets=ka,!ba||R||!fa){var pa=L.geometry.type;R={graphic:L};var wa=L._bgShape,ra=va&&!L.symbol?this._getRenderer(L):null,Oa=ra&&ra.backgroundFillSymbol;if("point"===pa)this._isInvalidShape(qa,ba)&&this._removeShape(L),L._shape=this._drawPoint(this._div,L.geometry,qa,L.getDojoShape(),ka,ra,L),va&&this._symbolizePoint(L.getDojoShape(),qa,ra,L);else if("multipoint"===pa)this._drawMarkers(L,qa,ka,ra),va&&this._symbolizeMarkers(L,qa,ra);else{var X;pa=qa;var U;va&&(pa=(X="simplemarkersymbol"===
	qa.type||"picturemarkersymbol"===qa.type||"textsymbol"===qa.type?qa:null)?Oa:qa);if(va&&pa&&-1<pa.type.indexOf("fillsymbol")){var oa=this._bgGroup;var sa=!(!oa||!X)}wa&&!sa&&this._removeBgShape(L);if(pa){!sa&&(this._isInvalidShape(pa,L._shape)||L._shape&&L._shape._isCentroidMarker)&&this._removeShape(L,!1);if(U=this._drawShape(L,ka,oa||this._div,sa?wa:L.getDojoShape()))U._isCentroidMarker=!1;va&&this._symbolizeShape(U,pa,ra,pa===Oa,L);L[sa?"_bgShape":"_shape"]=U}if(X){(this._isInvalidShape(X,L._shape)||
	L._shape&&!L._shape._isCentroidMarker)&&this._removeShape(L,!1);var Fa=L.geometry.getCentroid();if(U=Fa&&this._drawPoint(this._div,Fa,X,L._shape,ka,ra,L))U._isCentroidMarker=!0,this._symbolizePoint(U,X,ra,L);L._shape=U}}Z||(L._bgShape&&this._initNode(L,L._bgShape,L._bgShape!==wa,R,Ea),L._shape&&this._initNode(L,L._shape,L._shape!==ba,R,Ea));L._applyDataAttrs();R.node=L.getNode();this.onGraphicDraw(R)}}else ba&&this._removeShape(L)}catch(Ta){this._errorHandler(Ta,L)}},_initNode:function(L,R,da,ka,
	qa){if(R=R&&R.getNode())R.e_graphic=L,this._addDataAttrs(L,qa,R),da&&(ka.node=R,this.onGraphicNodeAdd(ka))},_removeShape:function(L,R,da){var ka=L.getDojoShape(),qa=ka&&ka.getNode();ka&&!da&&(ka.removeShape(),ka.destroy());L._shape=L._offsets=null;!1!==R&&this._removeBgShape(L,da);if(qa&&(qa.e_graphic=null,!Z))this.onGraphicNodeRemove({graphic:L,node:qa})},_removeBgShape:function(L,R){var da=L._bgShape,ka=da&&da.getNode();da&&!R&&(da.removeShape(),da.destroy());L._bgShape=null;if(ka&&(ka.e_graphic=
	null,!Z))this.onGraphicNodeRemove({graphic:L,node:ka})},_addDataAttrs:function(L,R,da){var ka=L.attributes,qa,va=R?R.length:0,Ea=this._getRenderer(L);if(da&&ka){for(qa=0;qa<va;qa++)(da=R[qa])&&L.attr("data-"+da,ka[da]);!this.styling&&Ea&&(Ea.getBreakIndex?(R=Ea.getBreakIndex(L),L.attr("data-class-break",-1!==R?R:null)):Ea.getUniqueValueInfo&&(R=Ea.getUniqueValueInfo(L),L.attr("data-unique-value",R?R.value:null)))}},_drawShape:function(L,R,da,ka){L=L.geometry;var qa=L.type,va=this._map,Ea=va.extent,
	ba=va.width,fa=va.height;va=va.__visibleRect;var pa=[],wa;var ra="extent"===qa;if("rect"===qa||ra)pa={x:0,y:0,spatialReference:L.spatialReference},pa.x=ra?L.xmin:L.x,pa.y=ra?L.ymax:L.y,qa=I.toScreenPoint(Ea,ba,fa,pa),pa.x=ra?L.xmax:L.x+L.width,pa.y=ra?L.ymin:L.y+L.height,L=I.toScreenPoint(Ea,ba,fa,pa),R={x:qa.x-va.x+R[0],y:qa.y-va.y,width:Math.abs(L.x-qa.x),height:Math.abs(L.y-qa.y)},0===R.width&&(R.width=1),0===R.height&&(R.height=1),ka=this._drawRect(da,ka,R);else if("polyline"===qa||"polygon"===
	qa){ra=0;for(wa=R.length;ra<wa;ra++)pa=pa.concat(I._toScreenPath(Ea,ba,fa,L,-va.x+R[ra],-va.y));ka=this._drawPath(da,ka,pa);this._rendererLimits&&("polyline"===qa?this._clipPolyline(ka,L):this._clipPolygon(ka,L))}return ka},_drawRect:function(L,R,da){return R?R.setShape(da):L.createRect(da)},_drawImage:function(L,R,da){return R?R.setShape(da):L.createImage(da)},_drawCircle:function(L,R,da){return R?R.setShape(da):L.createCircle(da)},_drawPath:function(){return ca?function(L,R,da,ka){da=ka?da:da.join(" ");
	if(R)return R.setShape(da);R=L.createObject(ka?c.Path:c.EsriPath,da);L._overrideSize(R.getEventSource());return R}:function(L,R,da,ka){da=ka?da:da.join(" ");return R?R.setShape(da):L.createPath(da)}}(),_drawText:function(L,R,da){return R?R.setShape(da):L.createText(da)},_evalSDRenderer:function(L){var R=this._map,da=this.renderer,ka,qa=this._rndForScale;R&&R.loaded&&da&&da.getRendererInfo&&(ka="zoom"===da.rangeType?da.getRendererInfoByZoom(R.getZoom()):da.getRendererInfoByScale(R.getScale()));this._rndForScale=
	ka&&ka.renderer;L||this._rndForScale==qa||this.emit("renderer-change",{renderer:this._rndForScale})},_getRenderer:function(L){var R=this._rndForScale||this.renderer;L&&R&&R.getObservationRenderer&&(R=R.getObservationRenderer(L));return R},_getSymbol:function(L){var R=this._getRenderer();return L.symbol||R&&R.getSymbol(L)},_getVariable:function(L,R,da){if(L)var ka=(L=L.getVisualVariablesForType(R,da))&&L[0];return ka},_applyOpacity:function(L,R,da,ka){R=R.getOpacity(ka,{opacityInfo:da});null!=R&&(L=
	new m(L),L.a=R);return L},_symbolizeShape:function(L,R,da,ka,qa){var va=R.getStroke(),Ea=R.getFill(),ba=R.type,fa=-1!==ba.indexOf("linesymbol"),pa=-1!==ba.indexOf("fillsymbol")?null:this._getVariable(da,"sizeInfo",!1),wa=this._getVariable(da,"colorInfo",!1),ra=this._getVariable(da,"opacityInfo",!1),Oa=fa?"none"!==R.style:R.outline&&"none"!==R.outline.style,X=fa?null:this._getVariable(da,"sizeInfo","outline");pa=(pa=ka?X:X||pa)?da.getSize(qa,{sizeInfo:pa,resolution:this._map.getResolutionInMeters(),
	scale:this._map.getScale()}):null;ka&&(wa=ra=null);if((wa||ra)&&"picturefillsymbol"!==ba)if(fa){var U=va&&va.color;wa&&(U=da.getColor(qa,{colorInfo:wa})||U);U&&ra&&(U=this._applyOpacity(U,da,ra,qa))}else if(Ea&&Ea.toCss){var oa=Ea;wa&&(oa=da.getColor(qa,{colorInfo:wa})||oa);oa&&ra&&(oa=this._applyOpacity(oa,da,ra,qa))}L.setStroke(!Oa||null==pa&&!U?va:n.mixin({},va,null!=pa?{width:pa}:null,U&&{color:U})).setFill(oa||Ea);fa&&D.applyLineMarker(L,R,U,this._acquireSVGMarker)},_smsToPath:function(){return ca?
	function(L,R,da,ka,qa,va,Ea,ba,fa){switch(R){case L.STYLE_SQUARE:return["M",qa+","+Ea,"L",va+","+Ea,va+","+ba,qa+","+ba,"X","E"];case L.STYLE_CROSS:return["M",da+","+Ea,"L",da+","+ba,"M",qa+","+ka,"L",va+","+ka,"E"];case L.STYLE_X:return["M",qa+","+Ea,"L",va+","+ba,"M",qa+","+ba,"L",va+","+Ea,"E"];case L.STYLE_DIAMOND:return["M",da+","+Ea,"L",va+","+ka,da+","+ba,qa+","+ka,"X","E"];case L.STYLE_TARGET:return["M",qa+","+Ea,"L",va+","+Ea,va+","+ba,qa+","+ba,qa+","+Ea,"M",qa-fa+","+ka,"L",qa+","+ka,"M",
	da+","+(Ea-fa),"L",da+","+Ea,"M",va+fa+","+ka,"L",va+","+ka,"M",da+","+(ba+fa),"L",da+","+ba,"E"]}}:function(L,R,da,ka,qa,va,Ea,ba,fa){switch(R){case L.STYLE_SQUARE:return["M",qa+","+Ea,va+","+Ea,va+","+ba,qa+","+ba,"Z"];case L.STYLE_TRIANGLE:return["M",da+","+Ea,va+","+ba,qa+","+ba,"Z"];case L.STYLE_CROSS:return["M",da+","+Ea,da+","+ba,"M",qa+","+ka,va+","+ka];case L.STYLE_X:return["M",qa+","+Ea,va+","+ba,"M",qa+","+ba,va+","+Ea];case L.STYLE_DIAMOND:return["M",da+","+Ea,va+","+ka,da+","+ba,qa+","+
	ka,"Z"];case L.STYLE_TARGET:return L=["M",qa+","+Ea,va+","+Ea,va+","+ba,qa+","+ba,qa+","+Ea],fa&&L.push("M",qa-fa+","+ka,qa+","+ka,"M",da+","+(Ea-fa),da+","+Ea,"M",va+fa+","+ka,va+","+ka,"M",da+","+(ba+fa),da+","+ba),L}}}(),_pathStyles:{square:1,cross:1,x:1,diamond:1,target:1},_typeMaps:{picturemarkersymbol:"image",picturefillsymbol:"path",simplefillsymbol:"path",simplelinesymbol:"path",cartographiclinesymbol:"path",textsymbol:"text"},_isInvalidShape:function(L,R){R=R&&R.shape&&R.shape.type;var da=
	L&&L.type;L=L&&L.style;"rect"===R&&(R="path");da&&(L=this._typeMaps[da]||L);this._pathStyles[L]&&(L="path");return"shieldlabelsymbol"===da?!0:!(!R||!L||R===L)},_reArialFont:/\s*(^|,)\s*arial\s*(,|$)\s*/i,_fallbackFont:"Arial",_drawPoint:function(L,R,da,ka,qa,va,Ea){var ba=da.type,fa=this._map,pa=fa.__visibleRect,wa=I.toScreenPoint(fa.extent,fa.width,fa.height,R).offset(-pa.x+qa[0],-pa.y);pa=wa.x;var ra=wa.y;R=[];var Oa=this._getVariable(va,"rotationInfo",!1);Oa=Oa?va.getRotationAngle(Ea,{rotationInfo:Oa}):
	null;var X=this._getVariable(va,"sizeInfo",!1);fa=null!=Ea.size?Ea.size:X&&va.getSize(Ea,{sizeInfo:X,shape:da.style,resolution:fa.getResolutionInMeters(),scale:fa.getScale()});Oa&&R.push(e.rotategAt(Oa,wa));if(0!==da.xoffset||0!==da.yoffset){var U=e.translate(da.xoffset,-da.yoffset);R.push(U)}0!==da.angle&&R.push(e.rotategAt(da.angle,wa));if("simplemarkersymbol"===ba){var oa=da.style;va=Math.round;null!=fa?U&&(null!=U.dx&&(U.dx=U.dx/da.size*fa),null!=U.dy&&(U.dy=U.dy/da.size*fa)):fa=da.size;switch(oa){case B.STYLE_SQUARE:case B.STYLE_TRIANGLE:case B.STYLE_CROSS:case B.STYLE_X:case B.STYLE_DIAMOND:da=
	isNaN(fa)?16:fa/2;oa=this._drawPath(L,ka,this._smsToPath(B,oa,pa,ra,va(pa-da),va(pa+da),va(ra-da),va(ra+da)));break;case B.STYLE_TARGET:Ea=da._targetWidth/2;U=da._targetHeight/2;oa=this._drawPath(L,ka,this._smsToPath(B,oa,pa,ra,va(pa-Ea),va(pa+Ea),va(ra-U),va(ra+U),da._spikeSize));break;case B.STYLE_PATH:oa=this._drawPath(L,ka,da.path,!0);da=oa.getBoundingBox();L=this._getScaleMatrix(da,fa);1===L.xx&&1===L.yy||R.push(e.scaleAt(L.xx,L.yy,wa));R.push(e.translate(-(da.x+da.width/2)+pa,-(da.y+da.height/
	2)+ra));break;default:da=isNaN(fa)?16:fa/2,oa=this._drawCircle(L,ka,{cx:pa,cy:ra,r:da})}}else if("shieldlabelsymbol"===ba)oa=da.width,wa=da.height,ka=L.createGroup(),oa=L.createImage({x:pa-oa/2,y:ra-wa/2,width:oa,height:wa,src:da.url}),ka.add(oa),null!=da.font&&(ra+=.2*da.getHeight(),L=L.createText({type:"text",text:da.text,x:pa,y:ra,align:"middle",decoration:da.decoration,rotated:da.rotated,kerning:da.kerning}),L.setFont(da.font),L.setFill(da.color),ka.add(L)),oa=ka;else if("picturemarkersymbol"===
	ba){if(null==fa?(oa=da.width,wa=da.height):(wa=fa,oa=da.width/da.height*wa,U&&(null!=U.dx&&(U.dx=U.dx/da.width*oa),null!=U.dy&&(U.dy=U.dy/da.height*wa))),oa=this._drawImage(L,ka,{x:pa-oa/2,y:ra-wa/2,width:oa,height:wa,src:da.url}),T&&(L=oa.getNode()))da=(da=this._getVariable(va,"opacityInfo",!1))?va.getOpacity(Ea,{opacityInfo:da}):null,null!=da?L.setAttribute("opacity",da):L.setAttribute("opacity",1)}else if("textsymbol"===ba){if(va=da.font){oa=null!=fa;Ea=va.family&&!this._reArialFont.test(va.family);
	if(oa||Ea||Z)va=new va.constructor(va.toJson());oa&&va.setSize(fa);Z&&(va.size+="px");Ea&&va.setFamily(va.family+","+this._fallbackFont)}oa=this._drawText(L,ka,{type:"text",text:da.text,x:pa,y:ra,align:da.getSVGAlign(),decoration:da.decoration||va&&va.decoration,rotated:da.rotated,kerning:da.kerning});va&&oa.setFont(va);T&&(L=oa.getNode(),pa=da.getSVGBaseline(),ra=da.getSVGBaselineShift(),L&&(L.setAttribute("dominant-baseline",pa),ra&&L.setAttribute("baseline-shift",ra),this._applyHalo(oa,da.haloColor,
	da.haloSize)))}oa.setTransform(e.multiply(R));oa._wrapOffsets=qa;return oa},_acquireSVGMarker:function(L,R,da,ka){L=this._getSVGMarkerId(R,ka);var qa=this._getSVGMarker(L);qa||(qa=D.createSVGMarker(R,L,da,ka),this._div.getParent().defNode.appendChild(qa),this._lineMarkers[L]=qa);return qa},_getSVGMarkerId:function(L,R){return"marker_"+this._map.id+"_"+L.r+"_"+L.g+"_"+L.b+"_"+R},_getSVGMarker:function(L){return this._lineMarkers[L]},_updateSVGMarkers:function(){if(T&&ha){var L=this._lineMarkers,R;
	for(R in L){var da=L[R];da.setAttribute("id",R+"_temp");da.setAttribute("id",R)}}},_applyHalo:function(L,R,da){var ka=R&&da?this._getHaloId(R,da):null;L.setFilter(R&&da?A("webkit")||A("ff")?this._getDilateFilter(R,da,ka):this._getOffsetFilter(R,da,ka):null)},_getDilateFilter:function(L,R,da){var ka=this._getSVGFilter(da);ka||(ka=this._createSVGFilter({id:da},[q.feMorphology({operator:"dilate",radius:R,result:"dilated"}),q.feFlood({"flood-color":L.toCss(!0)}),q.feComposite({in2:"dilated",operator:"in",
	result:"composite"}),q.feMerge("composite","SourceGraphic")]));return ka},_getOffsetFilter:function(L,R,da){var ka=this._getSVGFilter(da);if(!ka){L=L.toCss(!0);ka=this._offsetPrimitives;var qa,va=ka.length,Ea=[],ba=[];for(qa=0;qa<va;qa++){var fa=ka[qa],pa="offset"+fa.dir,wa="composite"+fa.dir;ba.push(wa);Ea.push(q.feOffset({dx:fa.dx*R,dy:fa.dy*R,"in":"SourceAlpha",result:pa}),q.feFlood({"flood-color":L}),q.feComposite({in2:pa,operator:"in",result:wa}))}ba.push("SourceGraphic");Ea.push(q.feMerge.apply(q.feMerge,
	ba));ka=this._createSVGFilter({id:da},Ea)}return ka},_offsetPrimitives:[{dir:"L",dx:-1,dy:0},{dir:"TL",dx:-1,dy:-1},{dir:"T",dx:0,dy:-1},{dir:"TR",dx:1,dy:-1},{dir:"R",dx:1,dy:0},{dir:"BR",dx:1,dy:1},{dir:"B",dx:0,dy:1},{dir:"BL",dx:-1,dy:1}],_getHaloId:function(L,R){return"halo_"+this._map.id+"_"+this.id+"_"+L.r+"_"+L.g+"_"+L.b+"_"+L.a+"_"+R},_getSVGFilter:function(L){return this._svgFilters[L]},_createSVGFilter:function(L,R){R=q.createFilter(L,R);var da=this._map,ka=da.__visibleRect;R.x=-ka.x;R.y=
	-ka.y;R.width=da.width;R.height=da.height;return this._svgFilters[L.id]=R},_updateSVGFilters:function(L,R,da,ka){var qa=this._svgFilters,va,Ea,ba;for(Ea in qa)if(va=qa[Ea]){if(ba=a.byId(Ea))null!=L&&ba.setAttribute("x",L),null!=R&&ba.setAttribute("y",R),null!=da&&ba.setAttribute("width",da),null!=ka&&ba.setAttribute("height",ka);null!=L&&(va.x=L);null!=R&&(va.y=R);null!=da&&(va.width=da);null!=ka&&(va.height=ka)}},_getScaleMatrix:function(L,R){var da=L.width/L.height,ka=1,qa=1;isNaN(R)||(1<da?(ka=
	R/L.width,qa=R/da/L.height):(qa=R/L.height,ka=R*da/L.width));return{xx:ka,yy:qa}},_symbolizePoint:function(L,R,da,ka){var qa=R.type,va=R.style;if("shieldlabelsymbol"!==qa&&"picturemarkersymbol"!==qa){var Ea=R.getStroke();R=R.getFill();va=va===B.STYLE_X||va===B.STYLE_CROSS;var ba=Ea&&Ea.color,fa=va?ba:R;if(da){var pa=this._getVariable(da,"colorInfo",!1),wa=this._getVariable(da,"opacityInfo",!1);pa&&(fa=da.getColor(ka,{colorInfo:pa})||fa);fa&&wa&&(fa=this._applyOpacity(fa,da,wa,ka));fa&&(va?fa!==ba&&
	(Ea=Ea?n.mixin({},Ea):{},Ea.color=fa):fa!==R&&(R=fa))}"textsymbol"===qa?L.setFill(R):"simplemarkersymbol"===qa&&L.setFill(R).setStroke(Ea)}},_drawMarkers:function(L,R,da,ka){var qa=L.geometry,va=qa.points,Ea=L.getDojoShape()||this._div.createGroup(),ba,fa=va.length,pa=[],wa=0,ra,Oa=da?da.length:0;Ea.children[0]&&this._isInvalidShape(R,Ea.children[0])&&Ea.clear();for(ba=0;ba<fa;ba++){var X=va[ba];for(ra=0;ra<Oa;ra++)pa[0]=da[ra],this._drawPoint(Ea,{x:X[0],y:X[1],spatialReference:qa.spatialReference},
	R,Ea.children[wa++],pa,ka,L)}R=Ea.children.length;if(fa*da.length<R)for(ba=R-1;ba>=fa*da.length;ba--)Ea.children[ba].removeShape();L._shape=Ea},_symbolizeMarkers:function(L,R,da){var ka=L.getDojoShape().children,qa,va=ka.length;for(qa=0;qa<va;qa++)this._symbolizePoint(ka[qa],R,da,L)},_errorHandler:function(L,R){R&&(L.message="Unable to draw graphic (geometry:"+(R.geometry?R.geometry.declaredClass:null)+", symbol:"+(R.symbol?R.symbol.declaredClass:null)+"): "+L.message);this.inherited(arguments)},
	_rendererLimits:function(){if(ca){var L=1E5;var R=-1E5;var da=1E5}else A("chrome")&&6>A("chrome")&&(L=8150,R=-1E4,da=1E4);if(L)return{clipLimit:L,rangeMin:R,rangeMax:da,clipBBox:[-L,-L,L,L],clipSegments:[[[-L,-L],[L,-L]],[[L,-L],[L,L]],[[L,L],[-L,L]],[[-L,L],[-L,-L]]]}}(),_clipPolyline:function(L,R){R=this._getCorners(L,R);var da=R.br,ka=this._rendererLimits,qa=ka.rangeMin,va=ka.rangeMax,Ea=ka.clipBBox,ba=ka.clipSegments;ka=this._isPointWithinRange;var fa=this._isPointWithinBBox,pa=this._getClipperIntersection,
	wa=this._getPlaneIndex;if(!ka(R.tl,qa,va)||!ka(da,qa,va)){ca&&this._createSegments(L);var ra=[];l.forEach(L.segments,function(Oa){Oa=Oa.args;var X=Oa.length,U=[],oa;for(oa=0;oa<X;oa+=2){var sa=[Oa[oa],Oa[oa+1]],Fa=[Oa[oa+2],Oa[oa+3]],Ta=fa(sa,Ea),Ya=fa(Fa,Ea);if(Ta^Ya){if(Ya=pa([sa,Fa],ba))Ta?(oa?U.push(Ya[1]):U.push(sa,Ya[1]),ra.push(U),U=[]):U.push(Ya[1],Fa)}else Ta?oa?U.push(Fa):U.push(sa,Fa):(Ya=wa(sa,Ea),Ta=wa(Fa,Ea),-1!==Ya&&-1!==Ta&&Ya!==Ta&&(sa=pa([sa,Fa],ba,!0),0<sa.length&&(sa[Ya]||(Ya=
	sa[Ya[0]]?Ya[0]:Ya[1]),sa[Ta]||(Ta=sa[Ta[0]]?Ta[0]:Ta[1]),Fa=sa[Ya],sa=sa[Ta],Fa&&U.push(Fa),sa&&(U.push(sa),ra.push(U),U=[]))))}ra.push(U)});L.setShape(this._getPathStringFromPaths(ra))}},_clipPolygon:function(L,R){R=this._getCorners(L,R);var da=R.br,ka=this._rendererLimits,qa=ka.clipLimit,va=ka.rangeMin,Ea=ka.rangeMax,ba=ka.clipBBox,fa=ka.clipSegments;ka=this._isPointWithinRange;var pa=this._isPointWithinBBox,wa=this._getClipperIntersection,ra=this._getPlaneIndex,Oa=H._pointLineDistance;ka(R.tl,
	va,Ea)&&ka(da,va,Ea)||(ca&&this._createSegments(L),R=l.filter(L.segments,function(X){return X.args&&X.args.length}),R=l.map(R,function(X){var U=X.args,oa=U.length,sa=[];X=[];var Fa;for(Fa=0;Fa<oa;Fa+=2){var Ta=[U[Fa],U[Fa+1]],Ya=[U[Fa+2],U[Fa+3]];if(Fa===oa-2){sa.push(Ta);break}var bb=pa(Ta,ba),Ma=pa(Ya,ba);sa.push(Ta);if(bb^Ma){if(Ma=wa([Ta,Ya],fa))Ta=Ma[1],Ta[bb?"inOut":"outIn"]=!0,sa.push(Ta),X.push([bb?"INOUT":"OUTIN",sa.length-1,Ma[0]])}else if(!bb){bb=ra(Ta,ba);var J=ra(Ya,ba);-1!==bb&&-1!==
	J&&bb!==J&&(Ma=wa([Ta,Ya],fa,!0),0<Ma.length?(Ma[bb]||(bb=Ma[bb[0]]?bb[0]:bb[1]),Ma[J]||(J=Ma[J[0]]?J[0]:J[1]),Ta=Ma[bb],Ya=Ma[J],Ta&&(Ta.outIn=!0,sa.push(Ta),X.push(["OUTIN",sa.length-1,bb])),Ya&&(Ya.inOut=!0,sa.push(Ya),X.push(["INOUT",sa.length-1,J]))):n.isArray(bb)&&n.isArray(J)&&(Ma=bb.concat(J),Ma.sort(),"0123"===Ma.join("")&&(Ma=[],3===bb[0]+bb[1]?Ma.push([qa,-qa],[-qa,qa]):Ma.push([-qa,-qa],[qa,qa]),bb=Oa(Ma[0],[Ta,Ya]),Ta=Oa(Ma[1],[Ta,Ya]),sa.push(bb<Ta?Ma[0]:Ma[1]))))}}var Q=ba[0],aa=ba[1],
	N=ba[2],S=ba[3];l.forEach(sa,function(ua){ua[0]<Q&&(ua[1]>=aa&&ua[1]<=S?ua[0]=Q:(ua[0]=Q,ua[1]=ua[1]<aa?aa:S))});l.forEach(sa,function(ua){ua[1]<aa&&(ua[0]>=Q&&ua[0]<=N?ua[1]=aa:(ua[1]=aa,ua[0]=ua[0]<Q?Q:N))});l.forEach(sa,function(ua){ua[0]>N&&(ua[1]>=aa&&ua[1]<=S?ua[0]=N:(ua[0]=N,ua[1]=ua[1]<aa?aa:S))});l.forEach(sa,function(ua){ua[1]>S&&(ua[0]>=Q&&ua[0]<=N?ua[1]=S:(ua[1]=S,ua[0]=ua[0]<Q?Q:N))});U=0;oa=X.length;if(0<oa){do{Ya=X[U];Fa=X[(U+1)%oa];if(Ya[2]===Fa[2]&&"INOUT"===Ya[0]&&"OUTIN"===Fa[0])if(Ta=
	Ya[1],Fa=Fa[1],Ta<Fa)for(Ta+=1;Ta<Fa;Ta++)sa[Ta][2]=!0;else if(Ta>Fa){for(Ta+=1;Ta<sa.length;Ta++)sa[Ta][2]=!0;for(Ta=0;Ta<Fa;Ta++)sa[Ta][2]=!0}U=(U+1)%oa}while(0!==U)}oa=sa[0];U=sa[sa.length-1];oa[2]&&(U[2]=!0,l.some(X,function(ua){return 1===ua[1]?(sa.splice(sa.length-1,0,n.clone(sa[1])),!0):!1}));sa=l.filter(sa,function(ua){return ua[2]?!1:!0});for(U=0;U<sa.length-1;U++)oa=sa[U],(Fa=sa[U+1])&&oa[0]===Fa[0]&&oa[1]===Fa[1]&&(Fa.outIn?oa.outIn=!0:Fa.inOut&&(oa.inOut=!0),sa.splice(U+1,1));oa=Math.abs;
	X=[];for(U=0;U<sa.length-1;U++){Ya=sa[U];Ta=Ya[0];Ya=Ya[1];bb=oa(Ta)===qa;Ma=oa(Ya)===qa;Fa=sa[U+1];J=Fa[0];Fa=Fa[1];var ea=oa(J)===qa,na=oa(Fa)===qa;bb&&na?X.push([U+1,[Ta,Fa]]):Ma&&ea&&X.push([U+1,[J,Ya]])}for(U=X.length-1;0<=U;U--)Fa=X[U],Ta=sa[Fa[0]-1],oa=sa[Fa[0]],Ta.outIn||Ta.inOut||oa.outIn||oa.inOut||sa.splice(Fa[0],0,Fa[1]);oa=sa[0];U=sa[sa.length-1];oa[0]===U[0]&&oa[1]===U[1]||sa.push(oa);return sa}),L.setShape(this._getPathStringFromPaths(R)))},_getCorners:function(L,R){if(ca){L=this._map;
	var da=R.getExtent(),ka=da.spatialReference;R=L.toScreen(new G(da.xmin,da.ymax,ka));L=L.toScreen(new G(da.xmax,da.ymin,ka));return{tl:R,br:L}}L=L.getTransformedBoundingBox();return{tl:L[0],br:L[2]}},_createSegments:function(L){L.shape.path=L.vmlPath;L.segmented=!1;L._confirmSegmented();var R=L.segments;1<R.length&&(L.segments=l.filter(R,function(da,ka,qa){ka=qa[ka+1];return"M"===da.action&&ka&&"L"===ka.action?(da.args=da.args.concat(ka.args),!0):!1}))},_getPathStringFromPaths:function(L){ca?(L=l.map(L,
	function(R){return"m "+l.map(R,function(da,ka){return(1===ka?"l ":"")+da.join(",")}).join(" ")}),L.push("e")):L=l.map(L,function(R){return"M "+l.map(R,function(da){return da.join(",")}).join(" ")});return L.join(" ")},_isPointWithinBBox:function(L,R){var da=R[1],ka=R[2],qa=R[3],va=L[0];L=L[1];return va>R[0]&&va<ka&&L>da&&L<qa?!0:!1},_isPointWithinRange:function(L,R,da){var ka=L.x;L=L.y;return ka<R||L<R||ka>da||L>da?!1:!0},_getClipperIntersection:function(L,R,da){var ka,qa=H._getLineIntersection2,
	va=Math.round,Ea={length:0};for(ka=0;4>ka;ka++){var ba=qa(L,R[ka]);if(ba)if(ba[0]=va(ba[0]),ba[1]=va(ba[1]),da)Ea[ka]=ba,Ea.length++;else return[ka,ba]}return da?Ea:null},_getPlaneIndex:function(L,R){var da=L[0];L=L[1];var ka=R[0],qa=R[1],va=R[2];R=R[3];return da<=ka?L>=qa&&L<=R?3:L<qa?[0,3]:[2,3]:L<=qa?da>=ka&&da<=va?0:da<ka?[3,0]:[1,0]:da>=va?L>=qa&&L<=R?1:L<qa?[0,1]:[2,1]:L>=R?da>=ka&&da<=va?2:da<ka?[3,2]:[1,2]:-1},onGraphicAdd:function(){},onGraphicRemove:function(){},onGraphicNodeAdd:function(){},
	onGraphicNodeRemove:function(){},onGraphicDraw:function(){},onGraphicsClear:function(){},onRendererChange:function(){},onOpacityChange:function(){},onInfoTemplateChange:function(){},onSurfaceChange:function(){},onWebGLEnabledChange:function(){},setInfoTemplate:function(L){this.infoTemplate=L;this._evalSurfaceType();this.onInfoTemplateChange()},add:function(L,R){if(L._graphicsLayer===this)return L;L._suspended=this._suspendGraphics;R||this.graphics.push(L);L._graphicsLayer=this;L._sourceLayer||(L._layer&&
	"esri.layers.GraphicsLayer"!==L._layer.declaredClass?L._sourceLayer=L._layer:"esri.layers.GraphicsLayer"!==this.declaredClass&&(L._sourceLayer=this));L._layer=this;this.hasWebGLSurface()||(this._updateExtent(L),this._draw(L));if(!R)this.onGraphicAdd(L);return L},remove:function(L,R,da){if(!R&&!da){R=this.graphics;var ka;if(-1===(ka=l.indexOf(R,L)))return null;if(!xa||64<=xa)R.splice(ka,1);else{var qa=R.length;if(qa){for(;ka<qa;)R[ka]=R[ka+1],ka++;R.length--}}}this.hasWebGLSurface()||L.getDojoShape()&&
	this._removeShape(L,null,da);L._shape=L._graphicsLayer=null;this.onGraphicRemove(L);return L},clear:function(L,R){L=this.graphics;var da,ka=!ca;for(da=L.length-1;0<=da;da--)this.remove(L[da],null,ka);this.graphics=[];this.hasWebGLSurface()||this._destroyAllNodes();if(!R)this.onGraphicsClear()},_destroyAllNodes:function(){if(!ca&&this._div){var L;this._childLayer&&(L=this._childLayer.getNode())&&L.parentNode&&L.parentNode.removeChild(L);this._bgGroup.clear();this._div.clear();this._bgGroup=this._div.createGroup();
	L&&this._div.getEventSource().appendChild(L);this._initOpacity()}},clearNodes:function(){if(!this.hasWebGLSurface()){var L=this.graphics,R=L.length,da;for(da=0;da<R;da++)this._removeShape(L[da],!0,!0);this._destroyAllNodes()}},_graphicVisibilityChanged:function(L){},_setIEOpacity:function(L,R){var da=L&&L.getNode();if(da){var ka=L.strokeStyle,qa=da.stroke;ka&&qa&&(qa.opacity=ka.color.a*R);L=L.fillStyle;ka=da.fill;L&&ka&&("tile"===ka.type?d.set(da,"opacity",R):ka.opacity=L.a*R)}},setOpacity:function(L,
	R){if(R||this.opacity!=L){var da=this._div;da&&!this.hasWebGLSurface()&&(ca?(l.forEach(this.graphics,function(ka){this._setIEOpacity(ka._shape,L);this._setIEOpacity(ka._bgShape,L)},this),da._esriIeOpacity=L,this._bgGroup._esriIeOpacity=L):"canvas-2d"===this.surfaceType?d.set(da.getEventSource(),"opacity",L):da.getEventSource().setAttribute("opacity",L));this.opacity=L;if(!R)this.onOpacityChange(L)}},setRenderer:function(L){this.renderer=L;this._evalSDRenderer(!0);this._evalSurfaceType();this.emit("renderer-change",
	{renderer:this._rndForScale||L})}});y=y([t,O],{declaredClass:"esri.layers.GraphicsLayer",constructor:function(){this._processEvent=n.hitch(this,this._processEvent);this._initLayer()},_initLayer:function(){this.loaded=!0;this.onLoad(this)},_setMap:function(){var L=this.inherited("_setMap",arguments);this.enableMouseEvents();return L},_unsetMap:function(){this.disableMouseEvents();this.inherited("_unsetMap",arguments)},_processEvent:function(L){var R=this._map,da=L.target,ka;L.screenPoint=new z(L.pageX-
	R.position.x,L.pageY-R.position.y);for(L.mapPoint=R.toMap(L.screenPoint);da&&!(ka=da.e_graphic);)da=da.parentNode;if(ka)return L.graphic=ka,L},_onMouseOverHandler:function(L){if(this._processEvent(L))this.onMouseOver(L)},_onMouseMoveHandler:function(L){if(this._processEvent(L))this.onMouseMove(L)},_onMouseDragHandler:function(L){if(this._processEvent(L))this.onMouseDrag(L)},_onMouseOutHandler:function(L){if(this._processEvent(L))this.onMouseOut(L)},_onMouseDownHandler:function(L){this._downGr=this._downPt=
	null;this._processEvent(L)&&(w.disconnect(this._onmousemove_connect),w.disconnect(this._onmousedrag_connect),this._onmousedrag_connect=w.connect(this._div.getEventSource(),"onmousemove",this,"_onMouseDragHandler"),this._downGr=L.graphic,this._downPt=L.screenPoint.x+","+L.screenPoint.y,this.onMouseDown(L))},_onMouseUpHandler:function(L){this._upGr=this._upPt=null;this._processEvent(L)&&(w.disconnect(this._onmousedrag_connect),w.disconnect(this._onmousemove_connect),this._onmousemove_connect=w.connect(this._div.getEventSource(),
	"onmousemove",this,"_onMouseMoveHandler"),this._upGr=L.graphic,this._upPt=L.screenPoint.x+","+L.screenPoint.y,this.onMouseUp(L))},_onClickHandler:function(L){if(this._processEvent(L)){var R=this._downGr,da=this._upGr;R&&da&&R===da&&this._downPt===this._upPt&&(ca&&(x._ieGraphic=L.graphic),this.onClick(L))}},_onDblClickHandler:function(L){if(this._processEvent(L))this.onDblClick(L)},onMouseOver:function(){},onMouseMove:function(){},onMouseDrag:function(){},onMouseOut:function(){},onMouseDown:function(){},
	onMouseUp:function(){},onClick:function(){},onDblClick:function(){},enableMouseEvents:function(){if(!this._mouseEvents){var L=w.connect,R=this._div.getEventSource();Z||(this._onmouseover_connect=L(R,"onmouseover",this,"_onMouseOverHandler"),this._onmousemove_connect=L(R,"onmousemove",this,"_onMouseMoveHandler"),this._onmouseout_connect=L(R,"onmouseout",this,"_onMouseOutHandler"),this._onmousedown_connect=L(R,"onmousedown",this,"_onMouseDownHandler"),this._onmouseup_connect=L(R,"onmouseup",this,"_onMouseUpHandler"),
	this._onclick_connect=L(R,"onclick",this,"_onClickHandler"),this._ondblclick_connect=L(R,"ondblclick",this,"_onDblClickHandler"));this._mouseEvents=!0}},disableMouseEvents:function(){if(this._mouseEvents){var L=w.disconnect;L(this._onmouseover_connect);L(this._onmousemove_connect);L(this._onmousedrag_connect);L(this._onmouseout_connect);L(this._onmousedown_connect);L(this._onmouseup_connect);L(this._onclick_connect);L(this._ondblclick_connect);this._mouseEvents=!1}}});y._GraphicsContainer=g;y._GraphicsLayer=
	t;A("extend-esri")&&(n.setObject("layers.GraphicsLayer",y,x),n.setObject("layers._GraphicsContainer",g,x),n.setObject("layers._GraphicsLayer",t,x));return y})},"dojox/gfx":function(){define(["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(C,y,b){y.switchTo(b);return y})},"dojox/gfx/renderer":function(){define(["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(C,y,b,w,n){var l=null;b.add("vml",function(k,h,f){f.innerHTML='\x3cv:shape adj\x3d"1"/\x3e';
	k="adj"in f.firstChild;f.innerHTML="";return k});return{load:function(k,h,f){function d(){h(["dojox/gfx/"+a],function(q){C.renderer=a;l=q;f(q)})}if(l&&"force"!=k)f(l);else{var a=n.forceGfxRenderer;k=!a&&(y.isString(n.gfxRenderer)?n.gfxRenderer:"svg,vml,canvas,silverlight").split(",");for(var c,e;!a&&k.length;)switch(k.shift()){case "svg":"SVGAngle"in w.global&&(a="svg");break;case "vml":b("vml")&&(a="vml");break;case "silverlight":try{b("ie")?(c=new ActiveXObject("AgControl.AgControl"),c.IsVersionSupported("1.0"))&&
	(e=!0):navigator.plugins["Silverlight Plug-In"]&&(e=!0)}catch(q){e=!1}finally{c=null}e&&(a="silverlight");break;case "canvas":w.global.CanvasRenderingContext2D&&(a="canvas")}"canvas"===a&&!1!==n.canvasEvents&&(a="canvasWithEvents");n.isDebug&&console.log("gfx renderer \x3d "+a);"svg"==a&&"undefined"!=typeof window.svgweb?window.svgweb.addOnLoad(d):d()}}}})},"esri/layers/gfxSniff":function(){define(["dojo/has","dojox/gfx"],function(C,y){C.add("esri-svg",function(){return-1!==y.renderer.toLowerCase().indexOf("svg")});
	return C})},"esri/layers/layer":function(){define("dojo/_base/declare dojo/_base/config dojo/_base/connect dojo/_base/lang dojo/_base/Deferred dojo/_base/json dojo/has ../Evented ../kernel ../lang ../request ../deferredUtils ../urlUtils ../SpatialReference ../geometry/Extent".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t){var g=C([h],{declaredClass:"esri.layers.Layer",_eventMap:{error:["error"],load:["layer"],"opacity-change":["opacity"],"update-end":["error"],"visibility-change":["visible"]},
	constructor:function(p,x){this._attrs={};p&&w.isString(p)?this._url=e.urlToObject(this.url=e.normalize(p)):(this.url=this._url=null,(x=x||p)&&(x.layerDefinition||x.query)&&(x=null));this.spatialReference=new q(4326);this.initialExtent=new t(-180,-90,180,90,new q(4326));this._map=this._div=null;this.normalization=!0;x&&(x.id&&(this.id=x.id),this.arcgisProps=x.arcgisProps,this.parentLayer=x.parentLayer,!1===x.visible&&(this.visible=!1),d.isDefined(x.opacity)&&(this.opacity=x.opacity),d.isDefined(x.minScale)&&
	this.setMinScale(x.minScale),d.isDefined(x.maxScale)&&this.setMaxScale(x.maxScale),this.attributionDataUrl=x.attributionDataUrl||"",this.hasAttributionData=!!this.attributionDataUrl,d.isDefined(x.showAttribution)&&(this.showAttribution=x.showAttribution),this.className=x.className,this.refreshInterval=x.refreshInterval||0);this._errorHandler=w.hitch(this,this._errorHandler);this._scheduledRefresh=w.hitch(this,this._scheduledRefresh);this.refresh=w.hitch(this,this.refresh);if(this.managedSuspension){var u=
	this._setMap;this._setMap=function(A){var m=u.apply(this,arguments);this._fireAttach(A);this.evaluateSuspension();if(this.suspended&&!A.loaded)var v=b.connect(A,"onLoad",this,function(){b.disconnect(v);v=null;this.evaluateSuspension()});return m}}this.registerConnectEvents()},id:null,visible:!0,opacity:1,loaded:!1,loadError:null,minScale:0,maxScale:0,visibleAtMapScale:!1,suspended:!0,attached:!1,attributionDataUrl:"",hasAttributionData:!1,showAttribution:!0,refreshInterval:0,_errorHandler:function(p){this.loaded||
	(this.loadError=p);this.onError(p)},_setMap:function(p,x,u,A){this._map=p;this._lyrZEHandle=b.connect(p,"onZoomEnd",this,this._processMapScale);if(p.loaded)this.visibleAtMapScale=this._isMapAtVisibleScale();else var m=b.connect(p,"onLoad",this,function(){b.disconnect(m);m=null;this._processMapScale()})},_unsetMap:function(p,x){b.disconnect(this._lyrZEHandle);this._map=this._lyrZEHandle=null;this._resumedOnce=void 0;this.suspended=!0;this._fireDetach(p)},_fireAttach:function(p){this.attached=!0;this.onAttach({map:p})},
	_fireDetach:function(p){this.attached=!1;this.onDetach({map:p})},_cleanUp:function(){this._map=this._div=null},_fireUpdateStart:function(){this.updating||(this.updating=!0,this.attr("data-updating",""),this.onUpdateStart(),this._map&&this._map._incr())},_fireUpdateEnd:function(p,x){this.updating&&(this.updating=!1,this.attr("data-updating"),this._refreshRT(),this.onUpdateEnd(p,x),this._map&&this._map._decr())},_getToken:function(){var p=this._url,x=this.credential;return p&&p.query&&p.query.token||
	x&&x.token||void 0},_findCredential:function(){this.credential=f.id&&this._url&&f.id.findCredential(this._url.path)},_useSSL:function(){var p=this._url,x=/^http:/i;this.url&&(this.url=this.url.replace(x,"https:"));p&&p.path&&(p.path=p.path.replace(x,"https:"))},refresh:function(p){},show:function(){this.setVisibility(!0)},hide:function(){this.setVisibility(!1)},setMinScale:function(p){this.setScaleRange(p)},setMaxScale:function(p){this.setScaleRange(null,p)},setScaleRange:function(p,x){var u=d.isDefined(p),
	A=d.isDefined(x);this.loaded||(this._hasMin=this._hasMin||u,this._hasMax=this._hasMax||A);var m=this.minScale,v=this.maxScale;this.minScale=(u?p:this.minScale)||0;this.maxScale=(A?x:this.maxScale)||0;if(m!==this.minScale||v!==this.maxScale)this.onScaleRangeChange(),this._processMapScale()},suspend:function(){this._suspended=!0;this.evaluateSuspension()},resume:function(){this._suspended=!1;this.evaluateSuspension()},canResume:function(){return this.loaded&&this._map&&this._map.loaded&&this.visible&&
	this.visibleAtMapScale&&!this._suspended},evaluateSuspension:function(){this.canResume()?this.suspended&&this._resume():this.suspended||this._suspend()},_suspend:function(){this.suspended=!0;this.attr("data-suspended","");this.onSuspend();if(this._map)this._map.onLayerSuspend(this)},_resume:function(){this.suspended=!1;this.attr("data-suspended");var p=void 0===this._resumedOnce,x=this.className,u=this._attrs,A=this.getNode(),m;if(p){this._resumedOnce=!0;if(x&&A){var v=A.getAttribute("class")||"";
	(new RegExp("(^|\\s)"+x+"(\\s|$)","i")).test(v)||A.setAttribute("class",v+((v?" ":"")+x))}if(u&&A)for(m in u)u.hasOwnProperty(m)&&A.setAttribute(m,u[m])}this._refreshRT();this.onResume({firstOccurrence:p});if(this._map)this._map.onLayerResume(this)},_processMapScale:function(){var p=this.visibleAtMapScale;this.visibleAtMapScale=this._isMapAtVisibleScale();p!==this.visibleAtMapScale&&(this.onScaleVisibilityChange(),this.evaluateSuspension())},isVisibleAtScale:function(p){return p?g.prototype._isMapAtVisibleScale.apply(this,
	arguments):!1},_isMapAtVisibleScale:function(p,x){if(!(p||this._map&&this._map.loaded))return!1;var u=this._map;p=p||u.getScale();var A=this.minScale,m=this.maxScale,v=!A,r=!m,B;x&&(B=u.width>u.height?u.width:u.height);v||(p<=A?v=!0:x&&(v=Math.abs(A-p)/A<1/B));r||(p>=m?r=!0:x&&(r=Math.abs(m-p)/m<1/B));return v&&r},getAttributionData:function(){var p=this.attributionDataUrl,x=new n(c._dfdCanceller);this.hasAttributionData&&p?(x._pendingDfd=a({url:p,content:{f:"json"},handleAs:"json",callbackParamName:"callback"}),
	x._pendingDfd.then(function(u){x.callback(u)},function(u){x.errback(u)})):(p=Error("Layer does not have attribution data"),p.log=!!y.isDebug,x.errback(p));return x},getResourceInfo:function(){var p=this.resourceInfo;return w.isString(p)?l.fromJson(p):w.clone(p)},getMap:function(){return this._map},getNode:function(){return this._div},attr:function(p,x){var u=this.getNode();if("data-reference"===p&&11>k("ie"))return this;u&&(null==x?u.removeAttribute(p):u.setAttribute(p,x));this._attrs&&(null==x?delete this._attrs[p]:
	this._attrs[p]=x);return this},setRefreshInterval:function(p){var x=this.refreshInterval;this.refreshInterval=p;this._toggleRT(!1);p&&this._toggleRT(!0);if(x!==p)this.onRefreshIntervalChange();return this},_toggleRT:function(p){p&&this.refreshInterval?(clearInterval(this._refreshTimer),this._refreshTimer=setInterval(this._scheduledRefresh,6E4*this.refreshInterval)):this._refreshTimer&&(clearInterval(this._refreshTimer),this._refreshTimer=null)},_refreshRT:function(){this._toggleRT(!1);this._toggleRT(!0)},
	_scheduledRefresh:function(){this.onRefreshTick();!this._map||this.suspended||this.updating||this.refresh({scheduled:!0})},_refreshTS:null,_reCheckTS:/[\?&]_ts=/ig,_reReplaceTS:/([\?&]_ts=)[0-9]+/ig,addTimestampToURL:function(p){var x=this._refreshTS;x&&(p=this._reCheckTS.test(p)?p.replace(this._reReplaceTS,"$$$1"+x):p+((-1===p.indexOf("?")?"?":"\x26")+"_ts\x3d"+x));return p},setNormalization:function(p){this.normalization=p},setVisibility:function(p){this.visible!==p&&(this.visible=p,this.onVisibilityChange(this.visible),
	this.evaluateSuspension());this.attr("data-hidden",p?null:"")},onLoad:function(){},onAttach:function(p){},onDetach:function(p){},onVisibilityChange:function(){},onScaleRangeChange:function(){},onScaleVisibilityChange:function(){},onSuspend:function(){},onResume:function(){},onUpdate:function(){},onUpdateStart:function(){},onUpdateEnd:function(){},onRefreshIntervalChange:function(){},onRefreshTick:function(){},onError:function(){}});k("extend-esri")&&w.setObject("layers.Layer",g,f);return g})},"esri/request":function(){define("require dojo/_base/array dojo/_base/config dojo/_base/Deferred dojo/_base/lang dojo/_base/url dojo/_base/xhr dojo/request/xhr ./core/request/script dojo/request/iframe dojo/dom-construct dojo/io-query ./kernel ./config ./sniff ./lang ./urlUtils ./deferredUtils".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x){function u(ca){ca=new l(ca);return(ca.host+(ca.port?":"+ca.port:"")).toLowerCase()}function A(ca){return this._xhr?this._xhr.getResponseHeader(ca):null}function m(ca,W){var ha=c.objectToQuery(ca.content);ha&&(ca.url+=(-1===ca.url.indexOf("?")?"?":"\x26")+ha);if(2E3<ca.url.length){if("data:"!==ca.url.toLowerCase().slice(0,5))return ca=new w,ca.reject(n.mixin(Error(),{message:"When using responseType 'image', URL length cannot exceed 2000 characters."})),
	ca;if(3E6<ca.url.length)return ca=new w,ca.reject(n.mixin(Error(),{message:"When using responseType 'image', data URL length cannot exceed 3000000 characters."})),ca}var ma=new Image;W.allowImageDataAccess&&(ma.crossOrigin=ca.withCredentials?"use-credentials":"anonymous");var xa=!1,K=new w(function(Y){xa=!0;ma.onload=ma.onerror=ma.onabort=null;ma.src=""});W=function(Y){ma.onload=ma.onerror=ma.onabort=null;xa||K.reject(Error("Unable to load the resource"))};ma.onload=function(){ma.onload=ma.onerror=
	ma.onabort=null;xa||K.resolve(this)};ma.onerror=W;ma.onabort=W;ma.alt="";ma.src=ca.url;return K}function v(ca,W,ha,ma){var xa=!1,K=!1,Y=!1;if(g.isDefined(W))if(n.isObject(W)){xa=!!W.useProxy;K=!!W.usePost;Y=!!W.returnProgress;var la=W.crossOrigin}else xa=!!W;ca=n.mixin({},ca);delete ca._credential;ca._ssl&&(ca.url=ca.url.replace(/^http:/i,"https:"));10>t("ie")&&!Z.test(ca.url)&&(ca.url=encodeURI(ca.url));var L=ca.content,R=ca.url,da=ha&&ca.form,ka=I;la=g.isDefined(la)?la:ka.useCors;ca.load=function(Ia){if(Ia){if(Ia.error){var Na=
	n.mixin(Error(),Ia.error);Na.log=!!b.isDebug}else"error"===Ia.status&&(Na=n.mixin(Error(),Ia),Na.log=!!b.isDebug);Na&&(ca.failOk=!Na.log,g.isDefined(Na.httpCode)||(Na.httpCode=Na.code))}return Na||Ia};ca.error=function(Ia,Na){Na&&Na.xhr&&Na.xhr.abort();Ia instanceof Error||(Ia=n.mixin(Error(),Ia));Ia.log=!!b.isDebug;ca.failOk=!Ia.log;ka.errorHandler(Ia,Na);return Ia};ca._token&&(ca.content=ca.content||{},ca.content.token=ca._token);var qa=0;if(L&&R){var va=c.objectToQuery(L);qa=va.length+R.length+
	1;t("esri-url-encodes-apostrophe")&&(qa=va.replace(/'/g,"%27").length+R.length+1)}ca.timeout=g.isDefined(ca.timeout)?ca.timeout:ka.timeout;ca.handleAs=ca.handleAs||"json";try{var Ea=la&&p.canUseXhr(ca.url)&&!/https?:\/\/[^\/]+\/[^\/]+\/admin\/?(\/.*)?$/i.test(ca.url),ba=p.hasSameOrigin(ca.url,window.location.href)||Ea,fa=K||ha||qa>ka.postLength?!0:!1,pa=ba||-1===ca.handleAs.indexOf("json")||!ca.callbackParamName||ha?!1:!0,wa=p.getProxyRule(ca.url)||ka.alwaysUseProxy||xa||!("image"===ca.handleAs&&
	!W.allowImageDataAccess||pa&&!fa||ba)?!0:!1;ha&&!t("esri-file-upload")&&!wa&&Ea&&(wa=!0);if(wa){var ra=p.getProxyUrl(R,la);var Oa=ra.path;ra._xo&&(Ea=!0);!fa&&Oa.length+1+qa>ka.postLength&&(fa=!0);ca.url=Oa+"?"+R;if(fa)ca.content=n.mixin(ra.query||{},L);else{var X=c.objectToQuery(n.mixin(ra.query||{},L));X&&(ca.url+="?"+X);ca.content=null}}if(!pa||fa||wa){var U=ca.headers;!Ea||U&&U.hasOwnProperty("X-Requested-With")||(U=ca.headers=U||{},U["X-Requested-With"]=null);if(ha){var oa=ca.callbackParamName||
	"callback.html",sa=ca.callbackElementName||"textarea",Fa,Ta,Ya=da.elements?da.elements.length:0;if(L=ca.content)for(Fa in L.token&&-1<R.toLowerCase().indexOf("/sharing/servers/")&&(R+=(-1===R.indexOf("?")?"?":"\x26")+"token\x3d"+L.token,ca.url=wa?Oa+"?"+R:R,delete L.token),L){var bb=L[Fa];if(g.isDefined(bb)){var Ma=null;for(Ta=0;Ta<Ya;Ta++){var J=da.elements[Ta];if(J.name===Fa){Ma=J;break}}Ma?Ma.value=bb:ma?da.append(Fa,bb):da.appendChild(a.create("input",{type:"hidden",name:Fa,value:bb}))}}if(t("esri-file-upload")){y.forEach(da.elements,
	function(Ia){Ia.name===oa&&da.removeChild(Ia)});var Q=ma?da:new FormData(da);if(11<=t("safari")&&"entries"in Q&&"delete"in Q){ma=[];for(var aa=Q.entries(),N=aa.next();!N.done;){var S=N.value;S[1]instanceof File&&""===S[1].name&&ma.push(S[0]);N=aa.next()}ma.forEach(function(Ia){Q.delete(Ia)})}ca.contentType=!1;ca.postData=Q;delete ca.form}else{da.enctype="multipart/form-data";9>t("ie")&&(da.encoding="multipart/form-data");da.method="post";y.some(da.elements,function(Ia){return Ia.name===oa})||da.appendChild(a.create("input",
	{type:"hidden",name:oa,value:sa}));if(-1!==R.toLowerCase().indexOf("addattachment")||-1!==R.toLowerCase().indexOf("updateattachment"))R+=(-1===R.indexOf("?")?"?":"\x26")+oa+"\x3d"+sa,ca.url=wa?Oa+"?"+R:R;delete ca.content}}if(Ea&&!ca.hasOwnProperty("withCredentials")&&"with-credentials"===I.useCors){R=wa?Oa:R;var ea=p.canUseXhr(R,!0),na=-1<ea?I.corsEnabledServers[ea]:null;if(na&&na.hasOwnProperty("withCredentials"))na.withCredentials&&(ca.withCredentials=!0);else if(e.id){var ua=e.id.findServerInfo(R);
	ua&&ua.webTierAuth&&(ca.withCredentials=!0)}}ca=H?H(ca):ca;if("image"===ca.handleAs)return m(ca,W);if(fa){if(ha&&!t("esri-file-upload")){var Aa=new w(function(){Ba.cancel()});var Ba=d.post(ca.url,ca).then(function(Ia){Aa.resolve(Ia)}).otherwise(function(Ia){Aa.reject(Ia)});Aa.addCallback(function(Ia){return ca.load(Ia)});Aa.addErrback(function(Ia){return ca.error(Ia)});return Aa}!wa&&t("safari")&&(ca.url+=(-1===ca.url.indexOf("?")?"?":"\x26")+"_ts\x3d"+(new Date).getTime()+T++);if(Y){ca.uploadProgress=
	!0;ca.data=ca.postData;ca.query=ca.content;Aa=new w(function(){Qa.cancel()});var Qa=h.post(ca.url,ca).then(function(Ia){Aa.resolve(Ia)},function(Ia){Aa.reject(Ia)},function(Ia){Aa.progress({transferType:Ia.transferType,loaded:Ia.loaded,total:Ia.total})});Aa.addCallback(function(Ia){return ca.load(Ia)});Aa.addErrback(function(Ia){return ca.error(Ia)});return Aa}return k.post(ca)}return k.get(ca)}ca=H?H(ca):ca;ca.jsonp=ca.callbackParamName;ca.query=ca.content;Aa=new w(function(){La.cancel()});var La=
	f.get(ca.url,ca).then(function(Ia){Aa.resolve(Ia)}).otherwise(function(Ia){Aa.reject(Ia)});Aa.addCallback(function(Ia){return ca.load(Ia)});Aa.addErrback(function(Ia){return ca.error(Ia)});return Aa}catch(Ia){return Aa=new w,Aa.errback(ca.error(Ia)),Aa}}function r(ca){var W=I.corsStatus,ha=p.canUseXhr(ca,!0);-1<ha&&I.corsEnabledServers.splice(ha,1);var ma=new w;ma.reject({log:!!b.isDebug});W[u(ca)]=ma.promise;return ha}function B(ca){var W=I.corsStatus;try{var ha=u(ca);if(I.corsDetection&&I.useCors&&
	t("esri-cors")&&ca&&-1!==ca.toLowerCase().indexOf("/rest/services")&&!p.hasSameOrigin(ca,window.location.href)&&!p.canUseXhr(ca)){if(W[ha]&&!W[ha].isCanceled())return W[ha];var ma=new w(x._dfdCanceller);W[ha]=ma.promise;var xa=k.get({url:ca.substring(0,ca.toLowerCase().indexOf("/rest/")+6)+"info",content:{f:"json"},failOk:!0,handleAs:"json",headers:{"X-Requested-With":null},timeout:1E3*I.corsDetectionTimeout});ma._pendingDfd=xa;xa.then(function(K){K?(p.canUseXhr(ca)||I.corsEnabledServers.push(ha),
	ma.resolve()):ma.reject()},function(K){ma.reject(K)});return ma.promise}}catch(K){console.log("esri._detectCors: an unknown error occurred while detecting CORS support")}return ia}function D(ca){H=ca}function G(ca,W,ha,ma){function xa(ba){ba._pendingDfd=v(ha,ma,ka,da);if(!ba._pendingDfd){ba.ioArgs=ba._pendingDfd&&ba._pendingDfd.ioArgs;var fa=Error("Deferred object is missing");fa.log=!!b.isDebug;ba.errback(fa);ba._pendingDfd=null;return ba}ba._pendingDfd.addCallback(function(pa){if(!pa)return pa;
	var wa=ba._pendingDfd&&ba._pendingDfd.ioArgs&&ba._pendingDfd.ioArgs.xhr;if(!wa)return pa;if(wa=wa.getResponseHeader("Content-Type"))if(wa=wa.toLowerCase(),-1===wa.indexOf("text/plain")&&-1===wa.indexOf("application/json"))return pa;if(pa instanceof ArrayBuffer&&750>=pa.byteLength)wa=new Blob([pa]);else if(pa instanceof Blob&&750>=pa.size)wa=pa;else return pa;var ra=new w,Oa=new FileReader;Oa.readAsText(wa);Oa.onloadend=function(){if(!Oa.error)try{var X=JSON.parse(Oa.result);if(X.error)var U=X.error}catch(oa){}U?
	(U=n.mixin(Error(),U),U.log=!!b.isDebug,null==U.httpCode&&(U.httpCode=U.code),ra.reject(U)):ra.resolve(pa)};return ra.promise}).addCallback(function(pa){ba.ioArgs=ba._pendingDfd&&ba._pendingDfd.ioArgs;ma.returnFullResponse&&(pa={data:pa,_xhr:ba.ioArgs&&ba.ioArgs.xhr,getHeader:A});ba.callback(pa);ba._pendingDfd=null}).addErrback(function(pa){if(pa){var wa=pa.code;var ra=pa.subcode;var Oa=(Oa=pa.messageCode)&&Oa.toUpperCase()}if(pa&&403==wa&&(4==ra||pa.message&&-1<pa.message.toLowerCase().indexOf("ssl")&&
	-1===pa.message.toLowerCase().indexOf("permission"))){if(!ha._ssl){ha._ssl=ha._sslFromServer=!0;G(ba,!0,ha,ma);return}}else if(pa&&415==pa.status){if(r(ha.url),!ha._err415){ha._err415=1;G(ba,!0,ha,ma);return}}else if(e.id&&-1!==y.indexOf(e.id._errorCodes,wa)&&!e.id._isPublic(ha.url)&&!Y&&(403!=wa||-1===y.indexOf(O,Oa)&&(!g.isDefined(ra)||2==ra&&ha._token))){ba._pendingDfd=e.id.getCredential(ha.url,{token:ha._token,error:pa});ba._pendingDfd.addCallback(function(X){ha._token=X.token;ha._credential=
	X;ha._ssl=ha._sslFromServer||X.ssl;G(ba,!0,ha,ma)}).addErrback(function(X){ba.errback(X);ba._pendingDfd=null});return}ba.ioArgs=ba._pendingDfd&&ba._pendingDfd.ioArgs;ba.isFulfilled()||ba.errback(pa);ba._pendingDfd=null}).then(null,null,function(pa){ba.progress(pa)})}var K=ha.form,Y=ma.disableIdentityLookup,la=ma._preLookup,L=!1;if(t("esri-workers")&&!1!==I.useWorkers)if(!0===ma.useWorkers||!0===I.useWorkers)L=!0;else if(ma.workerOptions){var R=ma.workerOptions;if(R.callback||R.worker&&R.worker.worker instanceof
	Worker)L=!0}var da=K&&t("esri-file-upload")&&K instanceof FormData,ka=K&&(K.elements?y.some(K.elements,function(ba){return"file"===ba.type}):da),qa=-1!==ha.url.toLowerCase().indexOf("token\x3d")||ha.content&&ha.content.token||ka&&y.some(K.elements,function(ba){return"token"===ba.name})?1:0;if(!W){ca.addCallback(function(ba){if((/\/sharing\/rest\/accounts\/self/i.test(ha.url)||/\/sharing\/rest\/portals\/self/i.test(ha.url))&&!qa&&!ha._token&&ba.user&&ba.user.username){I.webTierAuthServers.push(u(ha.url));
	ba=I.corsEnabledServers;var fa=p.canUseXhr(ha.url,!0),pa={host:u(ha.url),withCredentials:!0};if(-1===fa)ba.push(pa);else{var wa=ba[fa];wa instanceof RegExp?(pa.host=wa,ba.splice(fa,1,pa)):"object"===typeof wa?wa.withCredentials=!0:ba.splice(fa,1,pa)}}if(ba=ha._credential)if(fa=(fa=e.id.findServerInfo(ba.server))&&fa.owningSystemUrl)fa=fa.replace(/\/?$/,"/sharing"),(ba=e.id.findCredential(fa,ba.userId))&&-1===e.id._getIdenticalSvcIdx(fa,ba)&&ba.resources.splice(0,0,fa)});ca.addBoth(function(ba){delete ha._credential;
	!ba||t("ie")&&ba.nodeType||(ba._ssl=ha._ssl)});var va=ha.load,Ea=ha.error;va&&ca.addCallback(function(ba){var fa=ca._pendingDfd;fa=fa&&fa.ioArgs;return va.call(fa&&fa.args,ba,fa)});Ea&&ca.addErrback(function(ba){var fa=ca._pendingDfd;fa=fa&&fa.ioArgs;return Ea.call(fa&&fa.args,ba,fa)})}!e.id||qa||ha._token||e.id._isPublic(ha.url)||Y&&!la||!(W=e.id.findCredential(ha.url))||(ha._token=W.token,ha._ssl=W.ssl);L?ma.workerOptions&&ma.workerOptions.worker?(E||(E=k),k=ma.workerOptions.worker,xa(ca)):C(["./workers/RequestClient"],
	function(ba){E||(E=k);if(ma.workerOptions){var fa=ma.workerOptions;k=ba.getClient(fa.callback,fa.cbFunction)}else k=ba.getClient();xa(ca)}):(E&&(k=E,E=null),xa(ca));return ca}function z(ca,W){ca.url=p.fixUrl(ca.url);W=W||{};var ha=new w(x._dfdCanceller),ma=B(ca.url);ha._pendingDfd=ma;ma.always(function(xa){xa&&"cancel"===xa.dojoType?ha.reject(xa):G(ha,!1,ca,W)});return ha}var E=null,H,I=q.defaults.io,O=["COM_0056","COM_0057","SB_0008"],T=0,Z=/%[0-9A-F]{2}/i,ia=function(){var ca=new w;ca.resolve();
	return ca.promise}();z._makeRequest=v;z._processRequest=G;z._disableCors=r;z._detectCors=B;z.setRequestPreCallback=D;t("extend-esri")&&(e.request=z,e._makeRequest=v,e._processRequest=G,e._disableCors=r,e._detectCors=B,e.setRequestPreCallback=D);return z})},"esri/core/request/script":function(){define("require exports dojo/Deferred dojo/request/script dojo/text!./iframe.html ../sniff".split(" "),function(C,y,b,w,n,l){function k(){var p=document.createElement("iframe");p.name="esri_core_jsonp_iframe";
	p.style.display="none";p.setAttribute("sandbox","allow-scripts");if(!l("ff")&&"srcdoc"in p){var x=C.toUrl("dojo/dojo.js"),u=n.replace("../../../dojo/dojo.js",x);x=x.slice(0,-7);u=u.replace("../../../dojo/",x);p.srcdoc=u}else u=C.toUrl("./iframe.html"),"http:"===window.location.protocol&&0===u.indexOf("https:")&&(u=u.replace("https:","http:")),p.src=u;document.body.appendChild(p);return p}function h(){var p=new MessageChannel;p.port1.addEventListener("message",f);p.port1.start();return p}function f(p){var x=
	p.data;if("ready"===x){x=0;for(var u=t;x<u.length;x++)p=u[x],a(p,e);t=null}else if(p=g[x.id])delete g[x.id],x.isError?p.dfd.reject(Error(x.message)):p.dfd.resolve(x.response)}function d(p,x){p.addEventListener("load",function(){p.contentWindow.postMessage("init","*",[x.port2])})}function a(p,x){g[p.message.id]=p;x.port1.postMessage(p.message)}Object.defineProperty(y,"__esModule",{value:!0});var c,e,q=0,t=[],g={};y.get=function(p,x){if(!l("esri-script-sandbox"))return w.get(p,x);var u=null;x&&(u={jsonp:x.jsonp,
	preventCache:x.preventCache,query:x.query,timeout:x.timeout});x=new b(function(){if(t){var m=t.indexOf(A);-1<m&&t.splice(m,1)}else A.message.id in g&&delete g[A.message.id]});var A={dfd:x,message:{id:"id"+(++q+Math.random()),url:p,options:u}};c||(c=k(),e=h(),d(c,e));t?t.push(A):a(A,e);return x.promise}})},"esri/core/sniff":function(){define(["../sniff"],function(C){return C})},"dojo/request/iframe":function(){define("module require ./watch ./util ./handlers ../_base/lang ../io-query ../query ../has ../dom ../dom-construct ../_base/window ../NodeList-dom ../NodeList-manipulate".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c){function e(m){return!this.isFulfilled()}function q(m){return!!this._finished}function t(m,v){if(!v)try{var r=m.options,B=p.doc(p._frame),D=r.handleAs;if("html"!==D){if("xml"===D)if("html"===B.documentElement.tagName.toLowerCase()){h("a",B.documentElement).orphan();var G=B.documentElement.innerText||B.documentElement.textContent;G=G.replace(/>\s+</g,"\x3e\x3c");m.text=l.trim(G)}else m.data=B;else m.text=B.getElementsByTagName("textarea")[0].value;n(m)}else m.data=
	B}catch(z){v=z}v?this.reject(v):this._finished?this.resolve(m):this.reject(Error("Invalid dojo/request/iframe request state"))}function g(m){this._callNext()}function p(m,v,r){var B=w.parseArgs(m,w.deepCreate(A,v),!0);m=B.url;v=B.options;if("GET"!==v.method&&"POST"!==v.method)throw Error(v.method+" not supported by dojo/request/iframe");p._frame||(p._frame=p.create(p._iframeName,u+"();"));m=w.deferred(B,null,e,q,t,g);m._callNext=function(){this._calledNext||(this._calledNext=!0,p._currentDfd=null,
	p._fireNextRequest())};m._legacy=r;p._dfdQueue.push(m);p._fireNextRequest();b(m);return r?m:m.promise}var x=C.id.replace(/[\/\.\-]/g,"_"),u=x+"_onload";c.global[u]||(c.global[u]=function(){var m=p._currentDfd;if(m){var v=d.byId(m.response.options.form)||m._tmpForm;if(v){for(var r=m._contentToClean,B=0;B<r.length;B++)for(var D=r[B],G=0;G<v.childNodes.length;G++){var z=v.childNodes[G];if(z.name===D){a.destroy(z);break}}m._originalAction&&v.setAttribute("action",m._originalAction);m._originalMethod&&
	(v.setAttribute("method",m._originalMethod),v.method=m._originalMethod);m._originalTarget&&(v.setAttribute("target",m._originalTarget),v.target=m._originalTarget)}m._tmpForm&&(a.destroy(m._tmpForm),delete m._tmpForm);m._finished=!0}else p._fireNextRequest()});var A={method:"POST"};p.create=function(m,v,r){if(c.global[m])return c.global[m];if(c.global.frames[m])return c.global.frames[m];r||(f("config-useXDomain")&&!f("config-dojoBlankHtmlUrl")&&console.warn("dojo/request/iframe: When using cross-domain Dojo builds, please save dojo/resources/blank.html to your domain and set dojoConfig.dojoBlankHtmlUrl to the path on your domain to blank.html"),
	r=f("config-dojoBlankHtmlUrl")||y.toUrl("dojo/resources/blank.html"));v=a.place('\x3ciframe id\x3d"'+m+'" name\x3d"'+m+'" src\x3d"'+r+'" onload\x3d"'+v+'" style\x3d"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden"\x3e',c.body());return c.global[m]=v};p.doc=function(m){if(m.contentDocument)return m.contentDocument;var v=m.name;if(v){var r=c.doc.getElementsByTagName("iframe");if(m.document&&r[v].contentWindow&&r[v].contentWindow.document)return r[v].contentWindow.document;
	if(c.doc.frames[v]&&c.doc.frames[v].document)return c.doc.frames[v].document}return null};p.setSrc=function(m,v,r){m=c.global.frames[m.name];m.contentWindow&&(m=m.contentWindow);try{r?m.location.replace(v):m.location=v}catch(B){console.log("dojo/request/iframe.setSrc: ",B)}};p._iframeName=x+"_IoIframe";p._notifyStart=function(){};p._dfdQueue=[];p._currentDfd=null;p._fireNextRequest=function(){try{if(!p._currentDfd&&p._dfdQueue.length){do var m=p._currentDfd=p._dfdQueue.shift();while(m&&(m.canceled||
	m.isCanceled&&m.isCanceled())&&p._dfdQueue.length);if(!m||m.canceled||m.isCanceled&&m.isCanceled())p._currentDfd=null;else{var v=m.response,r=v.options,B=m._contentToClean=[],D=d.byId(r.form),G=w.notify,z=r.data||null;if(!m._legacy&&"POST"===r.method&&!D)D=m._tmpForm=a.create("form",{name:x+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},c.body());else if("GET"===r.method&&D&&-1<v.url.indexOf("?")){var E=v.url.slice(v.url.indexOf("?")+1);z=l.mixin(k.queryToObject(E),z)}if(D){if(!m._legacy){var H=
	D;do H=H.parentNode;while(H&&H!==c.doc.documentElement);H||(D.style.position="absolute",D.style.left="-1000px",D.style.top="-1000px",c.body().appendChild(D));D.name||(D.name=x+"_form")}if(z){H=function(W,ha){a.create("input",{type:"hidden",name:W,value:ha},D);B.push(W)};for(var I in z){var O=z[I];if(l.isArray(O)&&1<O.length)for(E=0;E<O.length;E++)H(I,O[E]);else{var T=h("input[name\x3d'"+I+"']",D);-1==T.indexOf()?H(I,O):T.val(O)}}}var Z=D.getAttributeNode("action"),ia=D.getAttributeNode("method"),
	ca=D.getAttributeNode("target");v.url&&(m._originalAction=Z?Z.value:null,Z?Z.value=v.url:D.setAttribute("action",v.url));m._legacy?ia&&ia.value||(ia?ia.value=r.method:D.setAttribute("method",r.method)):(m._originalMethod=ia?ia.value:null,ia?ia.value=r.method:D.setAttribute("method",r.method));m._originalTarget=ca?ca.value:null;ca?ca.value=p._iframeName:D.setAttribute("target",p._iframeName);D.target=p._iframeName;G&&G.emit("send",v,m.promise.cancel);p._notifyStart(v);D.submit()}else r="",v.options.data&&
	(r=v.options.data,"string"!==typeof r&&(r=k.objectToQuery(r))),H=v.url+(-1<v.url.indexOf("?")?"\x26":"?")+r,G&&G.emit("send",v,m.promise.cancel),p._notifyStart(v),p.setSrc(p._frame,H,!0)}}}catch(W){m.reject(W)}};w.addCommonMethods(p,["GET","POST"]);return p})},"dojo/NodeList-manipulate":function(){define("./query ./_base/lang ./_base/array ./dom-construct ./dom-attr ./NodeList-dom".split(" "),function(C,y,b,w,n){function l(f){for(;f.childNodes[0]&&1==f.childNodes[0].nodeType;)f=f.childNodes[0];return f}
	function k(f,d){"string"==typeof f?(f=w.toDom(f,d&&d.ownerDocument),11==f.nodeType&&(f=f.childNodes[0])):1==f.nodeType&&f.parentNode&&(f=f.cloneNode(!1));return f}var h=C.NodeList;y.extend(h,{_placeMultiple:function(f,d){f="string"==typeof f||f.nodeType?C(f):f;for(var a=[],c=0;c<f.length;c++)for(var e=f[c],q=this.length,t=q-1,g;g=this[t];t--)0<c&&(g=this._cloneNode(g),a.unshift(g)),t==q-1?w.place(g,e,d):e.parentNode.insertBefore(g,e),e=g;a.length&&(a.unshift(0),a.unshift(this.length-1),Array.prototype.splice.apply(this,
	a));return this},innerHTML:function(f){return arguments.length?this.addContent(f,"only"):this[0].innerHTML},text:function(f){if(arguments.length){for(var d=0,a;a=this[d];d++)1==a.nodeType&&n.set(a,"textContent",f);return this}var c="";for(d=0;a=this[d];d++)c+=n.get(a,"textContent");return c},val:function(f){if(arguments.length){for(var d=y.isArray(f),a=0,c;c=this[a];a++){var e=c.nodeName.toUpperCase(),q=c.type,t=d?f[a]:f;if("SELECT"==e)for(e=c.options,q=0;q<e.length;q++){var g=e[q];g.selected=c.multiple?
	-1!=b.indexOf(f,g.value):g.value==t}else"checkbox"==q||"radio"==q?c.checked=c.value==t:c.value=t}return this}if((c=this[0])&&1==c.nodeType){f=c.value||"";if("SELECT"==c.nodeName.toUpperCase()&&c.multiple){f=[];e=c.options;for(q=0;q<e.length;q++)g=e[q],g.selected&&f.push(g.value);f.length||(f=null)}return f}},append:function(f){return this.addContent(f,"last")},appendTo:function(f){return this._placeMultiple(f,"last")},prepend:function(f){return this.addContent(f,"first")},prependTo:function(f){return this._placeMultiple(f,
	"first")},after:function(f){return this.addContent(f,"after")},insertAfter:function(f){return this._placeMultiple(f,"after")},before:function(f){return this.addContent(f,"before")},insertBefore:function(f){return this._placeMultiple(f,"before")},remove:h.prototype.orphan,wrap:function(f){if(this[0]){f=k(f,this[0]);for(var d=0,a;a=this[d];d++){var c=this._cloneNode(f);a.parentNode&&a.parentNode.replaceChild(c,a);l(c).appendChild(a)}}return this},wrapAll:function(f){if(this[0]){f=k(f,this[0]);this[0].parentNode.replaceChild(f,
	this[0]);f=l(f);for(var d=0,a;a=this[d];d++)f.appendChild(a)}return this},wrapInner:function(f){if(this[0]){f=k(f,this[0]);for(var d=0;d<this.length;d++){var a=this._cloneNode(f);this._wrap(y._toArray(this[d].childNodes),null,this._NodeListCtor).wrapAll(a)}}return this},replaceWith:function(f){f=this._normalize(f,this[0]);for(var d=0,a;a=this[d];d++)this._place(f,a,"before",0<d),a.parentNode.removeChild(a);return this},replaceAll:function(f){f=C(f);for(var d=this._normalize(this,this[0]),a=0,c;c=
	f[a];a++)this._place(d,c,"before",0<a),c.parentNode.removeChild(c);return this},clone:function(){for(var f=[],d=0;d<this.length;d++)f.push(this._cloneNode(this[d]));return this._wrap(f,this,this._NodeListCtor)}});h.prototype.html||(h.prototype.html=h.prototype.innerHTML);return h})},"esri/layers/support/webglUtils":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/has","../../kernel"],function(C,y,b,w){var n=!1,l=b("esri-webgl-max-contexts");l=null!=l?l:b("esri-mobile")?8:16;var k={isWebGLSupported:function(){return!!n},
	isWebGLEnabled:function(){return this.isWebGLSupported()&&!!b("esri-featurelayer-webgl")},createCanvas:function(h,f){var d=document.createElement("canvas");d.style.width=h+"px";d.style.height=f+"px";return d},createWebGLContext:function(h){var f;y.some(["webgl","experimental-webgl","webkit-3d","moz-webgl"],function(d){try{f=h.getContext?h.getContext(d):null}catch(a){f=null}return!!f});return f},_contextOwners:[],isContextAvailable:function(){return-1===l||0<l&&k._contextOwners.length<l},acquireContext:function(h){return-1!==
	y.indexOf(k._contextOwners,h)?!0:k.isContextAvailable()?(k._contextOwners.push(h),!0):!1},releaseContext:function(h){h=y.indexOf(k._contextOwners,h);-1!==h&&k._contextOwners.splice(h,1)}};n=k.createWebGLContext(k.createCanvas());b("extend-esri")&&C.setObject("layers.support.webglUtils",k,w);return k})},"esri/layers/support/WebGLSurface":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/has","../../kernel"],function(C,y,b,w,n){C=C(null,{map:null,node:null,renderers:null,
	constructor:function(l){y.mixin(this,l);this.renderers=[]},destroy:function(){b.forEach(this.renderers,function(l){l.destroy()});this.renderers=null},getEventSource:function(){return this.node},createRenderer:function(l,k,h,f){l=new l({surface:this,width:k,height:h,map:this.map,layer:f});this.renderers.push(l);return l},destroyRenderer:function(l){var k=b.indexOf(this.renderers,l);-1<k&&(l.destroy(),this.renderers.splice(k,1))},_createNode:function(){var l=document.createElement("div");l.style.pointerEvents=
	"auto";l.style.position="absolute";return l}});w("extend-esri")&&y.setObject("layers.support.WebGLSurface",C,n);return C})},"esri/domUtils":function(){define(["./kernel","dojo/_base/connect","dojo/_base/lang","dojo/dom-style","dojo/has"],function(C,y,b,w,n){var l={show:function(k){if(k=l.getNode(k))k.style.display="block"},getNode:function(k){return k&&k.domNode||k},hide:function(k){if(k=l.getNode(k))k.style.display="none"},toggle:function(k){if(k=l.getNode(k))k.style.display="none"===k.style.display?
	"block":"none"},documentBox:8>=n("ie")?{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}:{w:window.innerWidth,h:window.innerHeight},setScrollable:function(k){if(k=this.getNode(k)){var h=0,f=0,d=0,a=0,c=0,e=0;return[y.connect(k,"ontouchstart",function(q){h=q.touches[0].screenX;f=q.touches[0].screenY;d=k.scrollWidth;a=k.scrollHeight;c=k.clientWidth;e=k.clientHeight}),y.connect(k,"ontouchmove",function(q){q.preventDefault();var t=k.firstChild;t instanceof Text&&(t=k.childNodes[1]);
	var g=t._currentX||0,p=t._currentY||0;g+=q.touches[0].screenX-h;0<g?g=0:0>g&&Math.abs(g)+c>d&&(g=-1*(d-c));t._currentX=g;p+=q.touches[0].screenY-f;0<p?p=0:0>p&&Math.abs(p)+e>a&&(p=-1*(a-e));t._currentY=p;w.set(t,{"-webkit-transition-property":"-webkit-transform","-webkit-transform":"translate("+g+"px, "+p+"px)"});h=q.touches[0].screenX;f=q.touches[0].screenY})]}}};n("extend-esri")&&b.mixin(C,l);return l})},"esri/symbols/MarkerSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ./Symbol".split(" "),
	function(C,y,b,w,n,l){C=C(l,{declaredClass:"esri.symbol.MarkerSymbol",angle:0,xoffset:0,yoffset:0,size:12,constructor:function(k){k&&y.isObject(k)&&(this.size="auto"===this.size?this.size:w.pt2px(this.size),this.xoffset=w.pt2px(this.xoffset),this.yoffset=w.pt2px(this.yoffset),this.angle&&(this.angle*=-1))},setAngle:function(k){this.angle=k;return this},setSize:function(k){this.size=k;return this},setOffset:function(k,h){this.xoffset=k;this.yoffset=h;return this},toJson:function(){var k=w.px2pt(this.size);
	k=isNaN(k)?void 0:k;var h=w.px2pt(this.xoffset);h=isNaN(h)?void 0:h;var f=w.px2pt(this.yoffset);f=isNaN(f)?void 0:f;return y.mixin(this.inherited("toJson",arguments),{size:"auto"===this.size?this.size:k,angle:this.angle&&-1*this.angle,xoffset:h,yoffset:f})}});b("extend-esri")&&y.setObject("symbol.MarkerSymbol",C,n);return C})},"esri/symbols/Symbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ../Color".split(" "),function(C,y,b,w,n,l){C=C(null,{declaredClass:"esri.symbol.Symbol",
	color:new l([0,0,0,1]),type:null,constructor:function(k){k&&y.isObject(k)&&(y.mixin(this,k),this.color&&n.isDefined(this.color[0])&&(this.color=l.toDojoColor(this.color)),(k=this.type)&&0===k.indexOf("esri")&&(this.type={esriSMS:"simplemarkersymbol",esriPMS:"picturemarkersymbol",esriSLS:"simplelinesymbol",esriCLS:"cartographiclinesymbol",esriSFS:"simplefillsymbol",esriPFS:"picturefillsymbol",esriTS:"textsymbol",esriSHD:"shieldlabelsymbol"}[k]))},setColor:function(k){this.color=k;return this},toJson:function(){return{color:l.toJsonColor(this.color)}}});
	b("extend-esri")&&y.setObject("symbol.Symbol",C,w);return C})},"esri/symbols/SimpleMarkerSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base ../kernel ../lang ./MarkerSymbol ./SimpleLineSymbol".split(" "),function(C,y,b,w,n,l,k,h,f){var d={STYLE_CIRCLE:"circle",STYLE_SQUARE:"square",STYLE_TRIANGLE:"triangle",STYLE_CROSS:"cross",STYLE_X:"x",STYLE_DIAMOND:"diamond",STYLE_PATH:"path",STYLE_TARGET:"target"},a={style:d.STYLE_CIRCLE,color:[255,255,255,
	.25],size:12,angle:0,xoffset:0,yoffset:0};C=C(h,{declaredClass:"esri.symbol.SimpleMarkerSymbol",type:"simplemarkersymbol",_styles:{circle:"esriSMSCircle",square:"esriSMSSquare",triangle:"esriSMSTriangle",cross:"esriSMSCross",x:"esriSMSX",diamond:"esriSMSDiamond",path:"esriSMSPath"},constructor:function(c,e,q,t){c?y.isString(c)?(this.style=c,e&&(this.size=e),q&&(this.outline=q),t&&(this.color=t)):(this.style=k.valueOf(this._styles,this.style),c.outline&&(this.outline=new f(c.outline))):(y.mixin(this,
	a),this.size=n.pt2px(this.size),this.outline=new f(this.outline),this.color=new b(this.color));this.style||(this.style=d.STYLE_CIRCLE)},setStyle:function(c){this.style=c;return this},setPath:function(c){this.path=c;this.setStyle(d.STYLE_PATH);return this},setOutline:function(c){this.outline=c;return this},getStroke:function(){return this.outline&&this.outline.getStroke()},getFill:function(){return this.color},_setDim:function(c,e,q){this._targetWidth=c;this._targetHeight=e;this._spikeSize=q},getShapeDescriptors:function(){var c,
	e=this.style,q=(this.size||n.pt2px(a.size))/2,t=0-q,g=0+q,p=0-q,x=0+q;switch(e){case d.STYLE_CIRCLE:var u={type:"circle",cx:0,cy:0,r:q};var A=this.getFill();if(c=this.getStroke())c.style=c.style||"Solid";break;case d.STYLE_CROSS:u={type:"path",path:"M "+t+",0 L "+g+",0 M 0,"+p+" L 0,"+x+" E"};A=null;c=this.getStroke();break;case d.STYLE_DIAMOND:u={type:"path",path:"M "+t+",0 L 0,"+p+" L "+g+",0 L 0,"+x+" L "+t+",0 Z"};A=this.getFill();c=this.getStroke();break;case d.STYLE_SQUARE:u={type:"path",path:"M "+
	t+","+x+" L "+t+","+p+" L "+g+","+p+" L "+g+","+x+" L "+t+","+x+" Z"};A=this.getFill();c=this.getStroke();break;case d.STYLE_TRIANGLE:u={type:"path",path:"M "+t+","+x+" L 0,"+p+" L "+g+","+x+" L "+t+","+x+" Z"};A=this.getFill();c=this.getStroke();break;case d.STYLE_X:u={type:"path",path:"M "+t+","+x+" L "+g+","+p+" M "+t+","+p+" L "+g+","+x+" E"};A=null;c=this.getStroke();break;case d.STYLE_PATH:u={type:"path",path:this.path||""},A=this.getFill(),c=this.getStroke()}return{defaultShape:u,fill:A,stroke:c}},
	toJson:function(){var c=this.style,e=this.outline,q=y.mixin(this.inherited("toJson",arguments),{type:"esriSMS",style:this._styles[c]||"esriSMSCircle"});e&&(q.outline=e.toJson());"x"===c||"cross"===c?delete q.color:"target"===c&&(q.style="esriSMSSquare",delete q.color,0<this._targetHeight&&0<this._targetWidth&&(q.size=n.px2pt(Math.max(this._targetHeight,this._targetWidth))));q.path=this.path;return k.fixJson(q)}});y.mixin(C,d);C.defaultProps=a;w("extend-esri")&&(y.setObject("symbol.SimpleMarkerSymbol",
	C,l),l.symbol.defaultSimpleMarkerSymbol=a);return C})},"esri/symbols/SimpleLineSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base ../kernel ../lang ./LineSymbol".split(" "),function(C,y,b,w,n,l,k,h){var f={STYLE_SOLID:"solid",STYLE_DASH:"dash",STYLE_DOT:"dot",STYLE_DASHDOT:"dashdot",STYLE_DASHDOTDOT:"longdashdotdot",STYLE_NULL:"none",STYLE_SHORTDASH:"shortdash",STYLE_SHORTDOT:"shortdot",STYLE_SHORTDASHDOT:"shortdashdot",STYLE_SHORTDASHDOTDOT:"shortdashdotdot",
	STYLE_LONGDASH:"longdash",STYLE_LONGDASHDOT:"longdashdot"},d={color:[0,0,0,1],style:f.STYLE_SOLID,width:1};C=C(h,{declaredClass:"esri.symbol.SimpleLineSymbol",type:"simplelinesymbol",marker:null,_styles:{solid:"esriSLSSolid",dash:"esriSLSDash",dot:"esriSLSDot",dashdot:"esriSLSDashDot",longdashdotdot:"esriSLSDashDotDot",none:"esriSLSNull",insideframe:"esriSLSInsideFrame",shortdash:"esriSLSShortDash",shortdot:"esriSLSShortDot",shortdashdot:"esriSLSShortDashDot",shortdashdotdot:"esriSLSShortDashDotDot",
	longdash:"esriSLSLongDash",longdashdot:"esriSLSLongDashDot"},constructor:function(a,c,e){a?y.isString(a)?(this.style=a,c&&(this.color=c),e&&(this.width=e)):(this.style=k.valueOf(this._styles,a.style)||f.STYLE_SOLID,this.marker=a.marker):(y.mixin(this,d),this.color=new b(this.color),this.width=n.pt2px(this.width))},setStyle:function(a){this.style=a;return this},setMarker:function(a){this.marker=a},getStroke:function(){return this.style===f.STYLE_NULL||0===this.width?null:{color:this.color,style:this.style,
	width:this.width}},getFill:function(){return null},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -15,0 L 15,0 E"},fill:null,stroke:this.getStroke()}},toJson:function(){return k.fixJson(y.mixin(this.inherited("toJson",arguments),{type:"esriSLS",style:this._styles[this.style],marker:this.marker?y.clone(this.marker):void 0}))}});y.mixin(C,f);C.defaultProps=d;w("extend-esri")&&(y.setObject("symbol.SimpleLineSymbol",C,l),l.symbol.defaultSimpleLineSymbol=d);return C})},"esri/symbols/LineSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ./Symbol".split(" "),
	function(C,y,b,w,n,l){C=C(l,{declaredClass:"esri.symbol.LineSymbol",constructor:function(k){y.isObject(k)?this.width=w.pt2px(this.width):this.width=12},setWidth:function(k){this.width=k;return this},toJson:function(){var k=w.px2pt(this.width);k=isNaN(k)?void 0:k;return y.mixin(this.inherited("toJson",arguments),{width:k})}});b("extend-esri")&&y.setObject("symbol.LineSymbol",C,n);return C})},"esri/symbols/utils":function(){define("dojo/_base/lang dojo/_base/window dojo/has dojox/gfx ../kernel ../Color".split(" "),
	function(C,y,b,w,n,l){function k(e){e.removeAttribute("marker-start");e.removeAttribute("marker-end");e.removeAttribute("opacity")}function h(e,q){for(var t in q)e.setAttribute(t,q[t])}function f(e,q,t){q="url(#"+q.getAttribute("id")+")";e.rawNode.setAttribute("marker-"+t,q)}var d=-1!==w.renderer.toLowerCase().indexOf("svg"),a=9===b("ie"),c={marker:{markerWidth:"6",markerHeight:"6",markerUnits:"strokeWidth",orient:"auto"},spear:{marker:{end:{viewBox:"0 0 25.4 23.43",refX:"20",refY:"12.76"},start:{viewBox:"-25.4 0 25.4 23.43",
	refX:"-20",refY:"12.76"}},path:{common:{d:"M1.63 23.43 L5.37 16.6 L5.37 8.93 L1.63 2.09 L25.4 12.76 L1.63 23.43 Z","stroke-width":"0","fill-opacity":"1"},start:{transform:"matrix(-1, 0, 0, 1, 0, 0)"}}}};w={applyLineMarker:function(e,q,t,g){if(d&&!a){var p=e&&e.rawNode,x=q.marker;t=t||q.color;p&&"none"!==q.style&&t&&x&&"arrow"===x.style&&x.placement?p.getTotalLength&&0===p.getTotalLength()?k(p):(q=-1!==x.placement.indexOf("begin"),x=-1!==x.placement.indexOf("end"),q||x?(p.removeAttribute("stroke-opacity"),
	p.setAttribute("opacity",t.a),q?(q=g(e,t,"spear","start"),f(e,q,"start")):p.removeAttribute("marker-start"),x?(t=g(e,t,"spear","end"),f(e,t,"end")):p.removeAttribute("marker-end")):k(p)):p&&k(p)}},createSVGMarker:function(e,q,t,g){t=c[t];var p=y.doc.createElementNS("http://www.w3.org/2000/svg","marker");p.setAttribute("id",q);h(p,c.marker);h(p,t.marker[g]);q=y.doc.createElementNS("http://www.w3.org/2000/svg","path");q.setAttribute("fill",e.toCss());h(q,t.path.common);h(q,t.path[g]);p.appendChild(q);
	return p},create2DColorRamp:function(e){var q=e.surface.createGroup(),t=e.colors,g=e.numClasses;e=(e.size||75)/g;for(var p=0;p<g;p++)for(var x=p*e,u=0;u<g;u++){var A=t[p][u];q.createRect({x:u*e,y:x,width:e,height:e}).setFill(A).setStroke(null)}return q},setSymbolFillColor:function(e,q){if(e)switch(q=q?new l(q):null,e.type){case "simplemarkersymbol":"cross"===e.style||"x"===e.style?e.outline&&e.outline.setColor(q):e.setColor(q);break;case "simplelinesymbol":case "cartographiclinesymbol":case "simplefillsymbol":case "shieldlabelsymbol":case "textsymbol":e.setColor(q)}}};
	b("extend-esri")&&C.setObject("renderer.utils",w,n);return w})},"esri/layers/TileInfo":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../lang ../SpatialReference ../geometry/Point ./LOD".split(" "),function(C,y,b,w,n,l,k,h,f){C=C(null,{declaredClass:"esri.layers.TileInfo",constructor:function(d){y.mixin(this,d);this.width=this.cols;this.height=this.rows;this._levelToLOD={};d=this.spatialReference;var a=this.origin;d&&(d=this.spatialReference=new k(d.toJson?
	d.toJson():d));a&&(this.origin=new h(a.toJson?a.toJson():a),!a.spatialReference&&d&&this.origin.setSpatialReference(new k(d.toJson())));this.lods=b.map(this.lods,function(q){return new f(q)});b.forEach(this.lods,function(q){this._levelToLOD[q.level]=q},this);d=!1;a=this.spatialReference;var c=this.origin;if(a&&c){var e=a._getInfo();e&&(d=a._isWrappable()&&Math.abs(e.origin[0]-c.x)<=e.dx)}this.isWrappable=d;this._initializeUpsampleLevels()},toJson:function(){return l.fixJson({rows:this.rows,cols:this.cols,
	dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin&&this.origin.toJson(),spatialReference:this.spatialReference&&this.spatialReference.toJson(),lods:this.lods&&b.map(this.lods,function(d){return d.toJson()})})},lodAt:function(d){return this._levelToLOD&&this._levelToLOD[d]||null},updateTileInfo:function(d){var a=this.lodAt(d.level),c=a.resolution*this.width;a=a.resolution*this.height;d.id=d.level+"/"+d.row+"/"+d.col;d.extent||(d.extent=[0,0,0,0]);d.extent[0]=
	this.origin.x+d.col*c;d.extent[1]=this.origin.y-(d.row+1)*a;d.extent[2]=d.extent[0]+c;d.extent[3]=d.extent[1]+a},upsampleTile:function(d){var a=this._upsampleLevels[d.level];if(!a||-1===a.parentLevel)return!1;d.level=a.parentLevel;d.row=Math.floor(d.row/a.factor+.001);d.col=Math.floor(d.col/a.factor+.001);this.updateTileInfo(d);return!0},_initializeUpsampleLevels:function(){var d=this.lods;this._upsampleLevels=[];for(var a=null,c=0;c<d.length;c++){var e=d[c];this._upsampleLevels[e.level]={parentLevel:a?
	a.level:-1,factor:a?a.resolution/e.resolution:0};a=e}}});w("extend-esri")&&y.setObject("layers.TileInfo",C,n);return C})},"esri/layers/LOD":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../lang"],function(C,y,b,w,n){C=C(null,{declaredClass:"esri.layers.LOD",constructor:function(l){y.mixin(this,l)},toJson:function(){return n.fixJson({level:this.level,levelValue:this.levelValue,resolution:this.resolution,scale:this.scale})}});b("extend-esri")&&y.setObject("layers.LOD",
	C,w);return C})},"esri/layers/ArcGISTiledMapServiceLayer":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has dojo/io-query ../kernel ../urlUtils ../SpatialReference ./TiledMapServiceLayer ./ArcGISMapServiceLayer ./TileInfo ./TimeInfo ./TileMap".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t){y=y([a,c],{declaredClass:"esri.layers.ArcGISTiledMapServiceLayer",_agolAttrs:"Canvas/World_Dark_Gray_Base Canvas/World_Dark_Gray_Reference Canvas/World_Light_Gray_Base Canvas/World_Light_Gray_Reference Elevation/World_Hillshade Ocean/World_Ocean_Base Ocean/World_Ocean_Reference Ocean_Basemap Reference/World_Boundaries_and_Places Reference/World_Boundaries_and_Places_Alternate Reference/World_Transportation World_Imagery World_Street_Map World_Topo_Map".split(" "),
	_isReference:!1,_referenceLayers:"Canvas/World_Dark_Gray_Reference Canvas/World_Light_Gray_Reference Ocean/World_Ocean_Reference Reference/World_Boundaries_and_Places Reference/World_Boundaries_and_Places_Alternate Reference/World_Reference_Overlay Reference/World_Transportation".split(" "),constructor:function(g,p){p&&(p.roundrobin&&(C.deprecated(this.declaredClass+" : Constructor option 'roundrobin' deprecated. Use option 'tileServers'."),p.tileServers=p.roundrobin),this._setTileServers(p.tileServers),
	this._loadCallback=p.loadCallback);this._params=b.mixin({},this._url.query);this._initLayer=b.hitch(this,this._initLayer);(g=p&&p.resourceInfo)?this._initLayer(g):(this._load=b.hitch(this,this._load),this._load())},_TILE_FORMATS:{PNG:"png",PNG8:"png",PNG24:"png",PNG32:"png",JPG:"jpg",JPEG:"jpg",GIF:"gif"},_setTileServers:function(g){if(g&&0<g.length){this.tileServers=g;var p,x=g.length;for(p=0;p<x;p++)g[p]=f.urlToObject(g[p]).path}},_initLayer:function(g,p){this.inherited(arguments);this.resourceInfo=
	n.toJson(g);this.tileInfo=new e(g.tileInfo);!1!==this.resampling&&(g.capabilities&&-1<g.capabilities.indexOf("Tilemap")?(this.resampling=!0,this.tileMap=new t(this)):this.resampling=!!g.resampling);!this.spatialReference&&this.tileInfo.spatialReference&&(this.spatialReference=new d(this.tileInfo.spatialReference.toJson()));this.isPNG32="PNG24"===this.tileInfo.format||"PNG32"===this.tileInfo.format;g.timeInfo&&(this.timeInfo=new q(g.timeInfo));g.mensurationCapabilities&&(this.mensurationCapabilities=
	g.mensurationCapabilities);var x=this._url.path,u=this._loadCallback,A=f.getProtocolForWebResource(!0),m=x.match(/^https?:\/\/(server|services)\.arcgisonline\.com\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/mapserver/i);m=m&&m[2];if(!this.tileServers)if(g.tileServers)this._setTileServers(g.tileServers);else{var v=-1!==x.search(/^https?:\/\/server\.arcgisonline\.com/i),r=-1!==x.search(/^https?:\/\/services\.arcgisonline\.com/i);(v||r)&&this._setTileServers([x,x.replace(v?/server\.arcgisonline/i:
	/services\.arcgisonline/i,v?"services.arcgisonline":"server.arcgisonline")])}if(m){m=m.toLowerCase();for(x=0;x<this._agolAttrs.length;x++)if(v=this._agolAttrs[x],v.toLowerCase()===m){this.hasAttributionData=!0;this.attributionDataUrl=this.attributionDataUrl||A+"//static.arcgis.com/attribution/"+v;break}for(x=0;x<this._referenceLayers.length;x++)if(v=this._referenceLayers[x],v.toLowerCase()===m){this._isReference=!0;break}}this.loaded=!0;this.onLoad(this);u&&(delete this._loadCallback,u(this))},getTileUrl:function(g,
	p,x){var u=this.tileServers,A=this._getToken(),m=this._url.query;g=(u?u[p%u.length]:this._url.path)+"/tile/"+g+"/"+p+"/"+x;g=f.upgradeToHTTPS(g);this.resampling&&!this.tileMap&&(g+="?blankTile\x3dfalse");m&&(g=this.resampling&&!this.tileMap?g+("\x26"+k.objectToQuery(m)):g+("?"+k.objectToQuery(m)));!A||m&&m.token||(g+=(-1===g.indexOf("?")?"?":"\x26")+"token\x3d"+A);g=this.addTimestampToURL(g);return f.addProxy(g)}});l("extend-esri")&&b.setObject("layers.ArcGISTiledMapServiceLayer",y,h);return y})},
	"esri/layers/TiledMapServiceLayer":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/url dojo/dom-construct dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/dom dojox/collections/ArrayList dojox/gfx/matrix ../kernel ../config ../sniff ../domUtils ../tileUtils ../geometry/Point ../geometry/Rect ../geometry/Extent ./layer".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x,u,A,m){C=C(m,{declaredClass:"esri.layers.TiledMapServiceLayer",constructor:function(v,
	r){y.connect(this,"onLoad",this,"_initTiledLayer");this._lowestLevel=(this._displayLevels=r?r.displayLevels:null)?this._displayLevels[0]:0;this.resampling=r?r.resampling:void 0;this._resamplingTolerance=r?r.resamplingTolerance:null;this.exclusionAreas=r?r.exclusionAreas:null;v=b.hitch;this._addImage=v(this,this._addImage);this._tileLoadHandler=v(this,this._tileLoadHandler);this._tileErrorHandler=v(this,this._tileErrorHandler);this._popTile=v(this,this._popTile);this._cleanUpRemovedImages=v(this,this._cleanUpRemovedImages);
	this._fireOnUpdateEvent=v(this,this._fireOnUpdateEvent);this._transitionEnd=v(this,this._transitionEnd);this._tileMapCallback=v(this,this._tileMapCallback)},opacity:1,isPNG32:!1,_multiple:1,isResampling:!1,_initTiledLayer:function(){var v=this.tileInfo,r=v.lods;this.resampling=null!=this.resampling?this.resampling:!1;this._tileW=v.width;this._tileH=v.height;var B=this.scales=[],D=this._displayLevels,G=-Infinity,z=Infinity,E=this.fullExtent,H=new x(E.xmin,E.ymax);E=new x(E.xmax,E.ymin);var I=p.getContainingTileCoords,
	O,T=r.length;for(O=0;O<T;O++){var Z=r[O];var ia=I(v,H,Z);Z.startTileRow=0>ia.row?0:ia.row;Z.startTileCol=0>ia.col?0:ia.col;ia=I(v,E,Z);Z.endTileRow=ia.row;Z.endTileCol=ia.col;D&&-1===w.indexOf(D,Z.level)||(B[O]=Z.scale,G=Z.scale>G?Z.scale:G,z=Z.scale<z?Z.scale:z)}-Infinity===G||this._hasMin||this.setMinScale(G);Infinity===z||this._hasMax||this.setMaxScale(z);this.setExclusionAreas(this.exclusionAreas);this._patchIE=6<=t("ie")&&7>t("ie")&&(this.isPNG32||"Mixed"===v.format)},isVisibleAtScale:function(v){return v?
	m.prototype._isMapAtVisibleScale.call(this,v,!0):!1},_isMapAtVisibleScale:function(v){var r=this.inherited(arguments,[v,!0]);if(r){var B=this._map;r=this.scales;var D=B.getScale(),G=!1,z=B.width>B.height?B.width:B.height;for(B=0;B<r.length;B++)if(Math.abs(r[B]-D)/r[B]<1/z){G=!0;break}r=G}return r},_setMap:function(v,r,B,D){this.inherited(arguments);this._map=v;var G=this._div=l.create("div",null,r),z=v.__visibleDelta,E=y.connect,H=e._css.names,I={position:"absolute",width:v.width+"px",height:v.height+
	"px",overflow:"visible"},O=q.defaults.map.zoomDuration;"css-transforms"===v.navigationMode?(I[H.transform]=e._css.translate(-z.x,-z.y),f.set(G,I),delete I[H.transform],I[H.transition]=H.transformName+" "+O+"ms ease",f.set(this._active=l.create("div",null,G),I),this._active._remove=0,this._passives=[]):(I.left=-z.x+"px",I.top=-z.y+"px",f.set(G,I));this._onResizeHandler_connect=E(v,"onResize",this,"_onResizeHandler");this._opacityChangeHandler_connect=E(this,"onOpacityChange",this,"_opacityChangeHandler");
	z=this.tileInfo;E=z.spatialReference;H=E._getInfo();(this._wrap=v.wrapAround180&&E._isWrappable()&&Math.abs(H.origin[0]-z.origin.x)<=H.dx)&&p._addFrameInfo(z,H);this.setExclusionAreas(this.exclusionAreas);this.evaluateSuspension();if(this.suspended&&!v.loaded)var T=y.connect(v,"onLoad",this,function(){y.disconnect(T);T=null;this.setExclusionAreas(this.exclusionAreas);this.evaluateSuspension()});return G},_unsetMap:function(v,r){this.suspended||this._suspendImpl();l.destroy(this._div);this._map=this._div=
	null;var B=y.disconnect;B(this._onResizeHandler_connect);B(this._opacityChangeHandler_connect);this.inherited(arguments)},onSuspend:function(){this.inherited(arguments);this._suspendImpl()},_suspendImpl:function(){g.hide(this._div);clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors();var v=this._tiles,r=this._tileIds,B=this._loadingList,D,G,z=y.disconnect,E=l.destroy;B&&0<B.count&&(B.forEach(function(I){if(D=v[I])z(D._onload_connect),z(D._onerror_connect),z(D._onabort_connect),
	D._onload_connect=D._onerror_connect=D._onabort_connect=null}),B.clear(),this._fireUpdateEnd());this._removeList.clear();for(B=r.length-1;0<=B;B--)(D=(G=r[B])&&v[G])&&E(D);if("css-transforms"===this._map.navigationMode){r=this._active;G=this._passives;this._noDom=0;for(B=G.length-1;0<=B;B--){var H=G[B];H._endHandle&&z(H._endHandle);H._matrix=H._multiply=H._endHandle=null;H._marked=H._remove=0;G.splice(B,1);E(H)}r._matrix=r._multiply=null;r._marked=r._remove=0}this._tileIds=this._tiles=this._tileBounds=
	this._ct=this._loadingList=this._removeList=this._standby=null},onResume:function(){this.inherited(arguments);this._tileIds=[];this._tiles=[];this._tileBounds=[];this._ct=null;this._removeList=new a;this._loadingList=new a;g.show(this._div);this._enableDrawConnectors();this._wakeTimer=this._wakeTimer||setTimeout(b.hitch(this,function(){this.suspended||this._onExtentChangeHandler(this._map.extent,null,!0,this._map.__LOD)}),0)},_enableDrawConnectors:function(){var v=this._map,r=y.connect;if("css-transforms"===
	v.navigationMode){if(this._onScaleHandler_connect=r(v,"onScale",this,this._onScaleHandler),t("esri-mobile")){this._standby=[];var B=this,D=function(){B._noDom=1};this._onPanStartHandler_connect=r(v,"onPanStart",D);this._onZoomStartHandler_connect=r(v,"onZoomStart",D)}}else this._onZoomHandler_connect=r(v,"onZoom",this,"_onZoomHandler");this._onPanHandler_connect=r(v,"onPan",this,"_onPanHandler");this._onExtentChangeHandler_connect=r(v,"onExtentChange",this,"_onExtentChangeHandler")},_disableDrawConnectors:function(){var v=
	y.disconnect;v(this._onPanHandler_connect);v(this._onZoomHandler_connect);v(this._onScaleHandler_connect);v(this._onExtentChangeHandler_connect);v(this._onPanStartHandler_connect);v(this._onZoomStartHandler_connect);this._onPanHandler_connect=this._onZoomHandler_connect=this._onScaleHandler_connect=this._onExtentChangeHandler_connect=this._onPanStartHandler_connect=this._onZoomStartHandler_connect=null},_onResizeHandler:function(v,r,B){v={width:r+"px",height:B+"px"};r=f.set;r(this._div,v);if("css-transforms"===
	this._map.navigationMode)for(this._active&&r(this._active,v),B=this._passives.length-1;0<=B;B--)r(this._passives[B],v)},_onExtentChangeHandler:function(v,r,B,D){r=this._map;var G=this._standby;clearTimeout(this._wakeTimer);this._wakeTimer=null;if(!r._isPanningOrZooming()){if("css-transforms"===r.navigationMode){if(B)for(D=this._passives.length-1;0<=D;D--){var z=this._passives[D];f.set(z,e._css.names.transition,"none");z._marked?(this._passives.splice(D,1),z.parentNode&&z.parentNode.removeChild(z),
	l.destroy(z)):0<z.childNodes.length&&(z._multiply=z._multiply?c.multiply(z._matrix,z._multiply):z._matrix)}this._noDom=0;if(G&&G.length)for(D=G.length-1;0<=D;D--)z=G[D],f.set(z,"visibility","inherit"),this._popTile(z),G.splice(D,1)}this._fireUpdateStart();this._rrIndex=0;D=p.getCandidateTileInfo(r,this.tileInfo,v);v=r.__visibleDelta;if(!this._ct||D.lod.level!==this._ct.lod.level||B){z=D&&this._ct&&D.lod.level!==this._ct.lod.level;this._ct=D;var E=this._tiles,H=this._tileIds,I=this._tileBounds,O=this._removeList,
	T=H.length;this._cleanUpRemovedImages();for(D=0;D<T;D++){G=H[D];var Z=E[G];I[G]=H[D]=null;"css-transforms"===r.navigationMode&&z&&Z.parentNode&&r.fadeOnZoom&&(Z._fadeOut=z,Z.parentNode._remove++);O.add(Z)}B&&(this._tileIds=[],this._tiles=[],this._tileBounds=[])}D=v.x;B=v.y;"css-transforms"===r.navigationMode?(G={},G[e._css.names.transform]=e._css.translate(D,B),f.set(this._div,G)):f.set(this._div,{left:D+"px",top:B+"px"});this.__coords_dx=D;this.__coords_dy=B;this._updateImages(new u(0,0,v.width,
	v.height));0===this._loadingList.count?(this._cleanUpRemovedImages(),this.onUpdate(),this._fireUpdateEnd()):this._fireOnUpdate=!0;B=this._tileW;E=this._tileH;v=new u(-v.x,-v.y,v.width,v.height);for(D=this._tileIds.length-1;0<=D;D--)(G=this._tileIds[D])?(z=this._tiles[G],H=h.getMarginBox(z),H=new u(H.l,H.t,B,E),"css-transforms"===r.navigationMode&&(H.x=z._left,H.y=z._top),v.intersects(H)?this._tileBounds[G]=H:(this._loadingList.contains(G)&&this._popTile(z),l.destroy(z),this._tileIds.splice(D,1),delete this._tileBounds[G],
	delete this._tiles[G])):(this._tileIds.splice(D,1),delete this._tileBounds[G],delete this._tiles[G])}},_onPanHandler:function(v,r){v=this._map;r=v.__visibleDelta.offset(r.x,r.y);this.__coords_dx=this.__coords_dy=0;"css-transforms"===v.navigationMode?(v={},v[e._css.names.transform]=e._css.translate(r.x,r.y),f.set(this._div,v),t("esri-mobile")||this._updateImages({x:-r.x,y:-r.y,width:r.width,height:r.height})):(f.set(this._div,{left:r.x+"px",top:r.y+"px"}),this._updateImages({x:-r.x,y:-r.y,width:r.width,
	height:r.height}));0<this._loadingList.count&&(this._fireUpdateStart(),this._fireOnUpdate=!0)},_onScaleHandler:function(v,r){var B,D={},G=e._css.names,z=this._map,E=q.defaults.map.zoomDuration;for(B=this._passives.length-1;0<=B;B--){var H=this._passives[B];0===H.childNodes.length?(this._passives.splice(B,1),l.destroy(H)):("none"===H.style[G.transition]&&f.set(H,G.transition,G.transformName+" "+E+"ms ease"),f.set(H,G.transition,r?"none":G.transformName+" "+E+"ms ease"),H._matrix=v,D[G.transform]=e._css.matrix(H._multiply?
	c.multiply(v,H._multiply):v),f.set(H,D))}this._active&&0===this._active.childNodes.length||(f.set(this._active,G.transition,r?"none":G.transformName+" "+E+"ms ease"),this._active._matrix=v,D[G.transform]=e._css.matrix(this._active._matrix),f.set(this._active,D),this._passives.push(this._active),D={position:"absolute",width:z.width+"px",height:z.height+"px",overflow:"visible"},D[G.transition]=G.transformName+" "+E+"ms ease",f.set(this._active=l.create("div",null,this._div),D),this._active._remove=
	0,z.fadeOnZoom&&l.place(this._active,this._div,"first"))},_onZoomHandler:function(v,r,B){v=h.getMarginBox(this._div);B=B.offset(-v.l,-v.t);this._previousScale&&1!==r||(this._previousScale=1);var D,G=this._tileW*r,z=this._tileH*r,E=this._tileBounds,H=this._tiles,I=this._previousScale,O=this._multiple,T=f.set,Z,ia;if((v=t("ie"))&&8>v)w.forEach(this._tileIds,function(xa){ia="";D=E[xa];Z=H[xa].style.margin.split(" ");w.forEach(Z,function(K){""!==ia&&(ia+=" ");K=parseFloat(K);ia+=K/I*r+"px"});T(H[xa],
	{left:D.x-(G-D.width)*(B.x-D.x)/D.width+"px",top:D.y-(z-D.height)*(B.y-D.y)/D.height+"px",margin:1!==O&&-1===ia.indexOf("NaN")?ia:"",zoom:r})});else{var ca=G*O,W=z*O,ha,ma;w.forEach(this._tileIds,function(xa){ia="";D=E[xa];ha=D.x-(G-D.width)*(B.x-D.x)/D.width;ma=D.y-(z-D.height)*(B.y-D.y)/D.height;Z=H[xa].style.margin.split(" ");w.forEach(Z,function(K){""!==ia&&(ia+=" ");K=parseFloat(K);ia+=K/I*r+"px"});T(H[xa],{left:ha+"px",top:ma+"px",margin:1!==O&&-1===ia.indexOf("NaN")?ia:"",width:ca+"px",height:W+
	"px"})})}this._previousScale=r},_updateImages:function(v){if(this._ct){var r=this._tileW,B=this._tileH,D=this._ct;var G=D.lod;D=D.tile;var z=D.offsets,E=D.coords,H=E.row;E=E.col;var I=G.level,O=this.opacity,T=this._tileIds,Z=this._loadingList,ia=this._addImage,ca=this._map.id,W=this.id,ha=v.x,ma=v.y,xa=G.startTileRow,K=G.endTileRow,Y=G.startTileCol,la=G.endTileCol,L=w.indexOf,R=z.x-this.__coords_dx,da=z.y-this.__coords_dy;var ka=r-R+-v.x;var qa=B-da+-v.y;var va=Math.ceil;ka=0<ka?ka%r:r-Math.abs(ka)%
	r;qa=0<qa?qa%B:B-Math.abs(qa)%B;ha=0<ha?Math.floor((ha+R)/r):va((ha-(r-R))/r);ma=0<ma?Math.floor((ma+da)/B):va((ma-(B-da))/B);da=ha+va((v.width-ka)/r);v=ma+va((v.height-qa)/B);if(this._wrap){var Ea=G._frameInfo;var ba=Ea[0];var fa=Ea[1];Ea=Ea[2]}for(qa=ha;qa<=da;qa++)for(ha=ma;ha<=v;ha++)va=H+ha,ka=E+qa,this._wrap&&(ka<fa?(ka%=ba,ka=ka<fa?ka+ba:ka):ka>Ea&&(ka%=ba)),!this._isExcluded(I,va,ka)&&va>=xa&&va<=K&&ka>=Y&&ka<=la&&(G=ca+"_"+W+"_tile_"+I+"_"+ha+"_"+qa,-1===L(T,G)&&(Z.add(G),T.push(G),ia(I,
	ha,va,qa,ka,G,r,B,O,D,z)))}},_cleanUpRemovedImages:function(){var v=this._removeList,r=l.destroy,B,D=e._css.names;v.forEach(function(z){z._fadeOut||(z.style.filter="",z.style.zoom=1,r(z))});if("css-transforms"===this._map.navigationMode)for(B=this._passives.length-1;0<=B;B--){var G=this._passives[B];0===G.childNodes.length?(this._passives.splice(B,1),r(G)):this._map.fadeOnZoom&&!G._marked&&G._remove===G.childNodes.length&&(G._marked=1,2048>e._css.getScaleFromMatrix(f.get(G,D.transform))?(f.set(G,
	D.transition,"opacity 0.65s"),f.set(G,"opacity",0),y.disconnect(G._endHandle),G._endHandle=y.connect(G,D.endEvent,this._transitionEnd)):this._transitionEnd({propertyName:"opacity",target:G}))}v.clear()},_transitionEnd:function(v){var r=v.target;"opacity"===v.propertyName&&(y.disconnect(r._endHandle),r._endHandle=null,v=w.indexOf(this._passives,r),-1<v&&this._passives.splice(v,1),r.parentNode&&r.parentNode.removeChild(r),l.destroy(r))},_addImage:function(v,r,B,D,G,z,E,H,I,O,T){if(this._patchIE)O=this._tiles[z]=
	l.create("div"),O.id=z,k.add(O,"layerTile"),f.set(O,{left:E*D-T.x+"px",top:H*r-T.y+"px",width:E+"px",height:H+"px",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d'"+this.getTileUrl(v,B,G)+"', sizingMethod\x3d'scale')"}),1>I&&f.set(O,"opacity",I),v=O.appendChild(l.create("div")),f.set(v,{opacity:0,width:E+"px",height:H+"px"}),this._div.appendChild(O),O=null,this._loadingList.remove(z),this._fireOnUpdateEvent();else{O=this._tiles[z]=l.create("img");var Z=y.connect;O.id=z;O._uid=v+
	"_"+B+"_"+G;O.alt="";k.add(O,"layerTile");D=E*D-T.x;T=H*r-T.y;r=this._map;var ia=e._css.names;E={width:E+"px",height:H+"px",visibility:"hidden"};"css-transforms"===r.navigationMode?(E[ia.transform]=e._css.translate(D,T),f.set(O,E),O._left=D,O._top=T):(E.left=D+"px",E.top=T+"px",f.set(O,E));1>I&&f.set(O,"opacity",I);O._onload_connect=Z(O,"onload",this,"_tileLoadHandler");O._onerror_connect=Z(O,"onerror",b.hitch(this,"_tileErrorHandler",B,G));O._onabort_connect=Z(O,"onabort",this,"_tileAbortHandler");
	if(this.tileMap)this.tileMap.getTile(v,B,G,z,this._tileMapCallback);else if(z=this.getTileUrl(v,B,G,O))this._failedRequests&&this._failedRequests[z]?(f.set(O,this._failedRequests[z].css),O.src=this._failedRequests[z].src,this._multiple=parseInt(this._failedRequests[z].css.width)/this._tileW,this.isResampling=1!==this._multiple):(this._multiple=1,this.isResampling=!1,O.src=z);"css-transforms"===r.navigationMode?this._active.appendChild(O):this._div.appendChild(O);O=null}},_tileMapCallback:function(v,
	r){if(!this.suspended){var B=this._tiles[r.id]||d.byId(r.id);var D=r.level+"_"+r.row+"_"+r.col;B&&B._uid===D?(this._multiple=2*(r.level-v.level)||1,this.isResampling=1!==this._multiple,r=this.tileMap.style(v,r),f.set(B,r),B.src=this.getTileUrl(v.level,v.row,v.col)):this._popTile(r)}},getTileUrl:function(v,r,B){},refresh:function(){this.suspended||(this._refreshTS=Date.now(),this._onExtentChangeHandler(this._map.extent,null,!0,this._map.__LOD))},_popTile:function(v){var r=y.disconnect;r(v._onload_connect);
	r(v._onerror_connect);r(v._onabort_connect);v._onload_connect=v._onerror_connect=v._onabort_connect=null;this._loadingList.remove(v.id);this._fireOnUpdateEvent()},_tileLoadHandler:function(v){v=v.currentTarget;this._noDom?this._standby.push(v):(f.set(v,"visibility","inherit"),this._popTile(v))},_tileAbortHandler:function(v){v=v.currentTarget;this.onError(Error("Unable to load tile: "+v.src));f.set(v,"visibility","hidden");this._popTile(v)},_tileErrorHandler:function(v,r,B){B=B.currentTarget;var D=
	!0;if(this.tileMap||!this.resampling)D=!1;else{var G=new n(B.src);G=G.path.split("/");G=parseInt(G[G.length-3]);var z=this._ct.lod.level-G+1;this._multiple=Math.pow(2,z);if(G===this._lowestLevel||0===this._resamplingTolerance||this._resamplingTolerance&&Math.log(this._multiple)/Math.LN2>this._resamplingTolerance)D=!1}D?(this.isResampling=!0,this._resample(B,v,r)):(this.onError(Error("Unable to load tile: "+B.src)),f.set(B,"visibility","hidden"),this._popTile(B))},_resample:function(v,r,B){var D=(new n(v.src)).path.split("/"),
	G=this._multiple,z=parseInt(D[D.length-3])-1,E=parseInt(r/G),H=parseInt(B/G);D=B%G;var I=r%G;E=this.getTileUrl(z,E,H);r=this.getTileUrl(z+Math.log(G)/Math.LN2,r,B);G={width:this._tileW*G+"px",height:this._tileH*G+"px",margin:"-"+this._tileW*I+"px 0 0 -"+(this._tileH*D+"px")};this._failedRequests||(this._failedRequests={});this._failedRequests[r]={src:E,css:G};f.set(v,G);t("chrome")&&v.setAttribute("src",null);v.src=E},_fireOnUpdateEvent:function(){0===this._loadingList.count&&(this._cleanUpRemovedImages(),
	this._fireOnUpdate&&(this._fireOnUpdate=!1,this.onUpdate(),this._fireUpdateEnd()))},setOpacity:function(v){if(this.opacity!=v)this.onOpacityChange(this.opacity=v)},onOpacityChange:function(){},_opacityChangeHandler:function(v){var r=f.set,B,D;if("css-transforms"===this._map.navigationMode){if(this._active){var G=this._active.childNodes;for(B=G.length-1;0<=B;B--)r(G[B],"opacity",v)}for(B=this._passives.length-1;0<=B;B--)for(G=this._passives[B].childNodes,D=G.length-1;0<=D;D--)r(G[D],"opacity",v)}else for(G=
	this._div.childNodes,B=G.length-1;0<=B;B--)r(G[B],"opacity",v)},setExclusionAreas:function(v){this.exclusionAreas=v;if(this.loaded&&this._map&&this._map.loaded){var r=this._map.spatialReference,B=this.tileInfo,D=B.origin,G=B.lods,z=G[0].level,E=G[G.length-1].level,H,I,O;if(this.exclusionAreas&&this.exclusionAreas.length){this._exclusionsPerZoom=[];var T=0;for(H=v.length;T<H;T++){var Z=v[T];if((O=Z.geometry)&&"extent"===O.type&&O.xmin<=O.xmax&&O.ymin<=O.ymax){if(!r.equals(O.spatialReference))if(r._canProject(O.spatialReference)){if(r.isWebMercator()){var ia=
	x.lngLatToXY(O.xmin,O.ymin);O=x.lngLatToXY(O.xmax,O.ymax)}else ia=x.xyToLngLat(O.xmin,O.ymin,!0),O=x.xyToLngLat(O.xmax,O.ymax,!0);O=new A(ia[0],ia[1],O[0],O[1],r)}else continue;var ca=-1;if(Z.minZoom&&-1!==Z.minZoom)ca=Z.minZoom;else if(Z.minScale&&-1!==Z.minScale){var W=0;for(I=G.length;W<I;W++)if(G[W].scale<=Z.minScale){ca=G[W].level;break}}ca=Math.max(ca,z);ia=-1;if(Z.maxZoom&&-1!==Z.maxZoom)ia=Z.maxZoom;else if(Z.maxScale&&-1!==Z.maxScale)for(W=0,I=G.length;W<I;W++)if(G[W].scale<Z.maxScale){ia=
	G[W-1].level;break}else if(G[W].scale===Z.maxScale){ia=G[W].level;break}ia=-1===ia?E:Math.min(ia,E);for(Z=ca;Z<=ia;Z++){W=0;for(I=G.length;W<I;W++)if(G[W].level===Z){var ha=G[W];break}ha&&(this._exclusionsPerZoom[Z]||(this._exclusionsPerZoom[Z]=[]),W=1/ha.resolution/B.rows,I=1/ha.resolution/B.cols,this._exclusionsPerZoom[Z].push({rowFrom:Math.floor((D.y-O.ymax)*W),rowTo:Math.ceil((D.y-O.ymin)*W),colFrom:Math.floor((O.xmin-D.x)*I),colTo:Math.ceil((O.xmax-D.x)*I)}))}}}}else this._exclusionsPerZoom=
	null;this.suspended||this._onExtentChangeHandler(this._map.extent,null,!0,this._map.__LOD)}},_isExcluded:function(v,r,B){var D;if(!this._exclusionsPerZoom)return!1;var G=this._exclusionsPerZoom[v];if(!G)return!1;var z=0;for(D=G.length;z<D;z++)if(v=G[z],r>=v.rowFrom&&r<v.rowTo&&B>=v.colFrom&&B<v.colTo)return!0;return!1}});t("extend-esri")&&b.setObject("layers.TiledMapServiceLayer",C,e);return C})},"dojox/collections/ArrayList":function(){define(["dojo/_base/kernel","dojo/_base/array","./_base"],function(C,
	y,b){b.ArrayList=function(w){var n=[];w&&(n=n.concat(w));this.count=n.length;this.add=function(l){n.push(l);this.count=n.length};this.addRange=function(l){if(l.getIterator)for(l=l.getIterator();!l.atEnd();)this.add(l.get());else for(var k=0;k<l.length;k++)n.push(l[k]);this.count=n.length};this.clear=function(){n.splice(0,n.length);this.count=0};this.clone=function(){return new b.ArrayList(n)};this.contains=function(l){for(var k=0;k<n.length;k++)if(n[k]==l)return!0;return!1};this.forEach=function(l,
	k){C.forEach(n,l,k)};this.getIterator=function(){return new b.Iterator(n)};this.indexOf=function(l){for(var k=0;k<n.length;k++)if(n[k]==l)return k;return-1};this.insert=function(l,k){n.splice(l,0,k);this.count=n.length};this.item=function(l){return n[l]};this.remove=function(l){l=this.indexOf(l);0<=l&&n.splice(l,1);this.count=n.length};this.removeAt=function(l){n.splice(l,1);this.count=n.length};this.reverse=function(){n.reverse()};this.sort=function(l){l?n.sort(l):n.sort()};this.setByIndex=function(l,
	k){n[l]=k;this.count=n.length};this.toArray=function(){return[].concat(n)};this.toString=function(l){return n.join(l||",")}};return b.ArrayList})},"dojox/collections/_base":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array"],function(C,y,b){C=y.getObject("dojox.collections",!0);C.DictionaryEntry=function(w,n){this.key=w;this.value=n;this.valueOf=function(){return this.value};this.toString=function(){return String(this.value)}};C.Iterator=function(w){var n=0;this.element=w[n]||
	null;this.atEnd=function(){return n>=w.length};this.get=function(){return this.atEnd()?null:this.element=w[n++]};this.map=function(l,k){return b.map(w,l,k)};this.reset=function(){n=0;this.element=w[n]}};C.DictionaryIterator=function(w){var n=[],l={},k;for(k in w)l[k]||n.push(w[k]);var h=0;this.element=n[h]||null;this.atEnd=function(){return h>=n.length};this.get=function(){return this.atEnd()?null:this.element=n[h++]};this.map=function(f,d){return b.map(n,f,d)};this.reset=function(){h=0;this.element=
	n[h]}};return C})},"esri/layers/ArcGISMapServiceLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../lang ../request ../SpatialReference ../geometry/Extent ./LayerInfo".split(" "),function(C,y,b,w,n,l,k,h,f,d){C=C(null,{declaredClass:"esri.layers.ArcGISMapServiceLayer",infoTemplates:null,constructor:function(a,c){this.layerInfos=[];c&&(this.infoTemplates=c.infoTemplates||null);a=this._params={};if(c=this._url.query?this._url.query.token:null)a.token=
	c},setInfoTemplates:function(a){this.infoTemplates=a},_load:function(){k({url:this._url.path,content:y.mixin({f:"json"},this._params),callbackParamName:"callback",load:this._initLayer,error:this._errorHandler})},spatialReference:null,initialExtent:null,fullExtent:null,description:null,units:null,_initLayer:function(a,c){try{this._findCredential();(this.credential&&this.credential.ssl||a&&a._ssl)&&this._useSSL();this.description=a.description;this.copyright=a.copyrightText;this.spatialReference=a.spatialReference&&
	new h(a.spatialReference);this.initialExtent=a.initialExtent&&new f(a.initialExtent);this.fullExtent=a.fullExtent&&new f(a.fullExtent);this.units=a.units;this.maxRecordCount=a.maxRecordCount;this.maxImageHeight=a.maxImageHeight;this.maxImageWidth=a.maxImageWidth;this.supportsDynamicLayers=a.supportsDynamicLayers;var e=this.layerInfos=[],q=a.layers,t=this._defaultVisibleLayers=[];b.forEach(q,function(g,p){e[p]=new d(g);g.defaultVisibility&&t.push(g.id)});this.visibleLayers||(this.visibleLayers=t);
	this.version=a.currentVersion;this.cimVersion=a.cimVersion;this.version||(this.version="capabilities"in a||"tables"in a?10:"supportedImageFormatTypes"in a?9.31:9.3);this.capabilities=a.capabilities;l.isDefined(a.minScale)&&!this._hasMin&&this.setMinScale(a.minScale);l.isDefined(a.maxScale)&&!this._hasMax&&this.setMaxScale(a.maxScale)}catch(g){this._errorHandler(g)}}});w("extend-esri")&&y.setObject("layers.ArcGISMapServiceLayer",C,n);return C})},"esri/layers/LayerInfo":function(){define(["dojo/_base/declare",
	"dojo/_base/lang","dojo/has","../kernel","../lang"],function(C,y,b,w,n){C=C(null,{declaredClass:"esri.layers.LayerInfo",constructor:function(l){y.mixin(this,l)},toJson:function(){return n.fixJson({defaultVisibility:this.defaultVisibility,id:this.id,maxScale:this.maxScale,minScale:this.minScale,name:this.name,parentLayerId:this.parentLayerId,subLayerIds:this.subLayerIds})}});b("extend-esri")&&y.setObject("layers.LayerInfo",C,w);return C})},"esri/layers/TimeInfo":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../TimeExtent ./TimeReference ./LayerTimeOptions".split(" "),
	function(C,y,b,w,n,l,k){C=C(null,{declaredClass:"esri.layers.TimeInfo",constructor:function(h){null!==h&&(y.mixin(this,h),h.exportOptions&&(this.exportOptions=new k(h.exportOptions)),this.timeExtent=null,h.timeExtent&&2===h.timeExtent.length&&(this.timeExtent=new n(h.timeExtent)),this.timeReference=new l(h.timeReference))}});y.mixin(C,{UNIT_CENTURIES:"esriTimeUnitsCenturies",UNIT_DAYS:"esriTimeUnitsDays",UNIT_DECADES:"esriTimeUnitsDecades",UNIT_HOURS:"esriTimeUnitsHours",UNIT_MILLISECONDS:"esriTimeUnitsMilliseconds",
	UNIT_MINUTES:"esriTimeUnitsMinutes",UNIT_MONTHS:"esriTimeUnitsMonths",UNIT_SECONDS:"esriTimeUnitsSeconds",UNIT_UNKNOWN:"esriTimeUnitsUnknown",UNIT_WEEKS:"esriTimeUnitsWeeks",UNIT_YEARS:"esriTimeUnitsYears"});b("extend-esri")&&y.setObject("layers.TimeInfo",C,w);return C})},"esri/TimeExtent":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","./kernel"],function(C,y,b,w){var n=C(null,{declaredClass:"esri.TimeExtent",constructor:function(l){if(1<arguments.length)this._create(arguments[0],
	arguments[1]);else if(l)if(y.isArray(l)){var k=l[0],h=l[1];this.startTime=null===k||"null"===k?null:new Date(k);this.endTime=null===h||"null"===h?null:new Date(h)}else l instanceof Date&&this._create(l,null)},offset:function(l,k){var h=new n,f=this.startTime,d=this.endTime;f&&(h.startTime=this._getOffsettedDate(f,l,k));d&&(h.endTime=this._getOffsettedDate(d,l,k));return h},intersection:function(l){return this._intersection(this,l)},toJson:function(){var l=[],k=this.startTime;l.push(k?k.getTime():
	"null");k=this.endTime;l.push(k?k.getTime():"null");return l},_create:function(l,k){this.startTime=l?new Date(l.getTime()):null;this.endTime=k?new Date(k.getTime()):null},_refData:{esriTimeUnitsMilliseconds:{getter:"getUTCMilliseconds",setter:"setUTCMilliseconds",multiplier:1},esriTimeUnitsSeconds:{getter:"getUTCSeconds",setter:"setUTCSeconds",multiplier:1},esriTimeUnitsMinutes:{getter:"getUTCMinutes",setter:"setUTCMinutes",multiplier:1},esriTimeUnitsHours:{getter:"getUTCHours",setter:"setUTCHours",
	multiplier:1},esriTimeUnitsDays:{getter:"getUTCDate",setter:"setUTCDate",multiplier:1},esriTimeUnitsWeeks:{getter:"getUTCDate",setter:"setUTCDate",multiplier:7},esriTimeUnitsMonths:{getter:"getUTCMonth",setter:"setUTCMonth",multiplier:1},esriTimeUnitsYears:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:1},esriTimeUnitsDecades:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:10},esriTimeUnitsCenturies:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:100}},_intersection:function(l,
	k){if(l&&k){var h=l.startTime;l=l.endTime;var f=k.startTime;k=k.endTime;h=h?h.getTime():-Infinity;f=f?f.getTime():-Infinity;l=l?l.getTime():Infinity;k=k?k.getTime():Infinity;var d,a;f>=h&&f<=l?d=f:h>=f&&h<=k&&(d=h);l>=f&&l<=k?a=l:k>=h&&k<=l&&(a=k);if(isNaN(d)||isNaN(a))return null;h=new n;h.startTime=-Infinity===d?null:new Date(d);h.endTime=Infinity===a?null:new Date(a);return h}return null},_getOffsettedDate:function(l,k,h){var f=this._refData;l=new Date(l.getTime());k&&h&&(f=f[h],l[f.setter](l[f.getter]()+
	k*f.multiplier));return l}});b("extend-esri")&&(w.TimeExtent=n);return n})},"esri/layers/TimeReference":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(C,y,b,w){C=C(null,{declaredClass:"esri.layers.TimeReference",constructor:function(n){n&&y.mixin(this,n)}});b("extend-esri")&&y.setObject("layers.TimeReference",C,w);return C})},"esri/layers/LayerTimeOptions":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../lang"],function(C,
	y,b,w,n){C=C(null,{declaredClass:"esri.layers.LayerTimeOptions",constructor:function(l){l&&y.mixin(this,l)},toJson:function(){return n.fixJson({timeDataCumulative:this.timeDataCumulative,timeOffset:this.timeOffset,timeOffsetUnits:this.timeOffsetUnits,useTime:this.useTime})}});b("extend-esri")&&y.setObject("layers.LayerTimeOptions",C,w);return C})},"esri/layers/TileMap":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/io-query ../request ../urlUtils".split(" "),
	function(C,y,b,w,n,l,k){return C(null,{declaredClass:"esri.layers.TileMap",constructor:function(h){this.layer=h;this._tileMaps={}},getTile:function(h,f,d,a,c){h={id:a,level:h,row:f,col:d};f=this._getResamplingBudget();0<f?this._process({tile:h,requestedTile:h,callback:c,resamplingBudget:f}):(c||this.callback).call(this,h,h)},statusOf:function(h,f,d){var a=this._getResamplingBudget();h={level:h,row:f,col:d};if(0===a)return 1;for(;0<=a;){f=this._tileToTileMap(h);if(!this._tileMaps[f.uid])return-1;f=
	this._tileMaps[f.uid];if(!f.promise.isFulfilled())return-1;if(this._isTileAvailable(h,f))return 1;h=this._parentTile(h);if(!h)break;a--}return 0},style:function(h,f){if(h.level!==f.level||h.row!==f.row||h.col!==f.col){var d=this.layer.tileInfo,a=d.lods,c=d.cols;d=d.rows;for(var e,q,t=a.length-1;!e||!q;)e||a[t].level!==h.level||(e=a[t]),q||a[t].level!==f.level||(q=a[t]),t--;a=Math.round(e.resolution/q.resolution);h=f.col%a*-1*c;f=f.row%a*-1*d;a={width:c*a+"px",height:d*a+"px",margin:f+"px 0 0 "+h+
	"px","will-change":"transform"};h=0===h?0:-1*h;f=0===f?0:-1*f;a.clip="rect("+f+"px,"+(h+c)+"px,"+(f+d)+"px,"+h+"px)";return a}},_process:function(h){var f=h.tile,d=this._tileToTileMap(f),a=this._parentTile(f);this._getTileMap(d).then(y.hitch(this,function(c){d=c;this._isTileAvailable(f,d)?(h.callback||this.callback).call(this,f,h.requestedTile):0<h.resamplingBudget&&a?(h.resamplingBudget--,h.tile=a,this._process(h)):(h.callback||this.callback).call(this,h.requestedTile,h.requestedTile)}),y.hitch(this,
	function(){(h.callback||this.callback).call(this,h.requestedTile,h.requestedTile)}))},_getTileMap:function(h){var f,d,a=null;if(this._tileMaps[h.uid]){h=this._tileMaps[h.uid];var c=h.promise}else{this._tileMaps[h.uid]=h;var e=new w;l({url:this._getTileMapUrl(h.level,h.row,h.col),handleAs:"json",content:{f:"json"},callbackParamName:"callback",timeout:3E3,load:function(q){y.mixin(h,q);if(h.data&&0<h.data.length){d=h.data.length;if(1===d)a=h.data[0];else for(a=h.data[0],f=1;f<d;f++)if(h.data[f]!==a){a=
	null;break}null!==a&&(delete h.data,h.value=a);null==h.valid&&(h.valid=!0)}e.resolve(h)},error:function(q){q&&422===q.code?(y.mixin(h,{location:{top:h.row,left:h.col,width:8,height:8},valid:!0,value:0}),e.resolve(h)):e.reject()}});c=h.promise=e.promise}return c},_parentTile:function(h){var f=this.layer.tileInfo.lods,d,a,c=null;b.some(f,function(e,q){return h.level===e.level?(d=e,a=q,!0):!1});0<a&&(f=f[a-1],c={id:h.id,level:f.level,row:Math.floor(h.row*d.resolution/f.resolution+.01),col:Math.floor(h.col*
	d.resolution/f.resolution+.01)});return c},_tileToTileMap:function(h){var f=8*Math.floor(h.row/8),d=8*Math.floor(h.col/8);return{uid:h.level+"_"+f+"_"+d,level:h.level,row:f,col:d}},_isTileAvailable:function(h,f){if(f.valid)if(void 0!==f.value)h=f.value;else{var d=f.location.left;var a=f.location.top;h=(h.row-a)*f.location.width+(h.col-d);h=h<f.data.length?f.data[h]:0}else h=0;return h},_getTileMapUrl:function(h,f,d){var a=this.layer,c=a.tileServers,e=a._getToken(),q=a._url.query;h=(c?c[f%c.length]:
	a._url.path)+"/tilemap/"+h+"/"+f+"/"+d+"/8/8";q&&(h+="?"+n.objectToQuery(q));!e||q&&q.token||(h+=(-1===h.indexOf("?")?"?":"\x26")+"token\x3d"+e);return h=a.addTimestampToURL(h)},_getResamplingBudget:function(){var h=this.layer,f=0;h.resampling&&(f=h._resamplingTolerance,null===f||void 0===f)&&(f=h.tileInfo.lods.length);return f}})})},"esri/layers/MapImageLayer":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/dom-style ../kernel ../config ../sniff ../domUtils ../geometry/Point ../geometry/webMercatorUtils ./layer".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e){var q=C([e],{declaredClass:"esri.layers.MapImageLayer","-chains-":{constructor:"manual"},constructor:function(t){this.inherited(arguments,[null,t]);this._mapImages=[];var g=b.hitch;this._panStart=g(this,this._panStart);this._pan=g(this,this._pan);this._extentChange=g(this,this._extentChange);this._zoom=g(this,this._zoom);this._zoomStart=g(this,this._zoomStart);this._scale=g(this,this._scale);this._resize=g(this,this._resize);y.connect(this,"onSuspend",this,this._onSuspend);
	y.connect(this,"onResume",this,this._onResume);this.loaded=!0;this.onLoad(this)},opacity:1,addImage:function(t){var g=this._mapImages.push(t);--g;t._idx=g;t._layer=this;this._div&&this._createImage(t,g)},removeImage:function(t){if(t){var g=t._idx,p=this._mapImages;if(p[g]===t){delete p[g];if(g=t._node)this._clearEvents(g),g.e_idx=g.e_bl=g.e_tr=g.e_l=g.e_t=g.e_w=g.e_h=null,g.parentNode&&(g.parentNode.removeChild(g),n.destroy(g));t._node=t._idx=t._layer=null}}},removeAllImages:function(){var t=this._mapImages,
	g,p=t.length;for(g=0;g<p;g++){var x=t[g];x&&this.removeImage(x)}this._mapImages=[]},getImages:function(){var t=this._mapImages,g=[],p,x=t.length;for(p=0;p<x;p++)t[p]&&g.push(t[p]);return g},setOpacity:function(t){this.opacity!=t&&(this._opacityChanged(this.opacity=t),this.onOpacityChange())},onOpacityChange:function(){},_opacityChanged:function(t){var g=this._div;if(g)if(!f("ie")||8<f("ie"))l.set(g,"opacity",t);else{var p=g.childNodes;var x=p.length;for(g=0;g<x;g++)l.set(p[g],"opacity",t)}},_createImage:function(t,
	g){var p=n.create("img");l.set(p,{position:"absolute"});1>t.opacity?l.set(p,"opacity",t.opacity):8>=f("ie")&&l.set(p,"opacity",this.opacity);!t.rotation||9>f("ie")||l.set(p,k._css.names.transform,k._css.rotate(360-t.rotation));t._node=p;p.e_idx=g;p.e_layer=this;p.e_load=y.connect(p,"onload",q.prototype._imageLoaded);p.e_error=y.connect(p,"onerror",q.prototype._imageError);p.e_abort=y.connect(p,"onabort",q.prototype._imageError);p.src=t.href},_imageLoaded:function(t,g){t=g||t.target||t.currentTarget;
	g=t.e_layer;var p=g._mapImages[t.e_idx],x=g._map;x&&(x.__zooming||x.__panning||!g._sr)?g._standby.push(t):(g._clearEvents(t),p&&p._node===t&&x&&g._attach(p))},_imageError:function(t){t=t.target||t.currentTarget;var g=t.e_layer,p=g._mapImages[t.e_idx];g._clearEvents(t);p&&(p._node=null)},_clearEvents:function(t){var g=y.disconnect;g(t.e_load);g(t.e_error);g(t.e_abort);t.e_load=t.e_error=t.e_abort=t.e_layer=null},_attach:function(t){var g=t.extent,p=g.spatialReference,x=this._sr,u=this._div,A=t._node,
	m=new a({x:g.xmin,y:g.ymin,spatialReference:p});g=new a({x:g.xmax,y:g.ymax,spatialReference:p});x.equals(p)||(x.isWebMercator()&&4326===p.wkid?(m=c.geographicToWebMercator(m),g=c.geographicToWebMercator(g)):p.isWebMercator()&&4326===x.wkid&&(m=c.webMercatorToGeographic(m),g=c.webMercatorToGeographic(g)));A.e_bl=m;A.e_tr=g;t.visible&&(this._setPos(A,u._left,u._top),(this._active||u).appendChild(A))},_setPos:function(t,g,p){var x=t.e_bl,u=t.e_tr,A=this._map;x=A.toScreen(x);u=A.toScreen(u);g=x.x-g;p=
	u.y-p;var m=Math.abs(u.x-x.x);x=Math.abs(x.y-u.y);u={width:m+"px",height:x+"px"};var v=this._mapImages[t.e_idx];"css-transforms"===A.navigationMode?u[k._css.names.transform]=k._css.translate(g,p)+(v.rotation?" "+k._css.rotate(360-v.rotation):""):(u.left=g+"px",u.top=p+"px");l.set(t,u);t.e_l=g;t.e_t=p;t.e_w=m;t.e_h=x},managedSuspension:!0,_setMap:function(t,g){this.inherited(arguments);var p=this._div=n.create("div",null,g),x=k._css.names,u={position:"absolute"},A=t.__visibleDelta;if(!f("ie")||8<f("ie"))u.opacity=
	this.opacity;"css-transforms"===t.navigationMode?(u[x.transform]=k._css.translate(A.x,A.y),l.set(p,u),p._left=A.x,p._top=A.y,u={position:"absolute",width:t.width+"px",height:t.height+"px",overflow:"visible"},this._active=n.create("div",null,p),l.set(this._active,u),this._passive=n.create("div",null,p),l.set(this._passive,u)):(p._left=0,p._top=0,l.set(p,u));this._standby=[];x=this._mapImages;A=x.length;for(u=0;u<A;u++){var m=x[u];m._node||this._createImage(m,m._idx)}d.hide(p);return p},_unsetMap:function(t,
	g){this._disconnect();var p=this._div;if(p){var x=this._mapImages,u,A=x.length;for(u=0;u<A;u++){var m=x[u];if(m){var v=m._node;v&&(this._clearEvents(v),v.e_idx=v.e_bl=v.e_tr=v.e_l=v.e_t=v.e_w=v.e_h=null);m._node=null}}g.removeChild(p);n.destroy(p)}this._map=this._div=this._sr=this._active=this._passive=this._standby=null;this.inherited(arguments)},_onSuspend:function(){this._disconnect();d.hide(this._div)},_onResume:function(t){t.firstOccurrence&&(this._sr=this._map.spatialReference,this._processStandbyList());
	t=this._map;var g=this._div,p=t.__visibleDelta;"css-transforms"===t.navigationMode&&(g._left=p.x,g._top=p.y,l.set(g,k._css.names.transform,k._css.translate(g._left,g._top)));this._redraw("css-transforms"===t.navigationMode);this._connect(t);d.show(g)},_connect:function(t){if(!this._connections){var g=y.connect,p="css-transforms"===t.navigationMode;this._connections=[g(t,"onPanStart",this._panStart),g(t,"onPan",this._pan),g(t,"onExtentChange",this._extentChange),p&&g(t,"onZoomStart",this._zoomStart),
	p?g(t,"onScale",this._scale):g(t,"onZoom",this._zoom),p&&g(t,"onResize",this._resize)];p&&this._resize(t.extent,t.width,t.height)}},_disconnect:function(){this._connections&&(w.forEach(this._connections,y.disconnect),this._connections=null)},_panStart:function(){this._panL=this._div._left;this._panT=this._div._top},_pan:function(t,g){t=this._div;t._left=this._panL+g.x;t._top=this._panT+g.y;"css-transforms"===this._map.navigationMode?l.set(t,k._css.names.transform,k._css.translate(t._left,t._top)):
	l.set(t,{left:t._left+"px",top:t._top+"px"})},_extentChange:function(t,g,p){p?this._redraw("css-transforms"===this._map.navigationMode):g&&this._pan(t,g);this._processStandbyList()},_processStandbyList:function(){var t,g=this._standby;if(g&&g.length)for(t=g.length-1;0<=t;t--)this._imageLoaded(null,g[t]),g.splice(t,1)},_redraw:function(t){if(t){t=this._passive;var g=k._css.names;l.set(t,g.transition,"none");this._moveImages(t,this._active);l.set(t,g.transform,"none")}t=this._active||this._div;g=this._div._left;
	var p=this._div._top,x,u=t.childNodes.length;for(x=0;x<u;x++){var A=t.childNodes[x];this._setPos(A,g,p)}},_zoom:function(t,g,p){t=this._div;var x=t._left,u=t._top,A,m=t.childNodes.length;for(A=0;A<m;A++){var v=t.childNodes[A];var r=v.e_w*g,B=v.e_h*g,D=(p.x-x-v.e_l)*(r-v.e_w)/v.e_w,G=(p.y-u-v.e_t)*(B-v.e_h)/v.e_h;D=isNaN(D)?0:D;G=isNaN(G)?0:G;l.set(v,{left:v.e_l-D+"px",top:v.e_t-G+"px",width:r+"px",height:B+"px"})}},_zoomStart:function(){this._moveImages(this._active,this._passive)},_moveImages:function(t,
	g){t=t.childNodes;var p=t.length;if(0<p)for(--p;0<=p;p--)g.appendChild(t[p])},_scale:function(t,g){var p=k._css.names,x=this._passive;l.set(x,p.transition,g?"none":p.transformName+" "+h.defaults.map.zoomDuration+"ms ease");({})[p.transform]=k._css.matrix(t);l.set(x,p.transform,k._css.matrix(t))},_resize:function(t,g,p){l.set(this._active,{width:g+"px",height:p+"px"});l.set(this._passive,{width:g+"px",height:p+"px"})}});f("extend-esri")&&b.setObject("layers.MapImageLayer",q,k);return q})},"esri/layers/OpenStreetMapLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../urlUtils ../SpatialReference ../geometry/Extent ./TiledMapServiceLayer ./TileInfo".split(" "),
	function(C,y,b,w,n,l,k,h,f){C=C(h,{declaredClass:"esri.layers.OpenStreetMapLayer",constructor:function(d){this.spatialReference=new l({wkid:102100});this.tileInfo=new f({rows:256,cols:256,dpi:96,format:"PNG8",compressionQuality:0,origin:{x:-2.0037508342787E7,y:2.0037508342787E7},spatialReference:{wkid:102100},lods:[{level:0,scale:5.91657527591555E8,resolution:156543.033928},{level:1,scale:2.95828763795777E8,resolution:78271.5169639999},{level:2,scale:1.47914381897889E8,resolution:39135.7584820001},
	{level:3,scale:7.3957190948944E7,resolution:19567.8792409999},{level:4,scale:3.6978595474472E7,resolution:9783.93962049996},{level:5,scale:1.8489297737236E7,resolution:4891.96981024998},{level:6,scale:9244648.868618,resolution:2445.98490512499},{level:7,scale:4622324.434309,resolution:1222.99245256249},{level:8,scale:2311162.217155,resolution:611.49622628138},{level:9,scale:1155581.108577,resolution:305.748113140558},{level:10,scale:577790.554289,resolution:152.874056570411},{level:11,scale:288895.277144,
	resolution:76.4370282850732},{level:12,scale:144447.638572,resolution:38.2185141425366},{level:13,scale:72223.819286,resolution:19.1092570712683},{level:14,scale:36111.909643,resolution:9.55462853563415},{level:15,scale:18055.954822,resolution:4.77731426794937},{level:16,scale:9027.977411,resolution:2.38865713397468},{level:17,scale:4513.988705,resolution:1.19432856685505},{level:18,scale:2256.994353,resolution:.597164283559817},{level:19,scale:1128.497176,resolution:.298582141647617}]});this.fullExtent=
	new k({xmin:-2.003750834E7,ymin:-2.003750834E7,xmax:2.003750834E7,ymax:2.003750834E7,spatialReference:{wkid:102100}});this.initialExtent=new k({xmin:-2.003750834E7,ymin:-2.003750834E7,xmax:2.003750834E7,ymax:2.003750834E7,spatialReference:{wkid:102100}});this.tileServers=d&&d.tileServers||["//a.tile.openstreetmap.org","//b.tile.openstreetmap.org","//c.tile.openstreetmap.org"];this.serversLength=this.tileServers.length;this._displayLevels=d?d.displayLevels:null;this.copyright=d&&d.copyright||"Map data \u00a9 OpenStreetMap contributors, CC-BY-SA";
	this.loaded=!0;this.onLoad(this);(d=d&&d.loadCallback)&&d(this)},getTileUrl:function(d,a,c){d=this.tileServers[a%this.serversLength]+"/"+d+"/"+c+"/"+a+".png";d=n.normalize(d);d=this.addTimestampToURL(d);return n.addProxy(d)}});b("extend-esri")&&y.setObject("layers.OpenStreetMapLayer",C,w);return C})},"esri/dijit/Popup":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/kernel dojo/has dojo/window dojo/Stateful dojo/query dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dijit/registry ../kernel ../lang ../domUtils ../geometry/Polyline ../geometry/Polygon ../geometry/Multipoint ../geometry/normalizeUtils ../InfoWindowBase ../PopupBase dojo/i18n!../nls/jsapi dojo/NodeList-dom dojo/has!extend-esri?./PopupTemplate dojo/has!extend-esri?./PopupRenderer".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x,u,A,m,v,r,B,D,G){C=C([B,D,h],{declaredClass:"esri.dijit.Popup",offsetX:3,offsetY:3,zoomFactor:4,marginLeft:25,marginTop:25,highlight:!0,pagingControls:!0,pagingInfo:!0,keepHighlightOnHide:!1,popupWindow:!0,titleInBody:!0,anchor:"auto",visibleWhenEmpty:!0,hideDelay:1E3,location:null,constructor:function(z,E){this.initialize();y.mixin(this,z);this.domNode=d.byId(E);E=this._nls=y.mixin({},G.widgets.popup);z=this.domNode;c.add(z,"esriPopup");(this._isRTL=!q.isBodyLtr())&&
	t.set(z,"direction","rtl");a.set(z,"innerHTML","\x3cdiv class\x3d'esriPopupWrapper' style\x3d'position: absolute;'\x3e\x3cdiv class\x3d'sizer'\x3e\x3cdiv class\x3d'titlePane'\x3e\x3cdiv class\x3d'spinner hidden' title\x3d'"+E.NLS_searching+"...'\x3e\x3c/div\x3e\x3cdiv class\x3d'title'\x3e\x3c/div\x3e\x3cdiv class\x3d'titleButton prev hidden' title\x3d'"+E.NLS_prevFeature+"'\x3e\x3c/div\x3e\x3cdiv class\x3d'titleButton next hidden' title\x3d'"+E.NLS_nextFeature+"'\x3e\x3c/div\x3e\x3cdiv class\x3d'titleButton maximize' title\x3d'"+
	E.NLS_maximize+"'\x3e\x3c/div\x3e\x3cdiv class\x3d'titleButton close' title\x3d'"+E.NLS_close+"'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'sizer content'\x3e\x3cdiv class\x3d'contentPane'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'sizer'\x3e\x3cdiv class\x3d'actionsPane'\x3e\x3cdiv class\x3d'actionList hidden'\x3e\x3ca title\x3d'"+E.NLS_zoomTo+"' class\x3d'action zoomTo' href\x3d'javascript:void(0);'\x3e\x3cspan\x3e"+E.NLS_zoomTo+"\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'pointer hidden'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'outerPointer hidden'\x3e\x3c/div\x3e");
	this._sizers=n.query(".sizer",z);E=n.query(".titlePane",z)[0];this._title=n.query(".title",E)[0];this._prevFeatureButton=n.query(".prev",E)[0];this._nextFeatureButton=n.query(".next",E)[0];this._maxButton=n.query(".maximize",E)[0];this._spinner=n.query(".spinner",E)[0];this._contentPane=n.query(".contentPane",z)[0];this._positioner=n.query(".esriPopupWrapper",z)[0];this._pointer=n.query(".pointer",z)[0];this._outerPointer=n.query(".outerPointer",z)[0];this._actionList=n.query(".actionsPane .actionList",
	z)[0];this._contentUpdateHandles={};this._eventConnections=[w.connect(n.query(".close",E)[0],"onclick",this,this.hide),w.connect(this._prevFeatureButton,"onclick",this,this.selectPrevious),w.connect(this._nextFeatureButton,"onclick",this,this.selectNext),w.connect(this._maxButton,"onclick",this,this._toggleSize),w.connect(n.query(".zoomTo",this._actionList)[0],"onclick",this,this._zoomToFeature),w.connect(this,"onClearFeatures",this,this._featuresCleared),w.connect(this,"onSelectionChange",this,this._featureSelected),
	w.connect(this,"onDfdComplete",this,this._updateUI)];l("esri-touch")&&(z=u.setScrollable(this._contentPane),this._eventConnections.push(z[0],z[1]));this._toggleVisibility(!1)},onMaximize:function(){},onRestore:function(){},setMap:function(z){this.inherited(arguments);e.place(this.domNode,z.root);this.highlight&&this.enableHighlight(z);this._maxHeight=t.get(this._contentPane,"maxHeight")},unsetMap:function(){this.disableHighlight(this.map);this.inherited(arguments)},setTitle:function(z){this.popupWindow&&
	(x.isDefined(z)&&""!==z||(z="\x26nbsp;"),this.destroyDijits(this._title),this.place(z,this._title),this.isShowing&&(this.startupDijits(this._title),this.reposition()))},setContent:function(z){this.popupWindow&&(x.isDefined(z)&&""!==z||(z="\x26nbsp;"),this._destroyContent(),this.place(z,this._contentPane),this.isShowing&&(this._startupContent(),this.reposition()))},show:function(z,E){if(this.popupWindow)if(this._delayHide=!1,z){var H=this.map;z.spatialReference?(this.location=z,z=H.toScreen(z)):this.location=
	H.toMap(z);var I=H._getFrameWidth();if(-1!==I&&(z.x%=I,0>z.x&&(z.x+=I),H.width>I))for(H=(H.width-I)/2;z.x<H;)z.x+=I;this._maximized?this.restore():this._setPosition(z);E&&E.closestFirst&&this.showClosestFirst(this.location);this.isShowing||(this._toggleVisibility(!0),this._followMap(),this.startupDijits(this._title),this._startupContent(),this.reposition(),this.showHighlight(),this.onShow())}else this._toggleVisibility(!0)},hide:function(){this.isShowing&&(this._toggleVisibility(!1),this._unfollowMap(),
	this.keepHighlightOnHide||this.hideHighlight(),this.onHide())},resize:function(z,E){this.popupWindow&&(this._sizers.style({width:z+"px"}),t.set(this._contentPane,"maxHeight",E+"px"),this._maxHeight=E,this.isShowing&&this.reposition())},reposition:function(){this.popupWindow&&this.map&&this.location&&!this._maximized&&this.isShowing&&this._setPosition(this.map.toScreen(this.location))},addActions:function(z){return b.map(z,function(E){var H=e.create("a",{href:"javascript:void(0);",className:"action "+
	E.className,title:E.title,innerHTML:E.title},this._actionList);w.connect(H,"onclick",E.callback);return{action:E,node:H}},this)},removeActions:function(z){b.forEach(z,function(E){e.destroy(E.node)})},getCurrentAnchor:function(){return this._anchor},maximize:function(){var z=this.map;if(z&&!this._maximized&&this.popupWindow){this._maximized=!0;var E=this._maxButton;c.remove(E,"maximize");c.add(E,"restore");a.set(E,"title",this._nls.NLS_restore);E=this.marginLeft;var H=this.marginTop,I=z.width-2*E;
	z=z.height-2*H;t.set(this.domNode,{left:this._isRTL?null:E+"px",right:this._isRTL?E+"px":null,top:H+"px",bottom:null});t.set(this._positioner,{left:null,right:null,top:null,bottom:null});this._savedWidth=t.get(this._sizers[0],"width");this._savedHeight=t.get(this._contentPane,"maxHeight");this._sizers.style({width:I+"px"});t.set(this._contentPane,{maxHeight:z-65+"px",height:z-65+"px"});this._showPointer("");this._unfollowMap();c.add(this.domNode,"esriPopupMaximized");this.onMaximize()}},restore:function(){if(this.map&&
	this._maximized&&this.popupWindow){this._maximized=!1;var z=this._maxButton;c.remove(z,"restore");c.add(z,"maximize");a.set(z,"title",this._nls.NLS_maximize);t.set(this._contentPane,"height",null);this.resize(this._savedWidth,this._savedHeight);this._savedWidth=this._savedHeight=null;this.show(this.location);this._followMap();c.remove(this.domNode,"esriPopupMaximized");this.onRestore()}},startup:function(){},destroy:function(){this.map&&this.unsetMap();this.cleanup();this.isShowing&&this.hide();this.destroyDijits(this._title);
	this._destroyContent();b.forEach(this._eventConnections,w.disconnect);e.destroy(this.domNode);this._sizers=this._contentPane=this._actionList=this._positioner=this._pointer=this._outerPointer=this._title=this._prevFeatureButton=this._nextFeatureButton=this._spinner=this._eventConnections=this._pagerScope=this._targetLocation=this._nls=this._maxButton=null},selectNext:function(){this.select(this.selectedIndex+1)},selectPrevious:function(){this.select(this.selectedIndex-1)},setFeatures:function(z,E){this._transientAnchor=
	E&&E.anchor;this.inherited(arguments);this._updateUI()},clearFeatures:function(z){z||(this._transientAnchor=null);this.inherited(arguments)},postscript:null,_highlightSetter:function(z){var E=this.highlight,H=this.map;this.highlight=z;if(H&&z!==E)if(z){if(this.enableHighlight(H),z=this.features&&this.features[this.selectedIndex])this.updateHighlight(H,z),this.showHighlight()}else this.disableHighlight(H)},_pagingControlsSetter:function(z){var E=this.pagingControls,H=this.map;this.pagingControls=z;
	H&&z!==E&&this._updatePagingControls()},_pagingInfoSetter:function(z){var E=this.pagingInfo,H=this.map;this.pagingInfo=z;H&&z!==E&&this.features&&this.features.length&&this._updatePagingInfo()},_popupWindowSetter:function(z){var E=this.popupWindow,H=this.map;this.popupWindow=z;H&&z!==E&&(z?(this._updateUI(),this._updateWindow()):(this.hide(),this.showHighlight()))},_anchorSetter:function(z){var E=this.anchor;this.anchor=z;this.map&&z!==E&&this.reposition()},_startupContent:function(){var z=this._contentPane;
	this.startupDijits(z);b.forEach(this._getPopupRendererDijits(z),function(E){if(!this._contentUpdateHandles[E.id]){var H=E.on("content-update",y.hitch(this,function(){this.reposition()}));this._contentUpdateHandles[E.id]=H}},this)},_destroyContent:function(){var z=this._contentPane;b.forEach(this._getPopupRendererDijits(z),function(E){var H=this._contentUpdateHandles[E.id];H&&(H.remove(),delete this._contentUpdateHandles[E.id])},this);this.destroyDijits(z)},_getPopupRendererDijits:function(z){z=this.getDijits(z);
	return z=b.filter(z,function(E){return E&&E.set&&/_PopupRenderer/.test(E.declaredClass)})},_featuresCleared:function(){this.setTitle("\x26nbsp;");this.setContent("\x26nbsp;");this._setPagerCallbacks(this);this._updateUI();this.hideHighlight()},_featureSelected:function(){this._updateUI();this._updateWindow()},_updateWindow:function(){var z=this.selectedIndex;if(0<=z){var E=this.features[z].getContent();if(!this.titleInBody&&E&&y.isString(E.id)){var H=g.byId(E.id);H&&H.set&&/_PopupRenderer/.test(H.declaredClass)&&
	H.set("showTitle",!1)}this.setContent(E);this.updateHighlight(this.map,this.features[z]);this.showHighlight()}},_toggleVisibility:function(z){this._setVisibility(z);this.isShowing=z},_setVisibility:function(z){c.toggle(this.domNode,"esriPopupVisible",z);c.toggle(this.domNode,"esriPopupHidden",!z)},_waitAndHide:function(z){var E=this;this._delayHide=!0;setTimeout(function(){E._delayHide&&(E._delayHide=!1,E.hide())},z)},_followMap:function(){this._unfollowMap();var z=this.map;this._handles=[w.connect(z,
	"onPanStart",this,this._onPanStart),w.connect(z,"onPan",this,this._onPan),w.connect(z,"onZoomStart",this,this._onZoomStart),w.connect(z,"onExtentChange",this,this._onExtentChange)]},_unfollowMap:function(){var z=this._handles;z&&(b.forEach(z,w.disconnect),this._handles=null)},_onPanStart:function(){var z=this.domNode.style;this._panOrigin={left:z.left,top:z.top,right:z.right,bottom:z.bottom}},_onPan:function(z,E){var H=this._panOrigin;z=E.x;E=E.y;var I=H.left,O=H.top,T=H.right;H=H.bottom;I&&(I=parseFloat(I)+
	z+"px");O&&(O=parseFloat(O)+E+"px");T&&(T=parseFloat(T)-z+"px");H&&(H=parseFloat(H)-E+"px");t.set(this.domNode,{left:I,top:O,right:T,bottom:H})},_onZoomStart:function(){this._setVisibility(!1)},_onExtentChange:function(z,E,H){H&&(this._setVisibility(!0),this.show(this._targetLocation||this.location));this._targetLocation=null},_toggleSize:function(){this._maximized?this.restore():this.maximize()},_getTargetAnchor:function(){return this._transientAnchor||this.anchor},_setPosition:function(z){var E=
	z.x,H=z.y;z=this.offsetX||0;var I=this.offsetY||0,O=0,T=0,Z=this.map,ia=Z.position.x,ca=Z.position.y,W=Z.width,ha=Z.height;Z="Left";var ma="bottom",xa="right",K="top",Y=q.getContentBox(this._positioner),la=Y.w/2,L=Y.h/2,R=t.get(this._sizers[0],"height")+this._maxHeight+t.get(this._sizers[2],"height"),da=R/2,ka=0,qa=0,va=W,Ea=ha,ba=E,fa=H,pa=this._getTargetAnchor().toLowerCase();if("auto"===pa){if(pa=k.getBox)pa=pa(),ka=Math.max(pa.l,ia),va=Math.min(pa.l+pa.w,ia+W),qa=Math.max(pa.t,ca),Ea=Math.min(pa.t+
	pa.h,ca+ha),ba+=ia,fa+=ca;ia=fa-qa>=R;ca=Ea-fa>=R;W=va-ba>=Y.w;Y=ba-ka>=Y.w;fa-qa>da&&Ea-fa>=da&&(W?(ma="",Z="Left",K="",xa="right"):Y&&(ma="",Z="Right",K="",xa="left"));Z&&ma&&ba-ka>la&&va-ba>=la&&(ia?(Z="",ma="bottom",xa="",K="top"):ca&&(Z="",ma="top",xa="",K="bottom"));Z&&ma&&(W&&ia?(Z="Left",ma="bottom",xa="right",K="top"):W&&ca?(Z="Left",ma="top",xa="right",K="bottom"):Y&&ca?(Z="Right",ma="top",xa="left",K="bottom"):Y&&ia&&(Z="Right",ma="bottom",xa="left",K="top"));this._anchor=K&&xa?K+"-"+xa:
	K||xa}else ma=Z="",-1!==pa.indexOf("top")?ma="bottom":-1!==pa.indexOf("bottom")&&(ma="top"),-1!==pa.indexOf("left")?Z="Right":-1!==pa.indexOf("right")&&(Z="Left"),this._anchor=this._getTargetAnchor();xa=ma+Z;switch(xa){case "top":case "bottom":T=14;break;case "Left":case "Right":O=13;break;case "topLeft":case "topRight":case "bottomLeft":case "bottomRight":T=14,O=-16}t.set(this.domNode,{left:E+"px",top:H+"px",right:null,bottom:null});E={left:null,right:null,top:null,bottom:null};Z?E[Z.toLowerCase()]=
	O+z+"px":E.left=-la+"px";ma?E[ma]=T+I+"px":E.top=-L+"px";t.set(this._positioner,E);this._showPointer(xa)},_showPointer:function(z){c.remove(this._pointer,"top bottom right left topLeft topRight bottomRight bottomLeft hidden".split(" "));c.remove(this._outerPointer,["right","left","hidden"]);"Right"===z||"Left"===z?(z=z.toLowerCase(),c.add(this._outerPointer,z)):c.add(this._pointer,z)},_setPagerCallbacks:function(z,E,H){if(this.pagingControls&&(z!==this||this._pagerScope&&this._pagerScope!==this)&&
	z!==this._pagerScope){this._pagerScope=z;z===this&&(E=this.selectPrevious,H=this.selectNext);var I=this._eventConnections;w.disconnect(I[1]);w.disconnect(I[2]);E&&(I[1]=w.connect(this._prevFeatureButton,"onclick",z,E));H&&(I[2]=w.connect(this._nextFeatureButton,"onclick",z,H))}},_getLocation:function(z){var E=z&&z.geometry;if(E)switch(E.type){case "point":var H=E;if(z.isAggregate()){z=z.getChildGraphics();var I=z[0];z=(I=I.geometry&&I.geometry.spatialReference)&&new v({points:b.map(z,function(O){O=
	O.geometry;return[O.x,O.y]}),spatialReference:I.toJson()});I=r.getDenormalizedExtent(z)}break;case "multipoint":H=E.getPoint(0);I=r.getDenormalizedExtent(E);break;case "polyline":case "polygon":H=E.getPoint(0,0),I=r.getDenormalizedExtent(E)}return[H,I]},_zoomToFeature:function(z){z.preventDefault();var E=this.features,H=this.selectedIndex;z=this.map;if(E)if(H=this._getLocation(E[H]),E=H[0],H=H[1],E||(E=this.location),H&&H.intersects(this.location)||(this.location=E),H&&H.getWidth()&&H.getHeight())z.setExtent(H,
	!0);else{var I=z.getNumLevels();H=z.getLevel();var O=z.getMaxZoom(),T=this.zoomFactor||1;0<I?H!==O&&(I=H+T,I>O&&(I=O),z.navigationManager._wheelZoom({value:I-H,mapPoint:E},!0)):z.navigationManager._wheelZoom({value:1/Math.pow(2,T)*2,mapPoint:E},!0)}},_updatePagingControls:function(){var z=this._prevFeatureButton,E=this._nextFeatureButton,H=this.selectedIndex,I=this.features?this.features.length:0;this.pagingControls&&1<I?(0===H?c.add(z,"hidden"):c.remove(z,"hidden"),H===I-1?c.add(E,"hidden"):c.remove(E,
	"hidden")):(c.add(z,"hidden"),c.add(E,"hidden"))},_updatePagingInfo:function(){var z=this.features?this.features.length:0,E=this._nls,H="\x26nbsp;";this.pagingInfo&&1<z&&E.NLS_pagingInfo&&(H=x.substitute({index:this.selectedIndex+1,total:z},E.NLS_pagingInfo));z&&(E=this.getSelectedFeature(),z=E.getInfoTemplate(),E=E.getTitle(),z&&!/esri\.InfoTemplate/.test(z.declaredClass)&&this.titleInBody||!E||(H=E+("\x26nbsp;"===H?"":" "+H)));this.setTitle(H)},_updateUI:function(){if(this.popupWindow){var z=this.features,
	E=this.deferreds,H=z?z.length:0,I=this._spinner,O=this._actionList,T=this._nls;this._updatePagingControls();this._updatePagingInfo();H?c.remove(O,"hidden"):c.add(O,"hidden");E&&E.length?z?c.remove(I,"hidden"):this.setContent("\x3cdiv style\x3d'text-align: center;'\x3e"+T.NLS_searching+"...\x3c/div\x3e"):c.add(I,"hidden");H||E&&E.length?this._delayHide=!1:(this.setContent("\x3cdiv style\x3d'text-align: center;'\x3e"+T.NLS_noInfo+".\x3c/div\x3e"),this.visibleWhenEmpty||this._waitAndHide(this.hideDelay))}}});
	l("extend-esri")&&y.setObject("dijit.Popup",C,p);return C})},"esri/geometry/normalizeUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/_base/Deferred dojo/has ../kernel ../config ../deferredUtils ./Extent ./Polyline ./Polygon ./webMercatorUtils ./jsonUtils".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c){function e(D,G){return Math.ceil((D-G)/(2*G))}function q(D,G){var z=D.paths||D.rings,E,H,I=z.length;for(E=0;E<I;E++){var O=z[E].length;for(H=0;H<O;H++){var T=D.getPoint(E,H);D.setPoint(E,
	H,T.offset(G,0))}}return D}function t(D,G){if(!(D instanceof f||D instanceof d))throw console.error("_straightLineDensify: the input geometry is neither polyline nor polygon"),Error("_straightLineDensify: the input geometry is neither polyline nor polygon");var z=D instanceof f,E=[],H;C.forEach(z?D.paths:D.rings,function(I){E.push(H=[]);H.push([I[0][0],I[0][1]]);var O,T;for(O=0;O<I.length-1;O++){var Z=I[O][0];var ia=I[O][1];var ca=I[O+1][0];var W=I[O+1][1];var ha=Math.sqrt((ca-Z)*(ca-Z)+(W-ia)*(W-
	ia));var ma=(W-ia)/ha;var xa=(ca-Z)/ha;var K=ha/G;if(1<K){for(T=1;T<=K-1;T++){var Y=T*G;var la=xa*Y+Z;Y=ma*Y+ia;H.push([la,Y])}T=(ha+Math.floor(K-1)*G)/2;la=xa*T+Z;Y=ma*T+ia;H.push([la,Y])}H.push([ca,W])}});return z?new f({paths:E,spatialReference:D.spatialReference}):new d({rings:E,spatialReference:D.spatialReference})}function g(D,G,z){G&&(D=t(D,1E6),D=a.webMercatorToGeographic(D,!0));z&&(D=q(D,z));return D}function p(D,G,z){var E=D.x||D[0];if(E>G){var H=e(E,G);D.x?D=D.offset(-2*H*G,0):D[0]=E+-2*
	H*G}else E<z&&(H=e(E,z),D.x?D=D.offset(-2*H*z,0):D[0]=E+-2*H*z);return D}function x(D,G){var z=-1;C.forEach(G.cutIndexes,function(E,H){var I=G.geometries[H];C.forEach(I.rings||I.paths,function(O,T){C.some(O,function(Z){if(!(180>Z[0])){Z=0;var ia,ca=O.length;for(ia=0;ia<ca;ia++){var W=O[ia][0];Z=W>Z?W:Z}Z=Number(Z.toFixed(9));Z=-360*e(Z,180);ca=O.length;for(ia=0;ia<ca;ia++)W=I.getPoint(T,ia),I.setPoint(T,ia,W.offset(Z,0))}return!0})});E===z?I.rings?C.forEach(I.rings,function(O){D[E]=D[E].addRing(O)}):
	C.forEach(I.paths,function(O){D[E]=D[E].addPath(O)}):(z=E,D[E]=I)});return D}function u(D,G,z,E){var H=new b;H.addCallbacks(z,E);G=G||l.defaults.geometryService;var I=[],O=[],T,Z,ia,ca,W,ha,ma,xa,K=0;C.forEach(D,function(R){if(R)if(T||(T=R.spatialReference,Z=T._getInfo(),ca=(ia=T._isWebMercator())?2.0037508342788905E7:180,W=ia?-2.0037508342788905E7:-180,ha=ia?102100:4326,ma=new f({paths:[[[ca,W],[ca,ca]]],spatialReference:{wkid:ha}}),xa=new f({paths:[[[W,W],[W,ca]]],spatialReference:{wkid:ha}})),
	Z){var da=c.fromJson(R.toJson()),ka=R.getExtent();"point"===R.type?I.push(p(da,ca,W)):"multipoint"===R.type?(da.points=C.map(da.points,function(qa){return p(qa,ca,W)}),I.push(da)):"extent"===R.type?(da=ka._normalize(null,null,Z),I.push(da.rings?new d(da):da)):ka?(R=2*e(ka.xmin,W)*ca,da=0===R?da:q(da,R),ka=ka.offset(R,0),ka.intersects(ma)&&ka.xmax!==ca?(K=ka.xmax>K?ka.xmax:K,da=g(da,ia),O.push(da),I.push("cut")):ka.intersects(xa)&&ka.xmin!==W?(K=2*ka.xmax*ca>K?2*ka.xmax*ca:K,da=g(da,ia,360),O.push(da),
	I.push("cut")):I.push(da)):I.push(da)}else I.push(R);else I.push(R)});z=new f;E=e(K,ca);for(var Y=-90,la=E;0<E;){var L=-180+360*E;z.addPath([[L,Y],[L,-1*Y]]);Y*=-1;E--}0<O.length&&0<la?G?G.cut(O,z,function(R){O=x(O,R);var da=[];C.forEach(I,function(ka,qa){"cut"===ka&&(ka=O.shift(),D[qa].rings&&1<D[qa].rings.length&&ka.rings.length>=D[qa].rings.length?(I[qa]="simplify",da.push(ka)):I[qa]=!0===ia?a.geographicToWebMercator(ka):ka)});0<da.length?G.simplify(da,function(ka){C.forEach(I,function(qa,va){"simplify"===
	qa&&(I[va]=!0===ia?a.geographicToWebMercator(ka.shift()):ka.shift())});H.callback(I)},function(ka){H.errback(ka)}):H.callback(I)},function(R){H.errback(R)}):H.errback(Error("esri.geometry.normalizeCentralMeridian: 'geometryService' argument is missing.")):(C.forEach(I,function(R,da){"cut"===R&&(R=O.shift(),I[da]=!0===ia?a.geographicToWebMercator(R):R)}),H.callback(I));return H}function A(D,G,z,E){var H=!1,I;y.isObject(D)&&D&&(y.isArray(D)?D.length&&((I=D[0]&&D[0].declaredClass)&&-1!==I.indexOf("Graphic")?
	(D=C.map(D,function(O){return O.geometry}),H=D.length?!0:!1):I&&-1!==I.indexOf("esri.geometry.")&&(H=!0)):(I=D.declaredClass)&&-1!==I.indexOf("FeatureSet")?(D=C.map(D.features||[],function(O){return O.geometry}),H=D.length?!0:!1):I&&-1!==I.indexOf("esri.geometry.")&&(H=!0));H&&G.push({index:z,property:E,value:D})}function m(D,G){var z=[];C.forEach(G,function(E){var H=E.i,I=D[H];E=E.p;var O;if(y.isObject(I)&&I)if(E)if("*"===E[0])for(O in I)I.hasOwnProperty(O)&&A(I[O],z,H,O);else C.forEach(E,function(T){A(y.getObject(T,
	!1,I),z,H,T)});else A(I,z,H)});return z}function v(D,G){var z=0,E={};C.forEach(G,function(H){var I=H.index,O=H.property,T=H.value,Z=T.length||1,ia=D.slice(z,z+Z);y.isArray(T)||(ia=ia[0]);z+=Z;delete H.value;O?(E[I]=E[I]||{},E[I][O]=ia):E[I]=ia});return E}function r(D){for(var G=[],z=0,E=0,H=Math.min,I=Math.max,O=0;O<D.length;O++){for(var T=D[O],Z=null,ia=0;ia<T.length;ia++)Z=T[ia],G.push(Z),0===ia?E=z=Z[0]:(z=H(z,Z[0]),E=I(E,Z[0]));Z&&G.push([(z+E)/2,0])}return G}var B={normalizeCentralMeridian:u,
	_foldCutResults:x,_prepareGeometryForCut:g,_offsetMagnitude:e,_pointNormalization:p,_updatePolyGeometry:q,_straightLineDensify:t,_createWrappers:function(D){var G=y.isObject(D)?D.prototype:y.getObject(D+".prototype");C.forEach(G.__msigns,function(z){var E=G[z.n];G[z.n]=function(){var H=this,I=[],O,T=new b(k._dfdCanceller);z.f&&k._fixDfd(T);for(O=0;O<z.c;O++)I[O]=arguments[O];var Z={dfd:T};I.push(Z);var ia=[],ca;if(H.normalization&&!H._isTable){var W=m(I,z.a);C.forEach(W,function(ha){ia=ia.concat(ha.value)});
	ia.length&&(ca=u(ia))}ca?(T._pendingDfd=ca,ca.addCallbacks(function(ha){T.canceled||(Z.assembly=v(ha,W),T._pendingDfd=E.apply(H,I))},function(ha){var ma=H.declaredClass;ma&&-1!==ma.indexOf("FeatureLayer")?H._resolve([ha],null,I[z.e],T,!0):H._errorHandler(ha,I[z.e],T)})):T._pendingDfd=E.apply(H,I);return T}})},_disassemble:m,_addToBucket:A,_reassemble:v,getDenormalizedExtent:function(D){if(!D)return null;var G=D.getExtent();if(!G)return null;var z=D.spatialReference&&D.spatialReference._getInfo();
	if(!z)return G;var E=z.valid[0];z=z.valid[1];var H=2*z,I=G.getWidth(),O=G.xmax,T=G.xmin;if("extent"===D.type||0===I||I<=z||I>H||O<E||T>z)return G;switch(D.type){case "polygon":if(1<D.rings.length)var Z=r(D.rings);else return G;break;case "polyline":if(1<D.paths.length)Z=r(D.paths);else return G;break;case "multipoint":Z=D.points}D=Math.min;E=Math.max;H=new h(G.toJson());for(var ia=0;ia<Z.length;ia++){var ca=Z[ia][0];0>ca?(ca+=z,T=E(ca,T)):(ca-=z,O=D(ca,O))}H.xmin=O;H.xmax=T;return H.getWidth()<I?
	(H.xmin-=z,H.xmax-=z,H):G}};w("extend-esri")&&y.mixin(y.getObject("geometry",!0,n),B);return B})},"esri/geometry/jsonUtils":function(){define("dojo/_base/lang dojo/has ../kernel ../lang ./Point ./Polyline ./Polygon ./Multipoint ./Extent".split(" "),function(C,y,b,w,n,l,k,h,f){function d(q,t,g){var p=q.rings||q.paths,x,u;var A=0;for(x=p.length;A<x;A++){var m=p[A];var v=0;for(u=m.length;v<u;v++){var r=m[v];if(0<v)B+=r[0],D+=r[1];else{var B=r[0];var D=r[1]}r[0]=t(B);r[1]=g(D)}}return q}var a={esriGeometryPoint:function(q,
	t,g){q.x=t(q.x);q.y=g(q.y);return q},esriGeometryPolyline:d,esriGeometryPolygon:d,esriGeometryEnvelope:function(q,t,g){q.xmin=t(q.xmin);q.ymin=g(q.ymin);q.xmax=t(q.xmax);q.ymax=g(q.ymax);return q},esriGeometryMultipoint:function(q,t,g){var p=q.points,x;var u=0;for(x=p.length;u<x;u++){var A=p[u];if(0<u)m+=A[0],v+=A[1];else{var m=A[0];var v=A[1]}A[0]=t(m);A[1]=g(v)}return q}},c={esriGeometryPoint:function(q,t,g){q.x=t(q.x);q.y=g(q.y);return q}},e={createInstance:function(q,t){q=new q;t&&w.mixin(q,t);
	return q},fromJson:function(q){if(void 0!==q.x&&void 0!==q.y)return new n(q);if(void 0!==q.paths)return new l(q);if(void 0!==q.rings)return new k(q);if(void 0!==q.points)return new h(q);if(void 0!==q.xmin&&void 0!==q.ymin&&void 0!==q.xmax&&void 0!==q.ymax)return new f(q)},getJsonType:function(q){return q instanceof n?"esriGeometryPoint":q instanceof l?"esriGeometryPolyline":q instanceof k?"esriGeometryPolygon":q instanceof f?"esriGeometryEnvelope":q instanceof h?"esriGeometryMultipoint":null},getGeometryType:function(q){return"esriGeometryPoint"===
	q?n:"esriGeometryPolyline"===q?l:"esriGeometryPolygon"===q?k:"esriGeometryEnvelope"===q?f:"esriGeometryMultipoint"===q?h:null},supportsLazyUnquantization:function(q){return"esriGeometryPoint"===q||"esriGeometryPolyline"===q||"esriGeometryPolygon"===q||"esriGeometryMultipoint"===q},unquantizeFunction:function(q,t){if(q&&t){var g=t.translate[0],p=t.translate[1],x=t.scale[0],u=t.scale[1],A=function(r){return r*x+g},m=function(r){return p-r*u},v=a[q];return function(r){return r?v(r,A,m):null}}},unquantize:function(q,
	t,g){if(t=e.unquantizeFunction(t,g)){var p=q.length;for(g=0;g<p;g++)t(q[g].geometry)}},quantizeFunction:function(q,t){if(q&&"esriGeometryPoint"===q&&t){var g=t.translate[0],p=t.translate[1],x=t.scale[0],u=t.scale[1],A=function(r){return Math.round((r-g)/x)},m=function(r){return Math.round((p-r)/u)},v=c[q];return function(r){return r?v(r,A,m):null}}},quantize:function(q,t,g){if(t=e.quantizeFunction(t,g)){var p=q.length;for(g=0;g<p;g++)t(q[g].geometry)}}};y("extend-esri")&&C.mixin(C.getObject("geometry",
	!0,b),e);return e})},"esri/InfoWindowBase":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/Deferred dojo/dom-construct dojo/has dijit/registry ./kernel ./lang ./geometry/ScreenPoint".split(" "),function(C,y,b,w,n,l,k,h,f,d,a){C=C(null,{declaredClass:"esri.InfoWindowBase",constructor:function(){var c=y.hitch;this.__set_title=c(this,this.__set_title);this.__err_title=c(this,this.__err_title);this.__set_content=c(this,this.__set_content);this.__err_content=
	c(this,this.__err_content)},setMap:function(c){this.map=c},unsetMap:function(c){delete this.map},setTitle:function(){},setContent:function(){},show:function(){},hide:function(){},resize:function(){},onShow:function(){},onHide:function(){},place:function(c,e){d.isDefined(c)?y.isObject(c)?l.place(c,e,"only"):e.innerHTML=c:e.innerHTML=""},startupDijits:function(c){this._processDijits(c)},destroyDijits:function(c){this._processDijits(c,!0)},getDijits:function(c){var e=[];c&&1===c.children.length&&(c=
	c.children[0])&&(e=(e=h.byNode(c))?[e]:h.findWidgets(c));return e},_processDijits:function(c,e){c=this.getDijits(c);b.forEach(c,function(q){if(e){if(q._started&&!q._destroyed)try{q.destroyRecursive?q.destroyRecursive():q.destroy&&q.destroy()}catch(t){console.debug("An error occurred when destroying a widget embedded within InfoWindow: "+t.message)}}else if(!q._started)try{q.startup()}catch(t){console.debug("An error occurred when starting a widget embedded within InfoWindow: "+t.message)}})},__registerMapListeners:function(){this.__unregisterMapListeners();
	var c=this.map;this.__handles=[w.connect(c,"onPan",this,this.__onMapPan),w.connect(c,"onZoomStart",this,this.__onMapZmStart),w.connect(c,"onExtentChange",this,this.__onMapExtChg)]},__unregisterMapListeners:function(){var c=this.__handles;c&&(b.forEach(c,w.disconnect,w),this.__handles=null)},__onMapPan:function(c,e){this.move(e,!0)},__onMapZmStart:function(){this.__mcoords=this.mapCoords||this.map.toMap(new a(this.coords));this.hide(null,!0)},__onMapExtChg:function(c,e,q){c=this.map;var t=this.mapCoords;
	t?this.show(t,null,!0):(e=q?c.toScreen(this.__mcoords):this.coords.offset(e&&e.x||0,e&&e.y||0),this.show(e,null,!0))},__setValue:function(c,e){this[c].innerHTML="";var q="_dfd"+c,t=this[q];t&&-1===t.fired&&(t.cancel(),this[q]=null);d.isDefined(e)&&(e instanceof n?(this[q]=e,e.addCallbacks(this["__set"+c],this["__err"+c])):this.__render(c,e))},__set_title:function(c){this._dfd_title=null;this.__render("_title",c)},__err_title:function(c){this._dfd_title=null},__set_content:function(c){this._dfd_content=
	null;this.__render("_content",c)},__err_content:function(c){this._dfd_content=null},__render:function(c,e){var q=this[c];this.place(e,q);this.isShowing&&(this.startupDijits(q),"_title"===c&&this._adjustContentArea&&this._adjustContentArea())}});k("extend-esri")&&(f.InfoWindowBase=C);return C})},"esri/PopupBase":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Color dojo/_base/Deferred dojo/has ./kernel ./graphic ./geometry/Point ./geometry/jsonUtils ./geometry/mathUtils ./geometry/webMercatorUtils ./symbols/SimpleMarkerSymbol ./symbols/SimpleLineSymbol ./symbols/CartographicLineSymbol ./symbols/SimpleFillSymbol ./tasks/query ./Evented dojo/has!extend-esri?./PopupInfo".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x){function u(A){return"sizeInfo"===A.type}C=C(x,{declaredClass:"esri.PopupBase",_featureLayers:{},_updateEndHandles:[],_mapLevelChangeHandle:null,_evtMap:{"set-features":!0,"clear-features":!0,"selection-change":!0,"dfd-complete":!0},onSetFeatures:function(){},onClearFeatures:function(){},onSelectionChange:function(){},onDfdComplete:function(){},initialize:function(){this.count=0;this.selectedIndex=-1;this.on("clear-features",y.hitch(this,this._resetUpdateEndListeners));
	this.on("dfd-complete",y.hitch(this,this._processFeatures));this.on("set-features",y.hitch(this,this._processFeatures));this.on("selection-change",y.hitch(this,this._checkFeatureResolution))},cleanup:function(){this.features=this.deferreds=null;this._resetUpdateEndListeners();this._untrackMapLevelChange()},setFeatures:function(A){if(A&&A.length){this.clearFeatures(!0);var m,v;A[0]instanceof n?v=A:m=A;m?this._updateFeatures(null,m):(this.deferreds=v,v=v.slice(0),b.forEach(v,function(r){r.addBoth(y.hitch(this,
	this._updateFeatures,r))},this))}},clearFeatures:function(A){this.features=this.deferreds=this._marked=null;this.count=0;var m=this.selectedIndex;this.selectedIndex=-1;if(-1<m)this.onSelectionChange();this.onClearFeatures({isIntermediate:!!A})},getSelectedFeature:function(){var A=this.features;if(A)return A[this.selectedIndex]},select:function(A){0>A||A>=this.count||(this.selectedIndex=A,this.onSelectionChange())},enableHighlight:function(A){this._highlighted=A.graphics.add(new h(new f(0,0,A.spatialReference)));
	this._highlighted.attr("data-popup-highlight","");this._highlighted.hide();this._trackMapLevelChange(A);this.markerSymbol||(A=this.markerSymbol=new e,A.setStyle(e.STYLE_TARGET),A._setDim(16,16,0),A.setOutline(new t(q.STYLE_SOLID,new w([0,255,255]),2,t.CAP_ROUND,t.JOIN_ROUND)),A.setColor(new w([0,0,0,0])));this.lineSymbol||(this.lineSymbol=new q(q.STYLE_SOLID,new w([0,255,255]),2));this.fillSymbol||(this.fillSymbol=new g(g.STYLE_NULL,new q(q.STYLE_SOLID,new w([0,255,255]),2),new w([0,0,0,0])));this.clusterFillSymbol||
	(this.clusterFillSymbol=new g(g.STYLE_SOLID,new q(q.STYLE_SOLID,new w([0,255,255]),1.33),null))},disableHighlight:function(A){var m=this._highlighted;m&&(m.hide(),A.graphics.remove(m),delete this._highlighted);this._untrackMapLevelChange();this.markerSymbol=this.lineSymbol=this.fillSymbol=null},showHighlight:function(){var A=this.features&&this.features[this.selectedIndex];this._highlighted&&A&&A.geometry&&this._highlighted.show()},hideHighlight:function(){this._highlighted&&this._highlighted.hide()},
	updateHighlight:function(A,m){var v=m.geometry,r=this._highlighted;if(v&&r){r.hide();!r._graphicsLayer&&A&&A.graphics.add(r);r.setGeometry(d.fromJson(v.toJson()));switch(v.type){case "point":case "multipoint":var B=m.getLayer(),D=m.symbol||B&&B._getSymbol(m);if(B&&D){var G;v=D.xoffset||0;var z=D.yoffset||0,E=D.angle||0;switch(D.type){case "simplemarkersymbol":var H=G=D.size||0;break;case "picturemarkersymbol":H=D.width||0;G=D.height||0;break;case "textsymbol":H=G=D.font&&D.font.size||0}var I=m.symbol?
	null:B._getRenderer(m);(B=this._getSizeInfo(I))?A=m=I.getSize(m,{sizeInfo:B,shape:D.style,resolution:A&&A.getResolutionInMeters&&A.getResolutionInMeters()}):null!=m.size?A=m=m.size:(A=H,m=G);I=this.markerSymbol;A&&m&&(v&&(v=v/H*A),z&&(z=z/G*m),I._setDim(A+4,m+4,0));I.setOffset(v,z);I.setAngle(E)}break;case "polyline":I=this.lineSymbol;break;case "polygon":I=this.fillSymbol}r.setSymbol(I)}else r&&r.hide()},showClosestFirst:function(A){var m=this.features;if(m&&m.length){if(1<m.length){var v,r=Infinity,
	B=-1,D,G=a.getLength,z=A.spatialReference;A=A.normalize();for(v=m.length-1;0<=v;v--)if(D=m[v].geometry){var E=D.spatialReference;var H=0;try{var I="point"===D.type?D:D.getExtent().getCenter();I=I.normalize();z&&E&&!z.equals(E)&&z._canProject(E)&&(I=z.isWebMercator()?c.geographicToWebMercator(I):c.webMercatorToGeographic(I));H=G(A,I)}catch(O){}0<H&&H<r&&(r=H,B=v)}0<B&&(m.splice(0,0,m.splice(B,1)[0]),this.select(0))}}else this.deferreds&&(this._marked=A)},_trackMapLevelChange:function(A){this._untrackMapLevelChange();
	this._mapLevelChangeHandle=A.on("extent-change",y.hitch(this,function(m){m.levelChange&&this._checkFeatureResolution()}))},_untrackMapLevelChange:function(){this._mapLevelChangeHandle&&(this._mapLevelChangeHandle.remove(),this._mapLevelChangeHandle=null)},_unbind:function(A){A=b.indexOf(this.deferreds,A);if(-1!==A)return this.deferreds.splice(A,1),this.deferreds.length?1:(this.deferreds=null,2)},_fireComplete:function(A){var m=this._marked;m&&(this._marked=null,this.showClosestFirst(m));this.onDfdComplete(A)},
	_updateFeatures:function(A,m){if(A){if(this.deferreds&&(A=this._unbind(A)))if(m&&m instanceof Error){if(this._fireComplete(m),2===A)this.onSetFeatures()}else if(m&&m.length)if(this.features){if(m=b.filter(m,function(v){return-1===b.indexOf(this.features,v)},this),this.features=this.features.concat(m),this.count=this.features.length,this._fireComplete(),2===A)this.onSetFeatures()}else{this.features=m;this.count=m.length;this.selectedIndex=0;this._fireComplete();if(2===A)this.onSetFeatures();this.select(0)}else if(this._fireComplete(),
	2===A)this.onSetFeatures()}else this.features=m,this.count=m.length,this.selectedIndex=0,this.onSetFeatures(),this.select(0)},_getSizeInfo:function(A){return A?A.sizeInfo||b.filter(A.visualVariables,u)[0]:null},_resetUpdateEndListeners:function(){this._featureLayers={};b.forEach(this._updateEndHandles,function(A){A.remove()});this._updateEndHandles=[]},_processFeatures:function(){b.forEach(this.features,function(A){(A=A.getLayer())&&!this._featureLayers[A.id]&&(1===A.currentMode||0===A.currentMode&&
	6===A.mode)&&A.objectIdField&&A.hasXYFootprint&&A.queryFeatures&&(this._featureLayers[A.id]=A,A=A.on("update-end",y.hitch(this,this._fLyrUpdateEndHandler)),this._updateEndHandles.push(A))},this)},_fLyrUpdateEndHandler:function(A){if(!A.error){var m=this,v=A.target,r=v.getSelectedFeatures(),B=0===v.currentMode&&6===v.mode,D={},G=[];b.forEach(this.features,function(z){if(z.getLayer()===v){var E=z.attributes[v.objectIdField];D[E]=z;G.push(E)}});G.length&&(A=new p,A.objectIds=G,v.queryFeatures(A,function(z){b.forEach(z.features,
	function(E){var H=D[E.attributes[v.objectIdField]],I=!1;H.geometry!==E.geometry||v.hasWebGLSurface()?(H.setGeometry(E.geometry),I=!0):B&&r&&-1!==b.indexOf(r,E)&&(I=!0);I&&this._highlighted&&H===this.getSelectedFeature()&&this._highlighted.setGeometry(E.geometry)},m)}))}},_checkFeatureResolution:function(){var A=this.getSelectedFeature(),m=this.map;if(A&&m){var v=A.getLayer();if(v){var r=A.getResolution();2===v.currentMode&&A.geometry&&r&&r>m.getResolution()&&(m=m.getResolutionForPopup(),(v=this._refetchFeature(A,
	m,v))&&v.then(y.hitch(this,this._updateFeatureResolution,A,m)))}}},_refetchFeature:function(A,m,v){if(A=this._createQueryForCustomResolution(A,m,v))return v.queryFeatures(A).then(function(r){return r&&r.features[0]})},_createQueryForCustomResolution:function(A,m,v){v=v.objectIdField;var r=A.attributes;r=r&&v&&r[v];if(null==r)return null;var B=new p;B.objectIds=[r];B.maxAllowableOffset=m;B.outFields=[v];B.outSpatialReference=A.geometry.spatialReference;return B},_updateFeatureResolution:function(A,
	m,v){A.getResolution()!==m&&(A.setResolution(m),A.setGeometry(v.geometry),this._highlighted&&A===this.getSelectedFeature()&&this._highlighted.setGeometry(A.geometry))}});l("extend-esri")&&(k.PopupBase=C);return C})},"esri/graphic":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ./kernel ./domUtils ./lang ./InfoTemplate ./geometry/jsonUtils ./symbols/jsonUtils".split(" "),function(C,y,b,w,n,l,k,h,f){function d(){}C=C(null,{declaredClass:"esri.Graphic",constructor:function(a,c,e,q){this._construct();
	a&&!a.declaredClass?(this.geometry=a.geometry?h.fromJson(a.geometry):null,this.symbol=a.symbol?f.fromJson(a.symbol):null,this.attributes=a.attributes||null,this.infoTemplate=a.infoTemplate?new k(a.infoTemplate):null):(this.geometry=a,this.symbol=c,this.attributes=e,this.infoTemplate=q)},_geomVersion:0,_resolution:null,_shape:null,_bgShape:null,_dataAttrs:null,_layer:null,_sourceLayer:null,_graphicsLayer:null,_parentGraphic:null,_suspended:!1,size:null,visible:!0,_aggregationSourceLayer:null,_aggregationInfo:null,
	_computedAttributes:null,_computedVersion:null,_computedGeomVersion:null,_isSnapTarget:!0,getParentGraphic:function(){return this._parentGraphic},setParentGraphic:function(a){this._parentGraphic=a},setSize:function(a){this.size=a;return this},getAggregationSourceLayer:function(){return this._aggregationSourceLayer},setAggregationSourceLayer:function(a){this._aggregationSourceLayer=a;return this},isAggregate:function(){return!!this._aggregationInfo},getAggregationInfo:function(){return this._aggregationInfo},
	setAggregationInfo:function(a){this._aggregationInfo=a;return this},getChildGraphics:function(){var a=this.getAggregationSourceLayer();return a?a.getChildGraphics(this):[]},getDojoShape:function(){return this._shape},getShapes:function(){var a=[];this._shape&&a.push(this._shape);this._bgShape&&a.push(this._bgShape);return a},getNode:function(){var a=this._shape&&this._shape.getNode();return a&&a.nodeType?a:null},getNodes:function(){var a=this.getShapes(),c,e,q=a.length,t=[];for(e=0;e<q;e++)(c=a[e]&&
	a[e].getNode())&&c.nodeType&&t.push(c);return t},getLayer:function(){return this._layer},getSourceLayer:function(){return this._sourceLayer||this._layer},clone:function(){var a=new this.constructor(this.toJson());a.visible=this.visible;a._layer=this._layer;a._sourceLayer=this._sourceLayer;a._aggregationSourceLayer=this._aggregationSourceLayer;a._aggregationInfo=this._aggregationInfo;a._resolution=this._resolution;return a},draw:function(){var a=this._graphicsLayer;a&&a._draw(this,!0);return this},
	setGeometry:function(a){this.geometry=a;this._geomVersion++;var c=this._graphicsLayer;c&&(c._updateExtent(this),this.draw(),a&&"polyline"===a.type&&c._updateSVGMarkers());return this},setResolution:function(a){this._resolution=a;return this},getResolution:function(){return this._resolution},setSymbol:function(a,c){var e=this._graphicsLayer,q=this._shape;this.symbol=a;e&&(c&&q&&e._removeShape(this),this.draw());return this},setAttributes:function(a){this.attributes=a;this.clearCache();return this},
	setInfoTemplate:function(a){this.infoTemplate=a;return this},getInfoTemplate:function(){return this._getEffInfoTemplate()},_getEffInfoTemplate:function(){var a=this.getLayer();return this.infoTemplate||a&&a.infoTemplate},getTitle:function(){var a=this.getInfoTemplate(),c=a&&a.title;if(y.isFunction(c))c=c.call(a,this);else if(y.isString(c)){var e=(a=this.getLayer())&&a._getDateOpts;c=l.substitute(this.attributes,c,{first:!0,dateFormat:e&&e.call(a)})}return c},getContent:function(){var a=this.getInfoTemplate(),
	c=a&&a.content;if(y.isFunction(c))c=c.call(a,this);else if(y.isString(c)){var e=(a=this.getLayer())&&a._getDateOpts;c=l.substitute(this.attributes,c,{dateFormat:e&&e.call(a)})}return c},attr:function(a,c){null==c||this._dataAttrs||(this._dataAttrs={});this._dataAttrs&&(this._dataAttrs[a]=c,this._setDataAttr(a,c));return this},_isSuspended:function(){return this._suspended},_suspend:function(){this._suspended=!0;this.draw()},_resume:function(){this._suspended=!1;this.draw()},show:function(){this.visible=
	!0;this.attr("data-hidden");var a;if(this.getShapes().length){var c=this.getNodes();var e=c.length;for(a=0;a<e;a++)n.show(c[a])}else this.draw();(c=this._graphicsLayer)&&c._graphicVisibilityChanged(this);return this},hide:function(){this.visible=!1;this.attr("data-hidden","");var a=this._graphicsLayer,c,e;if(a){if("canvas-2d"===a.surfaceType)a._removeShape(this);else{var q=this.getNodes();if(e=q.length)for(c=0;c<e;c++)n.hide(q[c])}a._graphicVisibilityChanged(this)}return this},toJson:function(){var a=
	{};this.geometry&&(a.geometry=this.geometry.toJson());this.attributes&&(a.attributes=y.mixin({},this.attributes));this.symbol&&(a.symbol=this.symbol.toJson());this.infoTemplate&&(a.infoTemplate=this.infoTemplate.toJson());return a},_setDataAttr:function(a,c){var e=this.getNodes(),q,t=e.length;for(q=0;q<t;q++)this._setDOMDataAttr(e[q],a,c)},_setDOMDataAttr:function(a,c,e){null==e?a.removeAttribute(c):a.setAttribute(c,e)},_applyDataAttrs:function(){var a=this._dataAttrs;if(a){var c=this.getNodes(),
	e,q=c.length;for(e=0;e<q;e++)for(var t in a)this._setDOMDataAttr(c[e],t,a[t])}},_getViewInfo:function(a){return(a=(a=a||this.getLayer())&&a.getMap())&&a.getViewInfo()},evaluateExpression:function(a,c){return this._getDataValue(a._attributeDef,a._attributeCache,null,null,a,c)},_getDataValue:function(a,c,e,q,t,g){var p=c.id,x=this.attributes,u=a.field,A=c.isNumeric,m=null;if(p){var v=this._computedAttributes,r=this._computedVersion,B=this._computedGeomVersion;q=this._getViewInfo(q);var D=!(!t||!t.async),
	G=g&&g.skipCache||D,z=!g||!1!==g.strictReturnType,E=c.dependsOnView||c.isJSFunc,H=c.dependsOnGeometry;v||(v=this._computedAttributes={});E&&!r&&(r=this._computedVersion={});H&&!B&&(B=this._computedGeomVersion={});var I=E&&r[p]!==q.version||H&&B[p]!==this._geomVersion;m=v[p];if(void 0===m||I||G)m=null,c.hasExpr?m=t?t.evaluate(g&&g.context):e.executeFunction(c.compiledFunc,e.createExecContext(this,q)):c.isJSFunc?m=u(this,a):x&&(m=x[u],A&&this._isValidNumber(m)&&(c=a.normalizationType||"field",e=m,m=
	null,t=a.normalizationTotal,a=x[a.normalizationField],"log"===c&&0!==e?m=Math.log(e)*Math.LOG10E:"percent-of-total"===c&&this._isValidNumber(t)&&0!==t?m=e/t*100:"field"===c&&this._isValidNumber(a)&&0!==a&&(m=e/a))),z&&(D?A&&(this._construct(),m=m.then(this._sanitizeNumericValue)):m=this._sanitizeValue(m,A)),G||(v[p]=m,E&&(r[p]=q.version),H&&(B[p]=this._geomVersion))}else x&&(m=this._sanitizeValue(x[u],A));return m},_sanitizeValue:function(a,c){c&&!this._isValidNumber(a)&&(a=null);return a},_sanitizeNumericValue:function(a){return this._sanitizeValue(a,
	!0)},_construct:function(){this._constructed||(this._sanitizeNumericValue=y.hitch(this,this._sanitizeNumericValue),this._constructed=!0)},_isValidNumber:function(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&-Infinity!==a},clearCache:function(a){if(null!=a){var c=this._computedAttributes,e=this._computedVersion,q=this._computedGeomVersion;c&&(c[a]=void 0);e&&(e[a]=void 0);q&&(q[a]=void 0)}else this._computedAttributes=this._computedVersion=this._computedGeomVersion=null}});C.prototype.getShape=
	C.prototype.getDojoShape;d.prototype=C.prototype;C.simpleConstructor=d;b("extend-esri")&&(w.Graphic=C);return C})},"esri/InfoTemplate":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","./kernel","./lang"],function(C,y,b,w,n){C=C(null,{declaredClass:"esri.InfoTemplate",constructor:function(l,k){l&&y.isObject(l)&&!y.isFunction(l)?y.mixin(this,l):(this.title=l||"${*}",this.content=k||"${*}")},setTitle:function(l){this.title=l;return this},setContent:function(l){this.content=l;return this},
	toJson:function(){return n.fixJson({title:this.title,content:this.content})}});b("extend-esri")&&(w.InfoTemplate=C);return C})},"esri/symbols/jsonUtils":function(){define("dojo/_base/lang dojo/_base/array dojo/has ../kernel ./SimpleMarkerSymbol ./PictureMarkerSymbol ./SimpleLineSymbol ./CartographicLineSymbol ./SimpleFillSymbol ./PictureFillSymbol ./TextSymbol".split(" "),function(C,y,b,w,n,l,k,h,f,d,a){var c={createDefaultSymbol:function(e){switch(e){case "esriGeometryPoint":case "esriGeometryMultipoint":var q=
	c.createDefaultMarkerSymbol();break;case "esriGeometryPolyline":q=c.createDefaultLineSymbol();break;case "esriGeometryPolygon":case "esriGeometryEnvelope":case "esriGeometryMultiPatch":q=c.createDefaultFillSymbol()}return q},createDefaultMarkerSymbol:function(){return new n},createDefaultLineSymbol:function(){return new k},createDefaultFillSymbol:function(){return new f},getFirstSupportedSymbol:function(e){var q;y.some(e,function(t){t&&-1<c.supportedSymbolTypes.indexOf(t.type)&&(q=t);return!!q});
	return q},isPointSymbol:function(e){return e?-1<c.supportedPointSymbolTypes.indexOf(e.type):!1},supportedPointSymbolTypes:["esriSMS","esriPMS","esriTS"],supportedSymbolTypes:"esriSMS esriPMS esriTS esriSLS esriCLS esriSFS esriPFS".split(" "),fromJson:function(e,q){var t=null;switch(e.type){case "esriSMS":t=new n(e);break;case "esriPMS":t=new l(e);break;case "esriTS":t=new a(e);break;case "esriSLS":t=void 0!==e.cap?new h(e):new k(e);break;case "esriCLS":t=new h(e);break;case "esriSFS":t=new f(e);break;
	case "esriPFS":t=new d(e);break;default:t=(e=q&&q.geometryType)?c.createDefaultSymbol(e):null}return t},getShapeDescriptors:function(e){return e&&e.getShapeDescriptors?e.getShapeDescriptors():{defaultShape:null,fill:null,stroke:null}}};b("extend-esri")&&C.mixin(C.getObject("symbol",!0,w),c);return c})},"esri/symbols/PictureMarkerSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../kernel ../lang ../urlUtils ./MarkerSymbol".split(" "),function(C,y,b,w,n,l,k,h){var f=
	{url:"",width:12,height:12,angle:0,xoffset:0,yoffset:0};C=C(h,{declaredClass:"esri.symbol.PictureMarkerSymbol",type:"picturemarkersymbol",constructor:function(d,a,c){d?y.isString(d)?(this.url=d,a&&(this.width=a),c&&(this.height=c)):(this.width=w.pt2px(null==d.width?f.width:d.width),this.height=w.pt2px(null==d.height?f.height:d.height),a=d.imageData,9>b("ie")||!a||(c=this.url,this.url="data:"+(d.contentType||"image")+";base64,"+a,this.imageData=c)):(y.mixin(this,f),this.width=w.pt2px(this.width),this.height=
	w.pt2px(this.height))},getStroke:function(){return null},getFill:function(){return null},setWidth:function(d){this.width=d;return this},setHeight:function(d){this.height=d;return this},setUrl:function(d){d!==this.url&&(delete this.imageData,delete this.contentType);this.url=d;return this},getShapeDescriptors:function(){return{defaultShape:{type:"image",x:-Math.round(this.width/2),y:-Math.round(this.height/2),width:this.width,height:this.height,src:this.url||""},fill:null,stroke:null}},toJson:function(){var d=
	this.url,a=this.imageData;if(0===d.indexOf("data:")){var c=d;d=a;a=c.indexOf(";base64,")+8;a=c.substr(a)}!y.isString(d)||0!==d.indexOf("/")&&0!==d.indexOf("//")&&0!==d.indexOf("./")&&0!==d.indexOf("../")||(d=k.getAbsoluteUrl(d));c=w.px2pt(this.width);c=isNaN(c)?void 0:c;var e=w.px2pt(this.height);e=isNaN(e)?void 0:e;d=l.fixJson(y.mixin(this.inherited("toJson",arguments),{type:"esriPMS",url:d,imageData:a,contentType:this.contentType,width:c,height:e}));delete d.color;delete d.size;d.imageData||delete d.imageData;
	return d}});C.defaultProps=f;b("extend-esri")&&(y.setObject("symbol.PictureMarkerSymbol",C,n),n.symbol.defaultPictureMarkerSymbol=f);return C})},"esri/symbols/CartographicLineSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base ../kernel ../lang ./SimpleLineSymbol".split(" "),function(C,y,b,w,n,l,k,h){var f={STYLE_SOLID:"solid",STYLE_DASH:"dash",STYLE_DOT:"dot",STYLE_DASHDOT:"dashdot",STYLE_DASHDOTDOT:"longdashdotdot",STYLE_NULL:"none",STYLE_INSIDE_FRAME:"insideframe",
	STYLE_SHORTDASH:"shortdash",STYLE_SHORTDOT:"shortdot",STYLE_SHORTDASHDOT:"shortdashdot",STYLE_SHORTDASHDOTDOT:"shortdashdotdot",STYLE_LONGDASH:"longdash",STYLE_LONGDASHDOT:"longdashdot",CAP_BUTT:"butt",CAP_ROUND:"round",CAP_SQUARE:"square",JOIN_MITER:"miter",JOIN_ROUND:"round",JOIN_BEVEL:"bevel"},d={color:[0,0,0,1],style:f.STYLE_SOLID,width:1,cap:f.CAP_BUTT,join:f.JOIN_MITER,miterLimit:10};C=C(h,{declaredClass:"esri.symbol.CartographicLineSymbol",type:"cartographiclinesymbol",_caps:{butt:"esriLCSButt",
	round:"esriLCSRound",square:"esriLCSSquare"},_joins:{miter:"esriLJSMiter",round:"esriLJSRound",bevel:"esriLJSBevel"},constructor:function(a,c,e,q,t,g){a?y.isString(a)?(this.style=a,c&&(this.color=c),void 0!==e&&(this.width=e),q&&(this.cap=q),t&&(this.join=t),void 0!==g&&(this.miterLimit=g)):(this.cap=k.valueOf(this._caps,a.cap),this.join=k.valueOf(this._joins,a.join),this.width=n.pt2px(a.width),this.miterLimit=n.pt2px(a.miterLimit)):(y.mixin(this,d),this.color=new b(this.color),this.width=n.pt2px(this.width),
	this.miterLimit=n.pt2px(this.miterLimit))},setCap:function(a){this.cap=a;return this},setJoin:function(a){this.join=a;return this},setMiterLimit:function(a){this.miterLimit=a;return this},getStroke:function(){return y.mixin(this.inherited("getStroke",arguments),{cap:this.cap,join:this.join===f.JOIN_MITER?this.miterLimit:this.join})},getFill:function(){return null},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -15,0 L 15,0 E"},fill:null,stroke:this.getStroke()}},toJson:function(){var a=
	n.px2pt(this.miterLimit);a=isNaN(a)?void 0:a;return k.fixJson(y.mixin(this.inherited("toJson",arguments),{type:"esriCLS",cap:this._caps[this.cap],join:this._joins[this.join],miterLimit:a}))}});y.mixin(C,f);C.defaultProps=d;w("extend-esri")&&(y.setObject("symbol.CartographicLineSymbol",C,l),l.symbol.defaultCartographicLineSymbol=d);return C})},"esri/symbols/SimpleFillSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has dojox/gfx/_base ../kernel ../lang ./FillSymbol ./SimpleLineSymbol require".split(" "),
	function(C,y,b,w,n,l,k,h,f,d){var a={STYLE_SOLID:"solid",STYLE_NULL:"none",STYLE_HORIZONTAL:"horizontal",STYLE_VERTICAL:"vertical",STYLE_FORWARD_DIAGONAL:"forwarddiagonal",STYLE_BACKWARD_DIAGONAL:"backwarddiagonal",STYLE_CROSS:"cross",STYLE_DIAGONAL_CROSS:"diagonalcross",STYLE_FORWARDDIAGONAL:"forwarddiagonal",STYLE_BACKWARDDIAGONAL:"backwarddiagonal",STYLE_DIAGONALCROSS:"diagonalcross"},c={style:a.STYLE_SOLID,color:[0,0,0,.25]};C=C(h,{declaredClass:"esri.symbol.SimpleFillSymbol",type:"simplefillsymbol",
	_styles:{solid:"esriSFSSolid",none:"esriSFSNull",horizontal:"esriSFSHorizontal",vertical:"esriSFSVertical",forwarddiagonal:"esriSFSForwardDiagonal",backwarddiagonal:"esriSFSBackwardDiagonal",cross:"esriSFSCross",diagonalcross:"esriSFSDiagonalCross"},constructor:function(e,q,t){e?y.isString(e)?(this.style=e,void 0!==q&&(this.outline=q),void 0!==t&&(this.color=t)):this.style=k.valueOf(this._styles,e.style):(y.mixin(this,c),this.outline=new f(this.outline),this.color=new b(this.color))},setStyle:function(e){this.style=
	e;return this},getStroke:function(){return this.outline&&this.outline.getStroke()},getFill:function(){var e=this.style;return e===a.STYLE_NULL?null:e===a.STYLE_SOLID?this.color:y.mixin({},n.defaultPattern,{src:d.toUrl("../images/symbol/sfs/"+e+".png"),width:10,height:10})},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"},fill:this.getFill(),stroke:this.getStroke()}},toJson:function(){return k.fixJson(y.mixin(this.inherited("toJson",
	arguments),{type:"esriSFS",style:this._styles[this.style]}))}});y.mixin(C,a);C.defaultProps=c;w("extend-esri")&&(y.setObject("symbol.SimpleFillSymbol",C,l),l.symbol.defaultSimpleFillSymbol=c);return C})},"esri/symbols/FillSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ./Symbol ./SimpleLineSymbol".split(" "),function(C,y,b,w,n,l){C=C(n,{declaredClass:"esri.symbol.FillSymbol",constructor:function(k){k&&y.isObject(k)&&k.outline&&(this.outline=new l(k.outline))},setOutline:function(k){this.outline=
	k;return this},toJson:function(){var k=this.inherited("toJson",arguments);this.outline&&(k.outline=this.outline.toJson());return k}});b("extend-esri")&&y.setObject("symbol.FillSymbol",C,w);return C})},"esri/symbols/PictureFillSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../kernel ../lang ../urlUtils ./FillSymbol".split(" "),function(C,y,b,w,n,l,k,h){var f={xoffset:0,yoffset:0,width:12,height:12};C=C(h,{declaredClass:"esri.symbol.PictureFillSymbol",type:"picturefillsymbol",
	xscale:1,yscale:1,xoffset:0,yoffset:0,constructor:function(d,a,c,e){d?y.isString(d)?(this.url=d,void 0!==a&&(this.outline=a),void 0!==c&&(this.width=c),void 0!==e&&(this.height=e)):(this.xoffset=w.pt2px(d.xoffset),this.yoffset=w.pt2px(d.yoffset),this.width=w.pt2px(d.width),this.height=w.pt2px(d.height),a=d.imageData,9>b("ie")||!a||(c=this.url,this.url="data:"+(d.contentType||"image")+";base64,"+a,this.imageData=c)):(y.mixin(this,f),this.width=w.pt2px(this.width),this.height=w.pt2px(this.height))},
	setWidth:function(d){this.width=d;return this},setHeight:function(d){this.height=d;return this},setOffset:function(d,a){this.xoffset=d;this.yoffset=a;return this},setUrl:function(d){d!==this.url&&(delete this.imageData,delete this.contentType);this.url=d;return this},setXScale:function(d){this.xscale=d;return this},setYScale:function(d){this.yscale=d;return this},getStroke:function(){return this.outline&&this.outline.getStroke()},getFill:function(){return y.mixin({},w.defaultPattern,{src:this.url,
	width:this.width*this.xscale,height:this.height*this.yscale,x:this.xoffset,y:this.yoffset})},getShapeDescriptors:function(){return{defaultShape:{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"},fill:this.getFill(),stroke:this.getStroke()}},toJson:function(){var d=this.url,a=this.imageData;if(0===d.indexOf("data:")){var c=d;d=a;a=c.indexOf(";base64,")+8;a=c.substr(a)}!y.isString(d)||0!==d.indexOf("/")&&0!==d.indexOf("//")&&0!==d.indexOf("./")&&0!==d.indexOf("../")||(d=k.getAbsoluteUrl(d));
	c=w.px2pt(this.width);c=isNaN(c)?void 0:c;var e=w.px2pt(this.height);e=isNaN(e)?void 0:e;var q=w.px2pt(this.xoffset);q=isNaN(q)?void 0:q;var t=w.px2pt(this.yoffset);t=isNaN(t)?void 0:t;d=l.fixJson(y.mixin(this.inherited("toJson",arguments),{type:"esriPFS",url:d,imageData:a,contentType:this.contentType,width:c,height:e,xoffset:q,yoffset:t,xscale:this.xscale,yscale:this.yscale}));d.imageData||delete d.imageData;return d}});C.defaultProps=f;b("extend-esri")&&(y.setObject("symbol.PictureFillSymbol",C,
	n),n.symbol.defaultPictureFillSymbol=f);return C})},"esri/symbols/TextSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ../lang ../Color ./Symbol ./Font".split(" "),function(C,y,b,w,n,l,k,h,f){var d={type:"textsymbol",x:0,y:0,text:"",rotated:!1,kerning:!0,color:[0,0,0,1],font:w.defaultFont,angle:0,xoffset:0,yoffset:0,horizontalAlignment:"center"},a={start:"left",middle:"center",end:"right"},c={left:"start",center:"middle",right:"end",justify:"start"},
	e={top:"text-before-edge",middle:"central",baseline:"alphabetic",bottom:"text-after-edge"},q=document.createElement("canvas");C=C(h,{declaredClass:"esri.symbol.TextSymbol",angle:0,xoffset:0,yoffset:0,constructor:function(t,g,p){y.mixin(this,d);this.font=new f(this.font);this.color=new k(this.color);t&&(y.isObject(t)?(y.mixin(this,t),this.color&&l.isDefined(this.color[0])&&(this.color=k.toDojoColor(this.color)),this.type="textsymbol",this.font=new f(this.font),this.xoffset=w.pt2px(this.xoffset),this.yoffset=
	w.pt2px(this.yoffset),this.angle&&(this.angle*=-1),this.haloSize&&(this.haloSize=w.pt2px(this.haloSize)),this.haloColor&&(this.haloColor=k.toDojoColor(this.haloColor))):(this.text=t,g&&(this.font=g),p&&(this.color=p)));this.setAlign(this.align||this.getSVGAlign())},setFont:function(t){this.font=t;return this},setSize:function(t){this.font.size=t;return this},setAngle:function(t){this.angle=t;return this},setOffset:function(t,g){this.xoffset=t;this.yoffset=g;return this},setHaloColor:function(t){this.haloColor=
	t;return this},setHaloSize:function(t){this.haloSize=t;return this},setAlign:function(t){this.align=t;this.setHorizontalAlignment(t&&a[t.toLowerCase()]||"center");return this},setHorizontalAlignment:function(t){this.horizontalAlignment=t;return this},getSVGAlign:function(){var t=this.horizontalAlignment;return t=t&&c[t.toLowerCase()]||"middle"},setVerticalAlignment:function(t){this.verticalAlignment=t;return this},getSVGBaseline:function(){var t=this.verticalAlignment;return t&&e[t.toLowerCase()]||
	"alphabetic"},getSVGBaselineShift:function(){return"bottom"===this.verticalAlignment?"super":null},setDecoration:function(t){this.decoration=t;this.font||this.setFont(new f);this.font.setDecoration(t);return this},setRotated:function(t){this.rotated=t;return this},setKerning:function(t){this.kerning=t;return this},setText:function(t){this.text=t;return this},getStroke:function(){return null},getFill:function(){return this.color},getWidth:function(){var t=q&&q.getContext&&q.getContext("2d");if(t){var g=
	this.font;t.font=(g.style?g.style:w.defaultFont.style)+" "+(g.weight?g.weight:w.defaultFont.weight)+" "+(g.size?g.size:w.defaultFont.size)+"px "+(g.family?g.family:w.defaultFont.family);return t.measureText(this.text).width}t=this.getHeight();g=0;var p;for(p=0;p<this.text.length;p++){var x=this.text.charAt(p);g=x==x.toUpperCase()?g+.7*t:g+.5*t}return g},getHeight:function(){return w.normalizedLength(this.font.size)},getShapeDescriptors:function(){var t=this.font;if(t){var g={};t.size&&(g.size=t.size);
	t.style&&(g.style=t.style);t.variant&&(g.variant=t.variant);t.decoration&&(g.decoration=t.decoration);t.weight&&(g.weight=t.weight);t.family&&(g.family=t.family)}return{defaultShape:{type:"text",text:this.text,x:0,y:this.getHeight()/4,align:"middle",decoration:this.decoration||t&&t.decoration,rotated:this.rotated,kerning:this.kerning},font:g,fill:this.getFill(),stroke:this.getStroke()}},toJson:function(){var t=w.px2pt(this.xoffset),g=w.px2pt(this.yoffset),p=w.px2pt(this.haloSize);t=isNaN(t)?void 0:
	t;g=isNaN(g)?void 0:g;p=isNaN(p)?void 0:p;return l.fixJson(y.mixin(this.inherited("toJson",arguments),{type:"esriTS",backgroundColor:this.backgroundColor,borderLineColor:this.borderLineColor,borderLineSize:this.borderLineSize,haloSize:p,haloColor:this.haloColor&&k.toJsonColor(this.haloColor),verticalAlignment:this.verticalAlignment,horizontalAlignment:this.horizontalAlignment,rightToLeft:this.rightToLeft,width:this.width,angle:this.angle&&-1*this.angle,xoffset:t,yoffset:g,text:this.text,rotated:this.rotated,
	kerning:this.kerning,font:this.font.toJson()}))}});y.mixin(C,{ALIGN_START:"start",ALIGN_MIDDLE:"middle",ALIGN_END:"end",DECORATION_NONE:"none",DECORATION_UNDERLINE:"underline",DECORATION_OVERLINE:"overline",DECORATION_LINETHROUGH:"line-through"});C.defaultProps=d;b("extend-esri")&&(y.setObject("symbol.TextSymbol",C,n),n.symbol.defaultTextSymbol=d);return C})},"esri/symbols/Font":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../kernel ../lang".split(" "),function(C,
	y,b,w,n,l){C=C(null,{declaredClass:"esri.symbol.Font",constructor:function(k,h,f,d,a){k?y.isObject(k)?y.mixin(this,k):(this.size=k,parseFloat(this.size)==this.size&&(this.size+="px"),void 0!==h&&(this.style=h),void 0!==f&&(this.variant=f),void 0!==d&&(this.weight=d),void 0!==a&&(this.family=a)):y.mixin(this,w.defaultFont);parseFloat(this.size)==this.size&&(this.size+="pt");9>b("ie")&&this.size&&y.isString(this.size)&&-1<this.size.indexOf("em")&&(this.size=w.pt2px(12*parseFloat(this.size))+"px");this.size=
	this._convert2PxSize(this.size)},setSize:function(k){this.size=this._convert2PxSize(k);return this},_convert2PxSize:function(k){var h;parseFloat(k)==k?h=k:y.isString(k)&&(-1<k.indexOf("pt")?h=w.pt2px(parseFloat(k)):-1<k.indexOf("px")?h=parseFloat(k):-1<k.indexOf("em")?h=w.pt2px(12*parseFloat(k)):-1<k.indexOf("%")&&(h=w.pt2px(.12*parseFloat(k))));return h},setStyle:function(k){this.style=k;return this},setVariant:function(k){this.variant=k;return this},setWeight:function(k){this.weight=k;return this},
	setFamily:function(k){this.family=k;return this},setDecoration:function(k){this.decoration=k;return this},toJson:function(){return l.fixJson({size:w.px2pt(this.size),style:this.style,decoration:this.decoration,weight:this.weight,family:this.family})}});y.mixin(C,{STYLE_NORMAL:"normal",STYLE_ITALIC:"italic",STYLE_OBLIQUE:"oblique",VARIANT_NORMAL:"normal",VARIANT_SMALLCAPS:"small-caps",WEIGHT_NORMAL:"normal",WEIGHT_BOLD:"bold",WEIGHT_BOLDER:"bolder",WEIGHT_LIGHTER:"lighter"});b("extend-esri")&&y.setObject("symbol.Font",
	C,n);return C})},"esri/tasks/query":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has ../kernel ../geometry/jsonUtils ./SpatialRelationship dojo/has!extend-esri?./QueryTask dojo/has!extend-esri?./RelationshipQuery dojo/has!extend-esri?./StatisticDefinition".split(" "),function(C,y,b,w,n,l,k,h){var f=C(null,{declaredClass:"esri.tasks.Query",constructor:function(){this.spatialRelationship=f.SPATIAL_REL_INTERSECTS},text:null,where:"",geometry:null,groupByFieldsForStatistics:null,
	objectIds:null,returnGeometry:!1,returnCentroid:null,returnDistinctValues:!1,returnExceededLimitFeatures:null,maxRecordCountFactor:null,orderByFields:null,outSpatialReference:null,outFields:null,outStatistics:null,timeExtent:null,relationParam:null,pixelSize:null,distance:null,units:null,resultOffset:null,resultRecordCount:null,resultType:null,cacheHint:null,sqlFormat:null,quantizationParameters:null,_units:{meters:"esriSRUnit_Meter",kilometers:"esriSRUnit_Kilometer",feet:"esriSRUnit_Foot",miles:"esriSRUnit_StatuteMile",
	"nautical-miles":"esriSRUnit_NauticalMile","us-nautical-miles":"esriSRUnit_USNauticalMile"},toJson:function(d){var a={text:this.text,where:this.where,returnGeometry:this.returnGeometry,spatialRel:this.spatialRelationship,maxAllowableOffset:this.maxAllowableOffset,geometryPrecision:this.geometryPrecision,sqlFormat:this.sqlFormat},c=d&&d.geometry||this.geometry,e=this.objectIds,q=this.outFields,t=this.outSpatialReference,g=this.groupByFieldsForStatistics,p=this.orderByFields,x=this.outStatistics;d=
	this.distance;c&&(a.geometry=c,a.geometryType=k.getJsonType(c),a.inSR=c.spatialReference.wkid||w.toJson(c.spatialReference.toJson()));e&&(a.objectIds=e.join(","));q&&(a.outFields=q.join(","));null!=this.returnCentroid&&(a.returnCentroid=this.returnCentroid);this.returnDistinctValues&&(a.returnDistinctValues=!0);null!=this.returnExceededLimitFeatures&&(a.returnExceededLimitFeatures=this.returnExceededLimitFeatures);null!=this.maxRecordCountFactor&&(a.maxRecordCountFactor=this.maxRecordCountFactor);
	g&&(a.groupByFieldsForStatistics=g.join(","));p&&(a.orderByFields=p.join(","));if(x){var u=[];b.forEach(x,function(A){u.push(A.toJson())});a.outStatistics=w.toJson(u)}t?a.outSR=t.wkid||w.toJson(t.toJson()):c&&(a.outSR=c.spatialReference.wkid||w.toJson(c.spatialReference.toJson()));c=this.timeExtent;a.time=c?c.toJson().join(","):null;(c=this.relationParam)&&this.spatialRelationship===f.SPATIAL_REL_RELATION&&(a.relationParam=c);d&&(a.distance=this.distance,this.hasOwnProperty("units")?a.units=this._units[this.units]||
	this._units.meters:(console.warn("esri/tasks/query::no distance unit provided, defaulting to meters"),a.units=this._units.meters));this.hasOwnProperty("start")&&(a.resultOffset=this.start,a.resultRecordCount=10,""===a.where&&(a.where="1\x3d1"));this.hasOwnProperty("num")&&(a.resultRecordCount=this.num);a.resultType=this.resultType;null!=this.cacheHint&&(a.cacheHint=this.cacheHint);a.pixelSize=this.pixelSize?w.toJson(this.pixelSize.toJson()):null;a.multipatchOption=this.multipatchOption;this.quantizationParameters&&
	(a.quantizationParameters=w.toJson(this.quantizationParameters));a._ts=this._ts;return a}});y.mixin(f,h);n("extend-esri")&&y.setObject("tasks.Query",f,l);return f})},"esri/tasks/SpatialRelationship":function(){define(["dojo/_base/lang","dojo/has","../kernel"],function(C,y,b){var w={SPATIAL_REL_INTERSECTS:"esriSpatialRelIntersects",SPATIAL_REL_CONTAINS:"esriSpatialRelContains",SPATIAL_REL_CROSSES:"esriSpatialRelCrosses",SPATIAL_REL_ENVELOPEINTERSECTS:"esriSpatialRelEnvelopeIntersects",SPATIAL_REL_INDEXINTERSECTS:"esriSpatialRelIndexIntersects",
	SPATIAL_REL_OVERLAPS:"esriSpatialRelOverlaps",SPATIAL_REL_TOUCHES:"esriSpatialRelTouches",SPATIAL_REL_WITHIN:"esriSpatialRelWithin",SPATIAL_REL_RELATION:"esriSpatialRelRelation"};y("extend-esri")&&C.setObject("tasks._SpatialRelationship",w,b);return w})},"esri/plugins/popupManager":function(){define(["../PopupManager"],function(C){return{add:function(y,b){y.popupManager||(y.popupManager=new C(b),y.popupManager.setMap(y))},remove:function(y){var b=y.popupManager;b&&(b.unsetMap(),y.popupManager=void 0)}}})},
	"esri/PopupManager":function(){define("./geometry/Extent ./geometry/ScreenPoint ./kernel ./layerUtils ./tasks/query dijit/registry dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/_base/lang esri/sniff dojo/on dojo/promise/all dojo/Stateful require".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t){var g;h=h(q,{declaredClass:"esri.PopupManager",enabled:!1,map:null,_mapClickHandle:null,_featureLayersCache:{},constructor:function(p){this._mapClickHandler=d.hitch(this,this._mapClickHandler)},
	setMap:function(p){if(this.map)if(p!==this.map)this.unsetMap();else return;this.map=p;this._setupClickHandler()},unsetMap:function(){this.map&&(this.map=null);this._mapClickHandle&&(this._mapClickHandle.remove(),this._mapClickHandle=null)},getMapLayer:function(p){var x;if(p&&(x=p.getLayer())&&(p=x.id,this._featureLayersCache[p])){var u=p.lastIndexOf("_");-1<u&&(p=p.substring(0,u),x=this.map.getLayer(p))}return x},_enabledSetter:function(p){this.enabled=p;this._setupClickHandler()},_setupClickHandler:function(){this._mapClickHandle&&
	(this._mapClickHandle.remove(),this._mapClickHandle=null);this.enabled&&this.map&&(this._mapClickHandle=this.map.on("click",this._mapClickHandler))},_mapClickHandler:function(p){var x=this.map.infoWindow,u=p.graphic;x&&this.map.loaded&&(x.clearFeatures&&x.setFeatures?this._showPopup(p):u&&u.getInfoTemplate()&&this._showInfoWindow(u,p.mapPoint))},_showPopup:function(p){var x=this.map,u=x.infoWindow,A=this,m=[],v=[x.graphics].concat(k.map(x.graphicsLayerIds,x.getLayer,x));k.forEach(v,function(D){var G=
	D.getFeatureReduction&&D.getFeatureReduction();D&&D.loaded&&D.infoTemplate&&!D.suspended&&(!G||!A._isReductionEnabled(D)||G.infoTemplate&&!G.disablePopup)&&m.push(D)});var r=[];k.forEach(x.layerIds,function(D){(D=x.getLayer(D))&&D.loaded&&!D.suspended&&(A._isImageServiceLayer(D)&&D.infoTemplate?m.push(D):"esri.layers.WMSLayer"===D.declaredClass&&D.getFeatureInfoURL?m.push(D):"esri.layers.ArcGISDynamicMapServiceLayer"!==D.declaredClass&&"esri.layers.ArcGISTiledMapServiceLayer"!==D.declaredClass||!D.infoTemplates||
	r.push(D))});var B=x.getResolutionForPopup();this._getSubLayerFeatureLayers(r,B).then(function(D){m=m.concat(D);D=p.graphic&&p.graphic.getParentGraphic()||p.graphic;var G=null;D&&D.getInfoTemplate()&&!A._isImageServiceLayer(D.getLayer())&&(G=D);if(m.length||G){var z=A._calculateClickTolerance(m),E=p.screenPoint;D=x.toMap(new y(E.x-z,E.y+z));z=x.toMap(new y(E.x+z,E.y-z));var H=new C(D.x,D.y,z.x,z.y,x.spatialReference);if(H=H.intersects(x.extent)){var I=new n,O=!!G,T=!0;D=k.map(m,function(Z){I.timeExtent=
	Z.useMapTime?x.timeExtent:null;var ia=A._isReductionEnabled(Z);Z=ia?Z.getFeatureReductionLayer():Z;var ca=A._featureLayersCache[Z.id];if(A._isImageServiceLayer(Z)){I.geometry=p.mapPoint;T=!1;var W={rasterAttributeTableFieldPrefix:"Raster.",returnDomainValues:!0};A._isTiledImageServiceLayer(Z)?W=Z.fetchPopupFromTiles(I):(W=Z.queryVisibleRasters(I,W),W.addCallback(function(){var ma=Z.getVisibleRasters();O=O||0<ma.length;return ma}))}else if("esri.layers.WMSLayer"===Z.declaredClass){W=new f;var ha=Z._getPopupGraphic(x,
	p.screenPoint);ha?(W.resolve([ha]),O=!0):W.resolve([])}else ca||"function"===typeof Z.queryFeatures&&(0===Z.currentMode||1===Z.currentMode)?(I.geometry=H,W=Z.queryFeatures(I),W.addCallback(function(ma){var xa=[];k.forEach(ma.features,function(K){K.visible&&(xa.push(K),ca&&K.setResolution(B))});O=O||0<xa.length;return xa})):(W=new f,ha=k.filter(Z.graphics,function(ma){return ma&&ma.visible&&H.intersects(ma.geometry)}),ia&&A._isParentLayer(Z,G)&&(ia=A._findGraphicById(ha,G,"cluster_id"))&&(G=ia),O=
	O||0<ha.length,W.resolve(ha));return W});G&&(z=new f,z.resolve([G]),D.unshift(z));k.some(D,function(Z){return!Z.isFulfilled()})||O?(u.setFeatures(D),u.show(p.mapPoint,{closestFirst:T})):(u.hide(),u.clearFeatures())}}})},_getSubLayerFeatureLayers:function(p,x,u){x=x||null;var A=u||new f,m=[];u=p.length;var v=this.map.getScale(),r=!1,B=this,D=0;a:for(;D<u;D++){var G=p[D],z=G.dynamicLayerInfos||G.layerInfos;if(z){var E=null;G._params&&(G._params.layers||G._params.dynamicLayers)&&(E=G.visibleLayers);
	E=w._getVisibleLayers(z,E);for(var H=w._getLayersForScale(v,z),I=z.length,O=0;O<I;O++){var T=z[O],Z=T.id,ia=G.infoTemplates[Z];if(!T.subLayerIds&&ia&&ia.infoTemplate&&-1<k.indexOf(E,Z)&&-1<k.indexOf(H,Z)){if(!g){r=!0;break a}var ca=G.id+"_"+Z,W=this._featureLayersCache[ca];W&&W.loadError||(W||((W=ia.layerUrl)||(W=T.source?this._getLayerUrl(G.url,"/dynamicLayer"):this._getLayerUrl(G.url,Z)),W=new g(W,{parentLayer:G,id:ca,drawMode:!1,mode:g.MODE_SELECTION,outFields:this._getOutFields(ia.infoTemplate),
	resourceInfo:ia.resourceInfo,source:T.source}),this._featureLayersCache[ca]=W),W.setDefinitionExpression(G.layerDefinitions&&G.layerDefinitions[Z]),W.setGDBVersion(G.gdbVersion),W.setInfoTemplate(ia.infoTemplate),W.setMaxAllowableOffset(x),W.setUseMapTime(!!G.useMapTime),G.layerDrawingOptions&&G.layerDrawingOptions[Z]&&G.layerDrawingOptions[Z].renderer&&W.setRenderer(G.layerDrawingOptions[Z].renderer),m.push(W))}}}}if(r){var ha=new f;t(["./layers/FeatureLayer"],function(xa){g=xa;ha.resolve()});ha.then(function(){B._getSubLayerFeatureLayers(p,
	x,A)})}else{var ma=[];k.forEach(m,function(xa){if(!xa.loaded){var K=new f;c.once(xa,"load, error",function(){K.resolve()});ma.push(K.promise)}});ma.length?e(ma).then(function(){m=k.filter(m,function(xa){return!xa.loadError&&xa.isVisibleAtScale(v)});A.resolve(m)}):(m=k.filter(m,function(xa){return xa.isVisibleAtScale(v)}),A.resolve(m))}return A.promise},_getLayerUrl:function(p,x){var u=p.indexOf("?");return-1===u?p+"/"+x:p.substring(0,u)+"/"+x+p.substring(u)},_getOutFields:function(p){var x=p.info&&
	p.info.fieldInfos;if(x&&x.length&&"esri.dijit.PopupTemplate"===p.declaredClass){var u=[];k.forEach(x,function(A){var m=A.fieldName&&A.fieldName.toLowerCase();m&&"shape"!==m&&0!==m.indexOf("relationships/")&&u.push(A.fieldName)})}else u=["*"];return u},_calculateClickTolerance:function(p){var x=a("esri-touch")?9:6,u,A;k.forEach(p,function(m){if(u=m.renderer)"esri.renderer.SimpleRenderer"===u.declaredClass?((A=u.symbol)&&A.xoffset&&(x=Math.max(x,Math.abs(A.xoffset))),A&&A.yoffset&&(x=Math.max(x,Math.abs(A.yoffset)))):
	"esri.renderer.UniqueValueRenderer"!==u.declaredClass&&"esri.renderer.ClassBreaksRenderer"!==u.declaredClass||k.forEach(u.infos,function(v){(A=v.symbol)&&A.xoffset&&(x=Math.max(x,Math.abs(A.xoffset)));A&&A.yoffset&&(x=Math.max(x,Math.abs(A.yoffset)))})});return x},_showInfoWindow:function(p,x){var u=this.map.infoWindow,A=p.geometry;x=A&&"point"===A.type?A:x;A=p.getContent();u.setTitle(p.getTitle());A&&d.isString(A.id)&&(p=l.byId(A.id))&&p.set&&/_PopupRenderer/.test(p.declaredClass)&&p.set("showTitle",
	!1);u.setContent(A);u.show(x)},_findGraphicById:function(p,x,u){var A,m=(x=x.attributes)&&x[u];k.some(p,function(v){var r=v.attributes;r&&r[u]===m&&(A=v);return!!A});return A},_isParentLayer:function(p,x){x=x&&x.getLayer();return p&&x===p},_isReductionEnabled:function(p){return p&&p.isFeatureReductionActive&&p.isFeatureReductionActive()},_isImageServiceLayer:function(p){return"esri.layers.ArcGISImageServiceLayer"===p.declaredClass||"esri.layers.ArcGISImageServiceVectorLayer"===p.declaredClass||"esri.layers.RasterXLayer"===
	p.declaredClass},_isTiledImageServiceLayer:function(p){return"esri.layers.RasterXLayer"===p.declaredClass}});a("extend-esri")&&(b.PopupManager=h);return h})},"esri/layerUtils":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/json","dojo/has","./kernel"],function(C,y,b,w,n){var l={_serializeLayerDefinitions:function(k,h){var f=[],d=/[:;]/;if(k&&(y.forEach(k,function(c,e){c&&(f.push([e,c]),!h&&d.test(c)&&(h=!0))}),0<f.length)){if(h){var a={};y.forEach(f,function(c){a[c[0]]=c[1]});
	a=b.toJson(a)}else a=[],y.forEach(f,function(c){a.push(c[0]+":"+c[1])}),a=a.join(";");return a}return null},_serializeTimeOptions:function(k,h){if(k){var f=[];y.forEach(k,function(d,a){d&&(d=d.toJson(),h&&-1!==y.indexOf(h,a)&&(d.useTime=!1),f.push('"'+a+'":'+b.toJson(d)))});if(f.length)return"{"+f.join(",")+"}"}},_getVisibleLayers:function(k,h){var f=[],d;if(!k)return f;if(h)for(f=h.concat(),d=0;d<k.length;d++){h=k[d];var a=y.indexOf(k,h.id);h.subLayerIds&&-1<a&&(f.splice(a,1),f=f.concat(h.subLayerIds))}else f=
	this._getDefaultVisibleLayers(k);return f},_getDefaultVisibleLayers:function(k){var h=[],f;if(!k)return h;for(f=0;f<k.length;f++)0<=k[f].parentLayerId&&-1===y.indexOf(h,k[f].parentLayerId)&&y.some(k,function(d){return d.id===k[f].parentLayerId})||k[f].defaultVisibility&&h.push(k[f].id);return h},_getLayersForScale:function(k,h){var f=[];if(0<k&&h){var d;for(d=0;d<h.length;d++)if(!(0<=h[d].parentLayerId&&-1===y.indexOf(f,h[d].parentLayerId)&&y.some(h,function(q){return q.id===h[d].parentLayerId}))&&
	0<=h[d].id){var a=!0,c=h[d].maxScale,e=h[d].minScale;if(0<c||0<e)0<c&&0<e?a=c<=k&&k<=e:0<c?a=c<=k:0<e&&(a=k<=e);a&&f.push(h[d].id)}}return f}};w("extend-esri")&&C.mixin(n,l);return l})},"esri/MapNavigationManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/event dojo/mouse dojo/keys dijit/focus ./kernel ./MouseEvents ./TouchEvents ./PointerEvents ./config ./sniff ./lang ./fx ./graphic ./tileUtils ./geometry/ScreenPoint ./geometry/Extent ./geometry/Rect ./geometry/mathUtils ./symbols/SimpleFillSymbol".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x,u,A,m,v,r){var B=w.connect,D=w.disconnect,G=q("chrome"),z=q("safari"),E=[k.NUMPAD_PLUS,61,187,k.NUMPAD_MINUS,173,189,k.UP_ARROW,k.NUMPAD_8,k.RIGHT_ARROW,k.NUMPAD_6,k.DOWN_ARROW,k.NUMPAD_2,k.LEFT_ARROW,k.NUMPAD_4,k.PAGE_UP,k.NUMPAD_9,k.PAGE_DOWN,k.NUMPAD_3,k.END,k.NUMPAD_1,k.HOME,k.NUMPAD_7];C=C(null,{declaredClass:"esri.MapNavigationManager",eventModel:"",constructor:function(H,I){this.map=H;y.mixin(this,I);I=H.__container;q("esri-pointer")?(this.pointerEvents=
	new c(I,{map:H}),this.eventModel="pointer"):q("esri-touch")?(q("ios")||(this.mouseEvents=new d(I,{map:H})),this.touchEvents=new a(I,{map:H,mouseEvents:this.mouseEvents}),this.eventModel="touch"):(this.mouseEvents=new d(I,{map:H}),this.eventModel="mouse");this._zoomRect=new p(null,new r(e.defaults.map.zoomSymbol));this._keyDx=this._keyDy=0;this._adjustPinch=y.hitch(this,this._adjustPinch);this._adjustPinchEnd=y.hitch(this,this._adjustPinchEnd)},_panInit:function(H){var I=this.mouseEvents;l.isLeft(H)&&
	this.map.isPan&&!H.shiftKey&&(this._dragOrigin=new u(0,0),y.mixin(this._dragOrigin,H.screenPoint),D(this._panStartHandle),D(this._panHandle),D(this._panEndHandle),this._panStartHandle=B(I,"onMouseDragStart",this,this._panStart),this._panHandle=B(I,"onMouseDrag",this,this._pan),this._panEndHandle=B(I,"onMouseUp",this,this._panEnd),G||z)&&(H.preventDefault(),h.curNode&&h.curNode.blur())},_panStart:function(H){this.map.setCursor("move");this.map.__panStart(H.screenPoint.x,H.screenPoint.y)},_pan:function(H){this.map.__pan(H.screenPoint.x-
	this._dragOrigin.x,H.screenPoint.y-this._dragOrigin.y)},_panEnd:function(H){D(this._panStartHandle);D(this._panHandle);D(this._panEndHandle);this._panStartHandle=this._panHandle=this._panEndHandle=null;var I=this.map;I.__panning&&(I.__panEnd(H.screenPoint.x-this._dragOrigin.x,H.screenPoint.y-this._dragOrigin.y),I.resetMapCursor())},_zoomInit:function(H){var I=this.map,O=this.pointerEvents||this.mouseEvents;(l.isLeft(H)||H.pointerType)&&I.isRubberBandZoom&&H.shiftKey&&(I.setCursor("crosshair"),this._dragOrigin=
	y.mixin({},H.screenPoint),this._zoomDir=H.ctrlKey||H.metaKey?-1:1,this.pointerEvents?(this._zoomHandle=B(O,"onSwipeMove",this,this._zoom),this._zoomEndHandle=B(O,"onSwipeEnd",this,this._zoomEnd)):(this._zoomHandle=B(O,"onMouseDrag",this,this._zoom),this._zoomEndHandle=B(O,"onMouseUp",this,this._zoomEnd)),G&&H.preventDefault())},_zoom:function(H){var I=this.map,O=this._normalizeRect(H).offset(I.__visibleRect.x,I.__visibleRect.y);H=I.graphics;var T=this._zoomRect;T.geometry||I.setCursor("crosshair");
	T.geometry&&H.remove(T,!0);var Z=I.toMap(new u(O.x,O.y));O=I.toMap(new u(O.x+O.width,O.y+O.height));O=new m(Z.x,Z.y,O.x-Z.x,Z.y-O.y,I.spatialReference);O._originOnly=!0;T.setGeometry(O);H.add(T,!0)},_zoomEnd:function(H){var I=this._zoomRect,O=this.map,T=O.extent,Z=O.spatialReference;D(this._zoomHandle);D(this._zoomEndHandle);this._zoomHandle=this._zoomEndHandle=null;if(O._canZoom(this._zoomDir)&&I.getDojoShape()){O.graphics.remove(I);I.geometry=null;H=this._normalizeRect(H);H.x+=O.__visibleRect.x;
	H.y+=O.__visibleRect.y;if(-1===this._zoomDir){var ia=T.getWidth();H=(ia*O.width/H.width-ia)/2;Z=new A(T.xmin-H,T.ymin-H,T.xmax+H,T.ymax+H,Z)}else T=O.toMap({x:H.x,y:H.y+H.height}),H=O.toMap({x:H.x+H.width,y:H.y}),Z=new A(T.x,T.y,H.x,H.y,Z);O._extentUtil(null,null,Z)}I.getDojoShape()&&O.graphics.remove(I,!0);this._zoomDir=0;O.resetMapCursor()},_wheelZoom:function(H,I){var O=this.map;if(!I){if(O.smartNavigation&&!H.shiftKey&&!O._isPanningOrZooming()){O.disableScrollWheelZoom();this._setScrollWheelPan(!0);
	this._wheelPan(H);return}I=H.timeStamp;if(!t.isDefined(I)||0>=I)I=(new Date).getTime();if(100>(this._mwts?I-this._mwts:I))return;this._mwts=I}O._canZoom(H.value)&&O._extentUtil({numLevels:H.value,mapAnchor:H.mapPoint,screenAnchor:H.screenPoint})},_wheelPan:function(H){var I=this.map;if(H.shiftKey&&!I._isPanningOrZooming())this._setScrollWheelPan(!1),I.enableScrollWheelZoom(),this._wheelZoom(H);else{var O=0,T=0;q("ff")?H.axis===H.HORIZONTAL_AXIS?O=-H.detail:T=-H.detail:(O=H.wheelDeltaX,T=H.wheelDeltaY);
	I.translate(O,T)}},_setScrollWheelPan:function(H){this.map.isScrollWheelPan=H;this.mouseEvents&&this.mouseEvents.enableMouseWheel(H);D(this._mwMacHandle);this._mwMacHandle=null;H&&(this._mwMacHandle=B(this.mouseEvents||this.pointerEvents,"onMouseWheel",this,this._wheelPan))},_recenter:function(H){H.shiftKey&&!this.map._isPanningOrZooming()&&this.map.centerAt(H.mapPoint)},_recenterZoom:function(H){H.shiftKey&&!this.map._isPanningOrZooming()&&(H.value=H.ctrlKey||H.metaKey?-1:1,this._wheelZoom(H,!0))},
	_dblClickZoom:function(H){this.map._isPanningOrZooming()||(H.value=1,this._wheelZoom(H,!0))},_twoFingerTap:function(H){this.map._isPanningOrZooming()||(H.value=-1,this._wheelZoom(H,!0))},_keyDown:function(H){var I=H.keyCode,O=this.map;if(-1!==b.indexOf(E,I)){if(I===k.NUMPAD_PLUS||61===I||187===I)O._extentUtil({numLevels:1});else if(I===k.NUMPAD_MINUS||173===I||189===I)O._extentUtil({numLevels:-1});else{O.__panning||O.__panStart(0,0);switch(I){case k.UP_ARROW:case k.NUMPAD_8:this._keyDy+=10;break;
	case k.RIGHT_ARROW:case k.NUMPAD_6:this._keyDx-=10;break;case k.DOWN_ARROW:case k.NUMPAD_2:this._keyDy-=10;break;case k.LEFT_ARROW:case k.NUMPAD_4:this._keyDx+=10;break;case k.PAGE_UP:case k.NUMPAD_9:this._keyDx-=10;this._keyDy+=10;break;case k.PAGE_DOWN:case k.NUMPAD_3:this._keyDx-=10;this._keyDy-=10;break;case k.END:case k.NUMPAD_1:this._keyDx+=10;this._keyDy-=10;break;case k.HOME:case k.NUMPAD_7:this._keyDx+=10;this._keyDy+=10;break;default:return}O.__pan(this._keyDx,this._keyDy)}n.stop(H)}},_keyEnd:function(H){var I=
	this.map;I.__panning&&H.keyCode!==k.SHIFT&&(I.__panEnd(this._keyDx,this._keyDy),this._keyDx=this._keyDy=0)},_swipeInit:function(H){var I=this.map;I=I._zoomAnim||I._panAnim;if(H.shiftKey)return!1;I&&I._active&&(I.stop(),I._fire("onEnd",[I.node]));this._dragOrigin=new u(0,0);y.mixin(this._dragOrigin,H.screenPoint);D(this._swipeHandle);D(this._swipeEndHandle);this._swipeHandle=B(this.touchEvents||this.pointerEvents,"onSwipeMove",this,this._swipe);this._swipeEndHandle=B(this.touchEvents||this.pointerEvents,
	"onSwipeEnd",this,this._swipeEnd)},_swipe:function(H){var I=this.map;I.__panning?(this._panX=H.screenPoint.x,this._panY=H.screenPoint.y,I.__pan(H.screenPoint.x-this._dragOrigin.x,H.screenPoint.y-this._dragOrigin.y)):(I.setCursor("move"),I.__panStart(H.screenPoint.x,H.screenPoint.y))},_swipeEnd:function(H){D(this._swipeHandle);D(this._swipeEndHandle);this._swipeHandle=this._swipeEndHandle=null;var I=this.map;I.__panning&&(I.resetMapCursor(),I.__panEnd(H.screenPoint.x-this._dragOrigin.x,H.screenPoint.y-
	this._dragOrigin.y))},_pinchInit:function(H){var I=this.map,O=I._zoomAnim||I._panAnim;O&&O._active?(O.stop(),O._fire("onEnd",[O.node])):I.__panning&&(H.screenPoint=new u(this._panX,this._panY),H.mapPoint=I.toMap(H.screenPoint),this._swipeEnd(H));D(this._pinchHandle);D(this._pinchEndHandle);this._pinchHandle=B(this.touchEvents||this.pointerEvents,"onPinchMove",this,this._pinch);this._pinchEndHandle=B(this.touchEvents||this.pointerEvents,"onPinchEnd",this,this._pinchEnd)},_pinch:function(H){var I=this.map;
	if(H.screenPoints){this.currLength=v.getLength(H.screenPoints[0],H.screenPoints[1]);if(I.__zooming){var O=this.currLength/this._length;this._zoomStartExtent=this.__scaleExtent(I.extent,O,this._dragOrigin);I.__zoom(this._zoomStartExtent,O,this._dragOrigin)}else this._dragOrigin=new u((H.screenPoints[0].x+H.screenPoints[1].x)/2,(H.screenPoints[0].y+H.screenPoints[1].y)/2),this._length=this.currLength,I.__zoomStart(I.extent,this._dragOrigin);this._pinchScale=O;I._fireOnScale(this.currLength/this._length,
	this._dragOrigin,!0)}},_pinchEnd:function(H){H=this.map;D(this._pinchHandle);D(this._pinchEndHandle);this._pinchHandle=this._pinchEndHandle=null;this._pinchScale=0;if(H.__zooming&&null===H._zoomAnim){var I=this.currLength/this._length,O=H.extent.getWidth();this._zoomAnimAnchor=H.toMap(this._dragOrigin);this._zoomStartExtent=this.__scaleExtent(H.extent,1/I,this._zoomAnimAnchor);if(H.__tileInfo){var T=x.getCandidateTileInfo(H,H.__tileInfo,this._zoomStartExtent),Z=H.__getExtentForLevel(T.lod.level,this._zoomAnimAnchor),
	ia=H.getMinZoom(),ca=H.getMaxZoom(),W=Z.extent;Z=Z.lod;var ha=O/W.getWidth(),ma=T.lod.level;1>I?ha>I&&ma--:ha<I&&ma++;ma<ia?ma=ia:ma>ca&&(ma=ca);ma!==T.lod.level&&(Z=H.__getExtentForLevel(ma,this._zoomAnimAnchor),W=Z.extent,Z=Z.lod);this._zoomEndExtent=W;this._zoomEndLod=Z;H._zoomAnim=g.animateRange({range:{start:O/this._zoomStartExtent.getWidth(),end:ha},duration:e.defaults.map.zoomDuration,rate:e.defaults.map.zoomRate,onAnimate:this._adjustPinch,onEnd:this._adjustPinchEnd});H._zoomAnim.play();H._fireOnScale(H.extent.getWidth()/
	this._zoomEndExtent.getWidth(),this._dragOrigin)}else this._zoomEndExtent=this._zoomStartExtent,H._fireOnScale(H.extent.getWidth()/this._zoomEndExtent.getWidth(),this._dragOrigin),this._adjustPinchEnd()}},_adjustPinch:function(H){var I=this.__scaleExtent(this.map.extent,H,this._zoomAnimAnchor);this.map.__zoom(I,H,this._dragOrigin)},_adjustPinchEnd:function(){var H=this.map,I=H.extent.getWidth()/this._zoomEndExtent.getWidth(),O=this.__scaleExtent(H.extent,1/I,this._zoomAnimAnchor),T=this._dragOrigin,
	Z=this._zoomEndLod;this._zoomStartExtent=this._zoomEndExtent=this._zoomEndLod=this._dragOrigin=H._zoomAnim=this._zoomAnimAnchor=null;H.__zoomEnd(O,I,T,Z,!0)},__scaleExtent:function(H,I,O){O=O||H.getCenter();I=H.expand(I);var T=H.xmin-(I.getWidth()-H.getWidth())*(O.x-H.xmin)/H.getWidth();O=H.ymax-(I.getHeight()-H.getHeight())*(O.y-H.ymax)/H.getHeight();return new A(T,O-I.getHeight(),T+I.getWidth(),O,H.spatialReference)},_normalizeRect:function(H){H=H.screenPoint;var I=this._dragOrigin.x,O=this._dragOrigin.y;
	H=new m((H.x<I?H.x:I)-this.map.__visibleRect.x,(H.y<O?H.y:O)-this.map.__visibleRect.y,Math.abs(H.x-I),Math.abs(H.y-O));delete H.spatialReference;0===H.width&&(H.width=1);0===H.height&&(H.height=1);return H},setImmediateClick:function(H){switch(this.eventModel){case "mouse":this.mouseEvents.setImmediateClick(H);break;case "touch":this.touchEvents.setImmediateTap(H);this.mouseEvents&&this.mouseEvents.setImmediateClick(H);break;case "pointer":this.pointerEvents.setImmediateTap(H)}},enablePan:function(){this.disablePan();
	switch(this.eventModel){case "mouse":this._panInitHandle=B(this.mouseEvents,"onMouseDown",this,this._panInit);break;case "touch":this._panInitHandle=B(this.mouseEvents,"onMouseDown",this,this._panInit);this._swipeInitHandle=B(this.touchEvents,"onSwipeStart",this,this._swipeInit);break;case "pointer":this._swipeInitHandle=B(this.pointerEvents,"onSwipeStart",this,this._swipeInit)}},disablePan:function(){D(this._panInitHandle);this._panInitHandle=null;D(this._swipeInitHandle);this._swipeInitHandle=null},
	enableRubberBandZoom:function(){this.disableRubberBandZoom();this._zoomInitHandle=this.pointerEvents?B(this.pointerEvents,"onSwipeStart",this,this._zoomInit):B(this.mouseEvents,"onMouseDown",this,this._zoomInit)},disableRubberBandZoom:function(){D(this._zoomInitHandle);this._zoomInitHandle=null},enablePinchZoom:function(){this.disablePinchZoom();if("touch"===this.eventModel||"pointer"===this.eventModel)this._pinchInitHandle=B(this.touchEvents||this.pointerEvents,"onPinchStart",this,this._pinchInit)},
	disablePinchZoom:function(){D(this._pinchInitHandle);this._pinchInitHandle=null},enableScrollWheelZoom:function(){this.disableScrollWheelZoom();this._wheelHandle=B(this.mouseEvents||this.pointerEvents,"onMouseWheel",this,this._wheelZoom)},disableScrollWheelZoom:function(){D(this._wheelHandle);this._wheelHandle=null},enableScrollWheelPan:function(){var H=this.map;H&&H.loaded&&H.smartNavigation&&(this.disableScrollWheelPan(),this._setScrollWheelPan(!0))},disableScrollWheelPan:function(){var H=this.map;
	H&&H.loaded&&H.smartNavigation&&this._setScrollWheelPan(!1)},enableDoubleClickZoom:function(){this.disableDoubleClickZoom();switch(this.eventModel){case "mouse":this._dblClickHandle=B(this.mouseEvents,"onDblClick",this,this._dblClickZoom);break;case "touch":this._dblClickHandle=B(this.mouseEvents,"onDblClick",this,this._dblClickZoom);this._dblTapHandle=B(this.touchEvents,"onDoubleTap",this,this._dblClickZoom);this._zoomOutHandle=B(this.touchEvents,"onTwoFingerTap",this,this._twoFingerTap);break;case "pointer":this._dblTapHandle=
	B(this.pointerEvents,"onDoubleTap",this,this._dblClickZoom),this._zoomOutHandle=B(this.pointerEvents,"onTwoFingerTap",this,this._twoFingerTap)}},disableDoubleClickZoom:function(){D(this._dblClickHandle);D(this._zoomOutHandle);this._dblTapHandle&&D(this._dblTapHandle);this._dblClickHandle=this._zoomOutHandle=this._dblTapHandle=null},enableShiftDoubleClickZoom:function(){this.disableShiftDoubleClickZoom();this._sDblClickHandle=B(this.pointerEvents||this.mouseEvents,"onDblClick",this,this._recenterZoom)},
	disableShiftDoubleClickZoom:function(){D(this._sDblClickHandle);this._sDblClickHandle=null},enableClickRecenter:function(){this.disableClickRecenter();this._recenterHandle=B(this.pointerEvents||this.mouseEvents,"onClick",this,this._recenter)},disableClickRecenter:function(){D(this._recenterHandle);this._recenterHandle=null},enableKeyboardNavigation:function(){this.disableKeyboardNavigation();this._keyHandle=B(this.pointerEvents||this.mouseEvents,"onKeyDown",this,this._keyDown);this._keyEndHandle=
	B(this.pointerEvents||this.mouseEvents,"onKeyUp",this,this._keyEnd)},disableKeyboardNavigation:function(){D(this._keyHandle);D(this._keyEndHandle);this._keyHandle=this._keyEndHandle=null},enableScrollWheel:function(){var H=this.map;H&&(H.smartNavigation?this.enableScrollWheelPan():H.enableScrollWheelZoom())},disableScrollWheel:function(){var H=this.map;H&&(H.disableScrollWheelZoom(),H.smartNavigation&&this.disableScrollWheelPan())},enableNavigation:function(){var H=this.map;H&&H.loaded&&(H._evalNavigationFeature("DoubleClickZoom"),
	H._evalNavigationFeature("ClickRecenter"),H._evalNavigationFeature("Pan"),H._evalNavigationFeature("RubberBandZoom"),H._evalNavigationFeature("PinchZoom"),H._evalNavigationFeature("KeyboardNavigation"),H._evalNavigationFeature("ScrollWheel"))},disableNavigation:function(){var H=this.map;H&&H.loaded&&(H._evalNavigationFeature("DoubleClickZoom"),H._evalNavigationFeature("ClickRecenter"),H._evalNavigationFeature("Pan"),H._evalNavigationFeature("RubberBandZoom"),H._evalNavigationFeature("PinchZoom"),
	H._evalNavigationFeature("KeyboardNavigation"),H._evalNavigationFeature("ScrollWheel"))},destroy:function(){this.touchEvents&&this.touchEvents.destroy();this.mouseEvents&&this.mouseEvents.destroy();this.pointerEvents&&this.pointerEvents.destroy();var H,I=[this._panInitHandle,this._panStartHandle,this._panHandle,this._panEndHandle,this._zoomInitHandle,this._zoomHandle,this._zoomEndHandle,this._wheelHandle,this._mwMacHandle,this._dblClickHandle,this._zoomOutHandle,this._recenterHandle,this._sDblClickHandle,
	this._dblTapHandle,this._keyHandle,this._keyEndHandle,this._swipeInitHandle,this._swipeHandle,this._swipeEndHandle,this._pinchInitHandle,this._pinchHandle,this._pinchEndHandle];for(H=0;H<I.length;H++)D(I[H]);this.map=this.touchEvents=this.mouseEvents=this.eventModel=this.pointerEvents=this._zoomRect=this._dragOrigin=this._panInitHandle=this._panStartHandle=this._panHandle=this._panEndHandle=this._zoomInitHandle=this._zoomHandle=this._zoomEndHandle=this._wheelHandle=this._mwMacHandle=this._dblClickHandle=
	this._zoomOutHandle=this._recenterHandle=this._sDblClickHandle=this._dblTapHandle=this._keyHandle=this._keyEndHandle=this._swipeInitHandle=this._swipeHandle=this._swipeEndHandle=this._pinchInitHandle=this._pinchHandle=this._pinchEndHandle=null}});q("extend-esri")&&(f.MapNavigationManager=C);return C})},"esri/MouseEvents":function(){define("dojo/_base/declare dojo/_base/html dojo/_base/lang dojo/_base/sniff dojo/_base/connect dojo/_base/event ./kernel ./Evented ./geometry/Point ./geometry/ScreenPoint".split(" "),
	function(C,y,b,w,n,l,k,h,f,d){var a=n.connect,c=n.disconnect;C=C([h],{declaredClass:"esri.MouseEvents",doubleClickDuration:300,minWheelValue:1,maxWheelValue:1,mozWheelDivisor:-1!==w("mac")?1:3,wheelDivisor:2>w("chrome")?360:120,preventPageScroll:!0,map:null,constructor:function(e,q){this.node=e;b.mixin(this,q);q=function(t){l.stop(t);return!1};w("mozilla")&&y.style(e,"MozUserSelect","none");this._handles=[a(e,"onselectstart",q),a(e,"ondragstart",q),a(e,"onmouseenter",this,this._onMouseEnterHandler),
	a(e,"onmouseleave",this,this._onMouseLeaveHandler),a(e,"onmousedown",this,this._onMouseDownHandler),a(e,"onclick",this,this._onClickHandler),a(e,"ondblclick",this,this._onDblClickHandler)];this._onMouseMoveHandler_connect=a(e,"onmousemove",this,this._onMouseMoveHandler);this._onMouseUpHandler_connect=a(e,"onmouseup",this,this._onMouseUpHandler);this._fireClickEvent=b.hitch(this,this._fireClickEvent);this._initialDuration=this.doubleClickDuration;this.preventPageScroll=(e=this.map)?e.isScrollWheelZoom||
	e.isScrollWheelPan:this.preventPageScroll;this.enableMouseWheel(!1)},_fire:function(e,q){if(!this._preventClick||"onClick"!==e&&"onDblClick"!==e){if(this[e])this[e](q);if(this.map&&this.map[e])this.map[e](q)}},_processEvent:function(e){e=l.fix(e,e.target);var q=this.map,t=q&&q.position;t&&("DOMMouseScroll"===e.type&&3>w("ff")?e.screenPoint=new d(window.scrollX+e.screenX-t.x,window.scrollY+e.screenY-t.y):e.screenPoint=new d(e.pageX-t.x,e.pageY-t.y),e.mapPoint=q.extent?q.toMap(e.screenPoint):new f);
	e.numPoints=0;return e},_onMouseEnterHandler:function(e){c(this._onKeyDown_connect);c(this._onKeyUp_connect);this._onKeyDown_connect=a(document,"onkeydown",this,this._onKeyDownHandler);this._onKeyUp_connect=a(document,"onkeyup",this,this._onKeyUpHandler);this._fire("onMouseOver",this._processEvent(e))},_onMouseLeaveHandler:function(e){c(this._onKeyDown_connect);c(this._onKeyUp_connect);this._onKeyDown_connect=this._onKeyUp_connect=null;this._fire("onMouseOut",this._processEvent(e))},_onMouseMoveHandler:function(e){this._dragEnd?
	this._dragEnd=!1:this._fire("onMouseMove",this._processEvent(e))},_onMouseDownHandler:function(e){c(this._onMouseMoveHandler_connect);this._onMouseMoveHandler_connect=null;this.node.setCapture&&this.node.setCapture(!1);c(this._onMouseDragHandler_connect);this._onMouseDragHandler_connect=a(document,"onmousemove",this,this._onMouseDragHandler);this._startX=e.pageX;this._startY=e.pageY;this._fire("onMouseDown",this._processEvent(e))},_onMouseUpHandler:function(e){var q=this.node;q.releaseCapture&&q.releaseCapture();
	c(this._onMouseDragHandler_connect);this._onMouseDragHandler_connect=null;c(this._onMouseMoveHandler_connect);this._onMouseMoveHandler_connect=a(q,"onmousemove",this,this._onMouseMoveHandler);this._fire("onMouseUp",this._processEvent(e))},_onMouseDragHandler:function(e){c(this._onMouseDragHandler_connect);this._onMouseDragHandler_connect=a(document,"onmousemove",this,this._onMouseDraggingHandler);c(this._onMouseUpHandler_connect);this._onMouseUpHandler_connect=a(document,"onmouseup",this,this._onDragMouseUpHandler);
	this._docLeaveConnect=a(document,"onmouseout",this,this._onDocMouseOut);this._fire("onMouseDragStart",this._processEvent(e))},_onMouseDraggingHandler:function(e){l.stop(e);this._fire("onMouseDrag",this._processEvent(e))},_onDragMouseUpHandler:function(e){var q=this.node;q.releaseCapture&&q.releaseCapture();this._dragEnd=!0;c(this._docLeaveConnect);c(this._onMouseDragHandler_connect);c(this._onMouseUpHandler_connect);this._docLeaveConnect=this._onMouseDragHandler_connect=null;this._onMouseMoveHandler_connect=
	a(q,"onmousemove",this,this._onMouseMoveHandler);this._onMouseUpHandler_connect=a(q,"onmouseup",this,this._onMouseUpHandler);e=this._processEvent(e);this._fire("onMouseDragEnd",e);this._fire("onMouseUp",e)},_onDocMouseOut:function(e){var q=9>w("ie")?e.toElement:e.relatedTarget,t=q&&q.nodeName.toLowerCase();(!q||(w("chrome")||w("safari"))&&"html"===t)&&this._onDragMouseUpHandler(e)},_onClickHandler:function(e){e=this._processEvent(e);if(e.pageX===this._startX&&e.pageY===this._startY){clearTimeout(this._clickTimer);
	var q={},t="movementX"in e,g;for(g in e)"mozInputSource"===g||"mozPressure"===g||t&&("webkitMovementX"===g||"webkitMovementY"===g)||(q[g]=e[g]);this._clickEvent=q;this._clickTimer=setTimeout(this._fireClickEvent,this.doubleClickDuration)}},_fireClickEvent:function(){clearTimeout(this._clickTimer);9>w("ie")&&(this._clickEvent.graphic=k._ieGraphic,delete k._ieGraphic);this._fire("onClick",this._clickEvent)},_onDblClickHandler:function(e){clearTimeout(this._clickTimer);this._fire("onDblClick",this._processEvent(e))},
	_onMouseWheelHandler:function(e){var q=this.map;(q?q.isScrollWheelZoom||q.isScrollWheelPan:this.preventPageScroll)&&l.stop(e);q=w("ff")||w("mozilla")?-e.detail/this.mozWheelDivisor:e.wheelDelta/this.wheelDivisor;var t=Math.abs(q);t=t<=this.minWheelValue?this.minWheelValue:this.maxWheelValue;e.value=0>q?-t:t;this._fire("onMouseWheel",this._processEvent(e))},_onKeyDownHandler:function(e){this._fire("onKeyDown",e)},_onKeyUpHandler:function(e){this._fire("onKeyUp",e)},enableMouseWheel:function(e){c(this._scrollHandle);
	this._scrollHandle=a(this.node,w("ff")||w("mozilla")?e?"MozMousePixelScroll":"DOMMouseScroll":"onmousewheel",this,this._onMouseWheelHandler)},setImmediateClick:function(e){this.doubleClickDuration=e?0:this._initialDuration},preventClickEvents:function(e){this._preventClick=e},destroy:function(){var e=this._handles.concat([this._onMouseMoveHandler_connect,this._onMouseUpHandler_connect,this._onMouseDragHandler_connect,this._scrollHandle,this._onKeyDown_connect,this._onKeyUp_connect,this._docLeaveConnect]),
	q;for(q=0;q<e.length;q++)c(e[q]);clearTimeout(this._clickTimer);this.node=this.map=this._handles=this._clickEvent=this._onMouseMoveHandler_connect=this._onMouseUpHandler_connect=this._onMouseDragHandler_connect=this._scrollHandle=this._onKeyDown_connect=this._onKeyUp_connect=this._docLeaveConnect=null}});w("extend-esri")&&(k.MouseEvents=C);return C})},"esri/TouchEvents":function(){define("dojo/_base/declare dojo/_base/html dojo/_base/lang dojo/_base/sniff dojo/dom ./kernel ./Evented ./geometry/Point ./geometry/ScreenPoint".split(" "),
	function(C,y,b,w,n,l,k,h,f){C=C([k],{declaredClass:"esri.TouchEvents",tapRadius:8,doubleTapRadius:10,tapStartTolerance:50,doubleTapDuration:300,map:null,constructor:function(d,a){this.node=d;b.mixin(this,a);y.setSelectable(d,!1);this._touchStart=b.hitch(this,this._touchStart);this._touchMove=b.hitch(this,this._touchMove);this._touchEnd=b.hitch(this,this._touchEnd);this._touchCancel=b.hitch(this,this._touchCancel);this._fireClickEvent=b.hitch(this,this._fireClickEvent);d.addEventListener("touchstart",
	this._touchStart,!1);d.addEventListener("touchmove",this._touchMove,!1);d.addEventListener("touchend",this._touchEnd,!1);d.addEventListener("touchcancel",this._touchCancel,!1);this.map&&w("ios")&&(this._mouseOver=b.hitch(this,this._mouseOver),this._mouseOut=b.hitch(this,this._mouseOut),this._mouseDown=b.hitch(this,this._mouseDown),this._mouseUp=b.hitch(this,this._mouseUp),this._mouseClick=b.hitch(this,this._mouseClick),d.addEventListener("mouseover",this._mouseOver,!1),d.addEventListener("mouseout",
	this._mouseOut,!1),d.addEventListener("mousedown",this._mouseDown,!1),d.addEventListener("mouseup",this._mouseUp,!1),d.addEventListener("click",this._mouseClick,!1));this._numTouches=0;this._nodeTouches=[];this._touches={};this._touchIds=[];this._taps=[];this._immediate=!1},_touchStart:function(d){var a=this._touches,c,e=d.changedTouches.length,q,t,g=(new Date).getTime();this._touchStartTS=g;if(!(w("android")&&w("safari")&&1===d.targetTouches.length&&d.touches.length===d.targetTouches.length&&d.targetTouches.length===
	d.changedTouches.length&&0===d.changedTouches[0].identifier&&a[d.changedTouches[0].identifier])){this._addTouch(d);for(c=0;c<e;c++){var p=d.changedTouches[c];var x=a[p.identifier]={};x.startX=p.pageX;x.startY=p.pageY;x.startTS=g;-1===this._touchIds.indexOf(p.identifier)&&this._touchIds.push(p.identifier)}this._swipeActive&&(q=this._nodeTouches[0]);this._pinchActive&&(t=this._nodeTouches[1]);1===this._numTouches?this._swipeActive?(this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(d,
	q))):this._pinchActive&&(this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(d,[q,t]))):2===this._numTouches?this._swipeActive&&(q&&(x=a[this._touchIds[0]],x.startX=q.pageX,x.startY=q.pageY,x.moved=!1),this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(d,q))):this._swipeActive?(this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(d,q))):this._pinchActive&&(this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(d,[q,t])))}},_touchMove:function(d){d.preventDefault();
	this._updateTouch(d);var a=this._touches,c,e=d.changedTouches.length,q;if(!(w("android")&&w("safari")&&1===d.targetTouches.length&&d.touches.length===d.targetTouches.length&&d.targetTouches.length===d.changedTouches.length&&0===d.changedTouches[0].identifier&&a[d.changedTouches[0].identifier]&&1<this._touchIds.length)){for(c=0;c<e;c++){var t=d.changedTouches[c];if(q=a[t.identifier]){var g=Math.abs(t.pageX-q.startX);t=Math.abs(t.pageY-q.startY);!q.moved&&(g>=this.tapRadius||t>=this.tapRadius)&&(q.moved=
	q.absMoved=!0);var p=p?p:q.moved}}1===this._numTouches?(a=d.changedTouches[0],this._swipeActive?this._fire("onSwipeMove",this._processTouchEvent(d,a)):p&&(this._swipeActive=!0,this._fire("onSwipeStart",this._processTouchEvent(d,a)))):2===this._numTouches&&(c=this._nodeTouches[0],e=this._nodeTouches[1],this._pinchActive?this._fire("onPinchMove",this._processTouchEvent(d,[c,e])):p&&(p=a[c.identifier],q=a[e.identifier],a=Math.abs(p.startX-q.startX),p=Math.abs(p.startY-q.startY),q=Math.abs(c.pageX-e.pageX),
	g=Math.abs(c.pageY-e.pageY),Math.abs(Math.sqrt(q*q+g*g)-Math.sqrt(a*a+p*p))>=2*this.tapRadius&&(this._pinchActive=!0,this._fire("onPinchStart",this._processTouchEvent(d,[c,e])))))}},_touchEnd:function(d){this._removeTouch(d);var a=this._touches,c=d.changedTouches,e,q=c.length,t,g,p=(new Date).getTime(),x=this._touchIds;for(e=0;e<q;e++)if(g=a[c[e].identifier])g.absMoved&&(t=!0),g.pageX=c[e].pageX,g.pageY=c[e].pageY,g.endTS=p;if(0===this._numTouches)if(this._touches={},this._touchIds=[],this._swipeActive)this._swipeActive=
	!1,this._fire("onSwipeEnd",this._processTouchEvent(d,c[0]));else if(this._pinchActive)this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(d,c));else{if(!t){q=Infinity;t=-Infinity;p=Infinity;var u=-Infinity,A=this.tapStartTolerance,m=[],v=!0;for(e=0;e<x.length;e++)g=a[x[e]],m.push(g),g.startTS<q&&(q=g.startTS),g.startTS>t&&(t=g.startTS),g.endTS<p&&(p=g.endTS),g.endTS>u&&(u=g.endTS),delete a[x[e]];1===m.length&&c[0]&&(a=Math.abs(c[0].pageY-m[0].startY),Math.abs(c[0].pageX-m[0].startX)>=
	this.tapRadius||a>=this.tapRadius)&&(v=!1);v&&Math.abs(t-q)<=A&&Math.abs(u-p)<=A&&this._basicTap(d,m)}}else 1===this._numTouches&&this._pinchActive&&(e=this._nodeTouches[0],g=a[e.identifier],g.startX=e.pageX,g.startY=e.pageY,this._pinchActive=g.moved=!1,this._fire("onPinchEnd",this._processTouchEvent(d,[c[0],e])))},_touchCancel:function(d){this._numTouches&&this._touchEnd(d)},_basicTap:function(d,a){var c=(new Date).getTime(),e=this;d=this._processTouchEvent(d,a);this._taps.push({touchInfos:a,ts:c,
	event:d});2<this._taps.length&&this._taps.shift();this._fire("onBasicTap",d);clearTimeout(this._tapTimer);this._immediate?this._analyzeTap(!0):this._tapTimer=setTimeout(function(){var q=e;e=null;clearTimeout(q._tapTimer);q._analyzeTap()},2===this._taps.length?this.doubleTapDuration/2:this.doubleTapDuration)},_analyzeTap:function(d){var a=this._taps,c=a[0],e=a[1],q=c.touchInfos,t=e&&e.touchInfos;a.length&&(d||(this._taps=[]),c&&e?q.length===t.length?e.ts-c.ts<=this.doubleTapDuration?(1===q.length?
	(d=Math.abs(q[0].startX-t[0].startX),q=Math.abs(q[0].startY-t[0].startY),q=d<=this.doubleTapRadius&&q<=this.doubleTapRadius):q=!0,q?this._processedDoubleTap(a):this._processedTap(e)):this._processedTap(e):this._processedTap(e):this._processedTap(c||e))},_processedTap:function(d){var a=d.event;this._fire("onProcessedTap",a);1===d.touchInfos.length?this._fire("onTap",this._fixEvent(a)):2===d.touchInfos.length&&this._fire("onTwoFingerTap",a)},_processedDoubleTap:function(d){var a=1===d[1].touchInfos.length;
	if(a){var c=[this._fixEvent(d[0].event),this._fixEvent(d[1].event)];c[1].relatedEvents=c}d=[d[0].event,d[1].event];d[1].relatedEvents=d;this._fire("onProcessedDoubleTap",d[1]);a&&(this._fire("onDoubleTap",c[1]),this._fire("onDblClick",c[1]))},_addTouch:function(d){var a=d.changedTouches,c=this._nodeTouches,e;this._numTouches+=a.length;for(d=0;d<a.length;d++){var q=c.length;var t=!1;for(e=0;e<q&&!(t=c[e].identifier===a[d].identifier);e++);t?this._numTouches--:c.push(a[d])}for(d=c.length-1;0<=d;d--)n.isDescendant(c[d].target,
	document.body)||(c.splice(d,1),this._numTouches--);0>this._numTouches&&(this._numTouches=0)},_removeTouch:function(d){var a=[],c=[],e=d.changedTouches,q=this._nodeTouches;this._numTouches-=e.length;0>this._numTouches&&(this._numTouches=0);for(d=0;d<e.length;d++)a.push(e[d].identifier);for(d=q.length-1;0<=d;d--)-1!==a.indexOf(q[d].identifier)&&c.push(q.splice(d,1)[0]);return c},_updateTouch:function(d){var a=[],c=d.changedTouches,e=this._nodeTouches;for(d=0;d<c.length;d++)a.push(c[d].identifier);for(d=
	0;d<e.length;d++){var q=a.indexOf(e[d].identifier);-1!==q&&e.splice(d,1,c[q])}},_mouseOver:function(d){this._fire("onMouseOver",this._processMouseEvent(d))},_mouseOut:function(d){this._fire("onMouseOut",this._processMouseEvent(d))},_mouseDown:function(d){this._fire("onMouseDown",this._processMouseEvent(d))},_mouseUp:function(d){this._fire("onMouseUp",this._processMouseEvent(d))},_mouseClick:function(d){clearTimeout(this._clickTimer);300<(new Date).getTime()-this._touchStartTS?this._fire("onClick",
	this._processMouseEvent(d)):(this._clickEvent=d,this._clickTimer=setTimeout(this._fireClickEvent,this.doubleTapDuration))},_fireClickEvent:function(){clearTimeout(this._clickTimer);this._fire("onClick",this._processMouseEvent(this._clickEvent))},_fire:function(d,a){"onDblClick"===d&&clearTimeout(this._clickTimer);if("onDblClick"===d&&this.mouseEvents){this.mouseEvents.preventClickEvents(!0);var c=this;setTimeout(function(){c.mouseEvents.preventClickEvents(!1)},350)}if(this[d])this[d](a);if(this.map&&
	this.map[d])this.map[d](a)},_fixEvent:function(d){var a={},c;for(c in d)a[c]=d[c];this.map&&(a.screenPoint=a.screenPoints[0],a.mapPoint=a.mapPoints[0]);return a},_processTouchEvent:function(d,a){var c=this.map,e=c&&c.position,q=0;if(e&&a)if(b.isArray(a)){var t;d.screenPoints=[];d.mapPoints=[];for(t=0;t<a.length;t++)if(a[t]){var g=new f(a[t].pageX-e.x,a[t].pageY-e.y);d.screenPoints.push(g);d.mapPoints.push(c.extent?c.toMap(g):new h)}else q++}else d.screenPoint=new f(a.pageX-e.x,a.pageY-e.y),d.mapPoint=
	c.extent?c.toMap(d.screenPoint):new h;d.numPoints=a?b.isArray(a)?a.length-q:1:0;return d},_processMouseEvent:function(d){var a=this.map,c=a&&a.position;c&&(d.screenPoint=new f(d.pageX-c.x,d.pageY-c.y),d.mapPoint=a.extent?a.toMap(d.screenPoint):new h);return d},setImmediateTap:function(d){this._immediate=d},destroy:function(){var d=this.node;d.removeEventListener("touchstart",this._touchStart,!1);d.removeEventListener("touchmove",this._touchMove,!1);d.removeEventListener("touchend",this._touchEnd,
	!1);d.removeEventListener("touchcancel",this._touchCancel,!1);this.map&&(d.removeEventListener("mouseover",this._mouseOver,!1),d.removeEventListener("mouseout",this._mouseOut,!1),d.removeEventListener("mousedown",this._mouseDown,!1),d.removeEventListener("mouseup",this._mouseUp,!1),d.removeEventListener("click",this._mouseClick,!1));y.setSelectable(d,!0);clearTimeout(this._tapTimer);clearTimeout(this._clickTimer);this.node=this.map=this._numTouches=this._nodeTouches=this._touches=this._touchIds=this._taps=
	null}});w("extend-esri")&&(l.TouchEvents=C);return C})},"esri/PointerEvents":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ./kernel ./Evented ./geometry/Point ./geometry/ScreenPoint".split(" "),function(C,y,b,w,n,l,k,h){C=C([l],{declaredClass:"esri.PointerEvents",tapRadius:8,clickRadius:2,doubleTapRadius:10,tapStartTolerance:50,doubleTapDuration:300,minWheelValue:1,maxWheelValue:1,mozWheelDivisor:-1!==w("mac")?1:3,wheelDivisor:120,preventPageScroll:!0,_dragging:!1,
	constructor:function(f,d){this.node=f;y.mixin(this,d);void 0!==f.style.msTouchAction?f.style.msTouchAction="none":void 0!==f.style.touchAction&&(f.style.touchAction="none");d=navigator.msPointerEnabled;var a=function(c){c.preventDefault()};f.addEventListener("selectstart",a,!1);f.addEventListener("dragstart",a,!1);this._pointerDown=y.hitch(this,this._pointerDown);this._pointerMove=y.hitch(this,this._pointerMove);this._pointerUp=y.hitch(this,this._pointerUp);this._pointerCancel=y.hitch(this,this._pointerCancel);
	f.addEventListener(d?"MSPointerDown":"pointerdown",this._pointerDown,!1);f.addEventListener(d?"MSPointerMove":"pointermove",this._pointerMove,!1);f.addEventListener(d?"MSPointerUp":"pointerup",this._pointerUp,!1);f.addEventListener(d?"MSPointerCancel":"pointercancel",this._pointerCancel,!1);this.map&&(this._mouseOver=y.hitch(this,this._mouseOver),this._mouseOut=y.hitch(this,this._mouseOut),this._mouseLeave=y.hitch(this,this._mouseLeave),this._mouseDown=y.hitch(this,this._mouseDown),this._mouseUp=
	y.hitch(this,this._mouseUp),this._mouseClick=y.hitch(this,this._mouseClick),this._mouseWheel=y.hitch(this,this._mouseWheel),this._mouseMove=y.hitch(this,this._mouseMove),this._mouseEnter=y.hitch(this,this._mouseEnter),this._onKeyDown=y.hitch(this,this._onKeyDown),this._onKeyUp=y.hitch(this,this._onKeyUp),f.addEventListener("mouseover",this._mouseOver,!1),f.addEventListener("mouseout",this._mouseOut,!1),f.addEventListener("mouseleave",this._mouseLeave,!1),f.addEventListener("mousedown",this._mouseDown,
	!1),f.addEventListener("mouseup",this._mouseUp,!1),f.addEventListener("click",this._mouseClick,!1),f.addEventListener("mousewheel",this._mouseWheel,!1),f.addEventListener("mousemove",this._mouseMove,!1),f.addEventListener("mouseenter",this._mouseEnter,!1));this._numTouches=0;this._touches={};this._touchIds=[];this._taps=[];this._immediate=!1},_pointerDown:function(f){if(-1<b.indexOf(this._touchIds,f.pointerId))this._pointerUp(f);else{var d=this._touches,a=f.target,c=f.pointerId,e=this._touchIds,q=
	(new Date).getTime();var t=d[c]={};t.pointerId=c;t.startX=t.pageX=f.pageX;t.startY=t.pageY=f.pageY;t.startTS=q;e.push(c);this._numTouches++;a.setPointerCapture?a.setPointerCapture(c):a.msSetPointerCapture&&a.msSetPointerCapture(c);a=d[e[0]];d=d[e[1]];1!==this._numTouches&&(2===this._numTouches?this._swipeActive&&(a&&(a.startX=a.pageX,a.startY=a.pageY,a.moved=!1),this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(f,a))):this._swipeActive?(this._swipeActive=!1,this._fire("onSwipeEnd",
	this._processTouchEvent(f,a))):this._pinchActive&&(this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(f,[a,d]))))}},_pointerMove:function(f){var d=this._touches,a=this._touchIds,c;if((c=d[f.pointerId])&&(c.pageX!==f.pageX||c.pageY!==f.pageY)){c.pageX=f.pageX;c.pageY=f.pageY;var e=Math.abs(c.pageX-c.startX);var q=Math.abs(c.pageY-c.startY);!c.moved&&(e>=this.tapRadius||q>=this.tapRadius)&&(c.moved=c.absMoved=!0);if(1===this._numTouches)this._swipeActive?this._fire("onSwipeMove",this._processTouchEvent(f,
	f)):c.moved&&(this._swipeActive=!0,this._fire("onSwipeStart",this._processTouchEvent(f,f)));else if(2===this._numTouches)if(c=d[a[0]],d=d[a[1]],this._pinchActive)this._fire("onPinchMove",this._processTouchEvent(f,[c,d]));else if(c.moved||d.moved){a=Math.abs(c.startX-d.startX);e=Math.abs(c.startY-d.startY);q=Math.abs(c.pageX-d.pageX);var t=Math.abs(c.pageY-d.pageY);Math.abs(Math.sqrt(q*q+t*t)-Math.sqrt(a*a+e*e))>=2*this.tapRadius&&(this._pinchActive=!0,this._fire("onPinchStart",this._processTouchEvent(f,
	[c,d])))}}},_pointerUp:function(f){var d=this._touches,a,c=this.node,e=f.target,q=f.pointerId,t=this._touchIds,g=t.slice(0),p=b.map(g,function(m){return d[m]}),x=(new Date).getTime();if(a=d[q])if(a.pageX=f.pageX,a.pageY=f.pageY,a.endTS=x,this._numTouches--,e.releasePointerCapture?e.releasePointerCapture(q):e.msReleasePointerCapture&&e.msReleasePointerCapture(q),0===this._numTouches)if(this._touches={},this._touchIds=[],this._swipeActive)this._swipeActive=!1,this._fire("onSwipeEnd",this._processTouchEvent(f,
	f));else if(this._pinchActive)this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(f,f));else{if(!a.absMoved){e=Infinity;q=-Infinity;t=Infinity;x=-Infinity;var u=this.tapStartTolerance,A;for(A=0;A<g.length;A++)a=p[A],a.startTS<e&&(e=a.startTS),a.startTS>q&&(q=a.startTS),a.endTS<t&&(t=a.endTS),a.endTS>x&&(x=a.endTS);Math.abs(q-e)<=u&&Math.abs(x-t)<=u&&this._basicTap(f,p)}}else 1===this._numTouches&&this._pinchActive&&(t.splice(b.indexOf(t,f.pointerId),1),delete d[f.pointerId],a=d[t[0]],
	a.startX=a.pageX,a.startY=a.pageY,a.moved=!1,document.msElementsFromPoint&&(g=document.msElementsFromPoint(a.pageX,a.pageY),b.some(g,function(m){return m===c})||(this._touches={},this._touchIds=[],this._numTouches=0)),this._pinchActive=!1,this._fire("onPinchEnd",this._processTouchEvent(f,[f,a])))},_pointerCancel:function(f){this._numTouches&&this._pointerUp(f)},_basicTap:function(f,d){var a=(new Date).getTime(),c=this,e=this._immediate;f=this._processTouchEvent(f,d);this._taps.push({touchInfos:d,
	ts:a,event:f});2<this._taps.length&&this._taps.shift();this._fire("onBasicTap",f);clearTimeout(this._tapTimer);f=2===this._taps.length?this.doubleTapDuration/2:this.doubleTapDuration;this._tapTimer=setTimeout(function(){var q=c;c=null;clearTimeout(q._tapTimer);q._analyzeTap(e)},e?0:f)},_analyzeTap:function(f){var d=this._taps,a=d[0],c=d[1],e=a.touchInfos,q=c&&c.touchInfos;d.length&&(f||(this._taps=[]),a&&c?e.length===q.length?c.ts-a.ts<=this.doubleTapDuration?(1===e.length?(f=Math.abs(e[0].startX-
	q[0].startX),e=Math.abs(e[0].startY-q[0].startY),e=f<=this.doubleTapRadius&&e<=this.doubleTapRadius):e=!0,e?this._processedDoubleTap(d):this._processedTap(c)):this._processedTap(c):this._processedTap(c):this._processedTap(a||c))},_processedTap:function(f){var d=f.event;this._fire("onProcessedTap",d);1===f.touchInfos.length?this._fire("onTap",this._fixEvent(d)):2===f.touchInfos.length&&this._fire("onTwoFingerTap",d)},_processedDoubleTap:function(f){var d=1===f[1].touchInfos.length;if(d){var a=[this._fixEvent(f[0].event),
	this._fixEvent(f[1].event)];a[1].relatedEvents=a}f=[f[0].event,f[1].event];f[1].relatedEvents=f;this._fire("onProcessedDoubleTap",f[1]);d&&(this._fire("onDoubleTap",a[1]),this._fire("onDblClick",a[1]))},_mouseOver:function(f){this._fire("onMouseOver",this._processMouseEvent(f))},_mouseMove:function(f){this._dragging?this._fire("onMouseDrag",this._processMouseEvent(f)):this._fire("onMouseMove",this._processMouseEvent(f))},_mouseOut:function(f){this._fire("onMouseOut",this._processMouseEvent(f))},_mouseLeave:function(f){document.removeEventListener("keydown",
	this._onKeyDown,!1);document.removeEventListener("keyup",this._onKeyUp,!1);this._fire("onMouseOut",this._processMouseEvent(f))},_mouseDown:function(f){this._downX=f.pageX;this._downY=f.pageY;this._fire("onMouseDown",this._processMouseEvent(f));0===f.button&&(this._dragging=!0,this._fire("onMouseDragStart",this._processMouseEvent(f)))},_mouseUp:function(f){this._dragging&&(this._dragging=!1,this._fire("onMouseDragEnd",this._processMouseEvent(f)));this._fire("onMouseUp",this._processMouseEvent(f))},
	_mouseClick:function(f){Math.abs(f.pageX-this._downX)<=this.clickRadius&&Math.abs(f.pageY-this._downY)<=this.clickRadius&&this._fire("onClick",this._processMouseEvent(f))},_mouseWheel:function(f){var d=this.map;(d?d.isScrollWheelZoom||d.isScrollWheelPan:this.preventPageScroll)&&f.preventDefault();d=f.wheelDelta?f.wheelDelta/this.wheelDivisor:-f.detail/this.mozWheelDivisor;var a=Math.abs(d);a=a<=this.minWheelValue?this.minWheelValue:this.maxWheelValue;f.value=0>d?-a:a;this._fire("onMouseWheel",this._processMouseEvent(f))},
	_mouseEnter:function(f){document.removeEventListener("keydown",this._onKeyDown,!1);document.removeEventListener("keyup",this._onKeyUp,!1);document.addEventListener("keydown",this._onKeyDown,!1);document.addEventListener("keyup",this._onKeyUp,!1);this._fire("onMouseEnter",this._processMouseEvent(f))},_onKeyDown:function(f){this._fire("onKeyDown",f)},_onKeyUp:function(f){this._fire("onKeyUp",f)},_fire:function(f,d){if(this[f])this[f](d);if(this.map&&this.map[f])this.map[f](d)},_fixEvent:function(f){var d=
	{},a;for(a in f)d[a]=f[a];d.preventDefault=function(){f.preventDefault()};d.stopPropagation=function(){f.stopPropagation()};this.map&&(d.screenPoint=d.screenPoints[0],d.mapPoint=d.mapPoints[0]);return d},_processTouchEvent:function(f,d){var a=this.map,c=a&&a.position,e=0;if(c&&d)if(y.isArray(d)){var q;f.screenPoints=[];f.mapPoints=[];for(q=0;q<d.length;q++)if(d[q]){var t=new h(d[q].pageX-c.x,d[q].pageY-c.y);f.screenPoints.push(t);f.mapPoints.push(a.extent?a.toMap(t):new k)}else e++}else f.screenPoint=
	new h(d.pageX-c.x,d.pageY-c.y),f.mapPoint=a.extent?a.toMap(f.screenPoint):new k;f.numPoints=d?y.isArray(d)?d.length-e:1:0;return f},_processMouseEvent:function(f){var d=this.map,a=d&&d.position;a&&(f.screenPoint=new h(f.pageX-a.x,f.pageY-a.y),f.mapPoint=d.extent?d.toMap(f.screenPoint):new k);return f},setImmediateTap:function(f){this._immediate=f},destroy:function(){var f=this.node;f.removeEventListener("MSPointerDown",this._pointerDown,!1);f.removeEventListener("MSPointerMove",this._pointerMove,
	!1);f.removeEventListener("MSPointerUp",this._pointerUp,!1);f.removeEventListener("MSPointerCancel",this._pointerCancel,!1);this.map&&(f.removeEventListener("mouseover",this._mouseOver,!1),f.removeEventListener("mousemove",this._mouseMove,!1),f.removeEventListener("mouseout",this._mouseOut,!1),f.removeEventListener("mouseleave",this._mouseLeave,!1),f.removeEventListener("mousedown",this._mouseDown,!1),f.removeEventListener("mouseup",this._mouseUp,!1),f.removeEventListener("click",this._mouseClick,
	!1),f.removeEventListener("mouseenter",this._mouseEnter,!1));clearTimeout(this._tapTimer);this.node=this.map=this._numTouches=this._touches=this._touchIds=this._taps=null}});w("extend-esri")&&(n.PointerEvents=C);return C})},"esri/geometry":function(){define("./units ./SpatialReference ./geometry/Geometry ./geometry/Point ./geometry/ScreenPoint ./geometry/Multipoint ./geometry/Polyline ./geometry/Polygon ./geometry/Extent ./geometry/Rect ./geometry/geodesicUtils ./geometry/jsonUtils ./geometry/mathUtils ./geometry/normalizeUtils ./geometry/scaleUtils ./geometry/screenUtils ./geometry/webMercatorUtils".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p){return{units:C,SpatialReference:y,Geometry:b,Point:w,ScreenPoint:n,Multipoint:l,Polyline:k,Polygon:h,Extent:f,Rect:d,geodesicUtils:a,jsonUtils:c,mathUtils:e,normalizeUtils:q,scaleUtils:t,screenUtils:g,webMercatorUtils:p}})},"esri/units":function(){define(["dojo/has","./kernel"],function(C,y){var b={CENTIMETERS:"esriCentimeters",DECIMAL_DEGREES:"esriDecimalDegrees",DEGREE_MINUTE_SECONDS:"esriDegreeMinuteSeconds",DECIMETERS:"esriDecimeters",FEET:"esriFeet",
	FEET_US:"esriFeetUS",INCHES:"esriInches",KILOMETERS:"esriKilometers",METERS:"esriMeters",MILES:"esriMiles",MILES_US:"esriMilesUS",MILLIMETERS:"esriMillimeters",NAUTICAL_MILES:"esriNauticalMiles",POINTS:"esriPoints",UNKNOWN:"esriUnknownUnits",YARDS:"esriYards",YARDS_US:"esriYardsUS",ACRES:"esriAcres",ACRES_US:"esriAcresUS",ARES:"esriAres",SQUARE_KILOMETERS:"esriSquareKilometers",SQUARE_MILES:"esriSquareMiles",SQUARE_MILES_US:"esriSquareMilesUS",SQUARE_FEET:"esriSquareFeet",SQUARE_FEET_US:"esriSquareFeetUS",
	SQUARE_METERS:"esriSquareMeters",HECTARES:"esriHectares",SQUARE_YARDS:"esriSquareYards",SQUARE_YARDS_US:"esriSquareYardsUS",SQUARE_INCHES:"esriSquareInches",SQUARE_MILLIMETERS:"esriSquareMillimeters",SQUARE_CENTIMETERS:"esriSquareCentimeters",SQUARE_DECIMETERS:"esriSquareDecimeters",SQUARE_NAUTICAL_MILES:"esriSquareNauticalMiles",METERS_PER_SECOND:"esriMetersPerSecond",KILOMETERS_PER_HOUR:"esriKilometersPerHour",KNOTS:"esriKnots",FEET_PER_SECOND:"esriFeetPerSecond",MILES_PER_HOUR:"esriMilesPerHour",
	RADIANS:"esriDURadians"};C("extend-esri")&&(y.Units=b);return b})},"esri/geometry/geodesicUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/has ../kernel ../SpatialReference ./Point ./Polyline ./Polygon".split(" "),function(C,y,b,w,n,l,k,h){function f(x){return!!(x&&x.wkid&&p[x.wkid])}function d(x){return f(x)?p[x.wkid]:p[4326]}function a(x){var u=x.spatialReference,A=d(u),m=A.a;A=A.eSq;var v=Math.sqrt(A),r=Math.sin(x.y*g);return new l(m*x.x*g,0<A?m*(1-A)*(r/(1-A*r*r)-1/(2*v)*Math.log((1-
	v*r)/(1+v*r)))*.5:m*r,u)}function c(x,u,A,m,v){var r=d(v),B=r.a,D=r.b;r=r.f;var G=Math.sin(A);A=Math.cos(A);var z=(1-r)*Math.tan(x);x=1/Math.sqrt(1+z*z);var E=z*x,H=Math.atan2(z,A);z=x*G;var I=z*z,O=1-I;B=O*(B*B-D*D)/(D*D);var T=1+B/16384*(4096+B*(-768+B*(320-175*B))),Z=B/1024*(256+B*(-128+B*(74-47*B)));B=m/(D*T);for(var ia=2*Math.PI,ca,W,ha,ma;1E-12<Math.abs(B-ia);)ha=Math.cos(2*H+B),ca=Math.sin(B),W=Math.cos(B),ma=Z*ca*(ha+Z/4*(W*(-1+2*ha*ha)-Z/6*ha*(-3+4*ca*ca)*(-3+4*ha*ha))),ia=B,B=m/(D*T)+ma;
	m=E*ca-x*W*A;D=r/16*O*(4+r*(4-3*O));return new l((u+(Math.atan2(ca*G,x*W-E*ca*A)-(1-D)*r*z*(B+D*ca*(ha+D*W*(-1+2*ha*ha)))))/g,Math.atan2(E*W+x*ca*A,(1-r)*Math.sqrt(I+m*m))/g,v)}function e(x,u,A,m,v){var r=d(v),B=r.a;v=r.b;var D=r.f,G=m-u,z=Math.atan((1-D)*Math.tan(x)),E=Math.atan((1-D)*Math.tan(A)),H=Math.sin(z);z=Math.cos(z);var I=Math.sin(E);E=Math.cos(E);var O=G,T=1E3;do{var Z=Math.sin(O);var ia=Math.cos(O);var ca=Math.sqrt(E*Z*E*Z+(z*I-H*E*ia)*(z*I-H*E*ia));if(0===ca)return 0;ia=H*I+z*E*ia;var W=
	Math.atan2(ca,ia);var ha=z*E*Z/ca;var ma=1-ha*ha;Z=ia-2*H*I/ma;isNaN(Z)&&(Z=0);var xa=D/16*ma*(4+D*(4-3*ma));var K=O;O=G+(1-xa)*D*ha*(W+xa*ca*(Z+xa*ia*(-1+2*Z*Z)))}while(1E-12<Math.abs(O-K)&&0<--T);if(0===T)return v=m-u,{azimuth:Math.atan2(Math.sin(v)*Math.cos(A),Math.cos(x)*Math.sin(A)-Math.sin(x)*Math.cos(A)*Math.cos(v)),geodesicDistance:Math.acos(Math.sin(x)*Math.sin(A)+Math.cos(x)*Math.cos(A)*Math.cos(m-u))*r.radius};x=ma*(B*B-v*v)/(v*v);u=x/1024*(256+x*(-128+x*(74-47*x)));return{azimuth:Math.atan2(E*
	Math.sin(O),z*I-H*E*Math.cos(O)),geodesicDistance:v*(1+x/16384*(4096+x*(-768+x*(320-175*x))))*(W-u*ca*(Z+u/4*(ia*(-1+2*Z*Z)-u/6*Z*(-3+4*ca*ca)*(-3+4*Z*Z)))),reverseAzimuth:Math.atan2(z*Math.sin(O),z*I*Math.cos(O)-H*E)}}function q(x,u){if(!(x instanceof k||x instanceof h))throw console.error("_geodesicDensify: the input geometry is neither polyline nor polygon"),Error("_geodesicDensify: the input geometry is neither polyline nor polygon");var A=x.spatialReference,m=d(A).radius/1E4;u<m&&(u=m);m=x instanceof
	k;var v=[],r;C.forEach(m?x.paths:x.rings,function(B){v.push(r=[]);r.push([B[0][0],B[0][1]]);var D,G;var z=B[0][0]*g;var E=B[0][1]*g;for(D=0;D<B.length-1;D++){var H=B[D+1][0]*g;var I=B[D+1][1]*g;if(z!==H||E!==I){I=e(E,z,I,H,A);H=I.azimuth;I=I.geodesicDistance;var O=I/u;if(1<O){for(G=1;G<=O-1;G++){var T=c(E,z,H,G*u,A);r.push([T.x,T.y])}G=c(E,z,H,(I+Math.floor(O-1)*u)/2,A);r.push([G.x,G.y])}E=c(E,z,H,I,A);r.push([E.x,E.y]);z=E.x*g;E=E.y*g}}});return m?new k({paths:v,spatialReference:A}):new h({rings:v,
	spatialReference:A})}var t={esriMeters:1,esriKilometers:1E3,esriYards:.9144,esriFeet:.3048,esriMiles:1609.344,esriNauticalMiles:1852,esriInches:.0254,esriDecimeters:.1,esriCentimeters:.01,esriMillimeters:.001,esriSquareMeters:1,esriSquareKilometers:1E6,esriSquareYards:.83612736,esriSquareFeet:.09290304,esriSquareMiles:2589988.110336,esriAcres:4046.8564224,esriHectares:1E4,esriAres:100,esriSquareInches:6.4516E-4,esriSquareMillimeters:1E-6,esriSquareCentimeters:1E-4,esriSquareDecimeters:.01},g=Math.PI/
	180,p={4326:{a:6378137,b:6356752.31424518,f:1/298.257223563,eSq:.006694379990197414,radius:6371008.771415059},104900:{a:2439700,b:2439700,f:0,eSq:0,radius:2439700},104901:{a:6051E3,b:6051E3,f:0,eSq:0,radius:6051E3},104902:{a:6051800,b:6051800,f:0,eSq:0,radius:6051800},104903:{a:1737400,b:1737400,f:0,eSq:0,radius:1737400},104904:{a:3393400,b:3375730,f:1/192.04301075,eSq:.01038722,radius:3387510},104905:{a:3396190,b:3376200,f:1/169.89444722,eSq:.01173737,radius:3389526.6666666665},104906:{a:6200,b:6200,
	f:0,eSq:0,radius:6200},104907:{a:11100,b:11100,f:0,eSq:0,radius:11100},104912:{a:2409300,b:2409300,f:0,eSq:0,radius:2409300},104915:{a:1562090,b:1562090,f:0,eSq:0,radius:1562090},104916:{a:2632345,b:2632345,f:0,eSq:0,radius:2632345},104918:{a:1821460,b:1821460,f:0,eSq:0,radius:1821460},104929:{a:249400,b:249400,f:0,eSq:0,radius:249400},104943:{a:2575E3,b:2575E3,f:0,eSq:0,radius:2575E3},104971:{a:3396190,b:3396190,f:0,eSq:0,radius:3396190},104972:{a:47E4,b:47E4,f:0,eSq:0,radius:47E4},104973:{a:255E3,
	b:255E3,f:0,eSq:0,radius:255E3},104974:{a:2439400,b:2439400,f:0,eSq:0,radius:2439400}};n={isSupported:f,getSpheroidInfo:d,geodesicDensify:q,geodesicLengths:function(x,u){var A=[];C.forEach(x,function(m,v){var r=0,B=m.spatialReference;C.forEach(m.paths,function(D,G){G=0;var z;for(z=1;z<D.length;z++){var E=D[z-1][0]*g;var H=D[z][0]*g;var I=D[z-1][1]*g;var O=D[z][1]*g;if(I!==O||E!==H)E=e(I,E,O,H,B),G+=E.geodesicDistance}r+=G});r/=t[u];A.push(r)});return A},geodesicAreas:function(x,u){var A=[],m=[];C.forEach(x,
	function(v,r){r=.0015696101447650193*d(v.spatialReference).radius;A.push(q(v,r))});C.forEach(A,function(v,r){var B=0,D=v.spatialReference;C.forEach(v.rings,function(G,z){z=a(new l(G[0][0],G[0][1],D));var E=a(new l(G[G.length-1][0],G[G.length-1][1],D)),H=E.x*z.y-z.x*E.y,I;for(I=0;I<G.length-1;I++)z=a(new l(G[I+1][0],G[I+1][1],D)),E=a(new l(G[I][0],G[I][1],D)),H+=E.x*z.y-z.x*E.y;B+=H});B/=t[u];m.push(B/-2)});return m},_unitsDictionary:t,_toEqualAreaPoint:a,_directGeodeticSolver:c,_inverseGeodeticSolver:e};
	b("extend-esri")&&y.mixin(y.getObject("geometry",!0,w),n);return n})},"esri/symbol":function(){define("./symbols/Symbol ./symbols/MarkerSymbol ./symbols/SimpleMarkerSymbol ./symbols/PictureMarkerSymbol ./symbols/LineSymbol ./symbols/SimpleLineSymbol ./symbols/CartographicLineSymbol ./symbols/FillSymbol ./symbols/SimpleFillSymbol ./symbols/PictureFillSymbol ./symbols/Font ./symbols/TextSymbol ./symbols/jsonUtils".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c,e){return{Symbol:C,MarkerSymbol:y,SimpleMarkerSymbol:b,
	PictureMarkerSymbol:w,LineSymbol:n,SimpleLineSymbol:l,CartographicLineSymbol:k,FillSymbol:h,SimpleFillSymbol:f,PictureFillSymbol:d,Font:a,TextSymbol:c,jsonUtils:e}})},"esri/renderer":function(){define("./renderers/Renderer ./renderers/SimpleRenderer ./renderers/UniqueValueRenderer ./renderers/ClassBreaksRenderer ./renderers/TemporalRenderer ./renderers/SymbolAger ./renderers/TimeClassBreaksAger ./renderers/TimeRampAger ./renderers/StretchRenderer ./renderers/jsonUtils".split(" "),function(C,y,b,w,
	n,l,k,h,f,d){return{Renderer:C,SimpleRenderer:y,UniqueValueRenderer:b,ClassBreaksRenderer:w,TemporalRenderer:n,SymbolAger:l,TimeClassBreaksAger:k,TimeRampAger:h,StretchRenderer:f,jsonUtils:d}})},"esri/renderers/Renderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has dojox/gfx/_base ../kernel ../Color ../layers/support/attributeUtils ../support/expressionUtils ../arcadeProfiles/visualizationProfile".split(" "),function(C,y,b,w,n,l,k,h,f,d){var a=Math.PI;C=C(null,{declaredClass:"esri.renderer.Renderer",
	constructor:function(c){this._cache={};if(c&&!c.declaredClass){this.rotationInfo=c.rotationInfo;if(!this.rotationInfo){var e=c.rotationType,q=c.rotationExpression;if(e||q)this.rotationInfo={type:e,expression:q}}this.setRotationInfo(this.rotationInfo);this.setSizeInfo(this._readSizeInfo(c.sizeInfo));this.setColorInfo(this._readColorInfo(c.colorInfo));this.setOpacityInfo(this._readOpacityInfo(c.transparencyInfo));this.setVisualVariables(this._readVariables(c.visualVariables));this.setAuthoringInfo(c.authoringInfo)}this.getSymbol=
	y.hitch(this,this.getSymbol)},getSymbol:function(c){},_readSizeInfo:function(c){if(c){var e=c.minSize,q=c.maxSize;e&&(c.minSize="number"===typeof e?n.pt2px(e):this._readSizeInfo(e));q&&(c.maxSize="number"===typeof q?n.pt2px(q):this._readSizeInfo(q));c.stops&&b.forEach(c.stops,function(t){t.size&&"number"===typeof t.size&&(t.size=n.pt2px(t.size))})}return c},_readColorInfo:function(c){c&&(b.forEach(c.colors,function(e,q){y.isArray(e)&&(c.colors[q]=k.toDojoColor(e))}),b.forEach(c.stops,function(e,q){e.color&&
	y.isArray(e.color)&&(c.stops[q].color=k.toDojoColor(e.color))}));return c},_readOpacityInfo:function(c){if(c){var e=y.mixin({},c);e.transparencyValues&&(e.opacityValues=b.map(e.transparencyValues,function(q){return 1-q/100}),delete e.transparencyValues);e.stops&&(e.stops=b.map(e.stops,function(q){q=y.mixin({},q);q.opacity=1-q.transparency/100;delete q.transparency;return q}))}return e},_readVariables:function(c){c&&(c=b.map(c,function(e){"sizeInfo"===e.type?e=this._readSizeInfo(e):"colorInfo"===e.type?
	e=this._readColorInfo(e):"transparencyInfo"===e.type&&(e=this._readOpacityInfo(e),e.type="opacityInfo");return e},this));return c},setAuthoringInfo:function(c){this.authoringInfo=c},setRotationInfo:function(c){if(c=this.rotationInfo="string"===typeof c?{field:c}:c){if(c.expression&&!y.isFunction(c.expression)&&!c.field){var e=c.expression.match(this.rotationRE);e&&e[1]&&(c.field=e[1])}c.rotationType=c.type}this._cache.rotationInfo=this._processRotationInfo(c);return this},rotationRE:/^\[([^\]]+)\]$/i,
	_processRotationInfo:function(c){c&&!c.rotationType&&(c.rotationType="geographic");return this._createCache(c)},getRotationAngle:function(c,e){var q=this._getVarInfo(e&&e.rotationInfo,"rotationInfo");e=q.variable;q=this._cache[q.cacheKey];var t="arithmetic"===this._getRotationType(e),g=q&&q.hasExpr,p=null;if(e.field||g)p=this._getDataValue(c,e,null,q),null!=p&&(p=(p+(t?-90:0))*(t?-1:1));return p},_getRotationType:function(c){return c&&("rotationInfo"===c.type?c.rotationType:c.type)},_getDataValue:function(c,
	e,q,t,g){t||(t=this._getVarInfo(e,q),e=t.variable,t=this._cache[t.cacheKey],"sizeInfo"===q&&(t=t.root));return c._getDataValue(e,t,f,g)},setVisualVariables:function(c){var e=this._cache;b.forEach(this.visualVariables,function(q,t){e.hasOwnProperty(t)&&(e[t]=null)},this);this.visualVariables=c;b.some(c,function(q){return!!q.target})&&c.sort(function(q,t){return q.target===t.target?0:q.target?1:-1});b.forEach(c,function(q,t){"colorInfo"===q.type?e[t]=this._processColorInfo(q):"opacityInfo"===q.type?
	e[t]=this._processOpacityInfo(q):"sizeInfo"===q.type?e[t]=this._processSizeInfo(q):"rotationInfo"===q.type&&(e[t]=this._processRotationInfo(q))},this);return this},getVisualVariableValues:function(c){var e=this.visualVariables,q;e&&(q=b.map(e,function(t){switch(t.type){case "sizeInfo":var g=this.getSize(c,{sizeInfo:t});break;case "colorInfo":g=this.getColor(c,{colorInfo:t});break;case "opacityInfo":g=this.getOpacity(c,{opacityInfo:t});break;case "rotationInfo":g=this.getRotationAngle(c,{rotationInfo:t})}return{variable:t,
	value:g}},this));return q},getFieldsUsedInExpressions:function(){var c=[];b.forEach(this._getCacheObjects(),function(e){e.syntaxTree&&(c=c.concat(f.extractFieldNames(e.syntaxTree)))});c.sort();return b.filter(c,function(e,q){return 0===q||c[q-1]!==e})},hasGeometryOperations:function(){return b.some(this._getCacheObjects(),function(c){return c.syntaxTree?f.hasGeometryOperations(c.syntaxTree):!1})},initializeArcadeEngine:function(){var c=[];b.forEach(this._getCacheObjects(),function(e){e.syntaxTree&&
	c.push(e.syntaxTree)});return d.initialize(c)},hasVisualVariables:function(c,e){return c?!!this.getVisualVariablesForType(c,e):!!(this.getVisualVariablesForType("sizeInfo",e)||this.getVisualVariablesForType("colorInfo",e)||this.getVisualVariablesForType("opacityInfo",e)||this.getVisualVariablesForType("rotationInfo",e))},getVisualVariablesForType:function(c,e){var q=this.visualVariables;if(!e&&this[c]){"rotationInfo"===c&&(this[c].rotationType=this[c].type);var t=[this[c]]}else q&&(t=b.filter(q,function(g){return g.type===
	c&&("string"===typeof e?g.target===e:!1===e?!g.target:!0)}))&&0===t.length&&(t=void 0);return t},setSizeInfo:function(c){this.sizeInfo=this.proportionalSymbolInfo=c;this._cache.sizeInfo=this._processSizeInfo(c);return this},_processSizeInfo:function(c){return c&&{root:this._createCache(c),minSize:this._createCache(c.minSize),maxSize:this._createCache(c.maxSize)}},_convertExpressionToArcade:function(c){c&&c.expression&&(c.valueExpression="$view.scale")},_getVarInfo:function(c,e){if(c&&c.type===e){var q=
	b.indexOf(this.visualVariables,c);c=this.visualVariables[q]}else q=e,c=this[e];return{variable:c,cacheKey:q}},setProportionalSymbolInfo:function(c){this.setSizeInfo(c);return this},getSize:function(c,e){var q=this._getVarInfo(e&&e.sizeInfo,"sizeInfo"),t=q.variable;q=this._cache[q.cacheKey];var g=null;if(t){var p=t.minSize;g=t.maxSize;p="object"===typeof p&&p?this._getSize(c,p,q&&q.minSize,e):p;g="object"===typeof g&&g?this._getSize(c,g,q&&q.maxSize,e):g;g=this._getSize(c,t,q&&q.root,e,[p,g])}return g},
	_getSize:function(c,e,q,t,g){var p=e.stops,x=0,u=q&&q.hasExpr,A=q&&q.ipData,m=q&&q.isScaleDriven,v="object"===typeof c&&!!c,r="number"===typeof c?c:null;if(e.field||m||u){var B=t&&t.scale;u=g?g[0]:e.minSize;g=g?g[1]:e.maxSize;var D=e.minDataValue,G=e.maxDataValue,z=e.valueUnit||"unknown",E=e.valueRepresentation,H=e.scaleBy,I=t&&t.shape;m?r=B:"number"!==typeof r&&v&&(r=this._getDataValue(c,e,null,q));if(!this._isValidNumber(r))return null;if(p)u=this._lookupData(r,A),r=u[0],g=u[1],r===g?x=p[r].size:
	(r=p[r].size,p=p[g].size,x=r+(p-r)*u[2]);else if(null!=u&&null!=g&&null!=D&&null!=G)r<=D?x=u:r>=G?x=g:(p=(r-D)/(G-D),"area"===H&&I?(u=(r="circle"===I)?a*Math.pow(u/2,2):u*u,p=u+p*((r?a*Math.pow(g/2,2):g*g)-u),x=r?2*Math.sqrt(p/a):Math.sqrt(p)):x=u+p*(g-u));else if("unknown"===z)null!=u&&null!=D&&(u&&D?(p=r/D,x="circle"===I?2*Math.sqrt(p*Math.pow(u/2,2)):"square"===I||"diamond"===I||"image"===I?Math.sqrt(p*Math.pow(u,2)):p*u):x=r+(u||D),x=x<u?u:x,null!=g&&x>g&&(x=g));else{p=(t&&t.resolution?t.resolution:
	1)*this._meterIn[z];if("area"===E)x=Math.sqrt(r/a)/p,x*=2;else if(x=r/p,"radius"===E||"distance"===E)x*=2;null!=u&&x<u&&(x=u);null!=g&&x>g&&(x=g)}}else x=p&&p[0]&&p[0].size,null==x&&(x=e.minSize);return x=isNaN(x)?0:x},getSizeRangeAtScale:function(c,e){c=this._getVarInfo(c,"sizeInfo");var q=this._cache[c.cacheKey],t={scale:e};if((c=c.variable)&&e){var g=c.minSize;e=c.maxSize;var p=c.stops;p&&p.length?(c=p[0].size,q=p[p.length-1].size):(c="object"===typeof g&&g?this._getSize({},g,q&&q.minSize,t):g,
	q="object"===typeof e&&e?this._getSize({},e,q&&q.maxSize,t):e);if(null!=c||null!=q){if(c>q){var x=q;q=c;c=x}x={minSize:c,maxSize:q}}}return x},setColorInfo:function(c){this.colorInfo=c;this._cache.colorInfo=this._processColorInfo(c);return this},_createCache:function(c,e){if(e=h.createAttributeCache(c,e))e.ipData=this._interpolateData(c);return e},_getCacheObjects:function(c){var e;c=c||this._cache;var q=[];for(e in c){var t=c[e];c.hasOwnProperty(e)&&t&&"object"===typeof t&&(t.hasOwnProperty("idSource")?
	q.push(t):q=q.concat(this._getCacheObjects(t)))}return q},_processColorInfo:function(c){c&&(b.forEach(c.colors,function(e,q){y.isArray(e)&&(c.colors[q]=new k(e))}),b.forEach(c.stops,function(e,q){e.color&&y.isArray(e.color)&&(c.stops[q].color=new k(e.color))}));return this._createCache(c)},getColor:function(c,e){e=this._getVarInfo(e&&e.colorInfo,"colorInfo");return this._getColorComponent(c,e.variable,this._cache[e.cacheKey])},setOpacityInfo:function(c){this.opacityInfo=c;this._cache.opacityInfo=
	this._processOpacityInfo(c);return this},_processOpacityInfo:function(c){return this._createCache(c)},getOpacity:function(c,e){e=this._getVarInfo(e&&e.opacityInfo,"opacityInfo");return this._getColorComponent(c,e.variable,this._cache[e.cacheKey],!0)},_getColorComponent:function(c,e,q,t,g){var p="number"===typeof c?c:null,x=q&&q.hasExpr,u=q&&q.ipData,A;e&&e.field||x?("number"!==typeof p&&"object"===typeof c&&c&&(p=this._getDataValue(c,e,null,q)),this._isValidNumber(p)||(p=null),null!=p&&(A=t?this._getOpacity(p,
	e,u):this._getColor(p,e,u))):e&&(c=e.stops,t?(A=c&&c[0]&&c[0].opacity,null==A&&(A=e.opacityValues&&e.opacityValues[0])):A=c&&c[0]&&c[0].color||e.colors&&e.colors[0]);g&&(g.data=p,g.value=A);return g||A},_isValidNumber:function(c){return"number"===typeof c&&!isNaN(c)&&Infinity!==c&&-Infinity!==c},_interpolateData:function(c){if(c)if(c.colors||c.opacityValues){var e=(c.colors||c.opacityValues).length,q=c.minDataValue,t=(c.maxDataValue-q)/(e-1);var g=[];for(c=0;c<e;c++)g[c]=q+c*t}else c.stops&&(g=b.map(c.stops,
	function(p){return p.value}));return g},_getOpacity:function(c,e,q){c=this._lookupData(c,q);e=e||this.opacityInfo;if(c){q=c[0];var t=c[1];q===t?t=this._getOpacValue(e,q):(q=this._getOpacValue(e,q),e=this._getOpacValue(e,t),t=q+(e-q)*c[2])}return t},_getOpacValue:function(c,e){return c.opacityValues?c.opacityValues[e]:c.stops[e].opacity},_getColor:function(c,e,q){c=this._lookupData(c,q);e=e||this.colorInfo;if(c){var t=c[0];q=c[1];t=t===q?this._getColorObj(e,t):k.blendColors(this._getColorObj(e,t),
	this._getColorObj(e,q),c[2])}return t},_getColorObj:function(c,e){return c.colors?c.colors[e]:c.stops[e].color},_lookupData:function(c,e){if(e){var q=0,t=e.length-1;b.some(e,function(p,x){if(c<p)return t=x,!0;q=x;return!1});var g=[q,t,(c-e[q])/(e[t]-e[q])]}return g},_meterIn:{inches:1/.0254,feet:1/.3048,yards:1/.9144,miles:1/1609.344,"nautical-miles":1/1852,millimeters:1E3,centimeters:100,decimeters:10,meters:1,kilometers:.001,"decimal-degrees":180/20015077},_writeSizeInfo:function(c){if(c){c=y.mixin({},
	c);this._convertExpressionToArcade(c);var e=c.minSize,q=c.maxSize;e&&(c.minSize="number"===typeof e?n.px2pt(e):this._writeSizeInfo(e));q&&(c.maxSize="number"===typeof q?n.px2pt(q):this._writeSizeInfo(q));if(e=c.legendOptions)if(c.legendOptions=y.mixin({},e),e=e.customValues)c.legendOptions.customValues=e.slice(0);c.stops&&(c.stops=b.map(c.stops,function(t){t=y.mixin({},t);t.size&&"number"===typeof t.size&&(t.size=n.px2pt(t.size));return t}))}return c},_writeColorInfo:function(c){c&&(c=y.mixin({},
	c),c.colors&&(c.colors=b.map(c.colors,function(e){return k.toJsonColor(e)})),c.stops&&(c.stops=b.map(c.stops,function(e){e=y.mixin({},e);e.color&&(e.color=k.toJsonColor(e.color));return e})),c.legendOptions&&(c.legendOptions=y.mixin({},c.legendOptions)));return c},_writeOpacityInfo:function(c){if(c){var e=y.mixin({},c);e.opacityValues&&(e.transparencyValues=b.map(e.opacityValues,function(q){return 100*(1-q)}),delete e.opacityValues);e.stops&&(e.stops=b.map(e.stops,function(q){q=y.mixin({},q);q.transparency=
	100*(1-q.opacity);delete q.opacity;return q}));e.legendOptions&&(e.legendOptions=y.mixin({},e.legendOptions))}return e},toJson:function(c){var e=this.visualVariables,q=y.clone(this.authoringInfo),t=c&&c.useLegacyRotationProperties,g=(c=(c=this.getVisualVariablesForType("rotationInfo",!1))&&c[0])&&c.field,p;c&&(c===this.rotationInfo||t)&&(p=c.expression||g&&(y.isFunction(g)?g:"["+g+"]"));e&&(e=b.map(e,function(x){"sizeInfo"===x.type?x=this._writeSizeInfo(x):"colorInfo"===x.type?x=this._writeColorInfo(x):
	"opacityInfo"===x.type?(x=this._writeOpacityInfo(x),x.type="transparencyInfo"):"rotationInfo"===x.type&&(x=t?null:y.mixin({},x));return x},this),e=b.filter(e,function(x){return null!=x}));q&&b.forEach(q.visualVariables,function(x){"opacityInfo"===x.type&&(x.type="transparencyInfo")});return{rotationType:p&&(this._getRotationType(c)||"geographic"),rotationExpression:p,colorInfo:this._writeColorInfo(this.colorInfo),transparencyInfo:this._writeOpacityInfo(this.opacityInfo),sizeInfo:this._writeSizeInfo(this.sizeInfo),
	visualVariables:e,authoringInfo:q}}});w("extend-esri")&&y.setObject("renderer.Renderer",C,l);return C})},"esri/layers/support/attributeUtils":function(){define("dojo/_base/lang dojo/has dojox/encoding/digests/_base dojox/encoding/digests/MD5 ../../kernel ../../support/expressionUtils".split(" "),function(C,y,b,w,n,l){var k={viewScaleRE:/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i,getAttributeId:function(h){return"string"===typeof h?w(h,b.outputTypes.Hex):null},getAttributeIdSource:function(h){if(!h)return null;
	var f=h.field,d=h.valueExpression,a=null;if(d)a=d;else if(C.isFunction(f))a=f.toString();else if(f){var c=(d=h.normalizationField)?"field":h.normalizationType;h=parseFloat(h.normalizationTotal);c&&(c=c.toLowerCase(),a=f.toLowerCase()+",norm:"+c,d?a+=","+d.toLowerCase():"percent-of-total"===c&&(f=h,"number"===typeof f&&!isNaN(f)&&Infinity!==f&&-Infinity!==f&&0!==h||(h=null),a+=","+h))}return a},createAttributeCache:function(h,f){if(!h)return null;var d=h.valueExpression,a=l.createSyntaxTree(d),c=k.getAttributeIdSource(h);
	return{attributeInfo:h,isNumeric:!f,idSource:c,id:k.getAttributeId(c),hasExpr:!!d,compiledFunc:l.createFunction(a),syntaxTree:a,isScaleDriven:!!h.expression||k.viewScaleRE.test(d),dependsOnView:a?l.dependsOnView(a):!1,dependsOnGeometry:a?l.hasGeometryOperations(a):!1,isJSFunc:C.isFunction(h.field)}}};y("extend-esri")&&C.setObject("layers.support.attributeUtils",k,n);return k})},"dojox/encoding/digests/_base":function(){define(["dojo/_base/lang"],function(C){C=C.getObject("dojox.encoding.digests",
	!0);C.outputTypes={Base64:0,Hex:1,String:2,Raw:3};C.addWords=function(y,b){var w=(y&65535)+(b&65535);return(y>>16)+(b>>16)+(w>>16)<<16|w&65535};C.stringToWord=function(y){for(var b=[],w=0,n=8*y.length;w<n;w+=8)b[w>>5]|=(y.charCodeAt(w/8)&255)<<w%32;return b};C.wordToString=function(y){for(var b=[],w=0,n=32*y.length;w<n;w+=8)b.push(String.fromCharCode(y[w>>5]>>>w%32&255));return b.join("")};C.wordToHex=function(y){for(var b=[],w=0,n=4*y.length;w<n;w++)b.push("0123456789abcdef".charAt(y[w>>2]>>w%4*
	8+4&15)+"0123456789abcdef".charAt(y[w>>2]>>w%4*8&15));return b.join("")};C.wordToBase64=function(y){for(var b=[],w=0,n=4*y.length;w<n;w+=3)for(var l=(y[w>>2]>>w%4*8&255)<<16|(y[w+1>>2]>>(w+1)%4*8&255)<<8|y[w+2>>2]>>(w+2)%4*8&255,k=0;4>k;k++)8*w+6*k>32*y.length?b.push("\x3d"):b.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(l>>6*(3-k)&63));return b.join("")};C.stringToUtf8=function(y){for(var b="",w=-1,n,l;++w<y.length;)n=y.charCodeAt(w),l=w+1<y.length?y.charCodeAt(w+
	1):0,55296<=n&&56319>=n&&56320<=l&&57343>=l&&(n=65536+((n&1023)<<10)+(l&1023),w++),127>=n?b+=String.fromCharCode(n):2047>=n?b+=String.fromCharCode(192|n>>>6&31,128|n&63):65535>=n?b+=String.fromCharCode(224|n>>>12&15,128|n>>>6&63,128|n&63):2097151>=n&&(b+=String.fromCharCode(240|n>>>18&7,128|n>>>12&63,128|n>>>6&63,128|n&63));return b};return C})},"dojox/encoding/digests/MD5":function(){define(["./_base"],function(C){function y(h,f){return h<<f|h>>>32-f}function b(h,f,d,a,c,e){return C.addWords(y(C.addWords(C.addWords(f,
	h),C.addWords(a,e)),c),d)}function w(h,f,d,a,c,e,q){return b(f&d|~f&a,h,f,c,e,q)}function n(h,f,d,a,c,e,q){return b(f&a|d&~a,h,f,c,e,q)}function l(h,f,d,a,c,e,q){return b(d^(f|~a),h,f,c,e,q)}function k(h,f){h[f>>5]|=128<<f%32;h[(f+64>>>9<<4)+14]=f;f=1732584193;for(var d=-271733879,a=-1732584194,c=271733878,e=0;e<h.length;e+=16){var q=f,t=d,g=a,p=c;f=w(f,d,a,c,h[e+0],7,-680876936);c=w(c,f,d,a,h[e+1],12,-389564586);a=w(a,c,f,d,h[e+2],17,606105819);d=w(d,a,c,f,h[e+3],22,-1044525330);f=w(f,d,a,c,h[e+
	4],7,-176418897);c=w(c,f,d,a,h[e+5],12,1200080426);a=w(a,c,f,d,h[e+6],17,-1473231341);d=w(d,a,c,f,h[e+7],22,-45705983);f=w(f,d,a,c,h[e+8],7,1770035416);c=w(c,f,d,a,h[e+9],12,-1958414417);a=w(a,c,f,d,h[e+10],17,-42063);d=w(d,a,c,f,h[e+11],22,-1990404162);f=w(f,d,a,c,h[e+12],7,1804603682);c=w(c,f,d,a,h[e+13],12,-40341101);a=w(a,c,f,d,h[e+14],17,-1502002290);d=w(d,a,c,f,h[e+15],22,1236535329);f=n(f,d,a,c,h[e+1],5,-165796510);c=n(c,f,d,a,h[e+6],9,-1069501632);a=n(a,c,f,d,h[e+11],14,643717713);d=n(d,a,
	c,f,h[e+0],20,-373897302);f=n(f,d,a,c,h[e+5],5,-701558691);c=n(c,f,d,a,h[e+10],9,38016083);a=n(a,c,f,d,h[e+15],14,-660478335);d=n(d,a,c,f,h[e+4],20,-405537848);f=n(f,d,a,c,h[e+9],5,568446438);c=n(c,f,d,a,h[e+14],9,-1019803690);a=n(a,c,f,d,h[e+3],14,-187363961);d=n(d,a,c,f,h[e+8],20,1163531501);f=n(f,d,a,c,h[e+13],5,-1444681467);c=n(c,f,d,a,h[e+2],9,-51403784);a=n(a,c,f,d,h[e+7],14,1735328473);d=n(d,a,c,f,h[e+12],20,-1926607734);f=b(d^a^c,f,d,h[e+5],4,-378558);c=b(f^d^a,c,f,h[e+8],11,-2022574463);
	a=b(c^f^d,a,c,h[e+11],16,1839030562);d=b(a^c^f,d,a,h[e+14],23,-35309556);f=b(d^a^c,f,d,h[e+1],4,-1530992060);c=b(f^d^a,c,f,h[e+4],11,1272893353);a=b(c^f^d,a,c,h[e+7],16,-155497632);d=b(a^c^f,d,a,h[e+10],23,-1094730640);f=b(d^a^c,f,d,h[e+13],4,681279174);c=b(f^d^a,c,f,h[e+0],11,-358537222);a=b(c^f^d,a,c,h[e+3],16,-722521979);d=b(a^c^f,d,a,h[e+6],23,76029189);f=b(d^a^c,f,d,h[e+9],4,-640364487);c=b(f^d^a,c,f,h[e+12],11,-421815835);a=b(c^f^d,a,c,h[e+15],16,530742520);d=b(a^c^f,d,a,h[e+2],23,-995338651);
	f=l(f,d,a,c,h[e+0],6,-198630844);c=l(c,f,d,a,h[e+7],10,1126891415);a=l(a,c,f,d,h[e+14],15,-1416354905);d=l(d,a,c,f,h[e+5],21,-57434055);f=l(f,d,a,c,h[e+12],6,1700485571);c=l(c,f,d,a,h[e+3],10,-1894986606);a=l(a,c,f,d,h[e+10],15,-1051523);d=l(d,a,c,f,h[e+1],21,-2054922799);f=l(f,d,a,c,h[e+8],6,1873313359);c=l(c,f,d,a,h[e+15],10,-30611744);a=l(a,c,f,d,h[e+6],15,-1560198380);d=l(d,a,c,f,h[e+13],21,1309151649);f=l(f,d,a,c,h[e+4],6,-145523070);c=l(c,f,d,a,h[e+11],10,-1120210379);a=l(a,c,f,d,h[e+2],15,
	718787259);d=l(d,a,c,f,h[e+9],21,-343485551);f=C.addWords(f,q);d=C.addWords(d,t);a=C.addWords(a,g);c=C.addWords(c,p)}return[f,d,a,c]}C.MD5=function(h,f){f=f||C.outputTypes.Base64;h=k(C.stringToWord(h),8*h.length);switch(f){case C.outputTypes.Raw:return h;case C.outputTypes.Hex:return C.wordToHex(h);case C.outputTypes.String:return C.wordToString(h);default:return C.wordToBase64(h)}};C.MD5._hmac=function(h,f,d){d=d||C.outputTypes.Base64;var a=C.stringToWord(f);16<a.length&&(a=k(a,8*f.length));var c=
	[];f=[];for(var e=0;16>e;e++)c[e]=a[e]^909522486,f[e]=a[e]^1549556828;h=k(c.concat(C.stringToWord(h)),512+8*h.length);h=k(f.concat(h),640);switch(d){case C.outputTypes.Raw:return h;case C.outputTypes.Hex:return C.wordToHex(h);case C.outputTypes.String:return C.wordToString(h);default:return C.wordToBase64(h)}};return C.MD5})},"esri/support/expressionUtils":function(){define("dojo/_base/lang dojo/_base/array dojo/has dojo/Deferred ../kernel ../arcade/arcade ../arcade/Feature".split(" "),function(C,
	y,b,w,n,l,k){var h={vars:{$feature:"any",$view:"any"}},f=/^\$feature\./i,d={_getSyntaxTree:function(a){return"string"===typeof a?d.createSyntaxTree(a):a},createSyntaxTree:function(a){try{var c=a?l.parseScript(a):null}catch(e){c=null}return c},createFunction:function(a,c){c=c||C.clone(h);a=d._getSyntaxTree(a);try{var e=a?l.compileScript(a,c):null}catch(q){console.log("expressionUtils.createFunction: compilation failed. "+(q.message||"")),e=null}return e},createExecContext:function(a,c){return{vars:{$feature:a?
	k.createFromGraphic(a):new k,$view:c&&c.view},spatialReference:c&&c.sr}},evalSyntaxTree:function(a,c){try{var e=l.executeScript(a,c)}catch(q){e=null}return e},executeFunction:function(a,c){try{var e=a?a(c):null}catch(q){e=null}return e},executeAsyncFunction:function(a,c){try{var e=a?a(c):(new w).reject(Error("expressionUtils.executeAsyncFunction: Invalid argument. compiledFunc is missing."))}catch(q){e=(new w).reject(q)}return e},extractFieldNames:function(a){a=d._getSyntaxTree(a);a=l.extractFieldLiterals(a);
	var c=[];y.forEach(a,function(e){f.test(e)&&(e=e.replace(f,""),c.push(e))});c.sort();return y.filter(c,function(e,q){return 0===q||c[q-1]!==e})},dependsOnView:function(a){return d.hasVariable(a,"$view")},hasGeometryOperations:function(a){return(a=d._getSyntaxTree(a))?l.scriptUsesGeometryEngine(a):!1},enableGeometryOperations:function(){return l.enableGeometrySupport()},hasVariable:function(a,c){return(a=d._getSyntaxTree(a))?l.referencesMember(a,c):!1},hasFunction:function(a,c){return(a=d._getSyntaxTree(a))?
	l.referencesFunction(a,c):!1},createFeatureSetFromLayer:function(a,c){c=c||{};var e=l.featureSetUtils();return e?e.constructFeatureSet(a,c.spatialReference,c.outFields,c.returnGeometry,c.cache):null},createFeatureSetFromLayerUrl:function(a,c){c=c||{};var e=l.featureSetUtils();return e?e.constructFeatureSetFromUrlRaw(a,c.spatialReference,c.outFields,c.returnGeometry,c.cache):null},createFeatureSetCollectionFromMap:function(a,c){var e=l.featureSetUtils();return e?e.createFeatureSetCollectionFromMap(a,
	a.spatialReference,c&&c.cache):null},createFeatureSetCollectionFromServiceUrl:function(a,c){c=c||{};var e=l.featureSetUtils();return e?e.createFeatureSetCollectionFromService(a,c.spatialReference,c.cache):null},hasFeatureSetOperations:function(a){return(a=d._getSyntaxTree(a))?l.scriptUsesFeatureSet(a):!1},enableFeatureSetOperations:function(){return l.enableFeatureSetSupport().then(function(){var a=l.featureSetUtils();a&&a.initialiseMetaDataCache()})},enableAsyncOperations:function(){return l.enableAsyncSupport()}};
	b("extend-esri")&&C.setObject("support.expressionUtils",d,n);return d})},"esri/arcade/arcade":function(){define("require exports ./arcadeCompiler ./arcadeRuntime ./languageUtils ./parser ./treeAnalysis dojo/has ./polyfill/promiseUtils ../moment".split(" "),function(C,y,b,w,n,l,k,h,f,d){function a(O,T){if(null===D)throw Error("Async Arcade must be enabled for this script");return h("csp-restrictions")||!1===v?function(Z){return D.executeScript(O,Z)}:b.compileScript(O,T,!0)}function c(O,T){void 0===
	T&&(T=[]);return l.parseScript(O,T)}function e(O,T){if(!0===T.useAsync||!0===O.isAsync){if(null===D)throw Error("Async Arcade must be enabled for this script");return D.executeScript(O,T)}return w.executeScript(O,T)}function q(O,T){return w.referencesMember(O,T)}function t(O,T){void 0===T&&(T=[]);void 0===O.usesGeometry&&k.findScriptDependencies(O,T);return!0===O.usesGeometry}function g(){return z?z:z=f.create(function(O,T){C(["../geometry/geometryEngine","./functions/geomsync"],function(Z,ia){B=
	!0;ia.setGeometryEngine(Z);O(!0)},function(Z){T(Z)})})}function p(){return null!==E?E:E=b.enableAsyncSupport().then(function(){return f.create(function(O,T){C(["./arcadeAsyncRuntime"],function(Z){try{D=Z;Z=0;for(var ia=G;Z<ia.length;Z++){var ca=ia[Z];D.extend(ca);b.extend(ca,"async")}G=null;O(!0)}catch(W){T(W)}},T)})})}function x(){return D?!0:!1}function u(){return H?H:H=p().then(function(){return f.create(function(O,T){C(["./featureSetUtils","./functions/featuresetbase","./functions/featuresetgeom",
	"./functions/featuresetstats","./functions/featuresetstring"],function(Z,ia,ca,W,ha){try{I=Z,D.extend([ia,ca,W,ha]),b.extend([ia,ca,W,ha],"async"),r=!0,O(!0)}catch(ma){T(ma)}},T)})})}function A(O,T){void 0===T&&(T=[]);void 0===O.usesFeatureSet&&k.findScriptDependencies(O,T);return!0===O.usesFeatureSet}function m(O,T){if(T)for(var Z=0;Z<T.length;Z++)if(q(O,T[Z]))return!0;return!1}Object.defineProperty(y,"__esModule",{value:!0});y.featureSetUtils=y.scriptTouchesGeometry=y.loadScriptDependencies=y.scriptIsAsync=
	y.scriptUsesFeatureSet=y.enableFeatureSetSupport=y.isGeometryEnabled=y.isAsyncEnabled=y.isFeatureSetSupportEnabled=y.enableAsyncSupport=y.enableGeometrySupport=y.scriptUsesGeometryEngine=y.extractFieldLiterals=y.referencesFunction=y.referencesMember=y.executeScript=y.parseAndExecuteScript=y.scriptCheck=y.validateScript=y.parseScript=y.extend=y.compileScript=void 0;var v=function(){if(h("csp-restrictions"))return!1;try{return(new Function("function* test() {}; return true"))()}catch(O){return!1}}(),
	r=!1,B=!1,D=null,G=[];y.compileScript=function(O,T){return!0===T.useAsync||!0===O.isAsync?a(O,T):h("csp-restrictions")?function(Z){return w.executeScript(O,Z)}:b.compileScript(O,T)};y.extend=function(O){w.extend(O);b.extend(O,"sync");null===D?G.push(O):(b.extend(O,"async"),D.extend(O))};y.parseScript=c;y.validateScript=function(O,T,Z){void 0===Z&&(Z="");return l.validateScript(O,T,Z)};y.scriptCheck=function(O,T,Z,ia){void 0===ia&&(ia="");return l.scriptCheck(O,T,Z,ia)};y.parseAndExecuteScript=function(O,
	T,Z){void 0===Z&&(Z=[]);O=l.parseScript(O,Z);return e(O,T)};y.executeScript=e;y.referencesMember=q;y.referencesFunction=function(O,T){return w.referencesFunction(O,T)};y.extractFieldLiterals=function(O,T){void 0===T&&(T=!1);return l.extractFieldLiterals(O,T)};y.scriptUsesGeometryEngine=t;var z=null;y.enableGeometrySupport=g;var E=null;y.enableAsyncSupport=p;y.isFeatureSetSupportEnabled=function(){return r};y.isAsyncEnabled=x;y.isGeometryEnabled=function(){return B};var H=null;y.enableFeatureSetSupport=
	u;y.scriptUsesFeatureSet=A;y.scriptIsAsync=function(O,T){void 0===T&&(T=[]);void 0===O.isAsync&&k.findScriptDependencies(O,T);return!0===O.isAsync};y.loadScriptDependencies=function(O,T,Z,ia){void 0===Z&&(Z=[]);void 0===ia&&(ia=!1);return f.create(function(ca,W){var ha="string"===typeof O?c(O):O,ma=[];ha&&(!1===B&&(t(ha)||ia)&&ma.push(g()),!1===x()&&(!0===ha.isAsync||T)&&ma.push(p()),!1===r&&(A(ha)||m(ha,Z))&&ma.push(u()));ma?f.all(ma).then(function(){ca(!0)},W):ca(!0)})};y.scriptTouchesGeometry=
	function(O){if(t(O))return!0;O=k.findFunctionCalls(O);return-1<O.indexOf("geometry")||-1<O.indexOf("feature")?!0:!1};var I=null;y.featureSetUtils=function(){return I};n.MomentLibrary.Moment=d})},"esri/arcade/arcadeCompiler":function(){define("require exports ./ArcadePortal ./Attachment ./Dictionary ./Feature ./ImmutablePathArray ./ImmutablePointArray ./languageUtils ./treeAnalysis ./functions/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ./polyfill/promiseUtils ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../SpatialReference".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x,u,A,m,v,r,B,D){function G(X,U,oa){try{return oa(X,null,U)}catch(sa){throw sa;}}function z(X){return X instanceof Error?x.reject(X):x.reject(Error(X))}function E(X,U){try{switch(U.type){case "EmptyStatement":return"lc.voidOperation";case "VariableDeclarator":return Z(X,U);case "VariableDeclaration":for(var oa=[],sa=0;sa<U.declarations.length;sa++)oa.push(E(X,U.declarations[sa]));return oa.join("\n")+" \n lastStatement\x3d  lc.voidOperation; \n";case "BlockStatement":return T(X,
	U);case "FunctionDeclaration":var Fa=U.id.name.toLowerCase(),Ta={isAsync:X.isAsync,spatialReference:X.spatialReference,console:X.console,lrucache:X.lrucache,interceptor:X.interceptor,services:X.services,symbols:X.symbols,mangleMap:X.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:X.depthCounter+1,globalScope:X.globalScope};if(64<Ta.depthCounter)throw Error("Exceeded maximum function depth");oa="new lc.SizzleFunction( lang.functionDepthchecker(function() { var lastStatement \x3d lc.voidOperation; \n   var lscope \x3d runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n";
	for(sa=0;sa<U.params.length;sa++){var Ya=U.params[sa].name.toLowerCase(),bb=la(X);Ta.localScope._SymbolsMap[Ya]=bb;Ta.mangleMap[Ya]=bb;oa+="lscope['"+bb+"']\x3darguments["+sa.toString()+"];\n"}!0===X.isAsync?(oa=oa+"return lang.__awaiter(this, void 0, void 0, function* () {\n"+(T(Ta,U.body)+"\n return lastStatement; "),oa+="});  }, runtimeCtx))\n lastStatement \x3d lc.voidOperation; \n"):(oa+=T(Ta,U.body)+"\n return lastStatement; }, runtimeCtx))",oa+="\n lastStatement \x3d lc.voidOperation; \n");
	if(void 0!==X.globalScope[Fa])var Ma="gscope['"+Fa+"']\x3d"+oa;else void 0!==X.globalScope._SymbolsMap[Fa]?Ma="gscope['"+X.globalScope._SymbolsMap[Fa]+"']\x3d"+oa:(bb=la(X),X.globalScope._SymbolsMap[Fa]=bb,X.mangleMap[Fa]=bb,Ma="gscope['"+bb+"']\x3d"+oa);return Ma;case "ReturnStatement":var J=null===U.argument?"return lc.voidOperation":"return "+E(X,U.argument);return J;case "IfStatement":if("AssignmentExpression"===U.test.type||"UpdateExpression"===U.test.type)throw Error(d.nodeErrorMessage(U.test,
	"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var Q=E(X,U.test),aa=L(X),N="var "+aa+" \x3d "+Q+";\n if ("+aa+" \x3d\x3d\x3d true) {\n"+O(X,U.consequent)+"\n }\n";N=null!==U.alternate?N+("else if ("+aa+"\x3d\x3d\x3dfalse)   { \n"+O(X,U.alternate)+"}\n"):N+("else if ("+aa+"\x3d\x3d\x3dfalse) { \n lastStatement \x3d lc.voidOperation;\n }\n");return N+="else { lang.error({type: '"+U.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION'); \n}\n";case "ExpressionStatement":var S="AssignmentExpression"===
	U.expression.type?"lastStatement \x3d lc.voidOperation; "+E(X,U.expression)+"; \n ":"lastStatement \x3d "+E(X,U.expression)+"; ";return S;case "AssignmentExpression":return I(X,U);case "UpdateExpression":return H(X,U);case "BreakStatement":return"break";case "ContinueStatement":return"continue";case "TemplateLiteral":try{var ea=[];Fa=Ma=0;for(sa=U.quasis;Fa<sa.length;Fa++){var na=sa[Fa];ea.push(na.value?JSON.stringify(na.value.cooked):JSON.stringify(""));!1===na.tail&&(ea.push(U.expressions[Ma]?"lang.castString(lang.aCheck("+
	E(X,U.expressions[Ma])+", 'TemplateLiteral'))":""),Ma++)}oa="(["+ea.join(",")+"]).join('')"}catch(nb){throw nb;}return oa;case "TemplateElement":return JSON.stringify(U.value?U.value.cooked:"");case "ForStatement":oa="lastStatement \x3d lc.voidOperation; \n";null!==U.init&&(oa+=E(X,U.init)+"; ");var ua=L(X),Aa=L(X);oa+="var "+ua+" \x3d true; \n do { ";null!==U.update&&(oa+=" if ("+ua+"\x3d\x3d\x3dfalse) {\n "+E(X,U.update)+"  \n}\n "+ua+"\x3dfalse; \n");null!==U.test&&(oa+="var "+Aa+" \x3d "+E(X,
	U.test)+"; ",oa+="if ("+Aa+"\x3d\x3d\x3dfalse) { break; } else if ("+Aa+"!\x3d\x3dtrue) { lang.error({type: '"+U.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION');   }\n");oa+=E(X,U.body);null!==U.update&&(oa+="\n "+E(X,U.update));return oa+("\n"+ua+" \x3d true; \n} while(true);  lastStatement \x3d lc.voidOperation; ");case "ForInStatement":var Ba=L(X),Qa=L(X),La=L(X),Ia="var "+Ba+" \x3d "+E(X,U.right)+";\n";"VariableDeclaration"===U.left.type&&(Ia+=E(X,U.left));var Na="VariableDeclaration"===
	U.left.type?U.left.declarations[0].id.name:U.left.name;Na=Na.toLowerCase();oa="";null!==X.localScope&&(void 0!==X.localScope[Na]?oa="lscope['"+Na+"']":void 0!==X.localScope._SymbolsMap[Na]&&(oa="lscope['"+X.localScope._SymbolsMap[Na]+"']"));""===oa&&(void 0!==X.globalScope[Na]?oa="gscope['"+Na+"']":void 0!==X.globalScope._SymbolsMap[Na]&&(oa="gscope['"+X.globalScope._SymbolsMap[Na]+"']"));Ia=Ia+("if ("+Ba+"\x3d\x3d\x3dnull) {  lastStatement \x3d lc.voidOperation; }\n else if (lc.isArray(")+(Ba+") || lc.isString("+
	Ba+")) {var ")+(Qa+"\x3d"+Ba+".length; \nfor(var ")+(La+"\x3d0; "+La+"\x3c"+Qa+"; "+La+"++) {\n");Ia+=oa+"\x3d"+La+";\n";Ia+=E(X,U.body);Ia+="\n}\n";Ia+=" lastStatement \x3d lc.voidOperation; \n";Ia+=" \n}\n";Ia+="else if (lc.isImmutableArray("+Ba+")) {";Ia=Ia+("var "+Qa+"\x3d"+Ba+".length(); \nfor(var ")+(La+"\x3d0; "+La+"\x3c"+Qa+"; "+La+"++) {\n");Ia+=oa+"\x3d"+La+";\n";Ia+=E(X,U.body);Ia+="\n}\n";Ia+=" lastStatement \x3d lc.voidOperation; \n";Ia+=" \n}\n";Ia+="else if (( "+Ba+" instanceof lang.Dictionary) || ( "+
	Ba+" instanceof lang.Feature)) {";Ia=Ia+("var "+Qa+"\x3d"+Ba+".keys(); \nfor(var ")+(La+"\x3d0; "+La+"\x3c"+Qa+".length; "+La+"++) {\n");Ia+=oa+"\x3d"+Qa+"["+La+"];\n";Ia+=E(X,U.body);Ia+="\n}\n";Ia+=" lastStatement \x3d lc.voidOperation; \n";Ia+=" \n}\n";X.isAsync&&(Ia+="else if (lc.isFeatureSet("+Ba+")) {",Ia=Ia+("var "+Qa+"\x3d"+Ba+".iterator(runtimeCtx.abortSignal); \nfor(var ")+(La+"\x3dlang. graphicToFeature( yield "+Qa+".next(),"+Ba+"); "+La+"!\x3dnull; "+La+"\x3dlang. graphicToFeature( yield "+
	Qa+".next(),"+Ba+")) {\n")+(oa+"\x3d"+La+";\n"),Ia+=E(X,U.body),Ia+="\n}\n",Ia+=" lastStatement \x3d lc.voidOperation; \n",Ia+=" \n}\n");return Ia+"else { lastStatement \x3d lc.voidOperation; } \n";case "Identifier":return ca(X,U);case "MemberExpression":try{oa=void 0;oa=!0===U.computed?E(X,U.property):"'"+U.property.name+"'";var eb="lang.member("+E(X,U.object)+","+oa+")"}catch(nb){throw nb;}return eb;case "Literal":return null===U.value||void 0===U.value?"null":JSON.stringify(U.value);case "ThisExpression":throw Error(d.nodeErrorMessage(U,
	"RUNTIME","NOTSUPPORTED"));case "CallExpression":try{if("Identifier"!==U.callee.type)throw Error(d.nodeErrorMessage(U,"RUNTIME","ONLYNODESSUPPORTED"));var ab=U.callee.name.toLowerCase();oa="";null!==X.localScope&&(void 0!==X.localScope[ab]?oa="lscope['"+ab+"']":void 0!==X.localScope._SymbolsMap[ab]&&(oa="lscope['"+X.localScope._SymbolsMap[ab]+"']"));""===oa&&(void 0!==X.globalScope[ab]?oa="gscope['"+ab+"']":void 0!==X.globalScope._SymbolsMap[ab]&&(oa="gscope['"+X.globalScope._SymbolsMap[ab]+"']"));
	if(""!==oa){sa="[";for(na=0;na<U.arguments.length;na++)0<na&&(sa+=", "),sa+=E(X,U.arguments[na]);sa+="]";ea=X.isAsync?"(yield lang.callfunc("+oa+","+sa+",runtimeCtx) )":"lang.callfunc("+oa+","+sa+",runtimeCtx)"}else throw Error(d.nodeErrorMessage(U,"RUNTIME","NOTFOUND"));}catch(nb){throw nb;}return ea;case "UnaryExpression":try{var gb="lang.unary("+E(X,U.argument)+",'"+U.operator+"')"}catch(nb){throw nb;}return gb;case "BinaryExpression":try{var cb="lang.binary("+E(X,U.left)+","+E(X,U.right)+",'"+
	U.operator+"')"}catch(nb){throw nb;}return cb;case "LogicalExpression":try{if("AssignmentExpression"===U.left.type||"UpdateExpression"===U.left.type)throw Error(d.nodeErrorMessage(U.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===U.right.type||"UpdateExpression"===U.right.type)throw Error(d.nodeErrorMessage(U.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("\x26\x26"===U.operator||"||"===U.operator)var kb="(lang.logicalCheck("+E(X,U.left)+") "+U.operator+
	" lang.logicalCheck("+E(X,U.right)+"))";else throw Error(d.nodeErrorMessage(U,"RUNTIME","ONLYORORAND"));}catch(nb){throw nb;}return kb;case "ConditionalExpression":throw Error(d.nodeErrorMessage(U,"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{oa=[];for(sa=0;sa<U.elements.length;sa++)"Literal"===U.elements[sa].type?oa.push(E(X,U.elements[sa])):oa.push("lang.aCheck("+E(X,U.elements[sa])+",'ArrayExpression')");var ub="["+oa.join(",")+"]"}catch(nb){throw nb;}return ub;case "ObjectExpression":oa=
	"lang.dictionary([";for(sa=0;sa<U.properties.length;sa++){var ob=U.properties[sa],db="Identifier"===ob.key.type?"'"+ob.key.name+"'":E(X,ob.key),jb=E(X,ob.value);0<sa&&(oa+=",");oa+="lang.strCheck("+db+",'ObjectExpression'),lang.aCheck("+jb+", 'ObjectExpression')"}return oa+"])";case "Property":throw Error("Should not get here");case "Array":throw Error(d.nodeErrorMessage(U,"RUNTIME","NOTSUPPORTED"));default:throw Error(d.nodeErrorMessage(U,"RUNTIME","UNREOGNISED"));}}catch(nb){throw nb;}}function H(X,
	U){var oa=null,sa="";if("MemberExpression"===U.argument.type)return oa=E(X,U.argument.object),sa=!0===U.argument.computed?E(X,U.argument.property):"'"+U.argument.property.name+"'","lang.memberupdate("+oa+","+sa+",'"+U.operator+"',"+U.prefix+")";oa=U.argument.name.toLowerCase();if(null!==X.localScope){if(void 0!==X.localScope[oa])return"lang.update(lscope, '"+oa+"','"+U.operator+"',"+U.prefix+")";if(void 0!==X.localScope._SymbolsMap[oa])return"lang.update(lscope, '"+X.localScope._SymbolsMap[oa]+"','"+
	U.operator+"',"+U.prefix+")"}if(void 0!==X.globalScope[oa])return"lang.update(gscope, '"+oa+"','"+U.operator+"',"+U.prefix+")";if(void 0!==X.globalScope._SymbolsMap[oa])return"lang.update(gscope, '"+X.globalScope._SymbolsMap[oa]+"','"+U.operator+"',"+U.prefix+")";throw Error("Variable not recognised");}function I(X,U){var oa=E(X,U.right),sa=null,Fa="";if("MemberExpression"===U.left.type)return sa=E(X,U.left.object),Fa=!0===U.left.computed?E(X,U.left.property):"'"+U.left.property.name+"'","lang.assignmember("+
	sa+","+Fa+",'"+U.operator+"',"+oa+")";sa=U.left.name.toLowerCase();if(null!==X.localScope){if(void 0!==X.localScope[sa])return"lscope['"+sa+"']\x3dlang.assign("+oa+",'"+U.operator+"', lscope['"+sa+"'])";if(void 0!==X.localScope._SymbolsMap[sa])return"lscope['"+X.localScope._SymbolsMap[sa]+"']\x3dlang.assign("+oa+",'"+U.operator+"', lscope['"+X.localScope._SymbolsMap[sa]+"'])"}if(void 0!==X.globalScope[sa])return"gscope['"+sa+"']\x3dlang.assign("+oa+",'"+U.operator+"', gscope['"+sa+"'])";if(void 0!==
	X.globalScope._SymbolsMap[sa])return"gscope['"+X.globalScope._SymbolsMap[sa]+"']\x3dlang.assign("+oa+",'"+U.operator+"', gscope['"+X.globalScope._SymbolsMap[sa]+"'])";throw Error("Variable not recognised");}function O(X,U){return"BlockStatement"===U.type?E(X,U):"ReturnStatement"===U.type||"BreakStatement"===U.type||"ContinueStatement"===U.type?E(X,U)+"; ":"UpdateExpression"===U.type?"lastStatement \x3d "+E(X,U)+"; ":"ExpressionStatement"===U.type?E(X,U):"ObjectExpression"===U.type?"lastStatement \x3d "+
	E(X,U)+"; ":E(X,U)+"; "}function T(X,U){for(var oa="",sa=0;sa<U.body.length;sa++)oa="ReturnStatement"===U.body[sa].type?oa+(E(X,U.body[sa])+"; \n"):"BreakStatement"===U.body[sa].type?oa+(E(X,U.body[sa])+"; \n"):"ContinueStatement"===U.body[sa].type?oa+(E(X,U.body[sa])+"; \n"):"UpdateExpression"===U.body[sa].type?oa+("lastStatement \x3d "+E(X,U.body[sa])+"; \n"):"ObjectExpression"===U.body[sa].type?oa+("lastStatement \x3d "+E(X,U.body[sa])+"; \n"):oa+(E(X,U.body[sa])+" \n");return oa}function Z(X,
	U){var oa=null===U.init?null:E(X,U.init);oa===f.voidOperation&&(oa=null);U=U.id.name.toLowerCase();if(null!==X.localScope){if(void 0!==X.localScope[U])return"lscope['"+U+"']\x3d"+oa+"; ";if(void 0!==X.localScope._SymbolsMap[U])return"lscope['"+X.localScope._SymbolsMap[U]+"']\x3d"+oa+"; ";var sa=la(X);X.localScope._SymbolsMap[U]=sa;X.mangleMap[U]=sa;return"lscope['"+sa+"']\x3d"+oa+"; "}if(void 0!==X.globalScope[U])return"gscope['"+U+"']\x3d"+oa+"; ";if(void 0!==X.globalScope._SymbolsMap[U])return"gscope['"+
	X.globalScope._SymbolsMap[U]+"']\x3d"+oa+"; ";sa=la(X);X.globalScope._SymbolsMap[U]=sa;X.mangleMap[U]=sa;return"gscope['"+sa+"']\x3d"+oa+"; "}function ia(X,U,oa){U=U.toLowerCase();switch(U){case "hasz":return X=X.hasZ,void 0===X?!1:X;case "hasm":return X=X.hasM,void 0===X?!1:X;case "spatialreference":return U=X.spatialReference._arcadeCacheId,void 0===U&&(oa=!0,Object.freeze&&Object.isFrozen(X.spatialReference)&&(oa=!1),oa&&(va++,U=X.spatialReference._arcadeCacheId=va)),X=new n({wkt:X.spatialReference.wkt,
	wkid:X.spatialReference.wkid}),void 0!==U&&(X._arcadeCacheId="SPREF"+U.toString()),X}switch(X.type){case "extent":switch(U){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return X=X[U],void 0!==X?X:null;case "type":return"Extent"}break;case "polygon":switch(U){case "rings":return U=X.getCacheValue("_arcadeCacheId"),void 0===U&&(va++,U=va,X.setCacheValue("_arcadeCacheId",U)),X=new k(X.rings,X.spatialReference,!0===X.hasZ,!0===X.hasM,U);case "type":return"Polygon"}break;
	case "point":switch(U){case "x":case "y":case "z":case "m":return void 0!==X[U]?X[U]:null;case "type":return"Point"}break;case "polyline":switch(U){case "paths":return U=X.getCacheValue("_arcadeCacheId"),void 0===U&&(va++,U=va,X.setCacheValue("_arcadeCacheId",U)),X=new k(X.paths,X.spatialReference,!0===X.hasZ,!0===X.hasM,U);case "type":return"Polyline"}break;case "multipoint":switch(U){case "points":return U=X.getCacheValue("_arcadeCacheId"),void 0===U&&(va++,U=va,X.setCacheValue("_arcadeCacheId",
	U)),X=new h(X.points,X.spatialReference,!0===X.hasZ,!0===X.hasM,U,1);case "type":return"Multipoint"}}throw Error(d.nodeErrorMessage(oa,"RUNTIME","PROPERTYNOTFOUND"));}function ca(X,U){try{var oa=U.name.toLowerCase();if(null!==X.localScope){if(void 0!==X.localScope[oa])return"lscope['"+oa+"']";if(void 0!==X.localScope._SymbolsMap[oa])return"lscope['"+X.localScope._SymbolsMap[oa]+"']"}if(void 0!==X.globalScope[oa])return"gscope['"+oa+"']";if(void 0!==X.globalScope._SymbolsMap[oa])return"gscope['"+X.globalScope._SymbolsMap[oa]+
	"']";throw Error(d.nodeErrorMessage(U,"RUNTIME","VARIABLENOTFOUND"));}catch(sa){throw sa;}}function W(X){return null===X?"":f.isArray(X)||f.isImmutableArray(X)?"Array":f.isDate(X)?"Date":f.isString(X)?"String":f.isBoolean(X)?"Boolean":f.isNumber(X)?"Number":X instanceof w?"Attachment":X instanceof b?"Portal":X instanceof n?"Dictionary":X instanceof l?"Feature":X instanceof v?"Point":X instanceof r?"Polygon":X instanceof B?"Polyline":X instanceof m?"Multipoint":X instanceof u?"Extent":f.isFunctionParameter(X)?
	"Function":f.isFeatureSet(X)?"FeatureSet":f.isFeatureSetCollection(X)?"FeatureSetCollection":X===f.voidOperation?"":"number"===typeof X&&isNaN(X)?"Number":"Unrecognised Type"}function ha(X,U,oa,sa){try{if(f.equalityTest(U[oa],sa))return U[oa+1];var Fa=U.length-oa;return 1===Fa?U[oa]:2===Fa?null:3===Fa?U[oa+2]:ha(X,U,oa+2,sa)}catch(Ta){throw Ta;}}function ma(X,U,oa,sa){try{if(!0===sa)return U[oa+1];if(3===U.length-oa)return U[oa+2];var Fa=U[oa+2];if(!1===f.isBoolean(Fa))throw Error("WHEN needs boolean test conditions");
	return ma(X,U,oa+2,Fa)}catch(Ta){throw Ta;}}function xa(X,U){var oa=X.length,sa=Math.floor(oa/2);if(0===oa)return[];if(1===oa)return[X[0]];var Fa=xa(X.slice(0,sa),U);X=xa(X.slice(sa,oa),U);for(oa=[];0<Fa.length||0<X.length;)0<Fa.length&&0<X.length?(sa=U(Fa[0],X[0]),isNaN(sa)&&(sa=0),0>=sa?(oa.push(Fa[0]),Fa=Fa.slice(1)):(oa.push(X[0]),X=X.slice(1))):0<Fa.length?(oa.push(Fa[0]),Fa=Fa.slice(1)):0<X.length&&(oa.push(X[0]),X=X.slice(1));return oa}function K(X,U){try{var oa=X.length,sa=Math.floor(oa/2);
	if(0===oa)return x.resolve([]);if(1===oa)return x.resolve([X[0]]);var Fa=[K(X.slice(0,sa),U),K(X.slice(sa,oa),U)];return x.all(Fa).then(function(Ta){return Y(Ta[0],Ta[1],U,[])})}catch(Ta){return x.reject(Ta)}}function Y(X,U,oa,sa){return x.create(function(Fa,Ta){0<X.length||0<U.length?0<X.length&&0<U.length?oa(X[0],U[0]).then(function(Ya){try{isNaN(Ya)&&(Ya=1),0>=Ya?(sa.push(X[0]),X=X.slice(1)):(sa.push(U[0]),U=U.slice(1)),Y(X,U,oa,sa).then(function(bb){Fa(bb)},Ta)}catch(bb){Ta(bb)}},Ta):0<X.length?
	(sa.push(X[0]),X=X.slice(1),Y(X,U,oa,sa).then(function(Ya){Fa(Ya)},Ta)):0<U.length&&(sa.push(U[0]),U=U.slice(1),Y(X,U,oa,sa).then(function(Ya){Fa(Ya)},Ta)):Fa(sa)})}function la(X){X.symbols.symbolCounter++;return"_T"+X.symbols.symbolCounter.toString()}function L(X){X.symbols.symbolCounter++;return"_Tvar"+X.symbols.symbolCounter.toString()}function R(X,U,oa){var sa={};X||(X={});oa||(oa={});sa._SymbolsMap={};sa.textformatting=1;sa.infinity=1;sa.pi=1;for(var Fa in U)sa[Fa]=1;for(Fa in oa)sa[Fa]=1;for(Fa in X)sa[Fa]=
	1;return sa}function da(X,U){for(var oa={mode:U,compiled:!0,functions:{},signatures:[],failDefferred:z,standardFunction:G,standardFunctionAsync:G,evaluateIdentifier:ka},sa=0;sa<X.length;sa++)X[sa].registerFunctions(oa);if("sync"===U){for(var Fa in oa.functions)Ea[Fa]=new f.NativeFunction(oa.functions[Fa]),pa.prototype[Fa]=Ea[Fa];for(sa=0;sa<oa.signatures.length;sa++)d.addFunctionDeclaration(oa.signatures[sa],"sync")}else{for(Fa in oa.functions)ba[Fa]=new f.NativeFunction(oa.functions[Fa]),wa.prototype[Fa]=
	ba[Fa];for(sa=0;sa<oa.signatures.length;sa++)d.addFunctionDeclaration(oa.signatures[sa],"async")}}function ka(X,U){U=U.name;if("_SymbolsMap"===U)throw"Illegal";if(0<X.localStack.length){if("_t"!==U.substr(0,2).toLowerCase()&&void 0!==X.localStack[X.localStack.length-1][U])return X.localStack[X.localStack.length-1][U];var oa=X.mangleMap[U];if(void 0!==oa&&void 0!==X.localStack[X.localStack.length-1][oa])return X.localStack[X.localStack.length-1][oa]}if("_t"!==U.substr(0,2).toLowerCase()&&void 0!==
	X.globalScope[U]||1===X.globalScope._SymbolsMap[U])return X.globalScope[U];U=X.mangleMap[U];if(void 0!==U)return X.globalScope[U]}function qa(X){console.log(X)}Object.defineProperty(y,"__esModule",{value:!0});y.enableAsyncSupport=y.compileScript=y.referencesFunction=y.referencesMember=y.validateScript=y.extractFieldLiterals=y.executeScript=y.extend=y.functionHelper=void 0;var va=0,Ea={};a.registerFunctions(Ea,G);c.registerFunctions(Ea,G);p.registerFunctions(Ea,G);t.registerFunctions(Ea,G);e.registerFunctions(Ea,
	G);g.registerFunctions(Ea,G);Ea["typeof"]=function(X,U){return G(X,U,function(oa,sa,Fa){f.pcCheck(Fa,1,1);oa=W(Fa[0]);if("Unrecognised Type"===oa)throw Error("Unrecognised Type");return oa})};Ea.iif=function(X,U){try{return G(X,U,function(oa,sa,Fa){f.pcCheck(Fa,3,3);if(!1===f.isBoolean(Fa[0]))throw Error("IF Function must have a boolean test condition");return Fa[0]?Fa[1]:Fa[2]})}catch(oa){throw oa;}};Ea.decode=function(X,U){try{return G(X,U,function(oa,sa,Fa){if(2>Fa.length)throw Error("Missing Parameters");
	if(2===Fa.length)return Fa[1];if(0===(Fa.length-1)%2)throw Error("Must have a default value result.");return ha(X,Fa,1,Fa[0])})}catch(oa){throw oa;}};Ea.when=function(X,U){try{return G(X,U,function(oa,sa,Fa){if(3>Fa.length)throw Error("Missing Parameters");if(0===Fa.length%2)throw Error("Must have a default value result.");oa=Fa[0];if(!1===f.isBoolean(oa))throw Error("WHEN needs boolean test conditions");return ma(X,Fa,0,oa)})}catch(oa){throw oa;}};Ea.top=function(X,U){return G(X,U,function(oa,sa,
	Fa){f.pcCheck(Fa,2,2);if(f.isArray(Fa[0]))return f.toNumber(Fa[1])>=Fa[0].length?Fa[0].slice(0):Fa[0].slice(0,f.toNumber(Fa[1]));if(f.isImmutableArray(Fa[0]))return f.toNumber(Fa[1])>=Fa[0].length()?Fa[0].slice(0):Fa[0].slice(0,f.toNumber(Fa[1]));throw Error("Top cannot accept this parameter type");})};Ea.first=function(X,U){return G(X,U,function(oa,sa,Fa){f.pcCheck(Fa,1,1);return f.isArray(Fa[0])?0===Fa[0].length?null:Fa[0][0]:f.isImmutableArray(Fa[0])?0===Fa[0].length()?null:Fa[0].get(0):null})};
	Ea.sort=function(X,U){return G(X,U,function(oa,sa,Fa){f.pcCheck(Fa,1,2);sa=Fa[0];f.isImmutableArray(sa)&&(sa=sa.toArray());if(!1===f.isArray(sa))throw Error("Illegal Argument");if(1<Fa.length){if(!1===f.isFunctionParameter(Fa[1]))throw Error("Illegal Argument");var Ta=function(Q,aa){return Oa.callfunc(Fa[1],[Q,aa],oa)};return X.isAsync?K(sa,Ta):sa=xa(sa,function(Q,aa){return Ta(Q,aa)})}if(0===sa.length)return[];for(var Ya={},bb=0;bb<sa.length;bb++){var Ma=W(sa[bb]);""!==Ma&&(Ya[Ma]=!0)}if(!0===Ya.Array||
	!0===Ya.Dictionary||!0===Ya.Feature||!0===Ya.Point||!0===Ya.Polygon||!0===Ya.Polyline||!0===Ya.Multipoint||!0===Ya.Extent||!0===Ya.Function)return sa.slice(0);bb=0;Ma="";for(var J in Ya)bb++,Ma=J;return sa=1<bb||"String"===Ma?xa(sa,function(Q,aa){if(null===Q||void 0===Q||Q===f.voidOperation)return null===aa||void 0===aa||aa===f.voidOperation?0:1;if(null===aa||void 0===aa||aa===f.voidOperation)return-1;Q=f.toString(Q);aa=f.toString(aa);return Q<aa?-1:Q===aa?0:1}):"Number"===Ma?xa(sa,function(Q,aa){return Q-
	aa}):"Boolean"===Ma?xa(sa,function(Q,aa){return Q===aa?0:aa?-1:1}):"Date"===Ma?xa(sa,function(Q,aa){return aa-Q}):sa.slice(0)})};var ba={},fa;for(fa in Ea)ba[fa]=new f.NativeFunction(Ea[fa]);q.registerFunctions(Ea,G);for(fa in Ea)Ea[fa]=new f.NativeFunction(Ea[fa]);var pa=function(){};pa.prototype=Ea;var wa=function(){};wa.prototype=ba;y.functionHelper={fixSpatialReference:f.fixSpatialReference,parseArguments:function(X,U){for(var oa=[],sa=0;sa<U.arguments.length;sa++)oa.push(E(X,U.arguments[sa]));
	return oa},standardFunction:G};y.extend=da;y.executeScript=function(X,U){return X(U)};y.extractFieldLiterals=function(X,U){void 0===U&&(U=!1);return d.findFieldLiterals(X)};y.validateScript=function(X,U){return d.validateScript(X,U,"sync")};y.referencesMember=function(X,U){return d.referencesMember(X,U)};y.referencesFunction=function(X,U){return d.referencesFunction(X,U)};var ra=0,Oa={error:function(X,U,oa){throw Error(d.nodeErrorMessage(X,U,oa));},__awaiter:function(X,U,oa,sa){return x.create(function(Fa,
	Ta){function Ya(J){try{Ma(sa.next(J))}catch(Q){Ta(Q)}}function bb(J){try{Ma(sa["throw"](J))}catch(Q){Ta(Q)}}function Ma(J){J.done?Fa(J.value):J.value&&J.value.then?J.value.then(Ya,bb):(ra++,0===ra%100?setTimeout(function(){ra=0;Ya(J.value)},0):Ya(J.value))}Ma((sa=sa.apply(X,U||[])).next())})},functionDepthchecker:function(X,U){return function(){U.depthCounter++;U.localStack.push([]);if(64<U.depthCounter)throw Error("Exceeded maximum function depth");var oa=X.apply(this,arguments);if(x.isPromiseLike(oa))return oa.then(function(sa){U.depthCounter--;
	--U.localStack.length;return sa});U.depthCounter--;--U.localStack.length;return oa}},castString:function(X){return f.toString(X)},aCheck:function(X,U){if(f.isFunctionParameter(X))throw Error(d.nodeErrorMessage({type:U},"RUNTIME","FUNCTIONCONTEXTILLEGAL"));return X===f.voidOperation?null:X},Dictionary:n,Feature:l,dictionary:function(X){for(var U={},oa=0;oa<X.length;oa+=2){if(f.isFunctionParameter(X[oa+1]))throw Error("Illegal Argument");if(!1===f.isString(X[oa]))throw Error("Illegal Argument");U[X[oa].toString()]=
	X[oa+1]===f.voidOperation?null:X[oa+1]}X=new n(U);X.immutable=!1;return X},strCheck:function(X){if(!1===f.isString(X))throw Error("Illegal Argument");return X},unary:function(X,U){if(f.isBoolean(X)){if("!"===U)return!X;if("-"===U)return-1*f.toNumber(X);if("+"===U)return 1*f.toNumber(X);if("~"===U)return~f.toNumber(X);throw Error(d.nodeErrorMessage({type:"UnaryExpression",operator:U,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("-"===U)return-1*f.toNumber(X);if("+"===U)return 1*
	f.toNumber(X);if("~"===U)return~f.toNumber(X);throw Error(d.nodeErrorMessage({type:"UnaryExpression",operator:U,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));},logicalCheck:function(X){if(!1===f.isBoolean(X))throw Error(d.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));return X},logical:function(X,U,oa){if(f.isBoolean(X)&&f.isBoolean(U))switch(oa){case "||":return X||U;case "\x26\x26":return X&&U}throw Error(d.nodeErrorMessage({type:"LogicalExpression",
	operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));},binary:function(X,U,oa){switch(oa){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return f.binaryOperator(f.toNumber(X),f.toNumber(U),oa);case "\x3d\x3d":return f.equalityTest(X,U);case "\x3d":return f.equalityTest(X,U);case "!\x3d":return!f.equalityTest(X,U);case "\x3c":return f.greaterThanLessThan(X,U,oa);case "\x3e":return f.greaterThanLessThan(X,U,oa);case "\x3c\x3d":return f.greaterThanLessThan(X,
	U,oa);case "\x3e\x3d":return f.greaterThanLessThan(X,U,oa);case "+":return f.isString(X)||f.isString(U)?f.toString(X)+f.toString(U):f.toNumber(X)+f.toNumber(U);case "-":return f.toNumber(X)-f.toNumber(U);case "*":return f.toNumber(X)*f.toNumber(U);case "/":return f.toNumber(X)/f.toNumber(U);case "%":return f.toNumber(X)%f.toNumber(U);default:throw Error(d.nodeErrorMessage({type:"BinaryExpression",operator:oa,left:X,right:U},"RUNTIME","OPERATORNOTRECOGNISED"));}},assign:function(X,U,oa){switch(U){case "\x3d":return X===
	f.voidOperation?null:X;case "/\x3d":return f.toNumber(oa)/f.toNumber(X);case "*\x3d":return f.toNumber(oa)*f.toNumber(X);case "-\x3d":return f.toNumber(oa)-f.toNumber(X);case "+\x3d":return f.isString(oa)||f.isString(X)?f.toString(oa)+f.toString(X):f.toNumber(oa)+f.toNumber(X);case "%\x3d":return f.toNumber(oa)%f.toNumber(X);default:throw Error(d.nodeErrorMessage({type:"AssignmentExpression",operator:U,left:null,right:null},"RUNTIME","OPERATORNOTRECOGNISED"));}},update:function(X,U,oa,sa){var Fa=
	f.toNumber(X[U]);X[U]="++"===oa?Fa+1:Fa-1;return!1===sa?Fa:"++"===oa?Fa+1:Fa-1},graphicToFeature:function(X,U){return null===X?null:l.createFromGraphicLikeObject(X.geometry,X.attributes,U)},memberupdate:function(X,U,oa,sa){if(f.isArray(X))if(f.isNumber(U)){0>U&&(U=X.length+U);if(0>U||U>=X.length)throw Error("Assignment outside of array bounds");var Fa=f.toNumber(X[U]);X[U]="++"===oa?Fa+1:Fa-1}else throw Error("Invalid Parameter");else if(X instanceof n){if(!1===f.isString(U))throw Error("Dictionary accessor must be a string");
	if(!0===X.hasField(U))Fa=f.toNumber(X.field(U)),X.setField(U,"++"===oa?Fa+1:Fa-1);else throw Error("Invalid Parameter");}else if(X instanceof l){if(!1===f.isString(U))throw Error("Feature accessor must be a string");if(!0===X.hasField(U))Fa=f.toNumber(X.field(U)),X.setField(U,"++"===oa?Fa+1:Fa-1);else throw Error("Invalid Parameter");}else{if(f.isImmutableArray(X))throw Error("Array is Immutable");throw Error("Invalid Parameter");}return!1===sa?Fa:"++"===oa?Fa+1:Fa-1},assignmember:function(X,U,oa,
	sa){if(f.isArray(X))if(f.isNumber(U)){0>U&&(U=X.length+U);if(0>U||U>X.length)throw Error("Assignment outside of array bounds");if(U===X.length&&"\x3d"!==oa)throw Error("Invalid Parameter");X[U]=this.assign(sa,oa,X[U])}else throw Error("Invalid Parameter");else if(X instanceof n){if(!1===f.isString(U))throw Error("Dictionary accessor must be a string");if(!0===X.hasField(U))X.setField(U,this.assign(sa,oa,X.field(U)));else{if("\x3d"!==oa)throw Error("Invalid Parameter");X.setField(U,this.assign(sa,
	oa,null))}}else if(X instanceof l){if(!1===f.isString(U))throw Error("Feature accessor must be a string");if(!0===X.hasField(U))X.setField(U,this.assign(sa,oa,X.field(U)));else{if("\x3d"!==oa)throw Error("Invalid Parameter");X.setField(U,this.assign(sa,oa,null))}}else{if(f.isImmutableArray(X))throw Error("Array is Immutable");throw Error("Invalid Parameter");}},member:function(X,U){if(null===X)throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME",
	"NOTFOUND"));if(X instanceof n||X instanceof l){if(f.isString(U))return X.field(U);throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(X instanceof A){if(f.isString(U))return ia(X,U,"MemberExpression");throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(f.isArray(X)){if(f.isNumber(U)&&isFinite(U)&&Math.floor(U)===U){0>U&&(U=X.length+U);if(U>=X.length||
	0>U)throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return X[U]}throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(f.isString(X)){if(f.isNumber(U)&&isFinite(U)&&Math.floor(U)===U){0>U&&(U=X.length+U);if(U>=X.length||0>U)throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return X[U]}throw Error(d.nodeErrorMessage({type:"MemberExpression",
	object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(f.isImmutableArray(X)&&f.isNumber(U)&&isFinite(U)&&Math.floor(U)===U){0>U&&(U=X.length()+U);if(U>=X.length()||0>U)throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return X.get(U)}throw Error(d.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));},callfunc:function(X,U,oa){return X instanceof f.NativeFunction?
	X.fn(oa,U):X instanceof f.SizzleFunction?X.fn.apply(this,U):X.apply(this,U)}};y.compileScript=function(X,U,oa){void 0===U&&(U=null);void 0===oa&&(oa=!1);null===U&&(U={vars:{},customfunctions:{}});U={isAsync:oa,globalScope:R(U.vars,oa?ba:Ea,U.customfunctions),localScope:null,mangleMap:{},console:qa,lrucache:U.lrucache,interceptor:U.interceptor,services:U.services,symbols:{symbolCounter:0}};X=E(U,X.body[0].body);""===X&&(X="lc.voidOperation; ");U={lc:f,lang:Oa,mangles:U.mangleMap,postProcess:function(sa){sa instanceof
	f.ReturnResult&&(sa=sa.value);sa instanceof f.ImplicitResult&&(sa=sa.value);sa===f.voidOperation&&(sa=null);if(sa===f.breakResult)throw Error("Cannot return BREAK");if(sa===f.continueResult)throw Error("Cannot return CONTINUE");if(f.isFunctionParameter(sa))throw Error("Cannot return FUNCTION");return sa},prepare:function(sa,Fa){var Ta=sa.spatialReference;if(null===Ta||void 0===Ta)Ta=new D({wkid:102100});var Ya=sa.vars,bb=sa.customfunctions,Ma=Fa?new wa:new pa;Ya||(Ya={});bb||(bb={});var J=new n({newline:"\n",
	tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});J.immutable=!1;Ma._SymbolsMap={textformatting:1,infinity:1,pi:1};Ma.textformatting=J;Ma.infinity=Number.POSITIVE_INFINITY;Ma.pi=Math.PI;for(var Q in bb)Ma[Q]=bb[Q],Ma._SymbolsMap[Q]=1;for(Q in Ya)Ma._SymbolsMap[Q]=1,Ma[Q]=Ya[Q]&&"esri.Graphic"===Ya[Q].declaredClass?l.createFromGraphic(Ya[Q]):Ya[Q];return{localStack:[],isAsync:Fa,mangleMap:this.mangles,spatialReference:Ta,globalScope:Ma,abortSignal:void 0===sa.abortSignal||
	null===sa.abortSignal?{aborted:!1}:sa.abortSignal,localScope:null,services:sa.services,console:sa.console?sa.console:qa,lrucache:sa.lrucache,interceptor:sa.interceptor,symbols:{symbolCounter:0},depthCounter:1}}};return(new Function("context","spatialReference",oa?"var runtimeCtx\x3dthis.prepare(context, true);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+
	X+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx\x3dthis.prepare(context, false);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n "+X+"\n return lastStatement; } \n return this.postProcess(mainBody()); ")).bind(U)};y.enableAsyncSupport=function(){return x.create(function(X,U){C(["./functions/geomasync"],function(oa){da([oa],"async");X(!0)},
	function(oa){U(oa)})})}})},"esri/arcade/ArcadePortal":function(){var C=this&&this.__extends||function(){var y=function(b,w){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var k in l)l.hasOwnProperty(k)&&(n[k]=l[k])};return y(b,w)};return function(b,w){function n(){this.constructor=b}y(b,w);b.prototype=null===w?Object.create(w):(n.prototype=w.prototype,new n)}}();define(["require","exports","./Dictionary"],function(y,b,w){return function(n){function l(k){var h=
	n.call(this)||this;h.immutable=!1;h.setField("url",k);h.immutable=!0;return h}C(l,n);return l}(w)})},"esri/arcade/Attachment":function(){var C=this&&this.__extends||function(){var y=function(b,w){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var k in l)l.hasOwnProperty(k)&&(n[k]=l[k])};return y(b,w)};return function(b,w){function n(){this.constructor=b}y(b,w);b.prototype=null===w?Object.create(w):(n.prototype=w.prototype,new n)}}();define(["require",
	"exports","./Dictionary"],function(y,b,w){return function(n){function l(k,h,f,d,a){var c=n.call(this)||this;c.attachmentUrl=a;c.immutable=!1;c.setField("id",k);c.setField("name",h);c.setField("contenttype",f);c.setField("size",d);c.immutable=!0;return c}C(l,n);return l}(w)})},"esri/arcade/Feature":function(){var C=this&&this.__assign||function(){C=Object.assign||function(y){for(var b,w=1,n=arguments.length;w<n;w++){b=arguments[w];for(var l in b)Object.prototype.hasOwnProperty.call(b,l)&&(y[l]=b[l])}return y};
	return C.apply(this,arguments)};define("require exports ./Dictionary ./ImmutableArray ./languageUtils ../geometry/Geometry ../geometry/Point ../geometry/jsonUtils ./featureset/support/shared".split(" "),function(y,b,w,n,l,k,h,f,d){return function(){function a(){this.declaredClass="esri.arcade.Feature";this._layer=this.attributes=this._geometry=this._adapter=null;this.immutable=this._datesfixed=!0;this._datefields=null;this.immutable=!0}a.createFromGraphic=function(c){var e=new a;e._geometry=c.geometry?
	c.geometry:null;e.attributes=void 0===c.attributes?{}:null===c.attributes?{}:c.attributes;c._sourceLayer?(e._layer=c._sourceLayer,e._datesfixed=!1):c._layer?(e._layer=c._layer,e._datesfixed=!1):c.layer?(e._layer=c.layer,e._datesfixed=!1):c.sourceLayer&&(e._layer=c.sourceLayer,e._datesfixed=!1);return e};a.createFromArcadeFeature=function(c){var e=new a;e._datesfixed=c._datesfixed;e.attributes=c.attributes;e._geometry=c._geometry;c._layer&&(e._layer=c._layer);return e};a.createFromArcadeDictionary=
	function(c){var e=new a;e.attributes=c.field("attributes");null!==e.attributes?e.attributes instanceof w?(e.attributes=e.attributes.attributes,null===e.attributes&&(e.attributes={})):e.attributes={}:e.attributes={};e._geometry=c.field("geometry");null!==e._geometry&&(e._geometry instanceof w?e._geometry=a.parseGeometryFromDictionary(e._geometry):e._geometry instanceof k||(e._geometry=null));return e};a.createFromGraphicLikeObject=function(c,e,q){void 0===q&&(q=null);var t=new a;null===e&&(e={});t.attributes=
	e;t._geometry=c?c:null;t._layer=q;t._layer&&(t._datesfixed=!1);t._adapter=null;return t};a.prototype.repurposeFromGraphicLikeObject=function(c,e,q){void 0===q&&(q=null);null===e&&(e={});this.attributes=e;this._geometry=c?c:null;this._datesfixed=(this._layer=q)?!1:!0};a.prototype.castToText=function(){if(this._adapter)return this._adapter.castToText();var c="";!1===this._datesfixed&&this._fixDates();for(var e in this.attributes){""!==c&&(c+=",");var q=this.attributes[e];null==q?c+=JSON.stringify(e)+
	":null":l.isBoolean(q)||l.isNumber(q)||l.isString(q)?c+=JSON.stringify(e)+":"+JSON.stringify(q):q instanceof k?c+=JSON.stringify(e)+":"+l.toStringExplicit(q):q instanceof n?c+=JSON.stringify(e)+":"+l.toStringExplicit(q):q instanceof Array?c+=JSON.stringify(e)+":"+l.toStringExplicit(q):q instanceof Date?c+=JSON.stringify(e)+":"+JSON.stringify(q):null!==q&&"object"===typeof q&&void 0!==q.castToText&&(c+=JSON.stringify(e)+":"+q.castToText())}return'{"geometry":'+(null===this.geometry()?"null":l.toStringExplicit(this.geometry()))+
	',"attributes":{'+c+"}}"};a.prototype._fixDates=function(){if(null!==this._datefields)0<this._datefields.length&&this._fixDateFields(this._datefields);else{for(var c=[],e=0;e<this._layer.fields.length;e++){var q=this._layer.fields[e];"date"!==q.type&&"esriFieldTypeDate"!==q.type||c.push(q.name)}this._datefields=c;0<c.length&&this._fixDateFields(c)}this._datesfixed=!0};a.prototype._fixDateFields=function(c){this.attributes=C({},this.attributes);for(var e=0;e<c.length;e++){var q=this.attributes[c[e]];
	if(null!==q)if(void 0===q)for(var t in this.attributes){if(t.toLowerCase()===c[e].toLowerCase()){q=this.attributes[t];null===q||q instanceof Date||(this.attributes[t]=new Date(q));break}}else q instanceof Date||(this.attributes[c[e]]=new Date(q))}};a.prototype.geometry=function(){if(this._adapter)return this._adapter.geometry();if(null===this._geometry)return this._geometry;this._geometry instanceof k||(this._geometry=f.fromJson(this._geometry));return this._geometry};a.prototype.field=function(c){if(this._adapter)return this._adapter.field(c);
	!1===this._datesfixed&&this._fixDates();var e=this.attributes[c];if(void 0!==e)return e;e=c.toLowerCase();for(var q in this.attributes)if(q.toLowerCase()===e)return this.attributes[q];if(this._hasFieldDefinition(e))return null;throw Error("Field not Found : "+c);};a.prototype._hasFieldDefinition=function(c){if(null===this._layer)return!1;for(var e=0;e<this._layer.fields.length;e++)if(this._layer.fields[e].name.toLowerCase()===c)return!0;return!1};a.prototype._field=function(c){var e;if(this._adapter)return null!==
	(e=this._adapter.field(c))&&void 0!==e?e:null;!1===this._datesfixed&&this._fixDates();e=c.toLowerCase();c=this.attributes[c];if(void 0!==c)return c;for(var q in this.attributes)if(q.toLowerCase()===e)return this.attributes[q];return null};a.prototype.setField=function(c,e){if(this.immutable)throw Error("Feature is Immutable");if(!1===l.isSimpleType(e))throw Error("Illegal Value Assignment to Feature");if(this._adapter)this._adapter.setField(c,e);else{var q=c.toLowerCase();if(void 0===this.attributes[c])for(var t in this.attributes)if(t.toLowerCase()===
	q){this.attributes[t]=e;return}this.attributes[c]=e}};a.prototype.hasField=function(c){if(this._adapter)return this._adapter.hasField(c);var e=c.toLowerCase();if(void 0!==this.attributes[c])return!0;for(var q in this.attributes)if(q.toLowerCase()===e)return!0;return this._hasFieldDefinition(e)?!0:!1};a.prototype.keys=function(){if(this._adapter)return this._adapter.keys();var c=[],e={},q;for(q in this.attributes)c.push(q),e[q.toLowerCase()]=1;if(null!==this._layer)for(q=0;q<this._layer.fields.length;q++){var t=
	this._layer.fields[q];1!==e[t.name.toLowerCase()]&&c.push(t.name)}return c=c.sort()};a.parseGeometryFromDictionary=function(c){c=a.convertDictionaryToJson(c,!0);void 0!==c.hasm&&(c.hasM=c.hasm,delete c.hasm);void 0!==c.hasz&&(c.hasZ=c.hasz,delete c.hasz);void 0!==c.spatialreference&&(c.spatialReference=c.spatialreference,delete c.spatialreference);void 0!==c.rings&&(c.rings=this.fixPathArrays(c.rings,!0===c.hasZ,!0===c.hasZ));void 0!==c.paths&&(c.paths=this.fixPathArrays(c.paths,!0===c.hasZ,!0===
	c.hasM));void 0!==c.points&&(c.points=this.fixPointArrays(c.points,!0===c.hasZ,!0===c.hasM));return f.fromJson(c)};a.fixPathArrays=function(c,e,q){var t=[];if(c instanceof Array)for(var g=0;g<c.length;g++)t.push(this.fixPointArrays(c[g],e,q));else if(c instanceof n)for(g=0;g<c.length();g++)t.push(this.fixPointArrays(c.get(g),e,q));return t};a.fixPointArrays=function(c,e,q){var t=[];if(c instanceof Array)for(var g=0;g<c.length;g++){var p=c[g];p instanceof h?e&&q?t.push([p.x,p.y,p.z,p.m]):e?t.push([p.x,
	p.y,p.z]):q?t.push([p.x,p.y,p.m]):t.push([p.x,p.y]):p instanceof n?t.push(p.toArray()):t.push(p)}else if(c instanceof n)for(g=0;g<c.length();g++)p=c.get(g),p instanceof h?e&&q?t.push([p.x,p.y,p.z,p.m]):e?t.push([p.x,p.y,p.z]):q?t.push([p.x,p.y,p.m]):t.push([p.x,p.y]):p instanceof n?t.push(p.toArray()):t.push(p);return t};a.convertDictionaryToJson=function(c,e){void 0===e&&(e=!1);var q={},t;for(t in c.attributes){var g=c.attributes[t];g instanceof w&&(g=a.convertDictionaryToJson(g));e?q[t.toLowerCase()]=
	g:q[t]=g}return q};a.parseAttributesFromDictionary=function(c){var e={},q;for(q in c.attributes){var t=c.attributes[q];if(l.isSimpleType(t))e[q]=t;else throw Error("Illegal Argument");}return e};a.fromJson=function(c){var e=null;null!==c.geometry&&void 0!==c.geometry&&(e=f.fromJson(c.geometry));var q={};if(null!==c.attributes&&void 0!==c.attributes)for(var t in c.attributes){var g=c.attributes[t];if(null===g)q[t]=g;else if(l.isString(g)||l.isNumber(g)||l.isBoolean(g)||l.isDate(g))q[t]=g;else throw Error("Illegal Argument");
	}return a.createFromGraphicLikeObject(e,q,null)};a.prototype.fullDomain=function(c,e){return null!==this._layer&&this._layer.fields?l.getDomain(c,this._layer,this,e):null};a.prototype.subtypes=function(){return null!==this._layer&&this._layer.fields?this._layer.typeIdField?{subtypeField:this._layer.typeIdField,subtypes:this._layer.types?this._layer.types.map(function(c){return{name:c.name,code:c.id}}):[]}:null:null};a.prototype.domainValueLookup=function(c,e,q){if(null===this._layer||!this._layer.fields)return null;
	q=l.getDomain(c,this._layer,this,q);if(void 0===e)try{e=this.field(c)}catch(t){return null}return l.getDomainValue(q,e)};a.prototype.gdbVersion=function(){if(null===this._layer)return"";var c=this._layer.gdbVersion;return void 0===c?"":""===c&&this._layer.capabilities&&this._layer.capabilities.isVersioned?"SDE.DEFAULT":c};a.prototype.domainCodeLookup=function(c,e,q){if(null===this._layer||!this._layer.fields)return null;if(void 0===e){try{e=this.field(c)}catch(t){return null}return e}c=l.getDomain(c,
	this._layer,this,q);return l.getDomainCode(c,e)};a.prototype.schema=function(){if(null===this._layer||!this._layer.fields)return null;for(var c=[],e=0,q=this._layer.fields;e<q.length;e++)c.push(d.esriFieldToJson(q[e]));return{objectIdField:this._layer.objectIdField,globalIdField:this._layer.globalIdField,geometryType:void 0===d.layerGeometryEsriRestConstants[this._layer.geometryType]?"":d.layerGeometryEsriRestConstants[this._layer.geometryType],fields:c}};return a}()})},"esri/arcade/featureset/support/shared":function(){var C=
	this&&this.__assign||function(){C=Object.assign||function(y){for(var b,w=1,n=arguments.length;w<n;w++){b=arguments[w];for(var l in b)Object.prototype.hasOwnProperty.call(b,l)&&(y[l]=b[l])}return y};return C.apply(this,arguments)};define(["require","exports","../../polyfill/promiseUtils","../../../geometry/Extent","../../../layers/Field"],function(y,b,w,n,l){function k(f){var d=null;f.domain&&(d="range"===f.domain.type?{type:"range",range:[f.domain.minValue,f.domain.maxValue]}:{type:"codedValue",codedValues:f.domain.toJson().codedValues});
	return C(C({name:f.name,type:f.type,alias:f.alias},void 0!==f.length?{length:f.length}:{}),{editable:!0===f.editable,nullable:!0===f.nullable,domain:d})}function h(f){return f instanceof Date}Object.defineProperty(b,"__esModule",{value:!0});b.stableStringify=b.extractServiceUrl=b.reduceArrayWithPromises=b.toEsriGeometryType=b.layerFieldEsriConstants=b.layerGeometryEsriRestConstants=b.layerGeometryEsriConstants=b.callback=b.errback=b.defaultMaxRecords=b.sameGeomType=b.convertLinearUnitsToCode=b.shapeExtent=
	b.convertSquareUnitsToCode=b.cloneAttributes=b.equalityTest=b.isDate=b.isArray=b.isNumber=b.isBoolean=b.isString=b.IdState=b.esriFieldToJson=b.cloneField=b.FeatureServiceDatabaseType=void 0;(function(f){f[f.Standardised=0]="Standardised";f[f.StandardisedNoInterval=1]="StandardisedNoInterval";f[f.SqlServer=2]="SqlServer";f[f.Oracle=3]="Oracle";f[f.Postgres=4]="Postgres";f[f.PGDB=5]="PGDB";f[f.FILEGDB=6]="FILEGDB";f[f.NotEvaluated=7]="NotEvaluated"})(b.FeatureServiceDatabaseType||(b.FeatureServiceDatabaseType=
	{}));b.cloneField=function(f){return new l(k(f))};b.esriFieldToJson=k;(function(f){f[f.InFeatureSet=0]="InFeatureSet";f[f.NotInFeatureSet=1]="NotInFeatureSet";f[f.Unknown=2]="Unknown"})(b.IdState||(b.IdState={}));b.isString=function(f){return"string"===typeof f||f instanceof String};b.isBoolean=function(f){return"boolean"===typeof f};b.isNumber=function(f){return"number"===typeof f};b.isArray=function(f){return f instanceof Array};b.isDate=h;b.equalityTest=function(f,d){return f===d?!0:h(f)&&h(d)?
	f.getTime()===d.getTime():!1};b.cloneAttributes=function(f){var d={},a;for(a in f)d[a]=f[a];return d};b.convertSquareUnitsToCode=function(f){if(void 0===f)return null;if("number"===typeof f)return f;switch(f.toLowerCase()){case "meters":case "meter":return 109404;case "miles":case "mile":return 109413;case "kilometers":case "kilometer":case "km":return 109414}return null};b.shapeExtent=function(f){if(null===f)return null;switch(f.type){case "polygon":case "multipoint":case "polyline":return f.getExtent();
	case "point":return new n({xmin:f.x,ymin:f.y,xmax:f.x,ymax:f.y,spatialReference:f.spatialReference});case "extent":return f}return null};b.convertLinearUnitsToCode=function(f){if(void 0===f)return null;if("number"===typeof f||"number"===typeof f)return f;switch(f.toLowerCase()){case "meters":case "meter":return 9001;case "miles":case "mile":return 9035;case "kilometers":case "kilometer":case "km":return 9036}return null};b.sameGeomType=function(f,d){return f===d||"point"===f&&"esriGeometryPoint"===
	d||"polyline"===f&&"esriGeometryPolyline"===d||"polygon"===f&&"esriGeometryPolygon"===d||"extent"===f&&"esriGeometryEnvelope"===d||"multipoint"===f&&"esriGeometryMultipoint"===d||"point"===d&&"esriGeometryPoint"===f||"polyline"===d&&"esriGeometryPolyline"===f||"polygon"===d&&"esriGeometryPolygon"===f||"extent"===d&&"esriGeometryEnvelope"===f||"multipoint"===d&&"esriGeometryMultipoint"===f?!0:!1};b.defaultMaxRecords=1E3;b.errback=function(f){return function(d){f.reject(d)}};b.callback=function(f,d){return function(){try{f.apply(null,
	arguments)}catch(a){d.reject(a)}}};b.layerGeometryEsriConstants={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"};b.layerGeometryEsriRestConstants={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",
	esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"};b.layerFieldEsriConstants={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger","long":"esriFieldTypeLong",single:"esriFieldTypeSingle","double":"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",
	geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",
	esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};b.toEsriGeometryType=function(f){switch(f){case "point":return"esriGeometryPoint";case "polygon":return"esriGeometryPolygon";case "multipoint":return"esriGeometryMultipoint";case "polyline":return"esriGeometryPolyline";default:return"esriGeometryPoint"}};
	b.reduceArrayWithPromises=function(f,d){return w.create(function(a,c){var e=w.resolve(!0);f.reduce(function(q,t,g,p){return q.then(function(x){try{return d(x,t,g,p)}catch(u){return w.reject(u)}},function(x){return w.reject(x)})},e).then(a,c)})};b.extractServiceUrl=function(f){if(void 0===f)return"";f=f.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer");f=f.replace(/\/mapserver\/[0-9]*/i,"/MapServer");return f=f.split("?")[0]};b.stableStringify=function(f,d){d||(d={});"function"===typeof d&&(d={cmp:d});
	var a="boolean"===typeof d.cycles?d.cycles:!1,c=d.cmp&&function(q){return function(t){return function(g,p){return q({key:g,value:t[g]},{key:p,value:t[p]})}}}(d.cmp),e=[];return function g(t){t&&t.toJson&&"function"===typeof t.toJson&&(t=t.toJson());if(void 0!==t){if("number"===typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var p;if(Array.isArray(t)){var x="[";for(p=0;p<t.length;p++)p&&(x+=","),x+=g(t[p])||"null";return x+"]"}if(null===t)return"null";if(-1!==
	e.indexOf(t)){if(a)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var u=e.push(t)-1,A=Object.keys(t).sort(c&&c(t));x="";for(p=0;p<A.length;p++){var m=A[p],v=g(t[m]);v&&(x&&(x+=","),x+=JSON.stringify(m)+":"+v)}e.splice(u,1);return"{"+x+"}"}}(f)}})},"esri/layers/Field":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./RangeDomain ./CodedValueDomain".split(" "),function(C,y,b,w,n,l,k){C=C(null,{declaredClass:"esri.layers.Field",
	constructor:function(h){if(h&&y.isObject(h)&&(this.name=h.name,this.type=h.type,this.alias=h.alias,this.length=h.length,this.editable=h.editable,this.nullable=h.nullable,this.defaultValue=h.defaultValue,this.description=h.description?JSON.parse(h.description):null,this.isViewOverride=!!h.isViewOverride,(h=h.domain)&&y.isObject(h)))switch(h.type){case "range":this.domain=new l(h);break;case "codedValue":this.domain=new k(h)}},toJson:function(){return n.fixJson({name:this.name,type:this.type,alias:this.alias,
	length:this.length,editable:this.editable,nullable:this.nullable,defaultValue:this.defaultValue,description:this.description?JSON.stringify(this.description):null,domain:this.domain?this.domain.toJson():null,isViewOverride:this.isViewOverride||void 0})},toJSON:function(){return this.toJson()}});b("extend-esri")&&y.setObject("layers.Field",C,w);return C})},"esri/layers/RangeDomain":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./Domain".split(" "),function(C,y,b,
	w,n,l){C=C([l],{declaredClass:"esri.layers.RangeDomain",constructor:function(k){k&&y.isObject(k)&&(this.minValue=k.range[0],this.maxValue=k.range[1])},toJson:function(){var k=this.inherited(arguments);k.range=[this.minValue,this.maxValue];return n.fixJson(k)}});b("extend-esri")&&y.setObject("layers.RangeDomain",C,w);return C})},"esri/layers/Domain":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","../lang"],function(C,y,b,w,n){C=C(null,{declaredClass:"esri.layers.Domain",
	constructor:function(l){l&&y.isObject(l)&&(this.name=l.name,this.type=l.type)},toJson:function(){return n.fixJson({name:this.name,type:this.type})}});b("extend-esri")&&y.setObject("layers.Domain",C,w);return C})},"esri/layers/CodedValueDomain":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../lang ./Domain".split(" "),function(C,y,b,w,n,l,k){C=C([k],{declaredClass:"esri.layers.CodedValueDomain",constructor:function(h){h&&y.isObject(h)&&(this.codedValues=
	h.codedValues)},getName:function(h){var f;b.some(this.codedValues,function(d){d.code==h&&(f=d.name);return!!f});return f},toJson:function(){var h=this.inherited(arguments);h.codedValues=y.clone(this.codedValues);return l.fixJson(h)}});w("extend-esri")&&y.setObject("layers.CodedValueDomain",C,n);return C})},"esri/arcade/treeAnalysis":function(){define(["require","exports"],function(C,y){function b(m,v){return"0"!==m.min&&v.length<Number(m.min)||"*"!==m.max&&v.length>Number(m.max)?-2:1}function w(m,
	v,r){if(null!==r.localScope&&void 0!==r.localScope[m.toLowerCase()]){var B=r.localScope[m.toLowerCase()];if("FormulaFunction"===B.type||"any"===B.type)return void 0===B.signature&&(B.signature={min:"0",max:"*"}),b(B.signature,v)}return void 0!==r.globalScope[m.toLowerCase()]&&(B=r.globalScope[m.toLowerCase()],"FormulaFunction"===B.type||"any"===B.type)?(void 0===B.signature&&(B.signature={min:"0",max:"*"}),b(B.signature,v)):-1}function n(m,v){if(m)for(var r=0;r<m.length;r++)l(m[r],v)}function l(m,
	v){if(m&&!1!==v(m))switch(m.type){case "ArrayExpression":n(m.elements,v);break;case "AssignmentExpression":case "BinaryExpression":l(m.left,v);l(m.right,v);break;case "BlockStatement":n(m.body,v);break;case "CallExpression":l(m.callee,v);n(m.arguments,v);break;case "ConditionalExpression":l(m.test,v);l(m.alternate,v);l(m.consequent,v);break;case "ExpressionStatement":l(m.expression,v);break;case "ForInStatement":l(m.left,v);l(m.right,v);l(m.body,v);break;case "ForStatement":l(m.init,v);l(m.test,v);
	l(m.update,v);l(m.body,v);break;case "FunctionDeclaration":case "FunctionDeclaration":case "FunctionExpression":l(m.id,v);n(m.params,v);l(m.body,v);break;case "IfStatement":l(m.test,v);l(m.consequent,v);l(m.alternate,v);break;case "LogicalExpression":l(m.left,v);l(m.right,v);break;case "MemberExpression":l(m.object,v);l(m.property,v);break;case "ObjectExpression":n(m.properties,v);break;case "Program":n(m.body,v);break;case "Property":l(m.key,v);l(m.value,v);break;case "ReturnStatement":l(m.argument,
	v);break;case "UnaryExpression":l(m.argument,v);break;case "UpdateExpression":l(m.argument,v);break;case "VariableDeclaration":n(m.declarations,v);break;case "VariableDeclarator":l(m.id,v);l(m.init,v);break;case "TemplateLiteral":n(m.expressions,v),n(m.quasis,v)}}function k(m,v){void 0===v&&(v=!0);var r=e(m,"SYNTAX","UNREOGNISED");try{switch(m.type){case "VariableDeclarator":return null!==m.init&&"FunctionExpression"===m.init.type?e(m,"SYNTAX","FUNCTIONVARIABLEDECLARATOR"):"Identifier"!==m.id.type?
	e(m,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER"):null!==m.init?k(m.init,!1):"";case "VariableDeclaration":for(var B=0;B<m.declarations.length;B++)if(r=k(m.declarations[B],v),""!==r)return r;return"";case "ForInStatement":r=k(m.left,v);if(""!==r)break;if("VariableDeclaration"===m.left.type){if(1<m.left.declarations.length)return e(m,"SYNTAX","ONLY1VAR");if(null!==m.left.declarations[0].init)return e(m,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==m.left.type)return e(m,"SYNTAX","LEFTNOTVAR");r=k(m.right,
	v);if(""!==r)break;r=k(m.body,v);if(""!==r)break;return"";case "ForStatement":if(null!==m.test&&(r=k(m.test,v),""!==r))break;if(null!==m.init&&(r=k(m.init,v),""!==r))break;if(null!==m.update&&(r=k(m.update,v),""!==r))break;if(null!==m.body&&(r=k(m.body,v),""!==r))break;return"";case "ContinueStatement":return"";case "EmptyStatement":return"";case "BreakStatement":return"";case "IfStatement":r=k(m.test,v);if(""!==r)break;if(null!==m.consequent&&(r=k(m.consequent,!1),""!==r))break;if(null!==m.alternate&&
	(r=k(m.alternate,!1),""!==r))break;return"";case "BlockStatement":var D=[];for(B=0;B<m.body.length;B++)"EmptyStatement"!==m.body[B].type&&D.push(m.body[B]);m.body=D;for(B=0;B<m.body.length;B++)if(r=k(m.body[B],v),""!==r)return r;return"";case "FunctionDeclaration":return!1===v?e(m,"SYNTAX","GLOBALFUNCTIONSONLY"):"Identifier"!==m.id.type?e(m,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"):k(m.body,!1);case "ReturnStatement":return null!==m.argument?k(m.argument,v):"";case "UpdateExpression":return"Identifier"!==
	m.argument.type&&"MemberExpression"!==m.argument.type?e(m,"SYNTAX","ASSIGNMENTTOVARSONLY"):k(m.argument,v);case "AssignmentExpression":if("Identifier"!==m.left.type&&"MemberExpression"!==m.left.type)return e(m,"SYNTAX","ASSIGNMENTTOVARSONLY");r=k(m.left,v);if(""!==r)break;switch(m.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:return e(m,"SYNTAX","OPERATORNOTRECOGNISED")}return k(m.right,!1);case "ExpressionStatement":return k(m.expression,!1);
	case "Identifier":r="";break;case "MemberExpression":r=k(m.object,v);if(""!==r)break;return!0===m.computed?k(m.property,v):"";case "Literal":return"";case "TemplateElement":return"";case "CallExpression":if("Identifier"!==m.callee.type)return e(m,"SYNTAX","ONLYNODESSUPPORTED");r="";for(B=0;B<m.arguments.length;B++)if(r=k(m.arguments[B],v),""!==r)return r;return"";case "UnaryExpression":r=k(m.argument,v);break;case "BinaryExpression":r=k(m.left,v);if(""!==r)break;r=k(m.right,v);if(""!==r)break;switch(m.operator){case "|":case "\x26":case "\x3e\x3e":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":break;
	default:return e(m,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "LogicalExpression":r=k(m.left,v);if(""!==r)break;r=k(m.right);if(""!==r)break;switch(m.operator){case "\x26\x26":case "||":break;default:return e(m,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "ConditionalExpression":return e(m,"SYNTAX","NOTSUPPORTED");case "ArrayExpression":r="";for(B=0;B<m.elements.length&&(r=k(m.elements[B],v),""===r);B++);break;case "TemplateLiteral":r="";for(B=0;B<m.quasis.length;B++)if(r=k(m.quasis[B],v),
	""!==r)return r;for(B=0;B<m.expressions.length&&(r=k(m.expressions[B],v),""===r);B++);break;case "ObjectExpression":r="";for(B=0;B<m.properties.length;B++){r="";if(null!==m.properties[B].key&&("Literal"!==m.properties[B].key.type&&"Identifier"!==m.properties[B].key.type&&(r=e(m,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===m.properties[B].key.type)){D=m.properties[B].key;var G="value"in D?D.value:null;"string"===typeof G||G instanceof String||(r=e(m,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===
	r&&(r=k(m.properties[B],v));if(""!==r)break}break;case "Property":if("Literal"!==m.key.type&&"Identifier"!==m.key.type)return e(m,"SYNTAX","ONLYLITERAL");if("Identifier"!==m.key.type&&(r=k(m.key,v),""!==r))break;r=k(m.value,v)}return r}catch(z){throw z;}}function h(m,v){var r=e(m,"SYNTAX","UNREOGNISED"),B=null,D="";try{switch(m.type){case "VariableDeclarator":if(null!==m.init&&"FunctionExpression"===m.init.type)return e(m,"SYNTAX","FUNCTIONVARIABLEDECLARATOR");var G=null===m.init?"":h(m.init,v);if(""!==
	G)return G;"Identifier"===m.id.type&&(null===v.localScope?v.globalScope[m.id.name.toLowerCase()]={type:"any"}:v.localScope[m.id.name.toLowerCase()]={type:"any"});return"";case "FunctionDeclaration":B=d(m.id.name.toLowerCase(),m);D=a(m,v);if(""!==D)return D;if(null!==v.localScope)return e(m,"SYNTAX","GLOBALFUNCTIONSONLY");B.isnative=!1;v.globalScope[m.id.name.toLowerCase()]={type:"FormulaFunction",signature:[B]};return"";case "VariableDeclaration":r="";for(var z=0;z<m.declarations.length&&(r=h(m.declarations[z],
	v),""===r);z++);break;case "IfStatement":r=h(m.test,v);if(""!==r)break;if("AssignmentExpression"===m.test.type||"UpdateExpression"===m.test.type)return e(m.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");if(null!==m.consequent&&(r=h(m.consequent,v),""!==r))break;if(null!==m.alternate&&(r=h(m.alternate,v),""!==r))break;return"";case "EmptyStatement":return"";case "BlockStatement":for(z=0;z<m.body.length;z++)if(r=h(m.body[z],v),""!==r)return r;return"";case "ReturnStatement":return null!==m.argument?
	h(m.argument,v):"";case "ForInStatement":if("VariableDeclaration"===m.left.type){if(1<m.left.declarations.length)return e(m,"SYNTAX","ONLY1VAR");if(null!==m.left.declarations[0].init)return e(m,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==m.left.type)return e(m,"SYNTAX","LEFTNOTVAR");r=h(m.left,v);if(""!==r)break;r=h(m.right,v);if(""!==r)break;r=h(m.body,v);if(""!==r)break;return"";case "ForStatement":if(null!==m.init&&(r=h(m.init,v),""!==r))break;if(null!==m.test&&(r=h(m.test,v),""!==r))break;
	if(null!==m.body&&(r=h(m.body,v),""!==r))break;if(null!==m.update&&(r=h(m.update,v),""!==r))break;return"";case "BreakStatement":return"";case "ContinueStatement":return"";case "UpdateExpression":if("Identifier"!==m.argument.type&&"MemberExpression"!==m.argument.type)return e(m,"SYNTAX","ASSIGNMENTTOVARSONLY");var E=!1;if("MemberExpression"===m.argument.type)return h(m.argument,v);null!==v.localScope&&void 0!==v.localScope[m.argument.name.toLowerCase()]&&(E=!0);void 0!==v.globalScope[m.argument.name.toLowerCase()]&&
	(E=!0);return!1===E?"Identifier "+m.argument.name+" has not been declared.":"";case "AssignmentExpression":if("Identifier"!==m.left.type&&"MemberExpression"!==m.left.type)return e(m,"SYNTAX","ASSIGNMENTTOVARSONLY");var H=h(m.right,v);if(""!==H)return H;E=!1;if("MemberExpression"===m.left.type)return H=h(m.left,v),""!==H?H:"";null!==v.localScope&&void 0!==v.localScope[m.left.name.toLowerCase()]&&(E=!0);void 0!==v.globalScope[m.left.name.toLowerCase()]&&(E=!0);return!1===E?"Identifier "+m.left.name+
	" has not been declared.":"";case "ExpressionStatement":return h(m.expression,v);case "Identifier":var I=m.name.toLowerCase();if(null!==v.localScope&&void 0!==v.localScope[I])return"";r=void 0!==v.globalScope[I]?"":e(m,"SYNTAX","VARIABLENOTFOUND");break;case "MemberExpression":r=h(m.object,v);if(""!==r)break;return!0===m.computed?h(m.property,v):"";case "Literal":return"";case "TemplateElement":return"";case "CallExpression":if("Identifier"!==m.callee.type)return e(m,"SYNTAX","ONLYNODESSUPPORTED");
	r="";for(z=0;z<m.arguments.length;z++)if(r=h(m.arguments[z],v),""!==r)return r;var O=w(m.callee.name,m.arguments,v);-1===O&&(r=e(m,"SYNTAX","NOTFOUND"));-2===O&&(r=e(m,"SYNTAX","WRONGSIGNATURE"));break;case "UnaryExpression":r=h(m.argument,v);break;case "BinaryExpression":r=h(m.left,v);if(""!==r)break;r=h(m.right,v);if(""!==r)break;return"";case "LogicalExpression":r=h(m.left,v);if(""!==r)break;if("AssignmentExpression"===m.left.type||"UpdateExpression"===m.left.type)return e(m.left,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");
	r=h(m.right,v);if(""!==r)break;return"AssignmentExpression"===m.right.type||"UpdateExpression"===m.right.type?e(m.right,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):"";case "ConditionalExpression":return e(m,"SYNTAX","NOTSUPPORTED");case "ArrayExpression":r="";for(z=0;z<m.elements.length&&(r=h(m.elements[z],v),""===r);z++);break;case "TemplateLiteral":r="";for(z=0;z<m.quasis.length;z++)if(r=h(m.quasis[z],v),""!==r)return r;for(z=0;z<m.expressions.length&&(r=h(m.expressions[z],v),""===r);z++);break;
	case "ObjectExpression":r="";for(z=0;z<m.properties.length;z++){r="";if(null!==m.properties[z].key&&("Literal"!==m.properties[z].key.type&&"Identifier"!==m.properties[z].key.type&&(r=e(m,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===m.properties[z].key.type)){var T=m.properties[z].key,Z="value"in T?T.value:null;"string"===typeof Z||Z instanceof String||(r=e(m,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===r&&(r=h(m.properties[z],v));if(""!==r)break}break;case "Property":if("Literal"!==m.key.type&&
	"Identifier"!==m.key.type)return e(m,"SYNTAX","ONLYLITERAL");if("Identifier"!==m.key.type&&(r=h(m.key,v),""!==r))break;r=h(m.value,v)}return r}catch(ia){throw ia;}}function f(m,v){var r=!1,B=v.toLowerCase();l(m,function(D){if(r)return!1;"Identifier"===D.type&&D.name&&D.name.toLowerCase()===B&&(r=!0);return!0});return r}function d(m,v){var r=[];if(void 0!==v.params&&null!==v.params)for(var B=0;B<v.params.length;B++)r.push("any");return{name:m,return:"any",params:r}}function a(m,v){v={globalScope:v.globalScope,
	localScope:{}};for(var r=0;r<m.params.length;r++)v.localScope[m.params[r].name.toLowerCase()]={type:"any"};return h(m.body,v)}function c(m,v,r,B){var D={};if(void 0===m||null===m)m={};if(void 0===r||null===r)r={};D.infinity={type:"any"};D.textformatting={type:"any"};D.pi={type:"any"};for(var G in v)"sync"===B&&void 0!==v[G].min?D[G]={type:"FormulaFunction",signature:{min:v[G].min,max:v[G].max}}:"sync"!==B&&void 0!==v[G].fmin&&(D[G]={type:"FormulaFunction",signature:{min:v[G].fmin,max:v[G].fmax}});
	for(v=0;v<r.length;v++)G=r[v],D[G.name]={type:"FormulaFunction",signature:G};for(G in m)D[G]=m[G],D[G].type="any";return D}function e(m,v,r){var B="";switch(v){case "SYNTAX":B="Syntax Error: ";break;case "RUNTIME":B="Runtime Error: ";break;default:B="Syntax Error: "}try{switch(m.type){case "IfStatement":switch(r){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":B+=" Assignments not be made in logical tests";break;case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":B+=" Non Boolean used as Condition"}break;case "UpdateExpression":case "AssignmentExpression":switch(r){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":B+=
	" Assignments not be made in logical tests";break;case "ASSIGNMENTTOVARSONLY":B+=" Assignments can only be made to identifiers"}break;case "ExpressionStatement":B+=" Assignments can only be made to identifiers";break;case "FunctionDeclaration":switch(r){case "GLOBALFUNCTIONSONLY":B+=" Functions cannot be declared as variables";break;case "FUNCTIONMUSTHAVEIDENTIFIER":B+=" Function Definition must have an identifier"}break;case "VariableDeclaration":B+=" Only 1 variable can be declared at a time";break;
	case "VariableDeclarator":switch(r){case "FUNCTIONVARIABLEDECLARATOR":B+=" Functions cannot be declared as variables";break;case "VARIABLEMUSTHAVEIDENTIFIER":B+=" Variable Definition must have an identifier"}break;case "Identifier":B+=" Identifier Not Found. ";B+=m.name;break;case "ObjectExpression":switch(r){case "OBJECTPROPERTYMUSTBESTRING":B+=" Property name must be a string"}break;case "ForStatement":switch(r){case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":B+=" Non Boolean used as Condition"}break;
	case "ForInStatement":switch(r){case "ONLY1VAR":B+=" Can only declare 1 var for use with IN";break;case "CANNOTDECLAREVAL":B+=" Can only declare value for use with IN";break;case "LEFTNOVAR":B+="Must provide a variable to iterate with.";break;case "VARIABLENOTDECLARED":B+="Variable must be declared before it is used..";break;case "CANNOTITERATETHISTYPE":B+="This type cannot be used in an IN loop"}break;case "MemberExpression":switch(r){case "PROPERTYNOTFOUND":B+="Cannot find member property. ";B+=
	!1===m.computed?"Identifier"===m.property.type?m.property.name:"":"";break;case "OUTOFBOUNDS":B+="Out of Bounds. ";B+=!1===m.computed?"Identifier"===m.property.type?m.property.name:"":"";break;case "NOTFOUND":B+="Cannot call member method on null. ";B+=!1===m.computed?"Identifier"===m.property.type?m.property.name:"":"";break;case "INVALIDTYPE":B+="Cannot call member property on object of this type. ",B+=!1===m.computed?"Identifier"===m.property.type?m.property.name:"":""}break;case "Property":switch(r){case "ONLYLITERAL":B+=
	"Property names must be literals or identifiers"}break;case "Literal":break;case "CallExpression":switch(r){case "WRONGSIGNATURE":B+="Function signature does not match: ";B+="Identifier"===m.callee.type?m.callee.name:"";break;case "ONLYNODESUPPORTED":B+="Functions must be declared.";B+="Identifier"===m.callee.type?m.callee.name:"";break;case "NOTAFUNCTION":B+="Not a Function: ";B+="Identifier"===m.callee.type?m.callee.name:"";break;case "NOTFOUND":B+="Function Not Found: "+("Identifier"===m.callee.type?
	m.callee.name:"")}break;case "UnaryExpression":switch(r){case "NOTSUPPORTEDUNARYOPERATOR":B+="Operator "+m.operator+" not allowed in this context. Only ! can be used with boolean, and - with a number";break;case "NOTSUPPORTEDTYPE":B+="Unary operator "+m.operator+" cannot be used with this argument."}case "BinaryExpression":switch(r){case "OPERATORNOTRECOGNISED":B+="Binary Operator not recognised "+m.operator}break;case "LogicalExpression":switch(r){case "ONLYBOOLEAN":B+="Operator "+m.operator+" cannot be used. Only || or \x26\x26 are allowed values";
	break;case "ONLYORORAND":B+="Logical Expression "+m.operator+" being applied to parameters that are not boolean."}break;case "ConditionalExpression":B+="Conditional statements not supported.";break;case "ArrayExpression":switch(r){case "FUNCTIONCONTEXTILLEGAL":B+=" Cannot Put Function inside Array."}break;default:B+="Expression contains unrecognised code structures."}}catch(D){throw D;}return B}function q(m,v,r){return{line:m.loc.start.line,character:m.loc.start.column,reason:e(m,v,r)}}function t(m,
	v,r,B){v={globalScope:v.globalScope,localScope:{}};for(var D=0;D<m.params.length;D++)v.localScope[m.params[D].name.toLowerCase()]={type:"any"};g(m.body,v,r,B,!1)}function g(m,v,r,B,D){void 0===D&&(D=!0);if(null===m)throw Error("Unnexpexted Expression Syntax");var G=null;try{switch(m.type){case "VariableDeclarator":if(null!==m.init&&"FunctionExpression"===m.init.type){B.push(q(m,"SYNTAX","FUNCTIONVARIABLEDECLARATOR"));break}"Identifier"!==m.id.type?B.push(q(m,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER")):
	(m.id.name.toLowerCase(),null===v.localScope?v.globalScope[m.id.name.toLowerCase()]={type:"any"}:v.localScope[m.id.name.toLowerCase()]={type:"any"});null!==m.init&&g(m.init,v,r,B,D);break;case "FunctionDeclaration":!1===D&&B.push(q(m,"SYNTAX","GLOBALFUNCTIONSONLY"));"Identifier"!==m.id.type&&B.push(q(m,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"));G=d("",m);t(m,v,r,B);null!==v.localScope&&B.push(q(m,"SYNTAX","GLOBALFUNCTIONSONLY"));G.isnative=!1;"Identifier"===m.id.type&&(v.globalScope[m.id.name.toLowerCase()]=
	{type:"FormulaFunction",signature:[G]});break;case "VariableDeclaration":for(var z=0;z<m.declarations.length;z++)g(m.declarations[z],v,r,B,D);break;case "IfStatement":null!==m.test&&(g(m.test,v,r,B,D),"AssignmentExpression"!==m.test.type&&"UpdateExpression"!==m.test.type||B.push(q(m.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")));null!==m.consequent&&g(m.consequent,v,r,B,D);null!==m.alternate&&g(m.alternate,v,r,B,D);break;case "EmptyStatement":break;case "BlockStatement":if(null!==m.body)for(z=
	0;z<m.body.length;z++)g(m.body[z],v,r,B,D);break;case "ReturnStatement":null!==m.argument&&g(m.argument,v,r,B,D);break;case "ForInStatement":"VariableDeclaration"===m.left.type?(1<m.left.declarations.length&&B.push(q(m,"SYNTAX","ONLY1VAR")),null!==m.left.declarations[0].init&&B.push(q(m,"SYNTAX","CANNOTDECLAREVAL"))):"Identifier"!==m.left.type&&B.push(q(m,"SYNTAX","LEFTNOTVAR"));g(m.left,v,r,B,D);g(m.right,v,r,B,D);g(m.body,v,r,B,D);break;case "ForStatement":null!==m.init&&g(m.init,v,r,B,D);null!==
	m.test&&g(m.test,v,r,B,D);null!==m.body&&g(m.body,v,r,B,D);null!==m.update&&g(m.update,v,r,B,D);break;case "BreakStatement":break;case "ContinueStatement":break;case "UpdateExpression":if("Identifier"!==m.argument.type&&"MemberExpression"!==m.argument.type)B.push(q(m,"SYNTAX","ASSIGNMENTTOVARSONLY"));else{if("Identifier"===m.argument.type){var E=!1;!1===r&&(null!==v.localScope&&void 0!==v.localScope[m.argument.name.toLowerCase()]&&(E=!0),void 0!==v.globalScope[m.argument.name.toLowerCase()]&&(E=!0),
	!1===E&&B.push({line:null===m?0:m.loc.start.line,character:null===m?0:m.loc.start.column,reason:"Identifier "+m.argument.name+" has not been declared."}))}"MemberExpression"===m.argument.type&&g(m.argument,v,r,B,D)}break;case "AssignmentExpression":"Identifier"!==m.left.type&&"MemberExpression"!==m.left.type&&B.push(q(m,"SYNTAX","ASSIGNMENTTOVARSONLY"));switch(m.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:B.push(q(m,"SYNTAX","OPERATORNOTRECOGNISED"))}g(m.right,
	v,r,B,D);E=!1;"Identifier"===m.left.type&&(null!==v.localScope&&void 0!==v.localScope[m.left.name.toLowerCase()]&&(E=!0),void 0!==v.globalScope[m.left.name.toLowerCase()]&&(E=!0),!1===r&&!1===E&&B.push({line:null===m?0:m.loc.start.line,character:null===m?0:m.loc.start.column,reason:"Identifier "+m.left.name+" has not been declared."}));"MemberExpression"===m.left.type&&g(m.left,v,r,B,D);break;case "ExpressionStatement":g(m.expression,v,r,B,D);break;case "Identifier":var H=m.name.toLowerCase();if(null!==
	v.localScope&&void 0!==v.localScope[H]||void 0!==v.globalScope[H])break;!1===r&&B.push(q(m,"SYNTAX","VARIABLENOTFOUND"));break;case "MemberExpression":g(m.object,v,r,B,D);!0===m.computed&&g(m.property,v,r,B,D);break;case "Literal":break;case "TemplateElement":break;case "CallExpression":"Identifier"!==m.callee.type&&B.push(q(m,"SYNTAX","ONLYNODESSUPPORTED"));for(z=0;z<m.arguments.length;z++)g(m.arguments[z],v,r,B,D);if("Identifier"===m.callee.type){var I=w(m.callee.name,m.arguments,v);!1===r&&-1===
	I&&B.push(q(m,"SYNTAX","NOTFOUND"));-2===I&&B.push(q(m,"SYNTAX","WRONGSIGNATURE"))}break;case "UnaryExpression":g(m.argument,v,r,B,D);break;case "BinaryExpression":g(m.left,v,r,B,D);g(m.right,v,r,B,D);switch(m.operator){case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":case "\x26":case "|":case "^":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":break;default:B.push(q(m,"SYNTAX","OPERATORNOTRECOGNISED"))}break;case "LogicalExpression":switch(m.operator){case "\x26\x26":case "||":break;
	default:B.push(q(m,"SYNTAX","OPERATORNOTRECOGNISED"))}g(m.left,v,r,B,D);"AssignmentExpression"!==m.left.type&&"UpdateExpression"!==m.left.type||B.push(q(m,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));g(m.right,v,r,B,D);"AssignmentExpression"!==m.right.type&&"UpdateExpression"!==m.right.type||B.push(q(m,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));break;case "ConditionalExpression":B.push(q(m,"SYNTAX","NOTSUPPORTED"));break;case "ArrayExpression":for(z=0;z<m.elements.length;z++)g(m.elements[z],
	v,r,B,D);break;case "TemplateLiteral":for(z=0;z<m.quasis.length;z++)g(m.quasis[z],v,r,B,D);for(z=0;z<m.expressions.length;z++)g(m.expressions[z],v,r,B,D);break;case "ObjectExpression":for(z=0;z<m.properties.length;z++)g(m.properties[z],v,r,B,D);break;case "Property":"Literal"!==m.key.type&&"Identifier"!==m.key.type&&B.push(q(m,"SYNTAX","ONLYLITERAL"));"Literal"===m.key.type&&g(m.key,v,r,B,D);g(m.value,v,r,B,D);break;default:B.push(q(m,"SYNTAX","UNRECOGNISED"))}}catch(O){B.push({line:null===m?0:m.loc.start.line,
	character:null===m?0:m.loc.start.column,reason:"Unnexpected Syntax"})}}function p(m){var v=[];l(m,function(r){"CallExpression"===r.type&&"Identifier"===r.callee.type&&v.push(r.callee.name.toLowerCase());return!0});return v}Object.defineProperty(y,"__esModule",{value:!0});y.scriptUsesFeatureSet=y.findScriptDependencies=y.findFunctionCalls=y.checkScript=y.extractAllIssues=y.extractAllIssuesInFunction=y.makeError=y.nodeErrorMessage=y.validateLanguage=y.validateScript=y.constructGlobalScope=y.validateFunction=
	y.extractFunctionDeclaration=y.findFieldLiterals=y.referencesFunction=y.referencesMember=y.testValidityOfExpression=y.validateLanguageNode=y.walk=y.findFunction=y.checkFunctionSignature=y.addFunctionDeclaration=y.functionDecls=void 0;y.functionDecls={concatenate:{min:"0",max:"*"},tohex:{min:"1",max:"1"},hash:{min:"1",max:"1"},isoweek:{min:"1",max:"1"},isoweekday:{min:"1",max:"1"},isomonth:{min:"1",max:"1"},isoyear:{min:"1",max:"1"},resize:{min:"2",max:"3"},slice:{min:"0",max:"*"},splice:{min:"0",
	max:"*"},push:{min:"2",max:"2"},pop:{min:"1",max:"1"},includes:{min:"2",max:"2"},array:{min:"1",max:"2"},front:{min:"1",max:"1"},back:{min:"1",max:"1"},insert:{min:"3",max:"3"},erase:{min:"2",max:"2"},split:{min:"2",max:"4"},guid:{min:"0",max:"1"},today:{min:"0",max:"0"},angle:{min:"2",max:"3"},bearing:{min:"2",max:"3"},urlencode:{min:"1",max:"1"},now:{min:"0",max:"0"},timestamp:{min:"0",max:"0"},day:{min:"1",max:"1"},month:{min:"1",max:"1"},year:{min:"1",max:"1"},hour:{min:"1",max:"1"},second:{min:"1",
	max:"1"},millisecond:{min:"1",max:"1"},minute:{min:"1",max:"1"},weekday:{min:"1",max:"1"},toutc:{min:"1",max:"1"},tolocal:{min:"1",max:"1"},date:{min:"0",max:"7"},datediff:{min:"2",max:"3"},dateadd:{min:"2",max:"3"},trim:{min:"1",max:"1"},text:{min:"1",max:"2"},left:{min:"2",max:"2"},right:{min:"2",max:"2"},mid:{min:"2",max:"3"},upper:{min:"1",max:"1"},proper:{min:"1",max:"2"},lower:{min:"1",max:"1"},find:{min:"2",max:"3"},iif:{min:"3",max:"3"},decode:{min:"2",max:"*"},when:{min:"2",max:"*"},defaultvalue:{min:"2",
	max:"2"},isempty:{min:"1",max:"1"},domaincode:{min:"2",max:"4"},domainname:{min:"2",max:"4"},polygon:{min:"1",max:"1"},point:{min:"1",max:"1"},polyline:{min:"1",max:"1"},extent:{min:"1",max:"1"},multipoint:{min:"1",max:"1"},ringisclockwise:{min:"1",max:"1"},geometry:{min:"1",max:"1"},count:{min:"0",max:"*"},number:{min:"1",max:"2"},acos:{min:"1",max:"1"},asin:{min:"1",max:"1"},atan:{min:"1",max:"1"},atan2:{min:"2",max:"2"},ceil:{min:"1",max:"2"},floor:{min:"1",max:"2"},round:{min:"1",max:"2"},cos:{min:"1",
	max:"1"},exp:{min:"1",max:"1"},log:{min:"1",max:"1"},min:{min:"0",max:"*"},constrain:{min:"3",max:"3"},console:{min:"0",max:"*"},max:{min:"0",max:"*"},pow:{min:"2",max:"2"},random:{min:"0",max:"0"},sqrt:{min:"1",max:"1"},sin:{min:"1",max:"1"},tan:{min:"1",max:"1"},abs:{min:"1",max:"1"},isnan:{min:"1",max:"1"},stdev:{min:"0",max:"*"},average:{min:"0",max:"*"},mean:{min:"0",max:"*"},sum:{min:"0",max:"*"},variance:{min:"0",max:"*"},distinct:{min:"0",max:"*"},first:{min:"1",max:"1"},top:{min:"2",max:"2"},
	boolean:{min:"1",max:"1"},dictionary:{min:"0",max:"*"},typeof:{min:"1",max:"1"},reverse:{min:"1",max:"1"},replace:{min:"3",max:"4"},sort:{min:"1",max:"2"},feature:{min:"1",max:"*"},haskey:{min:"2",max:"2"},indexof:{min:"2",max:"2"},disjoint:{min:"2",max:"2"},intersects:{min:"2",max:"2"},touches:{min:"2",max:"2"},crosses:{min:"2",max:"2"},within:{min:"2",max:"2"},contains:{min:"2",max:"2"},overlaps:{min:"2",max:"2"},equals:{min:"2",max:"2"},relate:{min:"3",max:"3"},intersection:{min:"2",max:"2"},union:{min:"1",
	max:"2"},difference:{min:"2",max:"2"},symmetricdifference:{min:"2",max:"2"},clip:{min:"2",max:"2"},cut:{min:"2",max:"2"},area:{min:"1",max:"2"},areageodetic:{min:"1",max:"2"},length:{min:"1",max:"2"},lengthgeodetic:{min:"1",max:"2"},distancegeodetic:{min:"2",max:"3"},distance:{min:"2",max:"3"},densify:{min:"2",max:"3"},densifygeodetic:{min:"2",max:"3"},generalize:{min:"2",max:"4"},buffer:{min:"2",max:"3"},buffergeodetic:{min:"2",max:"3"},offset:{min:"2",max:"6"},rotate:{min:"2",max:"3"},issimple:{min:"1",
	max:"1"},simplify:{min:"1",max:"1"},centroid:{min:"1",max:"1"},isselfintersecting:{min:"1",max:"1"},multiparttosinglepart:{min:"1",max:"1"},setgeometry:{min:"2",max:"2"},portal:{min:"1",max:"1"},getuser:{min:"1",max:"2"},subtypes:{min:"1",max:"1"},subtypecode:{min:"1",max:"1"},subtypename:{min:"1",max:"1"},domain:{min:"2",max:"3"},convertdirection:{min:"3",max:"3"},schema:{min:"1",max:"1"}};for(var x in y.functionDecls)y.functionDecls[x].fmin=y.functionDecls[x].min,y.functionDecls[x].fmax=y.functionDecls[x].max;
	var u="featureset getuser featuresetbyid featuresetbyname featuresetbyassociation featuresetbyrelationshipname featuresetbyurl attachments featuresetbyportalitem".split(" "),A="disjoint intersects touches crosses within contains overlaps equals relate intersection union difference symmetricdifference clip cut area areageodetic length lengthgeodetic distance distancegeodetic densify densifygeodetic generalize buffer buffergeodetic offset rotate issimple simplify multiparttosinglepart".split(" ");y.addFunctionDeclaration=
	function(m,v){var r=y.functionDecls[m.name.toLowerCase()];void 0===r?"sync"===v?y.functionDecls[m.name.toLowerCase()]={min:m.min,max:m.max}:y.functionDecls[m.name.toLowerCase()]={fmin:m.min,fmax:m.max}:"sync"===v?(r.min=m.min,r.max=m.max):(r.fmin=m.min,r.fmax=m.max)};y.checkFunctionSignature=b;y.findFunction=w;y.walk=l;y.validateLanguageNode=k;y.testValidityOfExpression=h;y.referencesMember=f;y.referencesFunction=function(m,v){var r=!1,B=v.toLowerCase();l(m,function(D){return r?!1:"CallExpression"===
	D.type&&"Identifier"===D.callee.type&&D.callee.name&&D.callee.name.toLowerCase()===B?(r=!0,!1):!0});return r};y.findFieldLiterals=function(m){var v=[];l(m,function(r){if("MemberExpression"!==r.type||"Identifier"!==r.object.type)return!0;!1===r.computed&&r.object&&r.object.name&&r.property&&"Identifier"===r.property.type&&r.property.name?v.push(r.object.name.toLowerCase()+"."+r.property.name.toLowerCase()):r.object&&r.object.name&&r.property&&"Literal"===r.property.type&&"string"===typeof r.property.value&&
	v.push(r.object.name.toLowerCase()+"."+r.property.value.toString().toLowerCase());return!1});return v};y.extractFunctionDeclaration=d;y.validateFunction=a;y.constructGlobalScope=c;y.validateScript=function(m,v,r,B){void 0===r&&(r="async");void 0===B&&(B=y.functionDecls);v={globalScope:c(v.vars,B,v.customFunctions,r),localScope:null};return h(m.body[0].body,v)};y.validateLanguage=function(m){return"BlockStatement"!==m.body[0].body.type?"Invalid formula content.":k(m.body[0].body)};y.nodeErrorMessage=
	e;y.makeError=q;y.extractAllIssuesInFunction=t;y.extractAllIssues=g;y.checkScript=function(m,v,r,B,D){void 0===B&&(B="async");void 0===D&&(D=y.functionDecls);var G=[];if("BlockStatement"!==m.body[0].body.type)return[{line:0,character:0,reason:"Invalid Body"}];if(null===v||void 0===v)v={vars:{},customFunctions:[]};v={globalScope:c(v.vars,D,v.customFunctions,B),localScope:null};try{g(m.body[0].body,v,r,G)}catch(z){}return G};y.findFunctionCalls=p;y.findScriptDependencies=function(m,v){void 0===v&&(v=
	[]);var r=null;if(void 0===m.usesFeatureSet){null===r&&(r=p(m));m.usesFeatureSet=!1;for(var B=0;B<r.length;B++)-1<u.indexOf(r[B])&&(m.usesFeatureSet=!0,m.isAsync=!0);if(!1===m.usesFeatureSet&&v&&0<v.length)for(B=0;B<v.length;B++)if(f(m,v[B])){m.usesFeatureSet=!0;m.isAsync=!0;break}}if(void 0===m.usesGeometry)for(m.usesGeometry=!1,null===r&&(r=p(m)),B=0;B<r.length;B++)-1<A.indexOf(r[B])&&(m.usesGeometry=!0)};y.scriptUsesFeatureSet=function(m){m=p(m);for(var v=0;v<m.length;v++)if(-1<u.indexOf(m[v]))return!0;
	return!1}})},"esri/arcade/functions/array":function(){define(["require","exports","../languageUtils"],function(C,y,b){Object.defineProperty(y,"__esModule",{value:!0});y.registerFunctions=void 0;y.registerFunctions=function(w,n){w.array=function(l,k){return n(l,k,function(h,f,d){b.pcCheck(d,1,2);h=b.toNumber(d[0]);if(isNaN(h)||!1===b.isInteger(h))throw Error("Invalid Parameter");d=b.defaultUndefined(d[1],null);h=Array(h);h.fill(d);return h})};w.front=function(l,k){return n(l,k,function(h,f,d){b.pcCheck(d,
	1,1);if(b.isImmutableArray(d[0])){if(0>=d[0].length())throw Error("Array is empty");return d[0].get(0)}if(b.isArray(d[0])){if(0>=d[0].length)throw Error("Array is empty");return d[0][0]}throw Error("Invalid Parameter");})};w.back=function(l,k){return n(l,k,function(h,f,d){b.pcCheck(d,1,1);if(b.isImmutableArray(d[0])){if(0>=d[0].length())throw Error("Array is empty");return d[0].get(d[0].length()-1)}if(b.isArray(d[0])){if(0>=d[0].length)throw Error("Array is empty");return d[0][d[0].length-1]}throw Error("Invalid Parameter");
	})};w.push=function(l,k){return n(l,k,function(h,f,d){b.pcCheck(d,1,2);if(b.isArray(d[0]))return d[0][d[0].length]=d[1],d[0].length;throw Error("Invalid Parameter");})};w.pop=function(l,k){return n(l,k,function(h,f,d){b.pcCheck(d,1,1);if(b.isArray(d[0])){if(0>=d[0].length)throw Error("Array is empty");h=d[0][d[0].length-1];--d[0].length;return h}throw Error("Invalid Parameter");})};w.erase=function(l,k){return n(l,k,function(h,f,d){b.pcCheck(d,2,2);if(b.isArray(d[0])){h=b.toNumber(d[1]);if(isNaN(h)||
	!1===b.isInteger(h))throw Error("Invalid Parameter");d=d[0];if(0>=d.length)throw Error("Array is empty");0>h&&(h=d.length+h);if(0>h)throw Error("Element not found");if(h>=d.length)throw Error("Index is greater than array");d.splice(h,1);return b.voidOperation}throw Error("Invalid Parameter");})};w.insert=function(l,k){return n(l,k,function(h,f,d){b.pcCheck(d,3,3);if(b.isArray(d[0])){h=b.toNumber(d[1]);if(isNaN(h)||!1===b.isInteger(h))throw Error("Invalid Parameter");f=d[2];d=d[0];if(h>d.length)throw Error("Index is greater than array");
	if(0>h&&h<-1*d.length)throw Error("Index is greater than array");if(h===d.length)return d[h]=f,b.voidOperation;d.splice(h,0,f);return b.voidOperation}throw Error("Invalid Parameter");})};w.resize=function(l,k){return n(l,k,function(h,f,d){b.pcCheck(d,2,3);if(b.isArray(d[0])){f=b.toNumber(d[1]);if(isNaN(f)||!1===b.isInteger(f))throw Error("Invalid Parameter");if(0>f)throw Error("Size cannot be negative");h=b.defaultUndefined(d[2],null);d=d[0];if(d.length>=f)return d.length=f,b.voidOperation;var a=
	d.length;d.length=f;for(f=a;f<d.length;f++)d[f]=h;return b.voidOperation}throw Error("Invalid Parameter");})};w.includes=function(l,k){return n(l,k,function(h,f,d){b.pcCheck(d,2,2);if(b.isArray(d[0])){var a=d[1];h=d[0];return-1<h.findIndex(function(e){return b.equalityTest(e,a)})?!0:!1}if(b.isImmutableArray(d[0])){var c=d[1];h=d[0].toArray();return-1<h.findIndex(function(e){return b.equalityTest(e,c)})?!0:!1}throw Error("Invalid Parameter");})};w.slice=function(l,k){return n(l,k,function(h,f,d){b.pcCheck(d,
	1,3);if(b.isArray(d[0])){h=b.toNumber(b.defaultUndefined(d[1],0));f=b.toNumber(b.defaultUndefined(d[2],d[0].length));if(isNaN(h)||!1===b.isInteger(h))throw Error("Invalid Parameter");if(isNaN(f)||!1===b.isInteger(f))throw Error("Invalid Parameter");var a=d[0];return a.slice(h,f)}if(b.isImmutableArray(d[0])){a=d[0];h=b.toNumber(b.defaultUndefined(d[1],0));f=b.toNumber(b.defaultUndefined(d[2],a.length()));if(isNaN(h)||!1===b.isInteger(h))throw Error("Invalid Parameter");if(isNaN(f)||!1===b.isInteger(f))throw Error("Invalid Parameter");
	return a.toArray().slice(h,f)}throw Error("Invalid Parameter");})};w.splice=function(l,k){return n(l,k,function(h,f,d){h=[];for(f=0;f<d.length;f++)b.isArray(d[f])?h.push.apply(h,d[f]):b.isImmutableArray(d[f])?h.push.apply(h,d[f].toArray()):h.push(d[f]);return h})}}})},"esri/arcade/functions/date":function(){define(["require","exports","../languageUtils"],function(C,y,b){function w(k){k=new Date(k.getTime());var h=k.getFullYear(),f=new Date(0);f.setFullYear(h+1,0,4);f.setHours(0,0,0,0);f=n(f);var d=
	new Date(0);d.setFullYear(h,0,4);d.setHours(0,0,0,0);d=n(d);return k.getTime()>=f.getTime()?h+1:k.getTime()>=d.getTime()?h:h-1}function n(k){k=new Date(k.getTime());var h=k.getDay();h=(1>h?7:0)+h-1;k.setDate(k.getDate()-h);k.setHours(0,0,0,0);return k}function l(k){return null===k?k:isNaN(k.getTime())?null:k}Object.defineProperty(y,"__esModule",{value:!0});y.registerFunctions=void 0;y.registerFunctions=function(k,h){k.today=function(f,d){return h(f,d,function(a,c,e){b.pcCheck(e,0,0);a=new Date;a.setHours(0,
	0,0,0);return a})};k.now=function(f,d){return h(f,d,function(a,c,e){b.pcCheck(e,0,0);return new Date})};k.timestamp=function(f,d){return h(f,d,function(a,c,e){b.pcCheck(e,0,0);a=new Date;return a=new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds())})};k.toutc=function(f,d){return h(f,d,function(a,c,e){b.pcCheck(e,1,1);a=b.toDate(e[0]);return null===a?null:new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),
	a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds())})};k.tolocal=function(f,d){return h(f,d,function(a,c,e){b.pcCheck(e,1,1);a=b.toDate(e[0]);return null===a?null:b.MomentLibrary.Moment.utc([a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()]).toDate()})};k.day=function(f,d){return h(f,d,function(a,c,e){b.pcCheck(e,1,1);a=b.toDate(e[0]);return null===a?NaN:a.getDate()})};k.month=function(f,d){return h(f,d,function(a,c,e){b.pcCheck(e,1,1);
	a=b.toDate(e[0]);return null===a?NaN:a.getMonth()})};k.year=function(f,d){return h(f,d,function(a,c,e){b.pcCheck(e,1,1);a=b.toDate(e[0]);return null===a?NaN:a.getFullYear()})};k.hour=function(f,d){return h(f,d,function(a,c,e){b.pcCheck(e,1,1);a=b.toDate(e[0]);return null===a?NaN:a.getHours()})};k.second=function(f,d){return h(f,d,function(a,c,e){b.pcCheck(e,1,1);a=b.toDate(e[0]);return null===a?NaN:a.getSeconds()})};k.millisecond=function(f,d){return h(f,d,function(a,c,e){b.pcCheck(e,1,1);a=b.toDate(e[0]);
	return null===a?NaN:a.getMilliseconds()})};k.minute=function(f,d){return h(f,d,function(a,c,e){b.pcCheck(e,1,1);a=b.toDate(e[0]);return null===a?NaN:a.getMinutes()})};k.weekday=function(f,d){return h(f,d,function(a,c,e){b.pcCheck(e,1,1);a=b.toDate(e[0]);return null===a?NaN:a.getDay()})};k.isoweekday=function(f,d){return h(f,d,function(a,c,e){b.pcCheck(e,1,1);a=b.toDate(e[0]);if(null===a)return NaN;a=a.getDay();0===a&&(a=7);return a})};k.isomonth=function(f,d){return h(f,d,function(a,c,e){b.pcCheck(e,
	1,1);a=b.toDate(e[0]);return null===a?NaN:a.getMonth()+1})};k.isoweek=function(f,d){return h(f,d,function(a,c,e){b.pcCheck(e,1,1);c=b.toDate(e[0]);if(null===c)return NaN;a=n(c).getTime();c=w(c);e=new Date(0);e.setFullYear(c,0,4);e.setHours(0,0,0,0);c=n(e);a-=c.getTime();return Math.round(a/6048E5)+1})};k.isoyear=function(f,d){return h(f,d,function(a,c,e){b.pcCheck(e,1,1);a=b.toDate(e[0]);return null===a?NaN:w(a)})};k.date=function(f,d){return h(f,d,function(a,c,e){b.pcCheck(e,0,7);if(3===e.length)return l(new Date(b.toNumber(e[0]),
	b.toNumber(e[1]),b.toNumber(e[2]),0,0,0,0));if(4===e.length)return l(new Date(b.toNumber(e[0]),b.toNumber(e[1]),b.toNumber(e[2]),b.toNumber(e[3]),0,0,0));if(5===e.length)return l(new Date(b.toNumber(e[0]),b.toNumber(e[1]),b.toNumber(e[2]),b.toNumber(e[3]),b.toNumber(e[4]),0,0));if(6===e.length)return l(new Date(b.toNumber(e[0]),b.toNumber(e[1]),b.toNumber(e[2]),b.toNumber(e[3]),b.toNumber(e[4]),b.toNumber(e[5]),0));if(7===e.length)return l(new Date(b.toNumber(e[0]),b.toNumber(e[1]),b.toNumber(e[2]),
	b.toNumber(e[3]),b.toNumber(e[4]),b.toNumber(e[5]),b.toNumber(e[6])));if(2===e.length){a=b.toString(e[1]);if(""===a)return null;a=b.standardiseDateFormat(a);e=b.MomentLibrary.Moment(b.toString(e[0]),a,!0);return!0===e.isValid()?e.toDate():null}if(1===e.length){if(b.isString(e[0])){if(""===e[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(e[0]))return b.toDate(e[0]+"-01-01")}a=b.toNumber(e[0]);return!1===isNaN(a)?l(new Date(a)):b.toDate(e[0])}if(0===
	e.length)return new Date})};k.datediff=function(f,d){return h(f,d,function(a,c,e){b.pcCheck(e,2,3);a=b.toDateM(e[0]);c=b.toDateM(e[1]);if(null===a||null===c)return NaN;switch(b.toString(e[2]).toLowerCase()){case "days":case "day":case "d":return a.diff(c,"days",!0);case "months":case "month":return a.diff(c,"months",!0);case "minutes":case "minute":case "m":return"M"===e[2]?a.diff(c,"months",!0):a.diff(c,"minutes",!0);case "seconds":case "second":case "s":return a.diff(c,"seconds",!0);case "milliseconds":case "millisecond":case "ms":return a.diff(c);
	case "hours":case "hour":case "h":return a.diff(c,"hours",!0);case "years":case "year":case "y":return a.diff(c,"years",!0);default:return a.diff(c)}})};k.dateadd=function(f,d){return h(f,d,function(a,c,e){b.pcCheck(e,2,3);a=b.toDateM(e[0]);if(null===a)return null;c="milliseconds";switch(b.toString(e[2]).toLowerCase()){case "days":case "day":case "d":c="days";break;case "months":case "month":c="months";break;case "minutes":case "minute":case "m":c="M"===e[2]?"months":"minutes";break;case "seconds":case "second":case "s":c=
	"seconds";break;case "milliseconds":case "millisecond":case "ms":c="milliseconds";break;case "hours":case "hour":case "h":c="hours";break;case "years":case "year":case "y":c="years"}a.add(b.toNumber(e[1]),c);return a.toDate()})}}})},"esri/arcade/functions/geometry":function(){define("require exports ../Dictionary ../Feature ../ImmutablePointArray ../languageUtils ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ./centroid ../../geometry/jsonUtils".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q){Object.defineProperty(y,"__esModule",{value:!0});y.registerFunctions=void 0;y.registerFunctions=function(t,g){t.ringisclockwise=function(p,x){return g(p,x,function(u,A,m){l.pcCheck(m,1,1);u=[];if(null===m[0])return!1;if(l.isArray(m[0])){var v=0;for(m=m[0];v<m.length;v++)if(A=m[v],A instanceof d)u.push([A.x,A.y]);else throw Error("Invalid Argument");}else if(m[0]instanceof n)u=m[0]._elements;else if(l.isImmutableArray(m[0])){v=0;for(var r=m[0].toArray();v<r.length;v++)if(A=
	r[v],A instanceof d)u.push([A.x,A.y]);else throw Error("Invalid Argument");0<u.length&&(m[0].get(0),m[0].get(0))}else throw Error("Invalid Argument");return 3>u.length?!1:(new a({rings:[],spatialReference:{wkid:4326}})).isClockwise(u)})};t.polygon=function(p,x){return g(p,x,function(u,A,m){l.pcCheck(m,1,1);u=null;if(m[0]instanceof b){if(u=l.fixSpatialReference(w.parseGeometryFromDictionary(m[0]),p.spatialReference),!1===u instanceof a)throw Error("Illegal Parameter");}else u=m[0]instanceof a?q.fromJson(m[0].toJson()):
	l.fixSpatialReference(new a(JSON.parse(m[0])),p.spatialReference);if(null!==u&&!1===u.spatialReference.equals(p.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return l.fixNullGeometry(u)})};t.polyline=function(p,x){return g(p,x,function(u,A,m){l.pcCheck(m,1,1);u=null;if(m[0]instanceof b){if(u=l.fixSpatialReference(w.parseGeometryFromDictionary(m[0]),p.spatialReference),!1===u instanceof c)throw Error("Illegal Parameter");
	}else u=m[0]instanceof c?q.fromJson(m[0].toJson()):l.fixSpatialReference(new c(JSON.parse(m[0])),p.spatialReference);if(null!==u&&!1===u.spatialReference.equals(p.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return l.fixNullGeometry(u)})};t.point=function(p,x){return g(p,x,function(u,A,m){l.pcCheck(m,1,1);u=null;if(m[0]instanceof b){if(u=l.fixSpatialReference(w.parseGeometryFromDictionary(m[0]),p.spatialReference),
	!1===u instanceof d)throw Error("Illegal Parameter");}else u=m[0]instanceof d?q.fromJson(m[0].toJson()):l.fixSpatialReference(new d(JSON.parse(m[0])),p.spatialReference);if(null!==u&&!1===u.spatialReference.equals(p.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return l.fixNullGeometry(u)})};t.multipoint=function(p,x){return g(p,x,function(u,A,m){l.pcCheck(m,1,1);u=null;if(m[0]instanceof b){if(u=l.fixSpatialReference(w.parseGeometryFromDictionary(m[0]),
	p.spatialReference),!1===u instanceof f)throw Error("Illegal Parameter");}else u=m[0]instanceof f?q.fromJson(m[0].toJson()):l.fixSpatialReference(new f(JSON.parse(m[0])),p.spatialReference);if(null!==u&&!1===u.spatialReference.equals(p.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return l.fixNullGeometry(u)})};t.extent=function(p,x){return g(p,x,function(u,A,m){m=l.autoCastFeatureToGeometry(m);l.pcCheck(m,1,1);u=null;
	m[0]instanceof b?u=l.fixSpatialReference(w.parseGeometryFromDictionary(m[0]),p.spatialReference):m[0]instanceof d?(u={xmin:m[0].x,ymin:m[0].y,xmax:m[0].x,ymax:m[0].y,spatialReference:m[0].spatialReference.toJson()},m=m[0],m.hasZ?(u.zmin=m.z,u.zmax=m.z):m.hasM&&(u.mmin=m.m,u.mmax=m.m),u=q.fromJson(u)):u=m[0]instanceof a?q.fromJson(m[0].getExtent().toJson()):m[0]instanceof c?q.fromJson(m[0].getExtent().toJson()):m[0]instanceof f?q.fromJson(m[0].getExtent().toJson()):m[0]instanceof k?q.fromJson(m[0].toJson()):
	l.fixSpatialReference(new k(JSON.parse(m[0])),p.spatialReference);if(null!==u&&!1===u.spatialReference.equals(p.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return l.fixNullGeometry(u)})};t.geometry=function(p,x){return g(p,x,function(u,A,m){l.pcCheck(m,1,1);u=null;u=m[0]instanceof w?l.fixSpatialReference(m[0].geometry(),p.spatialReference):m[0]instanceof b?l.fixSpatialReference(w.parseGeometryFromDictionary(m[0]),
	p.spatialReference):l.fixSpatialReference(q.fromJson(JSON.parse(m[0])),p.spatialReference);if(null!==u&&!1===u.spatialReference.equals(p.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return l.fixNullGeometry(u)})};t.setgeometry=function(p,x){return g(p,x,function(u,A,m){l.pcCheck(m,2,2);if(m[0]instanceof w){if(!0===m[0].immutable)throw Error("Feature is Immutable");if(m[1]instanceof h||null===m[1])m[0]._geometry=m[1];
	else throw Error("Illegal Argument");}else throw Error("Illegal Argument");return l.voidOperation})};t.feature=function(p,x){return g(p,x,function(u,A,m){if(0===m.length)throw Error("Missing Parameters");u=null;if(1===m.length)if(l.isString(m[0]))u=w.fromJson(JSON.parse(m[0]));else if(m[0]instanceof w)u=w.createFromArcadeFeature(m[0]);else if(m[0]instanceof h)u=w.createFromGraphicLikeObject(m[0],null,null);else if(m[0]instanceof b)u=m[0].hasField("geometry")?m[0].field("geometry"):null,A=m[0].hasField("attributes")?
	m[0].field("attributes"):null,null!==u&&u instanceof b&&(u=w.parseGeometryFromDictionary(u)),null!==A&&(A=w.parseAttributesFromDictionary(A)),u=w.createFromGraphicLikeObject(u,A,null);else throw Error("Illegal Argument");else{if(2===m.length){A=u=null;if(null!==m[0])if(m[0]instanceof h)u=m[0];else if(u instanceof b)u=w.parseGeometryFromDictionary(m[0]);else throw Error("Illegal Argument");if(null!==m[1])if(m[1]instanceof b)A=w.parseAttributesFromDictionary(m[1]);else throw Error("Illegal Argument");
	}else{u=null;A={};if(null!==m[0])if(m[0]instanceof h)u=m[0];else if(u instanceof b)u=w.parseGeometryFromDictionary(m[0]);else throw Error("Illegal Argument");for(var v=1;v<m.length;v+=2){var r=l.toString(m[v]),B=m[v+1];if(null===B||void 0===B||l.isString(B)||isNaN(B)||l.isDate(B)||l.isNumber(B)||l.isBoolean(B)){if(l.isFunctionParameter(B)||!1===l.isSimpleType(B))throw Error("Illegal Argument");A[r]=B===l.voidOperation?null:B}else throw Error("Illegal Argument");}}u=w.createFromGraphicLikeObject(u,
	A,null)}u._geometry=l.fixSpatialReference(u.geometry(),p.spatialReference);u.immutable=!1;return u})};t.dictionary=function(p,x){return g(p,x,function(u,A,m){if(0===m.length)return m=new b,m.immutable=!1,m;if(1===m.length&&l.isString(m[0]))try{var v=JSON.parse(m[0]),r=b.convertObjectToArcadeDictionary(v);r.immutable=!1;return r}catch(B){throw Error("Missing Parameters or Illegal Json");}if(0!==m.length%2)throw Error("Missing Parameters");u={};for(A=0;A<m.length;A+=2)if(v=l.toString(m[A]),r=m[A+1],
	null===r||void 0===r||l.isString(r)||isNaN(r)||l.isDate(r)||l.isNumber(r)||l.isBoolean(r)||l.isArray(r)||l.isImmutableArray(r)){if(l.isFunctionParameter(r))throw Error("Illegal Argument");u[v]=r===l.voidOperation?null:r}else throw Error("Illegal Argument");m=new b(u);m.immutable=!1;return m})};t.haskey=function(p,x){return g(p,x,function(u,A,m){l.pcCheck(m,2,2);u=l.toString(m[1]);if(m[0]instanceof w||m[0]instanceof b)return m[0].hasField(u);throw Error("Illegal Argument");})};t.indexof=function(p,
	x){return g(p,x,function(u,A,m){l.pcCheck(m,2,2);u=m[1];if(l.isArray(m[0])){for(A=0;A<m[0].length;A++)if(l.equalityTest(u,m[0][A]))return A;return-1}if(l.isImmutableArray(m[0])){var v=m[0].length();for(A=0;A<v;A++)if(l.equalityTest(u,m[0].get(A)))return A;return-1}throw Error("Illegal Argument");})};t.angle=function(p,x){return g(p,x,function(u,A,m){m=l.autoCastFeatureToGeometry(m);l.pcCheck(m,2,3);if(!(m[0]instanceof d))throw Error("Illegal Argument");if(!(m[1]instanceof d))throw Error("Illegal Argument");
	if(2<m.length&&!(m[2]instanceof d))throw Error("Illegal Argument");return 2===m.length?e.angle2D(m[0],m[1]):e.angleBetween2D(m[0],m[1],m[2])})};t.bearing=function(p,x){return g(p,x,function(u,A,m){m=l.autoCastFeatureToGeometry(m);l.pcCheck(m,2,3);if(!(m[0]instanceof d))throw Error("Illegal Argument");if(!(m[1]instanceof d))throw Error("Illegal Argument");if(2<m.length&&!(m[2]instanceof d))throw Error("Illegal Argument");return 2===m.length?e.bearing2D(m[0],m[1]):e.bearingBetween2D(m[0],m[1],m[2])})};
	t.isselfintersecting=function(p,x){return g(p,x,function(u,A,m){m=l.autoCastFeatureToGeometry(m);l.pcCheck(m,1,1);u=m[0];if(u instanceof a)return u.isSelfIntersecting(u);if(u instanceof c)return u=u.paths,e.pathsSelfIntersecting(u);if(u instanceof f)for(A=u.points,m=0;m<A.length;m++)for(var v=0;v<A.length;v++)if(v!==m){for(var r=!0,B=0;B<A[m].length;B++)if(A[m][B]!==A[v][B]){r=!1;break}if(!0===r)return!0}return l.isArray(u)||l.isImmutableArray(u)?(u=l.autoCastArrayOfPointsToPolyline(u,p.spatialReference),
	null!==u&&(u=u.paths),e.pathsSelfIntersecting(u)):!1})}}})},"esri/arcade/functions/centroid":function(){define(["require","exports","../../geometry/Point"],function(C,y,b){function w(a,c,e){var q={x:0,y:0};c&&(q.z=0);e&&(q.m=0);for(var t=0,g=a[0],p=0;p<a.length;p++){var x=a[p];a:if(x.length!==g.length)var u=!1;else{for(u=0;u<x.length;u++)if(x[u]!==g[u]){u=!1;break a}u=!0}if(!1===u){u=n(g,x,c);var A=x,m=c,v=e,r={x:(g[0]+A[0])/2,y:(g[1]+A[1])/2};m&&(r.z=(g[2]+A[2])/2);m&&v?r.m=(g[3]+A[3])/2:v&&(r.m=
	(g[2]+A[2])/2);g=r;g.x*=u;g.y*=u;q.x+=g.x;q.y+=g.y;c&&(g.z*=u,q.z+=g.z);e&&(g.m*=u,q.m+=g.m);t+=u;g=x}}0<t?(q.x/=t,q.y/=t,c&&(q.z/=t),e&&(q.m/=t)):(q.x=a[0][0],q.y=a[0][1],c&&(q.z=a[0][2]),e&&c?q.m=a[0][3]:e&&(q.m=a[0][2]));return q}function n(a,c,e){var q=c[0]-a[0];a=c[1]-a[1];return e?(c=c[2]-c[2],Math.sqrt(q*q+a*a+c*c)):Math.sqrt(q*q+a*a)}function l(a,c,e){for(void 0===e&&(e=0);a<e;)a+=c;for(e+=c;a>=e;)a-=c;return a}function k(a,c){return Math.atan2(c.y-a.y,c.x-a.x)}function h(a,c,e){var q=a.x-
	c.x;a=a.y-c.y;var t=e.x-c.x;c=e.y-c.y;return Math.atan2(q*c-t*a,q*t+a*c)}function f(a,c,e,q,t){var g=a[0];a=a[1];var p=c[0];c=c[1];var x=e[0],u=e[1];e=q[0]-x;x=g-x;var A=p-g;q=q[1]-u;u=a-u;var m=c-a,v=q*A-e*m;if(0===v)return!1;e=(e*u-q*x)/v;x=(A*u-m*x)/v;return 0<=e&&1>=e&&0<=x&&1>=x?(t&&(t[0]=g+e*(p-g),t[1]=a+e*(c-a)),!0):!1}Object.defineProperty(y,"__esModule",{value:!0});y.pathsSelfIntersecting=y.bearingBetween2D=y.angleBetween2D=y.angleBetweenRad=y.bearing2D=y.angle2D=y.angleRad=y.centroidMultiPoint=
	y.centroidPolyline=void 0;y.centroidPolyline=function(a){for(var c={x:0,y:0,spatialReference:a.spatialReference.toJson()},e={x:0,y:0,spatialReference:a.spatialReference.toJson()},q=0,t=0,g=0;g<a.paths.length;g++)if(0!==a.paths[g].length){var p=a.paths[g];var x=!0===a.hasZ;if(1>=p.length)p=0;else{for(var u=0,A=1;A<p.length;A++)u+=n(p[A-1],p[A],x);p=u}0===p?(x=w(a.paths[g],!0===a.hasZ,!0===a.hasM),c.x+=x.x,c.y+=x.y,!0===a.hasZ&&(c.z+=x.z),!0===a.hasM&&(c.m+=x.m),++q):(x=w(a.paths[g],!0===a.hasZ,!0===
	a.hasM),e.x+=x.x*p,e.y+=x.y*p,!0===a.hasZ&&(e.z+=x.z*p),!0===a.hasM&&(e.m+=x.m*p),t+=p)}return 0<t?(e.x/=t,e.y/=t,!0===a.hasZ&&(e.z/=t),!0===a.hasM&&(e.m/=t),new b(e)):0<q?(c.x/=q,c.y/=q,!0===a.hasZ&&(e.z/=q),!0===a.hasM&&(c.m/=q),new b(c)):null};y.centroidMultiPoint=function(a){if(0===a.points.length)return null;for(var c=0,e=0,q=0,t=0,g=0;g<a.points.length;g++){var p=a.getPoint(g);!0===p.hasZ&&(q+=p.z);!0===p.hasM&&(t+=p.m);c+=p.x;e+=p.y;t+=p.m}c={x:c/a.points.length,y:e/a.points.length,spatialReference:null};
	c.spatialReference=a.spatialReference.toJson();!0===a.hasZ&&(c.z=q/a.points.length);!0===a.hasM&&(c.m=t/a.points.length);return new b(c)};y.angleRad=k;y.angle2D=function(a,c){return l(k(a,c),2*Math.PI)*(180/Math.PI)};y.bearing2D=function(a,c){return l(Math.PI/2-k(a,c),2*Math.PI)*(180/Math.PI)};y.angleBetweenRad=h;y.angleBetween2D=function(a,c,e){return l(h(a,c,e),2*Math.PI)*(180/Math.PI)};y.bearingBetween2D=function(a,c,e){return l(-1*h(a,c,e),2*Math.PI)*(180/Math.PI)};var d=[0,0];y.pathsSelfIntersecting=
	function(a){for(var c=0;c<a.length;c++){for(var e=a[c],q=0;q<e.length-1;q++)for(var t=e[q],g=e[q+1],p=c+1;p<a.length;p++)for(var x=0;x<a[p].length-1;x++){var u=a[p][x],A=a[p][x+1],m=f(t,g,u,A,d);if(m&&!(d[0]===t[0]&&d[1]===t[1]||d[0]===u[0]&&d[1]===u[1]||d[0]===g[0]&&d[1]===g[1]||d[0]===A[0]&&d[1]===A[1]))return!0}x=e.length;if(!(3>x))for(q=0;q<=x-2;q++)for(t=e[q],g=e[q+1],p=q+2;p<=x-2;p++)if(u=e[p],A=e[p+1],(m=f(t,g,u,A,d))&&!(d[0]===t[0]&&d[1]===t[1]||d[0]===u[0]&&d[1]===u[1]||d[0]===g[0]&&d[1]===
	g[1]||d[0]===A[0]&&d[1]===A[1]))return!0}return!1}})},"esri/arcade/functions/geomsync":function(){define("require exports ../../kernel ../kernel ../languageUtils ./centroid ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/jsonUtils".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c,e){function q(g){return 0===b.version.indexOf("4.")?a.fromExtent(g):new a({spatialReference:g.spatialReference,rings:[[[g.xmin,
	g.ymin],[g.xmin,g.ymax],[g.xmax,g.ymax],[g.xmax,g.ymin],[g.xmin,g.ymin]]]})}Object.defineProperty(y,"__esModule",{value:!0});y.registerFunctions=y.setGeometryEngine=void 0;var t=null;y.setGeometryEngine=function(g){t=g};y.registerFunctions=function(g,p){function x(u){n.pcCheck(u,2,2);if(!(u[0]instanceof h&&u[1]instanceof h||u[0]instanceof h&&null===u[1]||u[1]instanceof h&&null===u[0]||null===u[0]&&null===u[1]))throw Error("Illegal Argument");}g.disjoint=function(u,A){return p(u,A,function(m,v,r){r=
	n.autoCastFeatureToGeometry(r);x(r);return null===r[0]||null===r[1]?!0:t.disjoint(r[0],r[1])})};g.intersects=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);x(r);return null===r[0]||null===r[1]?!1:t.intersects(r[0],r[1])})};g.touches=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);x(r);return null===r[0]||null===r[1]?!1:t.touches(r[0],r[1])})};g.crosses=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);x(r);return null===
	r[0]||null===r[1]?!1:t.crosses(r[0],r[1])})};g.within=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);x(r);return null===r[0]||null===r[1]?!1:t.within(r[0],r[1])})};g.contains=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);x(r);return null===r[0]||null===r[1]?!1:t.contains(r[0],r[1])})};g.overlaps=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);x(r);return null===r[0]||null===r[1]?!1:t.overlaps(r[0],r[1])})};g.equals=
	function(u,A){return p(u,A,function(m,v,r){n.pcCheck(r,2,2);return r[0]===r[1]?!0:r[0]instanceof h&&r[1]instanceof h?t.equals(r[0],r[1]):n.isDate(r[0])&&n.isDate(r[1])?r[0].getTime()===r[1].getTime():!1})};g.relate=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);n.pcCheck(r,3,3);if(r[0]instanceof h&&r[1]instanceof h)return t.relate(r[0],r[1],n.toString(r[2]));if(r[0]instanceof h&&null===r[1]||r[1]instanceof h&&null===r[0]||null===r[0]&&null===r[1])return!1;throw Error("Illegal Argument");
	})};g.intersection=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);x(r);return null===r[0]||null===r[1]?null:t.intersect(r[0],r[1])})};g.union=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);m=[];if(0===r.length)throw Error("Function called with wrong number of Parameters");if(1===r.length)if(n.isArray(r[0]))for(r=n.autoCastFeatureToGeometry(r[0]),v=0;v<r.length;v++){if(null!==r[v]){if(!(r[v]instanceof h))throw Error("Illegal Argument");m.push(r[v])}}else if(n.isImmutableArray(r[0]))for(r=
	n.autoCastFeatureToGeometry(r[0].toArray()),v=0;v<r.length;v++){if(null!==r[v]){if(!(r[v]instanceof h))throw Error("Illegal Argument");m.push(r[v])}}else{if(r[0]instanceof h)return n.fixSpatialReference(w.cloneGeometry(r[0]),u.spatialReference);if(null===r[0])return null;throw Error("Illegal Argument");}else for(v=0;v<r.length;v++)if(null!==r[v]){if(!(r[v]instanceof h))throw Error("Illegal Argument");m.push(r[v])}return 0===m.length?null:t.union(m)})};g.difference=function(u,A){return p(u,A,function(m,
	v,r){r=n.autoCastFeatureToGeometry(r);x(r);return null!==r[0]&&null===r[1]?w.cloneGeometry(r[0]):null===r[0]?null:t.difference(r[0],r[1])})};g.symmetricdifference=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);x(r);return null===r[0]&&null===r[1]?null:null===r[0]?w.cloneGeometry(r[1]):null===r[1]?w.cloneGeometry(r[0]):t.symmetricDifference(r[0],r[1])})};g.clip=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);n.pcCheck(r,2,2);if(!(r[1]instanceof
	k)&&null!==r[1])throw Error("Illegal Argument");if(null===r[0])return null;if(!(r[0]instanceof h))throw Error("Illegal Argument");return null===r[1]?null:t.clip(r[0],r[1])})};g.cut=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);n.pcCheck(r,2,2);if(!(r[1]instanceof c)&&null!==r[1])throw Error("Illegal Argument");if(null===r[0])return[];if(!(r[0]instanceof h))throw Error("Illegal Argument");return null===r[1]?[w.cloneGeometry(r[0])]:t.cut(r[0],r[1])})};g.area=function(u,
	A){return p(u,A,function(m,v,r){n.pcCheck(r,1,2);r=n.autoCastFeatureToGeometry(r);if(null===r[0])return 0;if(n.isArray(r[0])||n.isImmutableArray(r[0]))return m=n.autoCastArrayOfPointsToPolygon(r[0],u.spatialReference),null===m?0:t.planarArea(m,w.convertSquareUnitsToCode(n.defaultUndefined(r[1],-1)));if(!(r[0]instanceof h))throw Error("Illegal Argument");return t.planarArea(r[0],w.convertSquareUnitsToCode(n.defaultUndefined(r[1],-1)))})};g.areageodetic=function(u,A){return p(u,A,function(m,v,r){n.pcCheck(r,
	1,2);r=n.autoCastFeatureToGeometry(r);if(null===r[0])return 0;if(n.isArray(r[0])||n.isImmutableArray(r[0]))return m=n.autoCastArrayOfPointsToPolygon(r[0],u.spatialReference),null===m?0:t.geodesicArea(m,w.convertSquareUnitsToCode(n.defaultUndefined(r[1],-1)));if(!(r[0]instanceof h))throw Error("Illegal Argument");return t.geodesicArea(r[0],w.convertSquareUnitsToCode(n.defaultUndefined(r[1],-1)))})};g.length=function(u,A){return p(u,A,function(m,v,r){n.pcCheck(r,1,2);r=n.autoCastFeatureToGeometry(r);
	if(null===r[0])return 0;if(n.isArray(r[0])||n.isImmutableArray(r[0]))return m=n.autoCastArrayOfPointsToPolyline(r[0],u.spatialReference),null===m?0:t.planarLength(m,w.convertLinearUnitsToCode(n.defaultUndefined(r[1],-1)));if(!(r[0]instanceof h))throw Error("Illegal Argument");return t.planarLength(r[0],w.convertLinearUnitsToCode(n.defaultUndefined(r[1],-1)))})};g.lengthgeodetic=function(u,A){return p(u,A,function(m,v,r){n.pcCheck(r,1,2);r=n.autoCastFeatureToGeometry(r);if(null===r[0])return 0;if(n.isArray(r[0])||
	n.isImmutableArray(r[0]))return m=n.autoCastArrayOfPointsToPolyline(r[0],u.spatialReference),null===m?0:t.geodesicLength(m,w.convertLinearUnitsToCode(n.defaultUndefined(r[1],-1)));if(!(r[0]instanceof h))throw Error("Illegal Argument");return t.geodesicLength(r[0],w.convertLinearUnitsToCode(n.defaultUndefined(r[1],-1)))})};g.distance=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);n.pcCheck(r,2,3);m=r[0];if(n.isArray(r[0])||n.isImmutableArray(r[0]))m=n.autoCastArrayOfPointsToMultiPoint(r[0],
	u.spatialReference);v=r[1];if(n.isArray(r[1])||n.isImmutableArray(r[1]))v=n.autoCastArrayOfPointsToMultiPoint(r[1],u.spatialReference);if(!(m instanceof h))throw Error("Illegal Argument");if(!(v instanceof h))throw Error("Illegal Argument");return t.distance(m,v,w.convertLinearUnitsToCode(n.defaultUndefined(r[2],-1)))})};g.distancegeodetic=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);n.pcCheck(r,2,3);m=r[0];v=r[1];if(!(m instanceof d))throw Error("Illegal Argument");
	if(!(v instanceof d))throw Error("Illegal Argument");var B=new c({paths:[],spatialReference:m.spatialReference});B.addPath([m,v]);return t.geodesicLength(B,w.convertLinearUnitsToCode(n.defaultUndefined(r[2],-1)))})};g.densify=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);n.pcCheck(r,2,3);if(null===r[0])return null;if(!(r[0]instanceof h))throw Error("Illegal Argument");m=n.toNumber(r[1]);if(isNaN(m))throw Error("Illegal Argument");if(0>=m)throw Error("Illegal Argument");
	return r[0]instanceof a||r[0]instanceof c?t.densify(r[0],m,w.convertLinearUnitsToCode(n.defaultUndefined(r[2],-1))):r[0]instanceof k?t.densify(q(r[0]),m,w.convertLinearUnitsToCode(n.defaultUndefined(r[2],-1))):r[0]})};g.densifygeodetic=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);n.pcCheck(r,2,3);if(null===r[0])return null;if(!(r[0]instanceof h))throw Error("Illegal Argument");m=n.toNumber(r[1]);if(isNaN(m))throw Error("Illegal Argument");if(0>=m)throw Error("Illegal Argument");
	return r[0]instanceof a||r[0]instanceof c?t.geodesicDensify(r[0],m,w.convertLinearUnitsToCode(n.defaultUndefined(r[2],-1))):r[0]instanceof k?t.geodesicDensify(q(r[0]),m,w.convertLinearUnitsToCode(n.defaultUndefined(r[2],-1))):r[0]})};g.generalize=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);n.pcCheck(r,2,4);if(null===r[0])return null;if(!(r[0]instanceof h))throw Error("Illegal Argument");m=n.toNumber(r[1]);if(isNaN(m))throw Error("Illegal Argument");return t.generalize(r[0],
	m,n.toBoolean(n.defaultUndefined(r[2],!0)),w.convertLinearUnitsToCode(n.defaultUndefined(r[3],-1)))})};g.buffer=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);n.pcCheck(r,2,3);if(null===r[0])return null;if(!(r[0]instanceof h))throw Error("Illegal Argument");m=n.toNumber(r[1]);if(isNaN(m))throw Error("Illegal Argument");return 0===m?w.cloneGeometry(r[0]):t.buffer(r[0],m,w.convertLinearUnitsToCode(n.defaultUndefined(r[2],-1)))})};g.buffergeodetic=function(u,A){return p(u,
	A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);n.pcCheck(r,2,3);if(null===r[0])return null;if(!(r[0]instanceof h))throw Error("Illegal Argument");m=n.toNumber(r[1]);if(isNaN(m))throw Error("Illegal Argument");return 0===m?w.cloneGeometry(r[0]):t.geodesicBuffer(r[0],m,w.convertLinearUnitsToCode(n.defaultUndefined(r[2],-1)))})};g.offset=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);n.pcCheck(r,2,6);if(null===r[0])return null;if(!(r[0]instanceof a||r[0]instanceof c))throw Error("Illegal Argument");
	m=n.toNumber(r[1]);if(isNaN(m))throw Error("Illegal Argument");v=n.toNumber(n.defaultUndefined(r[4],10));if(isNaN(v))throw Error("Illegal Argument");var B=n.toNumber(n.defaultUndefined(r[5],0));if(isNaN(B))throw Error("Illegal Argument");return t.offset(r[0],m,w.convertLinearUnitsToCode(n.defaultUndefined(r[2],-1)),n.toString(n.defaultUndefined(r[3],"round")).toLowerCase(),v,B)})};g.rotate=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);n.pcCheck(r,2,3);m=r[0];if(null===
	m)return null;if(!(m instanceof h))throw Error("Illegal Argument");m instanceof k&&(m=a.fromExtent(m));v=n.toNumber(r[1]);if(isNaN(v))throw Error("Illegal Argument");r=n.defaultUndefined(r[2],null);if(null===r)return t.rotate(m,v);if(r instanceof d)return t.rotate(m,v,r);throw Error("Illegal Argument");})};g.centroid=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);n.pcCheck(r,1,1);if(null===r[0])return null;m=r[0];if(n.isArray(r[0])||n.isImmutableArray(r[0]))m=n.autoCastArrayOfPointsToMultiPoint(r[0],
	u.spatialReference);if(null===m)return null;if(!(m instanceof h))throw Error("Illegal Argument");return m instanceof d?n.fixSpatialReference(w.cloneGeometry(r[0]),u.spatialReference):m instanceof a?m.getCentroid():m instanceof c?l.centroidPolyline(m):m instanceof f?l.centroidMultiPoint(m):m instanceof k?m.getCenter():null})};g.multiparttosinglepart=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);n.pcCheck(r,1,1);v=[];if(null===r[0])return null;if(!(r[0]instanceof h))throw Error("Illegal Argument");
	if(r[0]instanceof d||r[0]instanceof k)return[n.fixSpatialReference(w.cloneGeometry(r[0]),u.spatialReference)];m=t.simplify(r[0]);if(m instanceof a){v=[];var B=[];for(r=0;r<m.rings.length;r++)if(m.isClockwise(m.rings[r])){var D=e.fromJson({rings:[m.rings[r]],hasZ:!0===m.hasZ,hasM:!0===m.hasM,spatialReference:m.spatialReference.toJson()});v.push(D)}else B.push({ring:m.rings[r],pt:m.getPoint(r,0)});for(m=0;m<B.length;m++)for(r=0;r<v.length;r++)if(v[r].contains(B[m].pt)){v[r].addRing(B[m].ring);break}return v}if(m instanceof
	c){v=[];for(r=0;r<m.paths.length;r++)B=e.fromJson({paths:[m.paths[r]],hasZ:!0===m.hasZ,hasM:!0===m.hasM,spatialReference:m.spatialReference.toJson()}),v.push(B);return v}if(r[0]instanceof f){m=n.fixSpatialReference(w.cloneGeometry(r[0]),u.spatialReference);for(r=0;r<m.points.length;r++)v.push(m.getPoint(r));return v}return null})};g.issimple=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);n.pcCheck(r,1,1);if(null===r[0])return!0;if(!(r[0]instanceof h))throw Error("Illegal Argument");
	return t.isSimple(r[0])})};g.simplify=function(u,A){return p(u,A,function(m,v,r){r=n.autoCastFeatureToGeometry(r);n.pcCheck(r,1,1);if(null===r[0])return null;if(!(r[0]instanceof h))throw Error("Illegal Argument");return t.simplify(r[0])})}}})},"esri/arcade/kernel":function(){define(["require","exports","../geometry/Extent","../geometry/jsonUtils"],function(C,y,b,w){Object.defineProperty(y,"__esModule",{value:!0});y.cloneGeometry=y.sameGeomType=y.convertLinearUnitsToCode=y.shapeExtent=y.convertSquareUnitsToCode=
	void 0;y.convertSquareUnitsToCode=function(n){if(void 0===n)return null;if("number"===typeof n)return n;switch(n.toLowerCase()){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":case "square-meter":case "square-meters":return 109404;case "miles":case "mile":case "squaremile":case "squaremiles":case "square-miles":case "square-mile":return 109413;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "square-kilometers":case "square-kilometer":case "km":return 109414;
	case "acres":case "acre":case "ac":return 109402;case "hectares":case "hectare":case "ha":return 109401;case "yard":case "yd":case "yards":case "square-yards":case "square-yard":case "squareyards":case "squareyard":return 109442;case "feet":case "ft":case "foot":case "square-feet":case "square-foot":case "squarefeet":case "squarefoot":return 109405}return null};y.shapeExtent=function(n){if(null===n)return null;switch(n.type){case "polygon":case "multipoint":case "polyline":return n.extent;case "point":return new b({xmin:n.x,
	ymin:n.y,xmax:n.x,ymax:n.y,spatialReference:n.spatialReference});case "extent":return n}return null};y.convertLinearUnitsToCode=function(n){if(void 0===n)return null;if("number"===typeof n||"number"===typeof n)return n;switch(n.toLowerCase()){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":case "square-meter":case "square-meters":return 9001;case "miles":case "mile":case "squaremile":case "squaremiles":case "square-miles":case "square-mile":return 9035;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "square-kilometers":case "square-kilometer":case "km":return 9036;
	case "yard":case "yd":case "yards":case "square-yards":case "square-yard":case "squareyards":case "squareyard":return 9096;case "feet":case "ft":case "foot":case "square-feet":case "square-foot":case "squarefeet":case "squarefoot":return 9002}return null};y.sameGeomType=function(n,l){return n===l||"point"===n&&"esriGeometryPoint"===l||"polyline"===n&&"esriGeometryPolyline"===l||"polygon"===n&&"esriGeometryPolygon"===l||"extent"===n&&"esriGeometryEnvelope"===l||"multipoint"===n&&"esriGeometryMultipoint"===
	l||"point"===l&&"esriGeometryPoint"===n||"polyline"===l&&"esriGeometryPolyline"===n||"polygon"===l&&"esriGeometryPolygon"===n||"extent"===l&&"esriGeometryEnvelope"===n||"multipoint"===l&&"esriGeometryMultipoint"===n?!0:!1};y.cloneGeometry=function(n){if(null===n)return null;var l=w.fromJson(n.toJson());n.getCacheValue("_geVersion")&&l.setCacheValue("_geVersion",n.getCacheValue("_geVersion"));return l}})},"esri/arcade/functions/maths":function(){define(["require","exports","../languageUtils","dojo/number"],
	function(C,y,b,w){function n(l,k,h){if("undefined"===typeof h||0===+h)return Math[l](k);k=+k;h=+h;if(isNaN(k)||"number"!==typeof h||0!==h%1)return NaN;k=k.toString().split("e");k=Math[l](+(k[0]+"e"+(k[1]?+k[1]-h:-h)));k=k.toString().split("e");return+(k[0]+"e"+(k[1]?+k[1]+h:h))}Object.defineProperty(y,"__esModule",{value:!0});y.registerFunctions=void 0;y.registerFunctions=function(l,k){function h(f,d,a){f=b.toNumber(f);return isNaN(f)?f:isNaN(d)||isNaN(a)||d>a?NaN:f<d?d:f>a?a:f}l.number=function(f,
	d){return k(f,d,function(a,c,e){b.pcCheck(e,1,2);a=e[0];return b.isNumber(a)?a:null===a?0:b.isDate(a)||b.isBoolean(a)?Number(a):b.isArray(a)?NaN:""===a||void 0===a?Number(a):b.isString(a)?void 0!==e[1]?(e=b.multiReplace(e[1],"\u2030",""),e=b.multiReplace(e,"\u00a4",""),w.parse(a,{pattern:e})):Number(a.trim()):Number(a)})};l.abs=function(f,d){return k(f,d,function(a,c,e){b.pcCheck(e,1,1);return Math.abs(b.toNumber(e[0]))})};l.acos=function(f,d){return k(f,d,function(a,c,e){b.pcCheck(e,1,1);return Math.acos(b.toNumber(e[0]))})};
	l.asin=function(f,d){return k(f,d,function(a,c,e){b.pcCheck(e,1,1);return Math.asin(b.toNumber(e[0]))})};l.atan=function(f,d){return k(f,d,function(a,c,e){b.pcCheck(e,1,1);return Math.atan(b.toNumber(e[0]))})};l.atan2=function(f,d){return k(f,d,function(a,c,e){b.pcCheck(e,2,2);return Math.atan2(b.toNumber(e[0]),b.toNumber(e[1]))})};l.ceil=function(f,d){return k(f,d,function(a,c,e){b.pcCheck(e,1,2);return 2===e.length?(a=b.toNumber(e[1]),isNaN(a)&&(a=0),n("ceil",b.toNumber(e[0]),-1*a)):Math.ceil(b.toNumber(e[0]))})};
	l.round=function(f,d){return k(f,d,function(a,c,e){b.pcCheck(e,1,2);return 2===e.length?(a=b.toNumber(e[1]),isNaN(a)&&(a=0),n("round",b.toNumber(e[0]),-1*a)):Math.round(b.toNumber(e[0]))})};l.floor=function(f,d){return k(f,d,function(a,c,e){b.pcCheck(e,1,2);return 2===e.length?(a=b.toNumber(e[1]),isNaN(a)&&(a=0),n("floor",b.toNumber(e[0]),-1*a)):Math.floor(b.toNumber(e[0]))})};l.cos=function(f,d){return k(f,d,function(a,c,e){b.pcCheck(e,1,1);return Math.cos(b.toNumber(e[0]))})};l.isnan=function(f,
	d){return k(f,d,function(a,c,e){b.pcCheck(e,1,1);return"number"===typeof e[0]&&isNaN(e[0])})};l.exp=function(f,d){return k(f,d,function(a,c,e){b.pcCheck(e,1,1);return Math.exp(b.toNumber(e[0]))})};l.log=function(f,d){return k(f,d,function(a,c,e){b.pcCheck(e,1,1);return Math.log(b.toNumber(e[0]))})};l.pow=function(f,d){return k(f,d,function(a,c,e){b.pcCheck(e,2,2);return Math.pow(b.toNumber(e[0]),b.toNumber(e[1]))})};l.random=function(f,d){return k(f,d,function(a,c,e){b.pcCheck(e,0,0);return Math.random()})};
	l.sin=function(f,d){return k(f,d,function(a,c,e){b.pcCheck(e,1,1);return Math.sin(b.toNumber(e[0]))})};l.sqrt=function(f,d){return k(f,d,function(a,c,e){b.pcCheck(e,1,1);return Math.sqrt(b.toNumber(e[0]))})};l.tan=function(f,d){return k(f,d,function(a,c,e){b.pcCheck(e,1,1);return Math.tan(b.toNumber(e[0]))})};l.defaultvalue=function(f,d){return k(f,d,function(a,c,e){b.pcCheck(e,2,2);return null===e[0]||""===e[0]||void 0===e[0]?e[1]:e[0]})};l.isempty=function(f,d){return k(f,d,function(a,c,e){b.pcCheck(e,
	1,1);return null===e[0]||""===e[0]||void 0===e[0]?!0:!1})};l["boolean"]=function(f,d){return k(f,d,function(a,c,e){b.pcCheck(e,1,1);return b.toBoolean(e[0])})};l.constrain=function(f,d){return k(f,d,function(a,c,e){b.pcCheck(e,3,3);a=b.toNumber(e[1]);c=b.toNumber(e[2]);if(b.isArray(e[0])){var q=[],t=0;for(e=e[0];t<e.length;t++)q.push(h(e[t],a,c));return q}if(b.isImmutableArray(e[0])){q=[];for(t=0;t<e[0].length();t++)q.push(h(e[0].get(t),a,c));return q}return h(e[0],a,c)})}}})},"esri/arcade/functions/stats":function(){define(["require",
	"exports","../languageUtils","./fieldStats"],function(C,y,b,w){function n(l,k,h,f){if(1===f.length){if(b.isArray(f[0]))return w.calculateStat(l,f[0],-1);if(b.isImmutableArray(f[0]))return w.calculateStat(l,f[0].toArray(),-1)}return w.calculateStat(l,f,-1)}Object.defineProperty(y,"__esModule",{value:!0});y.registerFunctions=void 0;y.registerFunctions=function(l,k){l.stdev=function(h,f){return k(h,f,function(d,a,c){return n("stdev",d,a,c)})};l.variance=function(h,f){return k(h,f,function(d,a,c){return n("variance",
	d,a,c)})};l.average=function(h,f){return k(h,f,function(d,a,c){return n("mean",d,a,c)})};l.mean=function(h,f){return k(h,f,function(d,a,c){return n("mean",d,a,c)})};l.sum=function(h,f){return k(h,f,function(d,a,c){return n("sum",d,a,c)})};l.min=function(h,f){return k(h,f,function(d,a,c){return n("min",d,a,c)})};l.max=function(h,f){return k(h,f,function(d,a,c){return n("max",d,a,c)})};l.distinct=function(h,f){return k(h,f,function(d,a,c){return n("distinct",d,a,c)})};l.count=function(h,f){return k(h,
	f,function(d,a,c){b.pcCheck(c,1,1);if(b.isArray(c[0])||b.isString(c[0]))return c[0].length;if(b.isImmutableArray(c[0]))return c[0].length();throw Error("Invalid Parameters for Count");})}}})},"esri/arcade/functions/fieldStats":function(){define(["require","exports","../languageUtils"],function(C,y,b){function w(l){for(var k=0,h=0;h<l.length;h++)k+=l[h];return k/l.length}function n(l){for(var k=w(l),h=0,f=0;f<l.length;f++)h+=Math.pow(k-l[f],2);return h/l.length}Object.defineProperty(y,"__esModule",
	{value:!0});y.calculateStat=y.decodeStatType=void 0;y.decodeStatType=function(l){switch(l.toLowerCase()){case "distinct":return"distinct";case "avg":case "mean":return"avg";case "min":return"min";case "sum":return"sum";case "max":return"max";case "stdev":case "stddev":return"stddev";case "var":case "variance":return"var";case "count":return"count"}return""};y.calculateStat=function(l,k,h){void 0===h&&(h=1E3);switch(l.toLowerCase()){case "distinct":a:{l=h;h=[];for(var f={},d=[],a=0;a<k.length;a++){if(void 0!==
	k[a]&&null!==k[a]&&k[a]!==b.voidOperation){var c=k[a];if(b.isNumber(c)||b.isString(c))void 0===f[c]&&(h.push(c),f[c]=1);else{for(var e=!1,q=0;q<d.length;q++)!0===b.equalityTest(d[q],c)&&(e=!0);!1===e&&(d.push(c),h.push(c))}}if(h.length>=l&&-1!==l){k=h;break a}}k=h}return k;case "avg":case "mean":return w(b.toNumberArray(k));case "min":return Math.min.apply(Math,b.toNumberArray(k));case "sum":k=b.toNumberArray(k);for(h=l=0;h<k.length;h++)l+=k[h];return l;case "max":return Math.max.apply(Math,b.toNumberArray(k));
	case "stdev":case "stddev":return Math.sqrt(n(b.toNumberArray(k)));case "var":case "variance":return n(b.toNumberArray(k));case "count":return k.length}return 0}})},"esri/arcade/functions/string":function(){define("require exports ../ArcadePortal ../Attachment ../Dictionary ../Feature ../languageUtils ../featureset/support/shared ./convertdirection ./hash ../../geometry/Extent ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../SpatialReference".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g){function p(x,u,A){if(null===x)u.updateUint8Array([0,139]);else if(k.isArray(x)){u.updateUint8Array([61]);if(A.map.has(x))x=A.map.get(x),u.updateIntArray([x^61237541]);else{A.map.set(x,A.currentLength++);for(var m=0;m<x.length;m++){var v=x[m];p(v,u,A)}A.map.delete(x);A.currentLength--}u.updateUint8Array([199])}else if(k.isImmutableArray(x)){u.updateUint8Array([61]);if(A.map.has(x))x=A.map.get(x),u.updateIntArray([x^61237541]);else{A.map.set(x,A.currentLength++);
	m=0;for(var r=x.toArray();m<r.length;m++)v=r[m],p(v,u,A);A.map.delete(x);A.currentLength--}u.updateUint8Array([199])}else if(k.isDate(x))u.updateIntArray([x.getTime()]),u.updateUint8Array([241]);else if(k.isString(x))u.updateIntArray([x.length]),u.updateWithString(x),u.updateUint8Array([41]);else if(k.isBoolean(x))u.updateUint8Array([!0===x?1:0,113]);else if(k.isNumber(x))u.updateFloatArray([x]),u.updateUint8Array([173]);else{if(x instanceof w)throw Error("Type not supported in Hash");if(x instanceof
	b)throw Error("Type not supported in Hash");if(x instanceof n){u.updateUint8Array([223]);if(A.map.has(x))x=A.map.get(x),u.updateIntArray([x^61237541]);else{A.map.set(x,A.currentLength++);m=0;for(r=x.keys();m<r.length;m++)v=r[m],u.updateIntArray([v.length]),u.updateWithString(v),u.updateUint8Array([251]),v=x.field(v),p(v,u,A),u.updateUint8Array([239]);A.map.delete(x);A.currentLength--}u.updateUint8Array([73])}else{if(x instanceof l)throw Error("Type not supported in Hash");if(x instanceof e)u.updateIntArray([3833836621]),
	u.updateIntArray([0]),u.updateFloatArray([x.x]),u.updateIntArray([1]),u.updateFloatArray([x.y]),u.updateIntArray([3765347959]),p(x.spatialReference.wkid,u,A);else if(x instanceof q){u.updateIntArray([1266616829]);for(m=0;m<x.rings.length;m++){r=x.rings[m];var B=[],D=null,G=null;for(v=0;v<r.length;v++){var z=x.getPoint(m,v);if(0===v)D=z;else if(G.x===z.x&&G.y===z.y)continue;G=z;v===r.length-1&&D.x===z.x&&D.y===z.y||B.push(z)}u.updateIntArray([1397116793,B.length]);for(v=0;v<B.length;v++)z=B[v],u.updateIntArray([3962308117,
	v]),p(z,u,A),u.updateIntArray([2716288009]);u.updateIntArray([2278822459])}u.updateIntArray([3878477243]);p(x.spatialReference.wkid,u,A)}else if(x instanceof t){u.updateIntArray([4106883559]);for(m=0;m<x.paths.length;m++){r=x.paths[m];u.updateIntArray([1397116793,r.length]);for(v=0;v<r.length;v++)u.updateIntArray([3962308117,v]),p(x.getPoint(m,v),u,A),u.updateIntArray([2716288009]);u.updateIntArray([2278822459])}u.updateIntArray([2568784753]);p(x.spatialReference.wkid,u,A)}else if(x instanceof c){u.updateIntArray([588535921,
	x.points.length]);for(v=0;v<x.points.length;v++)m=x.getPoint(v),u.updateIntArray([v]),p(m,u,A);u.updateIntArray([1700171621]);p(x.spatialReference.wkid,u,A)}else if(x instanceof a)u.updateIntArray([3483648373]),u.updateIntArray([0]),u.updateFloatArray([x.xmax]),u.updateIntArray([1]),u.updateFloatArray([x.xmin]),u.updateIntArray([2]),u.updateFloatArray([x.ymax]),u.updateIntArray([3]),u.updateFloatArray([x.ymin]),u.updateIntArray([3622027469]),p(x.spatialReference.wkid,u,A);else if(x instanceof g)u.updateIntArray([14]),
	void 0!==x.wkid&&null!==x.wkid&&u.updateIntArray([x.wkid]),x.wkt&&u.updateWithString(x.wkt);else{if(k.isFunctionParameter(x))throw Error("Type not supported in Hash");if(k.isFeatureSet(x))throw Error("Type not supported in Hash");k.isFeatureSetCollection(x);throw Error("Type not supported in Hash");}}}}Object.defineProperty(y,"__esModule",{value:!0});y.registerFunctions=void 0;y.registerFunctions=function(x,u){x.portal=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,1,1);return new b(k.toString(B[0]))})};
	x.trim=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,1,1);return k.toString(B[0]).trim()})};x.tohex=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,1,1);v=k.toNumber(B[0]);return isNaN(v)?v:v.toString(16)})};x.upper=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,1,1);return k.toString(B[0]).toUpperCase()})};x.proper=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,1,2);v=1;2===B.length&&"firstword"===k.toString(B[1]).toLowerCase()&&(v=2);r=/\s/;B=k.toString(B[0]);for(var D=
	"",G=!0,z=0;z<B.length;z++){var E=B[z];r.test(E)?1===v&&(G=!0):E.toUpperCase()!==E.toLowerCase()&&(G?(E=E.toUpperCase(),G=!1):E=E.toLowerCase());D+=E}return D})};x.lower=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,1,1);return k.toString(B[0]).toLowerCase()})};x.guid=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,0,1);if(0<B.length)switch(k.toString(B[0]).toLowerCase()){case "digits":return k.generateUUID().replace("-","").replace("-","").replace("-","").replace("-","");case "digits-hyphen":return k.generateUUID();
	case "digits-hyphen-parentheses":return"("+k.generateUUID()+")"}return"{"+k.generateUUID()+"}"})};x.console=function(A,m){return u(A,m,function(v,r,B){0!==B.length&&(1===B.length?A.console(k.toString(B[0])):A.console(k.toString(B)));return k.voidOperation})};x.mid=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,2,3);v=k.toNumber(B[1]);if(isNaN(v))return"";0>v&&(v=0);if(2===B.length)return k.toString(B[0]).substr(v);r=k.toNumber(B[2]);if(isNaN(r))return"";0>r&&(r=0);return k.toString(B[0]).substr(v,
	r)})};x.find=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,2,3);v=0;if(2<B.length){v=k.toNumber(k.defaultUndefined(B[2],0));if(isNaN(v))return-1;0>v&&(v=0)}return k.toString(B[1]).indexOf(k.toString(B[0]),v)})};x.left=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,2,2);v=k.toNumber(B[1]);if(isNaN(v))return"";0>v&&(v=0);return k.toString(B[0]).substr(0,v)})};x.right=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,2,2);v=k.toNumber(B[1]);if(isNaN(v))return"";0>v&&(v=0);return k.toString(B[0]).substr(-1*
	v,v)})};x.split=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,2,4);v=k.toNumber(k.defaultUndefined(B[2],-1));r=k.toBoolean(k.defaultUndefined(B[3],!1));-1===v||null===v||!0===r?B=k.toString(B[0]).split(k.toString(B[1])):(isNaN(v)&&(v=-1),-1>v&&(v=-1),B=k.toString(B[0]).split(k.toString(B[1]),v));if(!1===r)return B;r=[];for(var D=0;D<B.length&&!(-1!==v&&r.length>=v);D++)""!==B[D]&&void 0!==B[D]&&r.push(B[D]);return r})};x.text=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,1,2);return k.toStringExplicit(B[0],
	B[1])})};x.concatenate=function(A,m){return u(A,m,function(v,r,B){v=[];if(1>B.length)return"";if(k.isArray(B[0])){r=k.defaultUndefined(B[2],"");for(var D=0;D<B[0].length;D++)v[D]=k.toStringExplicit(B[0][D],r);return 1<B.length?v.join(B[1]):v.join("")}if(k.isImmutableArray(B[0])){r=k.defaultUndefined(B[2],"");for(D=0;D<B[0].length();D++)v[D]=k.toStringExplicit(B[0].get(D),r);return 1<B.length?v.join(B[1]):v.join("")}for(D=0;D<B.length;D++)v[D]=k.toStringExplicit(B[D]);return v.join("")})};x.reverse=
	function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,1,1);if(k.isArray(B[0]))return v=B[0].slice(0),v.reverse(),v;if(k.isImmutableArray(B[0]))return v=B[0].toArray().slice(0),v.reverse(),v;throw Error("Invalid Parameter");})};x.replace=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,3,4);v=k.toString(B[0]);r=k.toString(B[1]);var D=k.toString(B[2]);return(4===B.length?k.toBoolean(B[3]):1)?k.multiReplace(v,r,D):v.replace(r,D)})};x.schema=function(A,m){return u(A,m,function(v,r,B){if(B[0]instanceof
	l)return(v=B[0].schema())?n.convertObjectToArcadeDictionary(v):null;throw Error("Invalid Parameter");})};x.subtypes=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,1,1);if(B[0]instanceof l)return(v=B[0].subtypes())?n.convertObjectToArcadeDictionary(v):null;throw Error("Invalid Parameter");})};x.subtypecode=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,1,1);if(B[0]instanceof l){r=B[0].subtypes();if(!r)return null;if(r.subtypeField&&B[0].hasField(r.subtypeField))for(B=B[0].field(r.subtypeField),
	v=0,r=r.subtypes;v<r.length;v++){var D=r[v];if(D.code===B)return D.code}return null}throw Error("Invalid Parameter");})};x.subtypename=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,1,1);if(B[0]instanceof l){r=B[0].subtypes();if(!r)return"";if(r.subtypeField&&B[0].hasField(r.subtypeField))for(B=B[0].field(r.subtypeField),v=0,r=r.subtypes;v<r.length;v++){var D=r[v];if(D.code===B)return D.name}return""}throw Error("Invalid Parameter");})};x.gdbversion=function(A,m){return u(A,m,function(v,r,
	B){k.pcCheck(B,1,1);if(B[0]instanceof l)return B[0].gdbVersion();throw Error("Invalid Parameter");})};x.domain=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,2,3);if(B[0]instanceof l)return(v=B[0].fullDomain(k.toString(B[1]),void 0===B[2]?void 0:k.toNumber(B[2])))&&v.domain?"coded-value"===v.domain.type||"codedValue"===v.domain.type?n.convertObjectToArcadeDictionary({type:"codedValue",name:v.domain.name,dataType:h.layerFieldEsriConstants[v.field.type],codedValues:v.domain.codedValues.map(function(D){return{name:D.name,
	code:D.code}})}):n.convertObjectToArcadeDictionary({type:"range",name:v.domain.name,dataType:h.layerFieldEsriConstants[v.field.type],min:v.domain.min,max:v.domain.max}):null;throw Error("Invalid Parameter");})};x.domainname=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,2,4);if(B[0]instanceof l)return B[0].domainValueLookup(k.toString(B[1]),B[2],void 0===B[3]?void 0:k.toNumber(B[3]));throw Error("Invalid Parameter");})};x.domaincode=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,2,
	4);if(B[0]instanceof l)return B[0].domainCodeLookup(k.toString(B[1]),B[2],void 0===B[3]?void 0:k.toNumber(B[3]));throw Error("Invalid Parameter");})};x.urlencode=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,1,1);if(null===B[0])return"";if(B[0]instanceof n){v="";r=0;for(var D=B[0].keys();r<D.length;r++){var G=D[r],z=B[0].field(G);""!==v&&(v+="\x26");v=null===z?v+(encodeURIComponent(G)+"\x3d"):v+(encodeURIComponent(G)+"\x3d"+encodeURIComponent(z))}return v}return encodeURIComponent(k.toString(B[0]))})};
	x.hash=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,1,1);v=new d.XXH(0);p(B[0],v,{map:new Map,currentLength:0});return v.digest()})};x.convertdirection=function(A,m){return u(A,m,function(v,r,B){k.pcCheck(B,3,3);return f.convertDirection(B[0],B[1],B[2])})}}})},"esri/arcade/functions/convertdirection":function(){define(["require","exports","../Dictionary","../languageUtils"],function(C,y,b,w){function n(K){if(!1===w.isString(K))throw Error("Invalid Parameter");return K}function l(K,Y){Y=
	Math.pow(10,Y);return Math.round(K*Y)/Y}function k(K){K=+K;return isFinite(K)?K-K%1||(0>K?-0:0===K?K:0):K}function h(K){var Y=parseFloat(K.toString().replace(k(K).toString(),"0"))*((0<K)-(0>K)||+K);return 0>K?{fraction:Y,integer:Math.ceil(K)}:{fraction:Y,integer:Math.floor(K)}}function f(K,Y){switch(K){case 0:return"SHORT"===Y?"N":"North";case 1:return"SHORT"===Y?"E":"East";case 2:return"SHORT"===Y?"S":"South";case 3:return"SHORT"===Y?"W":"West"}}function d(K,Y,la){for(;K.length<la;)K=Y+K;return K}
	function a(K,Y){return K-Math.floor(K/Y)*Y}function c(K){switch(K){case 6:case 1:return 360;case 4:return E;case 5:return 400;case 2:return 1296E3;case 7:return 60;case 8:return 60;default:throw Error("Unnexpected evaluations");}}function e(K){switch(K.toUpperCase().trim()){case "NORTH":case "NORTHAZIMUTH":case "NORTH AZIMUTH":return 1;case "POLAR":return 2;case "QUADRANT":return 3;case "SOUTH":case "SOUTHAZIMUTH":case "SOUTH AZIMUTH":return 4}throw Error("Unsupported direction type");}function q(K){switch(K.toUpperCase().trim()){case "D":case "DD":case "DECIMALDEGREE":case "DECIMAL DEGREE":case "DEGREE":case "DECIMALDEGREES":case "DECIMAL DEGREES":case "DEGREES":return 1;
	case "DMS":case "DEGREESMINUTESSECONDS":case "DEGREES MINUTES SECONDS":return 3;case "R":case "RAD":case "RADS":case "RADIAN":case "RADIANS":return 4;case "G":case "GON":case "GONS":case "GRAD":case "GRADS":case "GRADIAN":case "GRADIANS":return 5}throw Error("Unsupported units");}function t(K,Y,la){var L=null;switch(Y){case 1:L=y.preciseMultiply(K,3600);break;case 2:L=K;break;case 5:L=y.preciseMultiply(K,3240);break;case 4:L=y.preciseMultiply(K,H);break;default:throw Error("Unnexpected evaluation");
	}switch(la){case 1:return y.preciseDivide(L,3600);case 2:return L;case 5:return y.preciseDivide(L,3240);case 4:return L/H;default:throw Error("Unnexpected evaluation");}}function g(K){switch(K){case 1:case 6:case 3:return 1;case 5:return 5;case 7:return 7;case 4:return 4;case 2:case 8:return 2}}function p(K){switch(w.toNumber(K)){case 1:return{first:0,second:1};case 2:return{first:2,second:1};case 3:return{first:2,second:3};case 4:return{first:0,second:3}}return null}function x(K){switch(K.toUpperCase().trim()){case "N":case "NORTH":return 0;
	case "E":case "EAST":return 1;case "S":case "SOUTH":return 2;case "W":case "WEST":return 3}return null}function u(K){K=parseFloat(K);if(w.isNumber(K)){if(isNaN(K))throw Error("Invalid conversion");return K}throw Error("Invalid conversion");}function A(K,Y,la){var L=3===la,R=null,da=null,ka=0,qa=0;qa=0;if(L){if(2>K.length)throw Error("Conversion Error");qa=1;(da=p(w.toString(K[K.length-1])))?(R=da.first,da=da.second):(ka=1,R=x(w.toString(K[0])),da=x(w.toString(K[K.length-1])));if(null===R||null===
	da)throw Error("Invalid Conversion");}switch(Y){case 1:case 4:case 5:if(0===K.length)throw Error("Invalid Conversion");return L?ha.createFromAngleMeridianAndDirection(ma.createFromAngleAndUnits(u(K[ka]),g(Y)),R,da):ha.createFromAngleAndDirection(ma.createFromAngleAndUnits(u(K[ka]),g(Y)),la);case 3:qa=K.length-qa-ka;if(3===qa)return K=ma.createFromDegreesMinutesSeconds(u(K[ka]),u(K[ka+1]),u(K[ka+2])),L?ha.createFromAngleMeridianAndDirection(K,R,da):ha.createFromAngleAndDirection(K,la);if(1===qa)return K=
	u(K[ka]),K=ca.number_to_dms(K),K=ma.createFromDegreesMinutesSeconds(K.m_degrees,K.m_minutes,K.m_seconds),L?ha.createFromAngleMeridianAndDirection(K,R,da):ha.createFromAngleAndDirection(K,la)}throw Error("Conversion Error");}function m(K){for(var Y=[" ","-","/","'",'"',"\\","^","\u00b0",I,"\t","\r","\n","*"],la="",L=0;L<K.length;L++){var R=K.charAt(L);la=-1!==Y.indexOf(R)?la+"RRSPLITRRSPLITRR":la+R}return la.split("RRSPLITRRSPLITRR").filter(function(da){return""!==da})}function v(K,Y,la){for(var L=
	{padding:0,rounding:0,newpos:Y},R=!1;Y<K.length;){var da=K[Y];if(da===la)R?L.rounding++:L.padding++,Y++;else if("."===da)R=!0,Y++;else break}L.newpos=Y-1;return L}Object.defineProperty(y,"__esModule",{value:!0});y.convertDirection=y.preciseDivide=y.preciseMultiply=y.preciseMinus=y.preciseAdd=void 0;var r=function(K){return function(Y,la,L){L=L||14;return+K(Y,la).toFixed(L)}},B=function(K,Y){return K+Y},D=function(K,Y){return K-Y},G=function(K,Y){return K*Y},z=function(K,Y){return K/Y};y.preciseAdd=
	function(K,Y,la){return r(B)(K,Y,la)};y.preciseMinus=function(K,Y,la){return r(D)(K,Y,la)};y.preciseMultiply=function(K,Y,la){return r(G)(K,Y,la)};y.preciseDivide=function(K,Y,la){return r(z)(K,Y,la)};var E=2*Math.PI,H=648E3/Math.PI,I=String.fromCharCode(7501),O;(function(K){K[K.north=0]="north";K[K.east=1]="east";K[K.south=2]="south";K[K.west=3]="west"})(O||(O={}));var T;(function(K){K[K.decimal_degrees=1]="decimal_degrees";K[K.seconds=2]="seconds";K[K.degrees_minutes_seconds=3]="degrees_minutes_seconds";
	K[K.radians=4]="radians";K[K.gradians=5]="gradians";K[K.truncated_degrees=6]="truncated_degrees";K[K.fractional_degree_minutes=7]="fractional_degree_minutes";K[K.fractional_minute_seconds=8]="fractional_minute_seconds"})(T||(T={}));var Z;(function(K){K[K.north_azimuth=1]="north_azimuth";K[K.polar=2]="polar";K[K.quadrant=3]="quadrant";K[K.south_azimuth=4]="south_azimuth"})(Z||(Z={}));var ia;(function(K){K[K.meridian=0]="meridian";K[K.direction=1]="direction"})(ia||(ia={}));var ca=function(){function K(Y,
	la,L){this.m_degrees=Y;this.m_minutes=la;this.m_seconds=L}K.prototype.get_field=function(Y){switch(Y){case 1:case 6:return this.m_degrees;case 7:return this.m_minutes;case 2:case 8:return this.m_seconds;default:throw Error("Unnexpected evaluation");}};K.seconds_to_DMS=function(Y){var la=h(Y).fraction;Y=h(Y).integer;var L=Math.floor(Y/3600);Y-=3600*L;var R=Math.floor(Y/60);return new K(L,R,Y-60*R+la)};K.number_to_dms=function(Y){var la=h(Y).fraction;Y=h(Y).integer;var L=y.preciseMultiply(h(100*la).fraction,
	100);la=h(100*la).integer;return new K(Y,la,L)};K.prototype.format=function(Y,la){la=l(this.m_seconds,la);var L=this.m_minutes,R=this.m_degrees;if(2===Y||8===Y)60<=la&&(la-=60,++L),60<=L&&(L=0,++R),360<=R&&(R=0);else if(7===Y)la=0,L=30<=this.m_seconds?this.m_minutes+1:this.m_minutes,R=this.m_degrees,60<=L&&(L=0,++R),360<=R&&(R=0);else if(1===Y||6===Y)Y=y.preciseDivide(this.m_seconds,3600),la=y.preciseDivide(this.m_minutes,60),R=Math.round(this.m_degrees+la+Y),la=L=0;return new K(R,L,la)};K.DMS_to_seconds=
	function(Y,la,L){return 3600*Y+60*la+L};return K}(),W=function(){function K(Y,la,L){this.meridian=Y;this.angle=la;this.direction=L}K.prototype.fetch_azimuth=function(Y){return 0===Y?this.meridian:this.direction};return K}(),ha=function(){function K(Y){this.m_angle=Y}K.createFromAngleAndDirection=function(Y,la){return new K(new ma(K.convertDirectionFormat(Y.extract_angular_units(2),la,1)))};K.prototype.getAngle=function(Y){var la=this.m_angle.extract_angular_units(2);switch(Y){case 1:case 4:case 2:return Y=
	new ma(K.convertDirectionFormat(la,1,Y));case 3:return Y=K.seconds_north_azimuth_to_quadrant(la),Y=new ma(Y.angle)}};K.prototype.getMeridian=function(Y){var la=this.m_angle.extract_angular_units(2);switch(Y){case 1:return 0;case 4:return 2;case 2:return 1;case 3:return K.seconds_north_azimuth_to_quadrant(la).meridian}};K.prototype.getDirection=function(Y){var la=this.m_angle.extract_angular_units(2);switch(Y){case 1:return 1;case 4:return 3;case 2:return 0;case 3:return K.seconds_north_azimuth_to_quadrant(la).direction}};
	K.seconds_north_azimuth_to_quadrant=function(Y){var la=324E3>=Y||972E3<=Y?0:2;return new W(la,0===la?Math.min(1296E3-Y,Y):Math.abs(Y-648E3),648E3<Y?3:1)};K.createFromAngleMeridianAndDirection=function(Y,la,L){return new K(new ma(K.secondsQuadrantToNorthAzimuth(Y.extract_angular_units(2),la,L)))};K.secondsQuadrantToNorthAzimuth=function(Y,la,L){return 0===la?1===L?Y:1296E3-Y:1===L?648E3-Y:648E3+Y};K.convertDirectionFormat=function(Y,la,L){var R=0;switch(la){case 1:R=Y;break;case 2:R=324E3-Y;break;
	case 3:throw Error("Unnexpected evaluation");case 4:R=Y+648E3}Y=0;switch(L){case 1:Y=R;break;case 2:Y=324E3-R;break;case 3:throw Error("Unnexpected evaluation");case 4:Y=R-648E3}Y%=1296E3;return 0>Y?1296E3+Y:Y};return K}(),ma=function(){function K(Y){this.m_seconds=Y}K.createFromAngleAndUnits=function(Y,la){return new K(t(Y,la,2))};K.prototype.extract_angular_units=function(Y){return t(this.m_seconds,2,g(Y))};K.createFromDegreesMinutesSeconds=function(Y,la,L){return new K(y.preciseAdd(y.preciseAdd(y.preciseMultiply(Y,
	3600),y.preciseMultiply(la,60)),L))};return K}(),xa=function(){function K(Y,la,L,R){this.m_view=Y;this.m_angle=la;this.m_merdian=L;this.m_direction=R;this.m_formatted_dms=this.m_dms=null}K.createFromStringAndBearing=function(Y,la,L){return new K(Y,la.getAngle(L),la.getMeridian(L),la.getDirection(L))};K.prototype.fetch_angle=function(){return this.m_angle};K.prototype.fetch_meridian=function(){return this.m_merdian};K.prototype.fetch_direction=function(){return this.m_direction};K.prototype.fetch_m_view=
	function(){return this.m_view};K.prototype.fetch_dms=function(){null===this.m_dms&&this.calculate_dms();return this.m_dms};K.prototype.fetch_formatted_dms=function(){null===this.m_formatted_dms&&this.calculate_dms();return this.m_formatted_dms};K.prototype.calculate_dms=function(){var Y=null,la=6,L=0;for(Y=0;Y<this.m_view.length;Y++){var R=this.m_view[Y];switch(R){case "m":Y=v(this.m_view,Y,R);la=6===la?7:la;Y=Y.newpos;continue;case "s":Y=v(this.m_view,Y,R),la=8,L=L<Y.rounding?Y.rounding:L,Y=Y.newpos}}this.m_dms=
	ca.seconds_to_DMS(this.m_angle.extract_angular_units(2));this.m_formatted_dms=ca.seconds_to_DMS(this.m_angle.extract_angular_units(2)).format(la,L)};return K}();y.convertDirection=function(K,Y,la){if(!(Y instanceof b))throw Error("Invalid Parameter");if(!1===Y.hasField("directionType"))throw Error("Invalid Parameter - Missing directionType");if(!1===Y.hasField("angleType"))throw Error("Invalid Parameter - Missing directionType");var L=e(n(Y.field("directiontype")));Y=q(n(Y.field("angletype")));if(w.isNumber(K)){K=
	w.toNumber(K);if(3===L)throw Error("Conversion error");3===Y?(K=ca.number_to_dms(K),Y=ha.createFromAngleAndDirection(ma.createFromDegreesMinutesSeconds(K.m_degrees,K.m_minutes,K.m_seconds),L)):Y=ha.createFromAngleAndDirection(ma.createFromAngleAndUnits(K,g(Y)),L)}else if(w.isString(K))Y=A(m(K),Y,L);else if(w.isArray(K))Y=A(K,Y,L);else if(w.isImmutableArray(K))Y=A(K.toArray(),Y,L);else throw Error("Conversion Error");if(!(la instanceof b))throw Error("Invalid Parameter");if(!1===la.hasField("directionType"))throw Error("Invalid Parameter - Missing directionType");
	if(!1===la.hasField("outputType"))throw Error("Invalid Parameter - Missing directionType");L=e(n(la.field("directiontype")));K=la.hasField("angleType")?q(n(la.field("angletype"))):null;var R=n(la.field("outputType")).toUpperCase().trim();if(!L||!R)throw Error("Conversion error");if(!(K||"TEXT"===R&&la.hasField("format")))throw Error("Invalid unit");switch(R){case "VALUE":if(3===L||3===K)return la=Y,Y=la.getAngle(L),3===L&&3===K?(K=ca.seconds_to_DMS(Y.extract_angular_units(2)),L=[f(la.getMeridian(L),
	"SHORT"),K.m_degrees,K.m_minutes,K.m_seconds,f(la.getDirection(L),"SHORT")]):3===K?(K=ca.seconds_to_DMS(Y.extract_angular_units(2)),L=[K.m_degrees,K.m_minutes,K.m_seconds]):L=3===L?[f(la.getMeridian(L),"SHORT"),Y.extract_angular_units(K),f(la.getDirection(L),"SHORT")]:[Y.extract_angular_units(K)],L;la=Y;if((Y=g(K))&&3!==K)L=la.getAngle(L).extract_angular_units(Y);else throw Error("Conversion Error");return L;case "TEXT":R="";la.hasField("format")&&(R=w.toString(la.field("format")));if(null===R||""===
	R){la="";switch(K){case 1:la=3===L?"DD.DD\u00b0":"DDD.DD\u00b0";break;case 3:la=3===L?"dd\u00b0 mm' ss\"":"ddd\u00b0 mm' ss.ss\"";break;case 4:la="R.RR";break;case 5:la="GGG.GG"+I;break;default:throw Error("Conversion error");}3===L&&(la="p "+la+" b");R=la}la=Y;K=R;var da="",ka=null,qa=null;Y=xa.createFromStringAndBearing(K,la,L);R={D:1,d:6,m:7,s:8,R:4,G:5};for(qa=0;qa<K.length;qa++){var va=K[qa];switch(va){case "[":ka=K;va={escaped:"",newpos:qa};for(qa++;qa<ka.length;){var Ea=ka[qa];qa++;if("]"===
	Ea)break;va.escaped+=Ea}va.newpos=qa-1;ka=va;da+=ka.escaped;qa=ka.newpos;continue;case "D":case "d":case "m":case "s":case "R":case "G":ka=v(K,qa,va);qa=la.getAngle(L);a:{va=R[va];Ea=ka.padding;var ba=ka.rounding,fa=Y,pa=null;switch(va){case 1:case 4:case 5:pa=a(l(qa.extract_angular_units(va),ba),c(va));qa=d(pa.toFixed(ba),"0",Ea+ba+(0<ba?1:0));break a;case 6:case 7:pa=a(fa.fetch_formatted_dms().get_field(va),c(va));qa=d(pa.toFixed(ba),"0",Ea+ba+(0<ba?1:0));break a;case 8:pa=a(l(fa.fetch_dms().get_field(va),
	ba),c(va));qa=d(pa.toFixed(ba),"0",Ea+ba+(0<ba?1:0));break a;default:throw Error("Unnexepected evaluation");}}da+=qa;qa=ka.newpos;continue;case "P":case "p":da+=f(Y.fetch_meridian(),"p"===va?"SHORT":"LONG");continue;case "B":case "b":da+=f(Y.fetch_direction(),"b"===va?"SHORT":"LONG");continue;default:da+=va}}return da;default:throw Error("Invalid Parameter");}}})},"esri/arcade/functions/hash":function(){define(["require","exports"],function(C,y){function b(w){for(var n=[],l=0,k=w.length;l<k;l++){var h=
	w.charCodeAt(l);128>h?n.push(h):2048>h?n.push(192|h>>6,128|h&63):55296>h||57344<=h?n.push(224|h>>12,128|h>>6&63,128|h&63):(l++,h=65536+((h&1023)<<10|w.charCodeAt(l)&1023),n.push(240|h>>18,128|h>>12&63,128|h>>6&63,128|h&63))}return new Uint8Array(n)}Object.defineProperty(y,"__esModule",{value:!0});y.XXH=void 0;C=function(){function w(n){this.seed=n;this.totallen=0;this.bufs=[];this.init()}w.prototype.init=function(){this.bufs=[];this.totallen=0;return this};w.prototype.updateFloatArray=function(n){for(var l=
	[],k=0;k<n.length;k++){var h=n[k];isNaN(h)?l.push("NaN"):Infinity===h?l.push("Infinity"):-Infinity===h?l.push("-Infinity"):0===h?l.push("0"):l.push(h.toString(16))}this.update(b(l.join("")))};w.prototype.updateIntArray=function(n){n=Int32Array.from(n);this.update(new Uint8Array(n.buffer))};w.prototype.updateUint8Array=function(n){this.update(Uint8Array.from(n))};w.prototype.updateWithString=function(n){return this.update(b(n))};w.prototype.update=function(n){this.bufs.push(n);this.totallen+=n.length;
	return this};w.prototype.digest=function(){for(var n=new Uint8Array(this.totallen),l=0,k=0,h=this.bufs;k<h.length;k++){var f=h[k];n.set(f,l);l+=f.length}this.init();return this.xxHash32(n,this.seed)};w.prototype.xxHash32=function(n,l){void 0===l&&(l=0);var k=l+374761393&4294967295,h=0;if(16<=n.length){k=[l+2654435761+2246822519&4294967295,l+2246822519&4294967295,l+0&4294967295,l-2654435761&4294967295];var f=n.length-16;for(h=l=0;(h&4294967280)<=f;h+=4){var d=h,a=n[d+0]+(n[d+1]<<8);d=n[d+2]+(n[d+3]<<
	8);a=k[l]+(2246822519*a+(2246822519*d<<16))&4294967295;a=a<<13|a>>>19;k[l]=2654435761*(a&65535)+(2654435761*(a>>>16)<<16)&4294967295;l=l+1&3}k=(k[0]<<1|k[0]>>>31)+(k[1]<<7|k[1]>>>25)+(k[2]<<12|k[2]>>>20)+(k[3]<<18|k[3]>>>14)&4294967295}k=k+n.length&4294967295;for(l=n.length-4;h<=l;h+=4)d=h,a=n[d+0]+(n[d+1]<<8),d=n[d+2]+(n[d+3]<<8),k=k+(3266489917*a+(3266489917*d<<16))&4294967295,k=k<<17|k>>>15,k=668265263*(k&65535)+(668265263*(k>>>16)<<16)&4294967295;for(;h<n.length;++h)l=n[h],k+=374761393*l,k=k<<
	11|k>>>21,k=2654435761*(k&65535)+(2654435761*(k>>>16)<<16)&4294967295;k^=k>>>15;k=(2246822519*(k&65535)&4294967295)+(2246822519*(k>>>16)<<16);k^=k>>>13;k=(3266489917*(k&65535)&4294967295)+(3266489917*(k>>>16)<<16);k^=k>>>16;return 0>k?k+4294967296:k};return w}();y.XXH=C})},"esri/arcade/arcadeRuntime":function(){define("require exports ./ArcadePortal ./Attachment ./Dictionary ./Feature ./FunctionWrapper ./ImmutablePathArray ./ImmutablePointArray ./languageUtils ./treeAnalysis ./functions/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../SpatialReference".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x,u,A,m,v,r,B,D){function G(ba,fa){for(var pa=[],wa=0;wa<fa.arguments.length;wa++)pa.push(E(ba,fa.arguments[wa]));return pa}function z(ba,fa,pa){try{return pa(ba,fa,G(ba,fa))}catch(wa){throw wa;}}function E(ba,fa){try{switch(fa.type){case "EmptyStatement":return d.voidOperation;case "VariableDeclarator":var pa=null===fa.init?null:E(ba,fa.init);pa===d.voidOperation&&(pa=null);if("Identifier"!==fa.id.type)throw Error("Can only assign a regular variable");var wa=
	fa.id.name.toLowerCase();null!==ba.localScope?ba.localScope[wa]={value:pa,valueset:!0,node:fa.init}:ba.globalScope[wa]={value:pa,valueset:!0,node:fa.init};return d.voidOperation;case "VariableDeclaration":for(var ra=0;ra<fa.declarations.length;ra++)E(ba,fa.declarations[ra]);return d.voidOperation;case "BlockStatement":a:{var Oa=d.voidOperation;for(ra=0;ra<fa.body.length;ra++)if(Oa=E(ba,fa.body[ra]),Oa instanceof d.ReturnResult||Oa===d.breakResult||Oa===d.continueResult){var X=Oa;break a}X=Oa}return X;
	case "FunctionDeclaration":var U=fa.id.name.toLowerCase();ba.globalScope[U]={valueset:!0,node:null,value:new k(fa,ba)};return d.voidOperation;case "ReturnStatement":if(null===fa.argument)var oa=new d.ReturnResult(d.voidOperation);else{var sa=E(ba,fa.argument);oa=new d.ReturnResult(sa)}return oa;case "IfStatement":if("AssignmentExpression"===fa.test.type||"UpdateExpression"===fa.test.type)throw Error(a.nodeErrorMessage(fa.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var Fa=E(ba,fa.test);if(!0===
	Fa)var Ta=E(ba,fa.consequent);else if(!1===Fa)Ta=null!==fa.alternate?E(ba,fa.alternate):d.voidOperation;else throw Error(a.nodeErrorMessage(fa,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));return Ta;case "ExpressionStatement":if("AssignmentExpression"===fa.expression.type||"UpdateExpression"===fa.expression.type)var Ya=E(ba,fa.expression);else{var bb=E(ba,fa.expression);Ya=bb===d.voidOperation?d.voidOperation:new d.ImplicitResult(bb)}return Ya;case "AssignmentExpression":var Ma=E(ba,fa.right);
	ra=null;var J="";if("MemberExpression"===fa.left.type){ra=E(ba,fa.left.object);!0===fa.left.computed?J=E(ba,fa.left.property):"Identifier"===fa.left.property.type&&(J=fa.left.property.name);if(d.isArray(ra))if(d.isNumber(J)){0>J&&(J=ra.length+J);if(0>J||J>ra.length)throw Error("Assignment outside of array bounds");if(J===ra.length&&"\x3d"!==fa.operator)throw Error("Invalid Parameter");ra[J]=I(Ma,fa.operator,ra[J],fa)}else throw Error("Invalid Parameter");else if(ra instanceof n){if(!1===d.isString(J))throw Error("Dictionary accessor must be a string");
	if(!0===ra.hasField(J))ra.setField(J,I(Ma,fa.operator,ra.field(J),fa));else{if("\x3d"!==fa.operator)throw Error("Invalid Parameter");ra.setField(J,I(Ma,fa.operator,null,fa))}}else if(ra instanceof l){if(!1===d.isString(J))throw Error("Feature accessor must be a string");if(!0===ra.hasField(J))ra.setField(J,I(Ma,fa.operator,ra.field(J),fa));else{if("\x3d"!==fa.operator)throw Error("Invalid Parameter");ra.setField(J,I(Ma,fa.operator,null,fa))}}else{if(d.isImmutableArray(ra))throw Error("Array is Immutable");
	throw Error("Invalid Parameter");}var Q=d.voidOperation}else if(ra=fa.left.name.toLowerCase(),null!==ba.localScope&&void 0!==ba.localScope[ra])ba.localScope[ra]={value:I(Ma,fa.operator,ba.localScope[ra].value,fa),valueset:!0,node:fa.right},Q=d.voidOperation;else if(void 0!==ba.globalScope[ra])ba.globalScope[ra]={value:I(Ma,fa.operator,ba.globalScope[ra].value,fa),valueset:!0,node:fa.right},Q=d.voidOperation;else throw Error("Variable not recognised");return Q;case "UpdateExpression":ra=null;J="";
	if("MemberExpression"===fa.argument.type){ra=E(ba,fa.argument.object);!0===fa.argument.computed?J=E(ba,fa.argument.property):"Identifier"===fa.argument.property.type&&(J=fa.argument.property.name);if(d.isArray(ra))if(d.isNumber(J)){0>J&&(J=ra.length+J);if(0>J||J>=ra.length)throw Error("Assignment outside of array bounds");var aa=d.toNumber(ra[J]);ra[J]="++"===fa.operator?aa+1:aa-1}else throw Error("Invalid Parameter");else if(ra instanceof n){if(!1===d.isString(J))throw Error("Dictionary accessor must be a string");
	if(!0===ra.hasField(J))aa=d.toNumber(ra.field(J)),ra.setField(J,"++"===fa.operator?aa+1:aa-1);else throw Error("Invalid Parameter");}else if(ra instanceof l){if(!1===d.isString(J))throw Error("Feature accessor must be a string");if(!0===ra.hasField(J))aa=d.toNumber(ra.field(J)),ra.setField(J,"++"===fa.operator?aa+1:aa-1);else throw Error("Invalid Parameter");}else{if(d.isImmutableArray(ra))throw Error("Array is Immutable");throw Error("Invalid Parameter");}var N=!1===fa.prefix?aa:"++"===fa.operator?
	aa+1:aa-1}else{ra="Identifier"===fa.argument.type?fa.argument.name.toLowerCase():"";if(!ra)throw Error("Invalid identifier");if(null!==ba.localScope&&void 0!==ba.localScope[ra])aa=d.toNumber(ba.localScope[ra].value),ba.localScope[ra]={value:"++"===fa.operator?aa+1:aa-1,valueset:!0,node:fa},N=!1===fa.prefix?aa:"++"===fa.operator?aa+1:aa-1;else if(void 0!==ba.globalScope[ra])aa=d.toNumber(ba.globalScope[ra].value),ba.globalScope[ra]={value:"++"===fa.operator?aa+1:aa-1,valueset:!0,node:fa},N=!1===fa.prefix?
	aa:"++"===fa.operator?aa+1:aa-1;else throw Error("Variable not recognised");}return N;case "BreakStatement":return d.breakResult;case "ContinueStatement":return d.continueResult;case "TemplateElement":return fa.value?fa.value.cooked:"";case "TemplateLiteral":var S="",ea=0;Q=0;for(ra=fa.quasis;Q<ra.length;Q++)if(J=ra[Q],S+=J.value?J.value.cooked:"",!1===J.tail){var na=fa.expressions[ea]?d.toString(E(ba,fa.expressions[ea])):"";S+=na;ea++}return S;case "ForStatement":null!==fa.init&&E(ba,fa.init);ea=
	{testResult:!0,lastAction:d.voidOperation};do b:{ra=ba;J=fa;na=ea;if(null!==J.test){na.testResult=E(ra,J.test);if(!1===na.testResult)break b;if(!0!==na.testResult)throw Error(a.nodeErrorMessage(J,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));}na.lastAction=E(ra,J.body);na.lastAction===d.breakResult?na.testResult=!1:na.lastAction instanceof d.ReturnResult?na.testResult=!1:null!==J.update&&E(ra,J.update)}while(!0===ea.testResult);S=ea.lastAction instanceof d.ReturnResult?ea.lastAction:d.voidOperation;
	return S;case "ForInStatement":return H(ba,fa);case "Identifier":return W(ba,fa);case "MemberExpression":return T(ba,fa);case "Literal":return fa.value;case "CallExpression":return ha(ba,fa);case "UnaryExpression":return Z(ba,fa);case "BinaryExpression":return ia(ba,fa);case "LogicalExpression":return ca(ba,fa);case "ConditionalExpression":throw Error(a.nodeErrorMessage(fa,"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{for(ra=[],J=0;J<fa.elements.length;J++){var ua=E(ba,fa.elements[J]);if(d.isFunctionParameter(ua))throw Error(a.nodeErrorMessage(fa,
	"RUNTIME","FUNCTIONCONTEXTILLEGAL"));ua===d.voidOperation?ra.push(null):ra.push(ua)}}catch(Qa){throw Qa;}return ra;case "ObjectExpression":ra={};for(J=0;J<fa.properties.length;J++){var Aa=E(ba,fa.properties[J]);if(d.isFunctionParameter(Aa.value))throw Error("Illegal Argument");if(!1===d.isString(Aa.key))throw Error("Illegal Argument");ra[Aa.key.toString()]=Aa.value===d.voidOperation?null:Aa.value}var Ba=new n(ra);Ba.immutable=!1;return Ba;case "Property":return{key:"Identifier"===fa.key.type?fa.key.name:
	E(ba,fa.key),value:E(ba,fa.value)};default:throw Error(a.nodeErrorMessage(fa,"RUNTIME","UNREOGNISED"));}}catch(Qa){throw Qa;}}function H(ba,fa){var pa=E(ba,fa.right);"VariableDeclaration"===fa.left.type&&E(ba,fa.left);var wa=null,ra="";if("VariableDeclaration"===fa.left.type){var Oa=fa.left.declarations[0].id;"Identifier"===Oa.type&&(ra=Oa.name)}else"Identifier"===fa.left.type&&(ra=fa.left.name);if(!ra)throw Error(a.nodeErrorMessage(fa,"RUNTIME","INVALIDVARIABLE"));ra=ra.toLowerCase();null!==ba.localScope&&
	void 0!==ba.localScope[ra]&&(wa=ba.localScope[ra]);null===wa&&void 0!==ba.globalScope[ra]&&(wa=ba.globalScope[ra]);if(null===wa)throw Error(a.nodeErrorMessage(fa,"RUNTIME","VARIABLENOTDECLARED"));if(d.isArray(pa)||d.isString(pa)){pa=pa.length;for(Oa=0;Oa<pa;Oa++){wa.value=Oa;ra=E(ba,fa.body);if(ra===d.breakResult)break;if(ra instanceof d.ReturnResult)return ra}return d.voidOperation}if(d.isImmutableArray(pa)){for(Oa=0;Oa<pa.length();Oa++){wa.value=Oa;ra=E(ba,fa.body);if(ra===d.breakResult)break;if(ra instanceof
	d.ReturnResult)return ra}return d.voidOperation}if(pa instanceof n||pa instanceof l)for(pa=pa.keys(),Oa=0;Oa<pa.length;Oa++){wa.value=pa[Oa];ra=E(ba,fa.body);if(ra===d.breakResult)break;if(ra instanceof d.ReturnResult)return ra}else return d.voidOperation}function I(ba,fa,pa,wa){switch(fa){case "\x3d":return ba===d.voidOperation?null:ba;case "/\x3d":return d.toNumber(pa)/d.toNumber(ba);case "*\x3d":return d.toNumber(pa)*d.toNumber(ba);case "-\x3d":return d.toNumber(pa)-d.toNumber(ba);case "+\x3d":return d.isString(pa)||
	d.isString(ba)?d.toString(pa)+d.toString(ba):d.toNumber(pa)+d.toNumber(ba);case "%\x3d":return d.toNumber(pa)%d.toNumber(ba);default:throw Error(a.nodeErrorMessage(wa,"RUNTIME","OPERATORNOTRECOGNISED"));}}function O(ba,fa,pa){fa=fa.toLowerCase();switch(fa){case "hasz":return ba=ba.hasZ,void 0===ba?!1:ba;case "hasm":return ba=ba.hasM,void 0===ba?!1:ba;case "spatialreference":return fa=ba.spatialReference._arcadeCacheId,void 0===fa&&(pa=!0,Object.freeze&&Object.isFrozen(ba.spatialReference)&&(pa=!1),
	pa&&(ka++,fa=ba.spatialReference._arcadeCacheId=ka)),ba=new n({wkt:ba.spatialReference.wkt,wkid:ba.spatialReference.wkid}),void 0!==fa&&(ba._arcadeCacheId="SPREF"+fa.toString()),ba}switch(ba.type){case "extent":switch(fa){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return ba=ba[fa],void 0!==ba?ba:null;case "type":return"Extent"}break;case "polygon":switch(fa){case "rings":return fa=ba.getCacheValue("_arcadeCacheId"),void 0===fa&&(ka++,fa=ka,ba.setCacheValue("_arcadeCacheId",
	fa)),ba=new h(ba.rings,ba.spatialReference,!0===ba.hasZ,!0===ba.hasM,fa);case "type":return"Polygon"}break;case "point":switch(fa){case "x":case "y":case "z":case "m":return void 0!==ba[fa]?ba[fa]:null;case "type":return"Point"}break;case "polyline":switch(fa){case "paths":return fa=ba.getCacheValue("_arcadeCacheId"),void 0===fa&&(ka++,fa=ka,ba.setCacheValue("_arcadeCacheId",fa)),ba=new h(ba.paths,ba.spatialReference,!0===ba.hasZ,!0===ba.hasM,fa);case "type":return"Polyline"}break;case "multipoint":switch(fa){case "points":return fa=
	ba.getCacheValue("_arcadeCacheId"),void 0===fa&&(ka++,fa=ka,ba.setCacheValue("_arcadeCacheId",fa)),ba=new f(ba.points,ba.spatialReference,!0===ba.hasZ,!0===ba.hasM,fa,1);case "type":return"Multipoint"}}throw Error(a.nodeErrorMessage(pa,"RUNTIME","PROPERTYNOTFOUND"));}function T(ba,fa){try{var pa=E(ba,fa.object);if(null===pa)throw Error(a.nodeErrorMessage(fa,"RUNTIME","NOTFOUND"));if(!1===fa.computed){if("Identifier"===fa.property.type){if(pa instanceof n||pa instanceof l)return pa.field(fa.property.name);
	if(pa instanceof A)return O(pa,fa.property.name,fa)}throw Error(a.nodeErrorMessage(fa,"RUNTIME","INVALIDTYPE"));}var wa=E(ba,fa.property);if(pa instanceof n||pa instanceof l){if(d.isString(wa))return pa.field(wa);throw Error(a.nodeErrorMessage(fa,"RUNTIME","INVALIDTYPE"));}if(pa instanceof A){if(d.isString(wa))return O(pa,wa,fa);throw Error(a.nodeErrorMessage(fa,"RUNTIME","INVALIDTYPE"));}if(d.isArray(pa)){if(d.isNumber(wa)&&isFinite(wa)&&Math.floor(wa)===wa){0>wa&&(wa=pa.length+wa);if(wa>=pa.length||
	0>wa)throw Error(a.nodeErrorMessage(fa,"RUNTIME","OUTOFBOUNDS"));return pa[wa]}throw Error(a.nodeErrorMessage(fa,"RUNTIME","INVALIDTYPE"));}if(d.isString(pa)){if(d.isNumber(wa)&&isFinite(wa)&&Math.floor(wa)===wa){0>wa&&(wa=pa.length+wa);if(wa>=pa.length||0>wa)throw Error(a.nodeErrorMessage(fa,"RUNTIME","OUTOFBOUNDS"));return pa[wa]}throw Error(a.nodeErrorMessage(fa,"RUNTIME","INVALIDTYPE"));}if(d.isImmutableArray(pa)&&d.isNumber(wa)&&isFinite(wa)&&Math.floor(wa)===wa){0>wa&&(wa=pa.length()+wa);if(wa>=
	pa.length()||0>wa)throw Error(a.nodeErrorMessage(fa,"RUNTIME","OUTOFBOUNDS"));return pa.get(wa)}throw Error(a.nodeErrorMessage(fa,"RUNTIME","INVALIDTYPE"));}catch(ra){throw ra;}}function Z(ba,fa){try{var pa=E(ba,fa.argument);if(d.isBoolean(pa)){if("!"===fa.operator)return!pa;if("-"===fa.operator)return-1*d.toNumber(pa);if("+"===fa.operator)return 1*d.toNumber(pa);if("~"===fa.operator)return~d.toNumber(pa);throw Error(a.nodeErrorMessage(fa,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("~"===fa.operator)return~d.toNumber(pa);
	if("-"===fa.operator)return-1*d.toNumber(pa);if("+"===fa.operator)return 1*d.toNumber(pa);throw Error(a.nodeErrorMessage(fa,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}catch(wa){throw wa;}}function ia(ba,fa){try{var pa=[E(ba,fa.left),E(ba,fa.right)],wa=pa[0],ra=pa[1];switch(fa.operator){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return d.binaryOperator(d.toNumber(wa),d.toNumber(ra),fa.operator);case "\x3d\x3d":return d.equalityTest(wa,ra);case "!\x3d":return!d.equalityTest(wa,
	ra);case "\x3c":return d.greaterThanLessThan(wa,ra,fa.operator);case "\x3e":return d.greaterThanLessThan(wa,ra,fa.operator);case "\x3c\x3d":return d.greaterThanLessThan(wa,ra,fa.operator);case "\x3e\x3d":return d.greaterThanLessThan(wa,ra,fa.operator);case "+":return d.isString(wa)||d.isString(ra)?d.toString(wa)+d.toString(ra):d.toNumber(wa)+d.toNumber(ra);case "-":return d.toNumber(wa)-d.toNumber(ra);case "*":return d.toNumber(wa)*d.toNumber(ra);case "/":return d.toNumber(wa)/d.toNumber(ra);case "%":return d.toNumber(wa)%
	d.toNumber(ra);default:throw Error(a.nodeErrorMessage(fa,"RUNTIME","OPERATORNOTRECOGNISED"));}}catch(Oa){throw Oa;}}function ca(ba,fa){try{if("AssignmentExpression"===fa.left.type||"UpdateExpression"===fa.left.type)throw Error(a.nodeErrorMessage(fa.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===fa.right.type||"UpdateExpression"===fa.right.type)throw Error(a.nodeErrorMessage(fa.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var pa=E(ba,fa.left);if(d.isBoolean(pa))switch(fa.operator){case "||":if(!0===
	pa)return pa;var wa=E(ba,fa.right);if(d.isBoolean(wa))return wa;throw Error(a.nodeErrorMessage(fa,"RUNTIME","ONLYORORAND"));case "\x26\x26":if(!1===pa)return pa;wa=E(ba,fa.right);if(d.isBoolean(wa))return wa;throw Error(a.nodeErrorMessage(fa,"RUNTIME","ONLYORORAND"));default:throw Error(a.nodeErrorMessage(fa,"RUNTIME","ONLYORORAND"));}throw Error(a.nodeErrorMessage(fa,"RUNTIME","ONLYBOOLEAN"));}catch(ra){throw ra;}}function W(ba,fa){try{var pa=fa.name.toLowerCase();if(null!==ba.localScope&&void 0!==
	ba.localScope[pa]){var wa=ba.localScope[pa];if(!0===wa.valueset)return wa.value;wa.value=E(ba,wa.node);wa.valueset=!0;return wa.value}if(void 0!==ba.globalScope[pa]){wa=ba.globalScope[pa];if(!0===wa.valueset)return wa.value;wa.value=E(ba,wa.node);wa.valueset=!0;return wa.value}throw Error(a.nodeErrorMessage(fa,"RUNTIME","VARIABLENOTFOUND"));}catch(ra){throw ra;}}function ha(ba,fa){try{if("Identifier"!==fa.callee.type)throw Error(a.nodeErrorMessage(fa,"RUNTIME","ONLYNODESSUPPORTED"));if(null!==ba.localScope&&
	void 0!==ba.localScope[fa.callee.name.toLowerCase()]){var pa=ba.localScope[fa.callee.name.toLowerCase()];if(pa.value instanceof d.NativeFunction)return pa.value.fn(ba,fa);if(pa.value instanceof k)return L(ba,fa,pa.value.definition);throw Error(a.nodeErrorMessage(fa,"RUNTIME","NOTAFUNCTION"));}if(void 0!==ba.globalScope[fa.callee.name.toLowerCase()]){pa=ba.globalScope[fa.callee.name.toLowerCase()];if(pa.value instanceof d.NativeFunction)return pa.value.fn(ba,fa);if(pa.value instanceof k)return L(ba,
	fa,pa.value.definition);throw Error(a.nodeErrorMessage(fa,"RUNTIME","NOTAFUNCTION"));}throw Error(a.nodeErrorMessage(fa,"RUNTIME","NOTFOUND"));}catch(wa){throw wa;}}function ma(ba){return null==ba?"":d.isArray(ba)||d.isImmutableArray(ba)?"Array":d.isDate(ba)?"Date":d.isString(ba)?"String":d.isBoolean(ba)?"Boolean":d.isNumber(ba)?"Number":ba instanceof w?"Attachment":ba instanceof b?"Portal":ba instanceof n?"Dictionary":ba instanceof l?"Feature":ba instanceof v?"Point":ba instanceof r?"Polygon":ba instanceof
	B?"Polyline":ba instanceof m?"Multipoint":ba instanceof u?"Extent":d.isFunctionParameter(ba)?"Function":d.isFeatureSet(ba)?"FeatureSet":d.isFeatureSetCollection(ba)?"FeatureSetCollection":ba===d.voidOperation?"":"number"===typeof ba&&isNaN(ba)?"Number":"Unrecognised Type"}function xa(ba,fa,pa,wa){try{var ra=E(ba,fa.arguments[pa]);if(d.equalityTest(ra,wa))return E(ba,fa.arguments[pa+1]);var Oa=fa.arguments.length-pa;return 1===Oa?E(ba,fa.arguments[pa]):2===Oa?null:3===Oa?E(ba,fa.arguments[pa+2]):xa(ba,
	fa,pa+2,wa)}catch(X){throw X;}}function K(ba,fa,pa,wa){try{if(!0===wa)return E(ba,fa.arguments[pa+1]);if(3===fa.arguments.length-pa)return E(ba,fa.arguments[pa+2]);var ra=E(ba,fa.arguments[pa+2]);if(!1===d.isBoolean(ra))throw Error("WHEN needs boolean test conditions");return K(ba,fa,pa+2,ra)}catch(Oa){throw Oa;}}function Y(ba,fa){var pa=ba.length,wa=Math.floor(pa/2);if(0===pa)return[];if(1===pa)return[ba[0]];var ra=Y(ba.slice(0,wa),fa);ba=Y(ba.slice(wa,pa),fa);for(pa=[];0<ra.length||0<ba.length;)0<
	ra.length&&0<ba.length?(wa=fa(ra[0],ba[0]),isNaN(wa)&&(wa=0),0>=wa?(pa.push(ra[0]),ra=ra.slice(1)):(pa.push(ba[0]),ba=ba.slice(1))):0<ra.length?(pa.push(ra[0]),ra=ra.slice(1)):0<ba.length&&(pa.push(ba[0]),ba=ba.slice(1));return pa}function la(ba,fa,pa){try{var wa=ba.body;if(pa.length!==ba.params.length)throw Error("Invalid Parameter calls to function.");for(var ra=0;ra<pa.length;ra++)fa.localScope[ba.params[ra].name.toLowerCase()]={value:pa[ra],valueset:!0,node:null};var Oa=E(fa,wa);if(Oa instanceof
	d.ReturnResult)return Oa.value;if(Oa===d.breakResult)throw Error("Cannot Break from a Function");if(Oa===d.continueResult)throw Error("Cannot Continue from a Function");return Oa instanceof d.ImplicitResult?Oa.value:Oa}catch(X){throw X;}}function L(ba,fa,pa){return z(ba,fa,function(wa,ra,Oa){wa={spatialReference:ba.spatialReference,globalScope:ba.globalScope,depthCounter:ba.depthCounter+1,console:ba.console,lrucache:ba.lrucache,interceptor:ba.interceptor,localScope:{}};if(64<wa.depthCounter)throw Error("Exceeded maximum function depth");
	return la(pa,wa,Oa)})}function R(ba){return function(){var fa={spatialReference:ba.context.spatialReference,console:ba.context.console,lrucache:ba.context.lrucache,interceptor:ba.context.interceptor,localScope:{},depthCounter:ba.context.depthCounter+1,globalScope:ba.context.globalScope};if(64<fa.depthCounter)throw Error("Exceeded maximum function depth");return la(ba.definition,fa,arguments)}}function da(ba){console.log(ba)}Object.defineProperty(y,"__esModule",{value:!0});y.findFunctionCalls=y.referencesFunction=
	y.referencesMember=y.validateScript=y.extractFieldLiterals=y.executeScript=y.extend=y.functionHelper=void 0;var ka=0,qa={};c.registerFunctions(qa,z);e.registerFunctions(qa,z);x.registerFunctions(qa,z);g.registerFunctions(qa,z);q.registerFunctions(qa,z);p.registerFunctions(qa,z);t.registerFunctions(qa,z);qa["typeof"]=function(ba,fa){return z(ba,fa,function(pa,wa,ra){d.pcCheck(ra,1,1);pa=ma(ra[0]);if("Unrecognised Type"===pa)throw Error("Unrecognised Type");return pa})};qa.iif=function(ba,fa){try{d.pcCheck(null===
	fa.arguments?[]:fa.arguments,3,3);var pa=E(ba,fa.arguments[0]);if(!1===d.isBoolean(pa))throw Error("IF Function must have a boolean test condition");var wa=E(ba,fa.arguments[1]),ra=E(ba,fa.arguments[2]);return!0===pa?wa:ra}catch(Oa){throw Oa;}};qa.decode=function(ba,fa){try{if(2>fa.arguments.length)throw Error("Missing Parameters");if(2===fa.arguments.length)return E(ba,fa.arguments[1]);if(0===(fa.arguments.length-1)%2)throw Error("Must have a default value result.");var pa=E(ba,fa.arguments[0]);
	return xa(ba,fa,1,pa)}catch(wa){throw wa;}};qa.when=function(ba,fa){try{if(3>fa.arguments.length)throw Error("Missing Parameters");if(0===fa.arguments.length%2)throw Error("Must have a default value result.");var pa=E(ba,fa.arguments[0]);if(!1===d.isBoolean(pa))throw Error("WHEN needs boolean test conditions");return K(ba,fa,0,pa)}catch(wa){throw wa;}};qa.top=function(ba,fa){return z(ba,fa,function(pa,wa,ra){d.pcCheck(ra,2,2);if(d.isArray(ra[0]))return d.toNumber(ra[1])>=ra[0].length?ra[0].slice(0):
	ra[0].slice(0,d.toNumber(ra[1]));if(d.isImmutableArray(ra[0]))return d.toNumber(ra[1])>=ra[0].length()?ra[0].slice(0):ra[0].slice(0,d.toNumber(ra[1]));throw Error("Top cannot accept this parameter type");})};qa.first=function(ba,fa){return z(ba,fa,function(pa,wa,ra){d.pcCheck(ra,1,1);return d.isArray(ra[0])?0===ra[0].length?null:ra[0][0]:d.isImmutableArray(ra[0])?0===ra[0].length()?null:ra[0].get(0):null})};qa.sort=function(ba,fa){return z(ba,fa,function(pa,wa,ra){d.pcCheck(ra,1,2);pa=ra[0];d.isImmutableArray(pa)&&
	(pa=pa.toArray());if(!1===d.isArray(pa))throw Error("Illegal Argument");if(1<ra.length){if(!1===d.isFunctionParameter(ra[1]))throw Error("Illegal Argument");var Oa=R(ra[1]);return pa=Y(pa,function(oa,sa){return Oa(oa,sa)})}if(0===pa.length)return[];ra={};for(wa=0;wa<pa.length;wa++){var X=ma(pa[wa]);""!==X&&(ra[X]=!0)}if(!0===ra.Array||!0===ra.Dictionary||!0===ra.Feature||!0===ra.Point||!0===ra.Polygon||!0===ra.Polyline||!0===ra.Multipoint||!0===ra.Extent||!0===ra.Function)return pa.slice(0);wa=0;
	X="";for(var U in ra)wa++,X=U;return pa=1<wa||"String"===X?Y(pa,function(oa,sa){if(null===oa||void 0===oa||oa===d.voidOperation)return null===sa||void 0===sa||sa===d.voidOperation?0:1;if(null===sa||void 0===sa||sa===d.voidOperation)return-1;oa=d.toString(oa);sa=d.toString(sa);return oa<sa?-1:oa===sa?0:1}):"Number"===X?Y(pa,function(oa,sa){return oa-sa}):"Boolean"===X?Y(pa,function(oa,sa){return oa===sa?0:sa?-1:1}):"Date"===X?Y(pa,function(oa,sa){return sa-oa}):pa.slice(0)})};for(var va in qa)qa[va]=
	{value:new d.NativeFunction(qa[va]),valueset:!0,node:null};var Ea=function(){};Ea.prototype=qa;Ea.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null};Ea.prototype.pi={value:Math.PI,valueset:!0,node:null};y.functionHelper={fixSpatialReference:d.fixSpatialReference,parseArguments:G,standardFunction:z};y.extend=function(ba){for(var fa={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:z,evaluateIdentifier:W,arcadeCustomFunctionHandler:R},pa=0;pa<ba.length;pa++)ba[pa].registerFunctions(fa);
	for(var wa in fa.functions)qa[wa]={value:new d.NativeFunction(fa.functions[wa]),valueset:!0,node:null},Ea.prototype[wa]=qa[wa];for(pa=0;pa<fa.signatures.length;pa++)a.addFunctionDeclaration(fa.signatures[pa],"async")};y.executeScript=function(ba,fa){var pa=fa.spatialReference;if(null===pa||void 0===pa)pa=new D({wkid:102100});var wa=fa.vars,ra=fa.customfunctions,Oa=new Ea;wa||(wa={});ra||(ra={});var X=new n({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});
	X.immutable=!1;Oa.textformatting={value:X,valueset:!0,node:null};for(var U in ra)Oa[U]={value:new d.NativeFunction(ra[U]),native:!0,valueset:!0,node:null};for(U in wa)Oa[U]=wa[U]&&"esri.Graphic"===wa[U].declaredClass?{value:l.createFromGraphic(wa[U]),valueset:!0,node:null}:{value:wa[U],valueset:!0,node:null};ba=E({spatialReference:pa,globalScope:Oa,localScope:null,console:fa.console?fa.console:da,lrucache:fa.lrucache,interceptor:fa.interceptor,depthCounter:1},ba.body[0].body);ba instanceof d.ReturnResult&&
	(ba=ba.value);ba instanceof d.ImplicitResult&&(ba=ba.value);ba===d.voidOperation&&(ba=null);if(ba===d.breakResult)throw Error("Cannot return BREAK");if(ba===d.continueResult)throw Error("Cannot return CONTINUE");if(ba instanceof k)throw Error("Cannot return FUNCTION");if(ba instanceof d.NativeFunction)throw Error("Cannot return FUNCTION");return ba};y.extractFieldLiterals=function(ba,fa){void 0===fa&&(fa=!1);return a.findFieldLiterals(ba)};y.validateScript=function(ba,fa){return a.validateScript(ba,
	fa,"simple")};y.referencesMember=function(ba,fa){return a.referencesMember(ba,fa)};y.referencesFunction=function(ba,fa){return a.referencesFunction(ba,fa)};y.findFunctionCalls=function(ba){return a.findFunctionCalls(ba)}})},"esri/arcade/parser":function(){define(["require","exports","./treeAnalysis","./lib/esprima"],function(C,y,b,w){Object.defineProperty(y,"__esModule",{value:!0});y.referencesFunction=y.referencesMember=y.validateScript=y.extractFieldLiterals=y.scriptCheck=y.parseScript=void 0;y.parseScript=
	function(n,l){void 0===l&&(l=[]);n=w.parse("function _() { "+n+"\n}");if(null===n.body||void 0===n.body)throw Error("No formula provided.");if(0===n.body.length)throw Error("No formula provided.");if(0===n.body.length)throw Error("No formula provided.");if("BlockStatement"!==n.body[0].body.type)throw Error("Invalid formula content.");var k=b.validateLanguage(n);if(""!==k)throw Error(k);b.findScriptDependencies(n,l);return n};y.scriptCheck=function(n,l,k,h,f){var d=[];n="function _() { \n"+n+"\n}";
	try{var a=w.parse(n,{tolerant:!0,loc:!0,range:!0}),c=a.errors;if(0<c.length)for(var e=0;e<c.length;e++)d.push({line:c[e].lineNumber-2,character:c[e].column,reason:c[e].description});var q=b.checkScript(a,l,k,h,f);for(l=0;l<q.length;l++)q[l].line-=2,q[l].range&&(q[l].range=[q[l][0]-15,q[l][1]-15]),q[l].loc&&(q[l].loc.start.line-=2,q[l].loc.end.line-=2),d.push(q[l])}catch(g){try{if("Unexpected token }"===g.description){var t=n.split("\n").length;g.lineNumber===t?(g.index=n.length-1,d.push({line:g.lineNumber-
	4,character:g.column,reason:"Unexpected end of script"})):(g.index=n.length-1,d.push({line:g.lineNumber-2,character:g.column,reason:"Unexpected end of script"}))}else d.push({line:g.lineNumber-2,character:g.column,reason:g.description})}catch(p){}}return d};y.extractFieldLiterals=function(n,l){void 0===l&&(l=!1);return b.findFieldLiterals(n)};y.validateScript=function(n,l,k){return b.validateScript(n,l,k)};y.referencesMember=function(n,l){return b.referencesMember(n,l)};y.referencesFunction=function(n,
	l){return b.referencesFunction(n,l)}})},"esri/arcade/lib/esprima":function(){define("require exports ./comment-handler ./parser ./tokenizer ./syntax".split(" "),function(C,y,b,w,n,l){function k(h,f,d){var a=null,c=function(g,p){d&&d(g,p);a&&a.visit(g,p)},e="function"===typeof d?c:null,q=!1;if(f){q="boolean"===typeof f.comment&&f.comment;var t="boolean"===typeof f.attachComment&&f.attachComment;if(q||t)a=new b.CommentHandler,a.attach=t,f.comment=!0,e=c}h=new w.Parser(h,f,e);f=h.parseScript();q&&a&&
	(f.comments=a.comments);h.config.tokens&&(f.tokens=h.tokens);h.config.tolerant&&(f.errors=h.errorHandler.errors);return f}Object.defineProperty(y,"__esModule",{value:!0});y.version=y.tokenize=y.parseScript=y.parse=void 0;y.parse=k;y.parseScript=function(h,f,d){f=f||{};f.sourceType="script";return k(h,f,d)};y.tokenize=function(h,f,d){h=new n.Tokenizer(h,f);f=[];try{for(;;){var a=h.getNextToken();if(!a)break;d&&(a=d(a));f.push(a)}}catch(c){h.errorHandler.tolerate(c)}h.errorHandler.tolerant&&(f.errors=
	h.errors());return f};Object.defineProperty(y,"Syntax",{enumerable:!0,get:function(){return l.Syntax}});y.version="4.0.0-dev"})},"esri/arcade/lib/comment-handler":function(){define(["require","exports","./syntax"],function(C,y,b){Object.defineProperty(y,"__esModule",{value:!0});y.CommentHandler=void 0;C=function(){function w(){this.attach=!1;this.comments=[];this.stack=[];this.leading=[];this.trailing=[]}w.prototype.insertInnerComments=function(n,l){if(n.type===b.Syntax.BlockStatement&&0===n.body.length){for(var k=
	[],h=this.leading.length-1;0<=h;--h){var f=this.leading[h];l.end.offset>=f.start&&(k.unshift(f.comment),this.leading.splice(h,1),this.trailing.splice(h,1))}k.length&&(n.innerComments=k)}};w.prototype.findTrailingComments=function(n){var l=[];if(0<this.trailing.length){for(var k=this.trailing.length-1;0<=k;--k){var h=this.trailing[k];h.start>=n.end.offset&&l.unshift(h.comment)}this.trailing.length=0;return l}(k=this.stack[this.stack.length-1])&&k.node.trailingComments&&(h=k.node.trailingComments[0])&&
	h.range[0]>=n.end.offset&&(l=k.node.trailingComments,delete k.node.trailingComments);return l};w.prototype.findLeadingComments=function(n){for(var l=[],k;0<this.stack.length;){var h=this.stack[this.stack.length-1];if(h&&h.start>=n.start.offset)k=h.node,this.stack.pop();else break}if(k){for(var f=(k.leadingComments?k.leadingComments.length:0)-1;0<=f;--f)h=k.leadingComments[f],h.range[1]<=n.start.offset&&(l.unshift(h),k.leadingComments.splice(f,1));k.leadingComments&&0===k.leadingComments.length&&delete k.leadingComments;
	return l}for(f=this.leading.length-1;0<=f;--f)h=this.leading[f],h.start<=n.start.offset&&(l.unshift(h.comment),this.leading.splice(f,1));return l};w.prototype.visitNode=function(n,l){if(!(n.type===b.Syntax.Program&&0<n.body.length)){this.insertInnerComments(n,l);var k=this.findTrailingComments(l),h=this.findLeadingComments(l);0<h.length&&(n.leadingComments=h);0<k.length&&(n.trailingComments=k);this.stack.push({node:n,start:l.start.offset})}};w.prototype.visitComment=function(n,l){var k="L"===n.type[0]?
	"Line":"Block",h={type:k,value:n.value};n.range&&(h.range=n.range);n.loc&&(h.loc=n.loc);this.comments.push(h);this.attach&&(l={comment:{type:k,value:n.value,range:[l.start.offset,l.end.offset]},start:l.start.offset},n.loc&&(l.comment.loc=n.loc),n.type=k,this.leading.push(l),this.trailing.push(l))};w.prototype.visit=function(n,l){"LineComment"===n.type?this.visitComment(n,l):"BlockComment"===n.type?this.visitComment(n,l):this.attach&&this.visitNode(n,l)};return w}();y.CommentHandler=C})},"esri/arcade/lib/syntax":function(){define(["require",
	"exports"],function(C,y){Object.defineProperty(y,"__esModule",{value:!0});y.Syntax=void 0;y.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",
	ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",TemplateElement:"TemplateElement",
	TemplateLiteral:"TemplateLiteral",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement"}})},"esri/arcade/lib/parser":function(){define("require exports ./assert ./error-handler ./messages ./nodes ./scanner ./syntax ./token".split(" "),function(C,y,b,w,n,l,k,h,f){Object.defineProperty(y,"__esModule",{value:!0});y.Parser=void 0;C=function(){function d(a,c,e){void 0===c&&
	(c={});this.config={range:"boolean"===typeof c.range&&c.range,loc:"boolean"===typeof c.loc&&c.loc,source:null,tokens:"boolean"===typeof c.tokens&&c.tokens,comment:"boolean"===typeof c.comment&&c.comment,tolerant:"boolean"===typeof c.tolerant&&c.tolerant};this.config.loc&&c.source&&null!==c.source&&(this.config.source=String(c.source));this.delegate=e;this.errorHandler=new w.ErrorHandler;this.errorHandler.tolerant=this.config.tolerant;this.scanner=new k.Scanner(a,this.errorHandler);this.scanner.trackComment=
	this.config.comment;this.operatorPrecedence={")":0,";":0,",":0,"\x3d":0,"]":0,"||":1,"\x26\x26":2,"|":3,"^":4,"\x26":5,"\x3d\x3d":6,"!\x3d":6,"\x3d\x3d\x3d":6,"!\x3d\x3d":6,"\x3c":7,"\x3e":7,"\x3c\x3d":7,"\x3e\x3d":7,"\x3c\x3c":8,"\x3e\x3e":8,"\x3e\x3e\x3e":8,"+":9,"-":9,"*":11,"/":11,"%":11};this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0};this.hasLineTerminator=!1;this.context={isModule:!1,allowIn:!0,allowStrictDirective:!0,firstCoverInitializedNameError:null,
	isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1};this.tokens=[];this.startMarker={index:0,line:this.scanner.lineNumber,column:0};this.lastMarker={index:0,line:this.scanner.lineNumber,column:0};this.nextToken();this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}d.prototype.throwError=function(a){for(var c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];var q=c.slice();
	c=a.replace(/%(\d)/g,function(t,g){b.assert(g<q.length,"Message reference must be in range");return q[g]});throw this.errorHandler.createError(this.lastMarker.index,this.lastMarker.line,this.lastMarker.column+1,c);};d.prototype.tolerateError=function(a){for(var c=[],e=1;e<arguments.length;e++)c[e-1]=arguments[e];var q=c.slice();c=a.replace(/%(\d)/g,function(t,g){b.assert(g<q.length,"Message reference must be in range");return q[g]});this.errorHandler.tolerateError(this.lastMarker.index,this.scanner.lineNumber,
	this.lastMarker.column+1,c)};d.prototype.unexpectedTokenError=function(a,c){var e=c||n.Messages.UnexpectedToken;a?(c||(e=2===a.type?n.Messages.UnexpectedEOS:3===a.type?n.Messages.UnexpectedIdentifier:6===a.type?n.Messages.UnexpectedNumber:8===a.type?n.Messages.UnexpectedString:10===a.type?n.Messages.UnexpectedTemplate:n.Messages.UnexpectedToken,4===a.type&&(this.scanner.isFutureReservedWord(a.value)?e=n.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(a.value)&&
	(e=n.Messages.StrictReservedWord))),c=a.value):c="ILLEGAL";e=e.replace("%0",c);if(a&&"number"===typeof a.lineNumber){c=a.start;var q=a.lineNumber;a=a.start-(this.lastMarker.index-this.lastMarker.column)+1;return this.errorHandler.createError(c,q,a,e)}c=this.lastMarker.index;q=this.lastMarker.line;a=this.lastMarker.column+1;return this.errorHandler.createError(c,q,a,e)};d.prototype.throwUnexpectedToken=function(a,c){throw this.unexpectedTokenError(a,c);};d.prototype.tolerateUnexpectedToken=function(a,
	c){this.errorHandler.tolerate(this.unexpectedTokenError(a,c))};d.prototype.collectComments=function(){if(this.config.comment){var a=this.scanner.scanComments();if(0<a.length&&this.delegate)for(var c=0;c<a.length;++c){var e=a[c],q={type:e.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(e.slice[0],e.slice[1])};this.config.range&&(q.range=e.range);this.config.loc&&(q.loc=e.loc);this.delegate(q,{start:{line:e.loc.start.line,column:e.loc.start.column,offset:e.range[0]},end:{line:e.loc.end.line,
	column:e.loc.end.column,offset:e.range[1]}})}}else this.scanner.scanComments()};d.prototype.getTokenRaw=function(a){return this.scanner.source.slice(a.start,a.end)};d.prototype.convertToken=function(a){var c={type:f.TokenName[a.type],value:this.getTokenRaw(a)};this.config.range&&(c.range=[a.start,a.end]);this.config.loc&&(c.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}});9===a.type&&(c.regex=
	{pattern:a.pattern,flags:a.flags});return c};d.prototype.nextToken=function(){var a=this.lookahead;this.lastMarker.index=this.scanner.index;this.lastMarker.line=this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-this.scanner.lineStart;this.collectComments();this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var c=this.scanner.lex();this.hasLineTerminator=
	a.lineNumber!==c.lineNumber;c&&this.context.strict&&3===c.type&&this.scanner.isStrictModeReservedWord(c.value)&&(c.type=4);this.lookahead=c;this.config.tokens&&2!==c.type&&this.tokens.push(this.convertToken(c));return a};d.prototype.nextRegexToken=function(){this.collectComments();var a=this.scanner.scanRegExp();this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(a)));this.lookahead=a;this.nextToken();return a};d.prototype.createNode=function(){return{index:this.startMarker.index,
	line:this.startMarker.line,column:this.startMarker.column}};d.prototype.startNode=function(a,c){void 0===c&&(c=0);var e=a.start-a.lineStart,q=a.lineNumber;0>e&&(e+=c,q--);return{index:a.start,line:q,column:e}};d.prototype.finalize=function(a,c){this.config.range&&(c.range=[a.index,this.lastMarker.index]);this.config.loc&&(c.loc={start:{line:a.line,column:a.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(c.loc.source=this.config.source));this.delegate&&this.delegate(c,
	{start:{line:a.line,column:a.column,offset:a.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}});return c};d.prototype.expect=function(a){var c=this.nextToken();7===c.type&&c.value===a||this.throwUnexpectedToken(c)};d.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var a=this.lookahead;7===a.type&&","===a.value?this.nextToken():7===a.type&&";"===a.value?(this.nextToken(),this.tolerateUnexpectedToken(a)):this.tolerateUnexpectedToken(a,
	n.Messages.UnexpectedToken)}else this.expect(",")};d.prototype.expectKeyword=function(a){var c=this.nextToken();4===c.type&&c.value.toLowerCase()===a.toLowerCase()||this.throwUnexpectedToken(c)};d.prototype.match=function(a){return 7===this.lookahead.type&&this.lookahead.value===a};d.prototype.matchKeyword=function(a){return 4===this.lookahead.type&&this.lookahead.value.toLowerCase()===a.toLowerCase()};d.prototype.matchContextualKeyword=function(a){return 3===this.lookahead.type&&this.lookahead.value===
	a};d.prototype.matchAssign=function(){if(7!==this.lookahead.type)return!1;var a=this.lookahead.value;return"\x3d"===a||"*\x3d"===a||"**\x3d"===a||"/\x3d"===a||"%\x3d"===a||"+\x3d"===a||"-\x3d"===a||"\x3c\x3c\x3d"===a||"\x3e\x3e\x3d"===a||"\x3e\x3e\x3e\x3d"===a||"\x26\x3d"===a||"^\x3d"===a||"|\x3d"===a};d.prototype.isolateCoverGrammar=function(a){var c=this.context.isBindingElement,e=this.context.isAssignmentTarget,q=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0;this.context.isAssignmentTarget=
	!0;this.context.firstCoverInitializedNameError=null;a=a.call(this);null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError);this.context.isBindingElement=c;this.context.isAssignmentTarget=e;this.context.firstCoverInitializedNameError=q;return a};d.prototype.inheritCoverGrammar=function(a){var c=this.context.isBindingElement,e=this.context.isAssignmentTarget,q=this.context.firstCoverInitializedNameError;this.context.isBindingElement=
	!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=null;a=a.call(this);this.context.isBindingElement=this.context.isBindingElement&&c;this.context.isAssignmentTarget=this.context.isAssignmentTarget&&e;this.context.firstCoverInitializedNameError=q||this.context.firstCoverInitializedNameError;return a};d.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),
	this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)};d.prototype.parsePrimaryExpression=function(){var a=this.createNode();switch(this.lookahead.type){case 3:a=this.finalize(a,new l.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,n.Messages.StrictOctalLiteral);this.context.isAssignmentTarget=!1;this.context.isBindingElement=
	!1;var c=this.nextToken();var e=this.getTokenRaw(c);a=this.finalize(a,new l.Literal(c.value,e));break;case 1:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;c=this.nextToken();e=this.getTokenRaw(c);a=this.finalize(a,new l.Literal("true"===c.value.toLowerCase(),e));break;case 5:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;c=this.nextToken();e=this.getTokenRaw(c);a=this.finalize(a,new l.Literal(null,e));break;case 10:a=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case "(":this.context.isBindingElement=
	!1;a=this.inheritCoverGrammar(this.parseGroupExpression);break;case "[":a=this.inheritCoverGrammar(this.parseArrayInitializer);break;case "{":a=this.inheritCoverGrammar(this.parseObjectInitializer);break;default:a=this.throwUnexpectedToken(this.nextToken())}break;case 4:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;a=this.matchKeyword("function")?this.parseFunctionExpression():this.throwUnexpectedToken(this.nextToken());break;default:a=this.throwUnexpectedToken(this.nextToken())}return a};
	d.prototype.parseArrayInitializer=function(){var a=this.createNode(),c=[];for(this.expect("[");!this.match("]");)this.match(",")?(this.nextToken(),c.push(null)):(c.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(","));this.expect("]");return this.finalize(a,new l.ArrayExpression(c))};d.prototype.parsePropertyMethod=function(a){this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;var c=this.context.strict,e=this.context.allowStrictDirective;
	this.context.allowStrictDirective=a.simple;var q=this.isolateCoverGrammar(this.parseFunctionSourceElements);this.context.strict&&a.firstRestricted&&this.tolerateUnexpectedToken(a.firstRestricted,a.message);this.context.strict&&a.stricted&&this.tolerateUnexpectedToken(a.stricted,a.message);this.context.strict=c;this.context.allowStrictDirective=e;return q};d.prototype.parsePropertyMethodFunction=function(){var a=this.createNode(),c=this.parseFormalParameters(),e=this.parsePropertyMethod(c);return this.finalize(a,
	new l.FunctionExpression(null,c.params,e,!1))};d.prototype.parseObjectPropertyKey=function(){var a=this.createNode(),c=this.nextToken();switch(c.type){case 8:case 6:this.context.strict&&c.octal&&this.tolerateUnexpectedToken(c,n.Messages.StrictOctalLiteral);var e=this.getTokenRaw(c);a=this.finalize(a,new l.Literal(c.value,e));break;case 3:case 1:case 5:case 4:a=this.finalize(a,new l.Identifier(c.value));break;case 7:"["===c.value?(a=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):
	a=this.throwUnexpectedToken(c);break;default:a=this.throwUnexpectedToken(c)}return a};d.prototype.isPropertyKey=function(a,c){return a.type===h.Syntax.Identifier&&a.name===c||a.type===h.Syntax.Literal&&a.value===c};d.prototype.parseObjectProperty=function(a){var c=this.createNode(),e=this.lookahead,q=null,t=null,g=!1,p=!1,x=!1,u=!1;if(3===e.type){var A=e.value;this.nextToken();g=this.match("[");q=(u=!this.hasLineTerminator&&"async"===A&&!this.match(":")&&!this.match("(")&&!this.match("*")&&!this.match(","))?
	this.parseObjectPropertyKey():this.finalize(c,new l.Identifier(A))}else this.match("*")?this.nextToken():(g=this.match("["),q=this.parseObjectPropertyKey());q||this.throwUnexpectedToken(this.lookahead);this.match(":")&&!u?(!g&&this.isPropertyKey(q,"__proto__")&&(a.value&&this.tolerateError(n.Messages.DuplicateProtoProperty),a.value=!0),this.nextToken(),t=this.inheritCoverGrammar(this.parseAssignmentExpression)):this.match("(")?(t=this.parsePropertyMethodFunction(),p=!0):3===e.type?(A=this.finalize(c,
	new l.Identifier(e.value)),this.match("\x3d")?(this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),x=!0,a=this.isolateCoverGrammar(this.parseAssignmentExpression),t=this.finalize(c,new l.AssignmentPattern(A,a))):(x=!0,t=A)):this.throwUnexpectedToken(this.nextToken());return this.finalize(c,new l.Property("init",q,g,t,p,x))};d.prototype.parseObjectInitializer=function(){var a=this.createNode();this.expect("{");for(var c=[],e={value:!1};!this.match("}");)c.push(this.parseObjectProperty(e)),
	this.match("}")||this.expectCommaSeparator();this.expect("}");return this.finalize(a,new l.ObjectExpression(c))};d.prototype.parseTemplateHead=function(){b.assert(this.lookahead.head,"Template literal must start with a template head");var a=this.createNode(),c=this.nextToken();return this.finalize(a,new l.TemplateElement({raw:c.value,cooked:c.cooked},c.tail))};d.prototype.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var a=this.createNode(),c=this.nextToken();
	return this.finalize(a,new l.TemplateElement({raw:c.value,cooked:c.cooked},c.tail))};d.prototype.parseTemplateLiteral=function(){var a=this.createNode(),c=[],e=[],q=this.parseTemplateHead();for(e.push(q);!q.tail;)c.push(this.parseExpression()),q=this.parseTemplateElement(),e.push(q);return this.finalize(a,new l.TemplateLiteral(e,c))};d.prototype.reinterpretExpressionAsPattern=function(a){switch(a.type){case h.Syntax.ArrayExpression:a.type=h.Syntax.ArrayPattern;for(var c=0;c<a.elements.length;c++)null!==
	a.elements[c]&&this.reinterpretExpressionAsPattern(a.elements[c]);break;case h.Syntax.ObjectExpression:a.type=h.Syntax.ObjectPattern;for(c=0;c<a.properties.length;c++)this.reinterpretExpressionAsPattern(a.properties[c].value);break;case h.Syntax.AssignmentExpression:a.type=h.Syntax.AssignmentPattern,delete a.operator,this.reinterpretExpressionAsPattern(a.left)}};d.prototype.parseGroupExpression=function(){this.expect("(");if(this.match(")")){this.nextToken();this.match("\x3d\x3e")||this.expect("\x3d\x3e");
	var a={type:"ArrowParameterPlaceHolder",params:[],async:!1}}else{var c=this.lookahead,e=!1;this.context.isBindingElement=!0;a=this.inheritCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var q=[];this.context.isAssignmentTarget=!1;for(q.push(a);2!==this.lookahead.type&&this.match(",");){this.nextToken();if(this.match(")")){this.nextToken();for(e=0;e<q.length;e++)this.reinterpretExpressionAsPattern(q[e]);e=!0;a={type:"ArrowParameterPlaceHolder",params:q,async:!1}}else q.push(this.inheritCoverGrammar(this.parseAssignmentExpression));
	if(e)break}e||(a=this.finalize(this.startNode(c),new l.SequenceExpression(q)))}if(!e){this.expect(")");if(this.match("\x3d\x3e")&&(a.type===h.Syntax.Identifier&&"yield"===a.name&&(e=!0,a={type:"ArrowParameterPlaceHolder",params:[a],async:!1}),!e)){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead);if(a.type===h.Syntax.SequenceExpression)for(e=0;e<a.expressions.length;e++)this.reinterpretExpressionAsPattern(a.expressions[e]);else this.reinterpretExpressionAsPattern(a);a={type:"ArrowParameterPlaceHolder",
	params:a.type===h.Syntax.SequenceExpression?a.expressions:[a],async:!1}}this.context.isBindingElement=!1}}return a};d.prototype.parseArguments=function(){this.expect("(");var a=[];if(!this.match(")"))for(;;){var c=this.isolateCoverGrammar(this.parseAssignmentExpression);a.push(c);if(this.match(")"))break;this.expectCommaSeparator();if(this.match(")"))break}this.expect(")");return a};d.prototype.isIdentifierName=function(a){return 3===a.type||4===a.type||1===a.type||5===a.type};d.prototype.parseIdentifierName=
	function(){var a=this.createNode(),c=this.nextToken();this.isIdentifierName(c)||this.throwUnexpectedToken(c);return this.finalize(a,new l.Identifier(c.value))};d.prototype.parseLeftHandSideExpressionAllowCall=function(){var a=this.lookahead,c=this.context.allowIn;this.context.allowIn=!0;var e;for(e=this.inheritCoverGrammar(this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1;this.context.isAssignmentTarget=!0;this.expect(".");var q=this.parseIdentifierName();e=this.finalize(this.startNode(a),
	new l.StaticMemberExpression(e,q))}else if(this.match("("))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1,q=this.parseArguments(),e=this.finalize(this.startNode(a),new l.CallExpression(e,q));else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),q=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),e=this.finalize(this.startNode(a),new l.ComputedMemberExpression(e,q));else break;this.context.allowIn=c;return e};
	d.prototype.parseLeftHandSideExpression=function(){b.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var a=this.startNode(this.lookahead),c=this.inheritCoverGrammar(this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1;this.context.isAssignmentTarget=!0;this.expect("[");var e=this.isolateCoverGrammar(this.parseExpression);this.expect("]");c=this.finalize(a,new l.ComputedMemberExpression(c,e))}else if(this.match("."))this.context.isBindingElement=
	!1,this.context.isAssignmentTarget=!0,this.expect("."),e=this.parseIdentifierName(),c=this.finalize(a,new l.StaticMemberExpression(c,e));else break;return c};d.prototype.parseUpdateExpression=function(){var a=this.lookahead;if(this.match("++")||this.match("--")){a=this.startNode(a);var c=this.nextToken();var e=this.inheritCoverGrammar(this.parseUnaryExpression);this.context.strict&&e.type===h.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(n.Messages.StrictLHSPrefix);
	this.context.isAssignmentTarget||this.tolerateError(n.Messages.InvalidLHSInAssignment);e=this.finalize(a,new l.UpdateExpression(c.value,e,!0));this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}else e=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),this.hasLineTerminator||7!==this.lookahead.type||!this.match("++")&&!this.match("--")||(this.context.strict&&e.type===h.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(n.Messages.StrictLHSPostfix),
	this.context.isAssignmentTarget||this.tolerateError(n.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,c=this.nextToken().value,e=this.finalize(this.startNode(a),new l.UpdateExpression(c,e,!1)));return e};d.prototype.parseUnaryExpression=function(){if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var a=this.startNode(this.lookahead),c=this.nextToken();
	var e=this.inheritCoverGrammar(this.parseUnaryExpression);e=this.finalize(a,new l.UnaryExpression(c.value,e));this.context.strict&&"delete"===e.operator&&e.argument.type===h.Syntax.Identifier&&this.tolerateError(n.Messages.StrictDelete);this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}else e=this.parseUpdateExpression();return e};d.prototype.parseExponentiationExpression=function(){var a=this.lookahead,c=this.inheritCoverGrammar(this.parseUnaryExpression);if(c.type!==h.Syntax.UnaryExpression&&
	this.match("**")){this.nextToken();this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;var e=this.isolateCoverGrammar(this.parseExponentiationExpression);c=this.finalize(this.startNode(a),new l.BinaryExpression("**",c,e))}return c};d.prototype.binaryPrecedence=function(a){var c=a.value;return 7===a.type?this.operatorPrecedence[c]||0:4===a.type?"instanceof"===c||this.context.allowIn&&"in"===c?7:0:0};d.prototype.parseBinaryExpression=function(){var a=this.lookahead,c=this.inheritCoverGrammar(this.parseExponentiationExpression),
	e=this.lookahead,q=this.binaryPrecedence(e);if(0<q){this.nextToken();this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;a=[a,this.lookahead];var t=this.isolateCoverGrammar(this.parseExponentiationExpression);e=[c,e.value,t];for(var g=[q];;){q=this.binaryPrecedence(this.lookahead);if(0>=q)break;for(;2<e.length&&q<=g[g.length-1];){t=e.pop();var p=e.pop();g.pop();c=e.pop();a.pop();var x=a[a.length-1],u=this.startNode(x,x.lineStart);e.push(this.finalize(u,new l.BinaryExpression(p,c,t)))}e.push(this.nextToken().value);
	g.push(q);a.push(this.lookahead);e.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}q=e.length-1;c=e[q];for(p=a.pop();1<q;)x=a.pop(),u=this.startNode(x,p&&p.lineStart),p=e[q-1],c=this.finalize(u,new l.BinaryExpression(p,e[q-2],c)),q-=2,p=x}return c};d.prototype.parseConditionalExpression=function(){var a=this.lookahead,c=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var e=this.context.allowIn;this.context.allowIn=!0;var q=this.isolateCoverGrammar(this.parseAssignmentExpression);
	this.context.allowIn=e;this.expect(":");e=this.isolateCoverGrammar(this.parseAssignmentExpression);c=this.finalize(this.startNode(a),new l.ConditionalExpression(c,q,e));this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}return c};d.prototype.checkPatternParam=function(a,c){switch(c.type){case h.Syntax.Identifier:this.validateParam(a,c,c.name);break;case h.Syntax.AssignmentPattern:this.checkPatternParam(a,c.left);break;case h.Syntax.ArrayPattern:for(var e=0;e<c.elements.length;e++)null!==
	c.elements[e]&&this.checkPatternParam(a,c.elements[e]);break;case h.Syntax.ObjectPattern:for(e=0;e<c.properties.length;e++)this.checkPatternParam(a,c.properties[e].value)}a.simple=a.simple&&c instanceof l.Identifier};d.prototype.reinterpretAsCoverFormalsList=function(a){var c=[a],e={simple:!0,paramSet:{}};switch(a.type){case h.Syntax.Identifier:break;default:return null}for(a=0;a<c.length;++a){var q=c[a];this.checkPatternParam(e,q);c[a]=q}e.message===n.Messages.StrictParamDupe&&this.throwUnexpectedToken(this.context.strict?
	e.stricted:e.firstRestricted,e.message);return{simple:e.simple,params:c,stricted:e.stricted,firstRestricted:e.firstRestricted,message:e.message}};d.prototype.parseAssignmentExpression=function(){var a=this.lookahead,c=a;var e=this.parseConditionalExpression();if(this.matchAssign()){this.context.isAssignmentTarget||this.tolerateError(n.Messages.InvalidLHSInAssignment);if(this.context.strict&&e.type===h.Syntax.Identifier){var q=e;this.scanner.isRestrictedWord(q.name)&&this.tolerateUnexpectedToken(c,
	n.Messages.StrictLHSAssignment);this.scanner.isStrictModeReservedWord(q.name)&&this.tolerateUnexpectedToken(c,n.Messages.StrictReservedWord)}this.match("\x3d")?this.reinterpretExpressionAsPattern(e):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);c=this.nextToken();c=c.value;q=this.isolateCoverGrammar(this.parseAssignmentExpression);e=this.finalize(this.startNode(a),new l.AssignmentExpression(c,e,q));this.context.firstCoverInitializedNameError=null}return e};d.prototype.parseExpression=
	function(){var a=this.lookahead,c=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var e=[];for(e.push(c);2!==this.lookahead.type&&this.match(",");)this.nextToken(),e.push(this.isolateCoverGrammar(this.parseAssignmentExpression));c=this.finalize(this.startNode(a),new l.SequenceExpression(e))}return c};d.prototype.parseStatementListItem=function(){this.context.isAssignmentTarget=!0;this.context.isBindingElement=!0;if(4===this.lookahead.type)switch(this.lookahead.value){case "function":var a=
	this.parseFunctionDeclaration();break;default:a=this.parseStatement()}else a=this.parseStatement();return a};d.prototype.parseBlock=function(){var a=this.createNode();this.expect("{");for(var c=[];!this.match("}");)c.push(this.parseStatementListItem());this.expect("}");return this.finalize(a,new l.BlockStatement(c))};d.prototype.parseBlockOrObjectInitialiser=function(){var a=this.createNode();this.expect("{");if(3===this.lookahead.type||8===this.lookahead.type){var c=this.scanner.saveState();this.scanner.scanComments();
	var e=this.scanner.lex();this.scanner.restoreState(c);if(7===e.type&&":"===e.value){c=[];for(e={value:!1};!this.match("}");)c.push(this.parseObjectProperty(e)),this.match("}")||this.expectCommaSeparator();this.expect("}");return this.finalize(a,new l.ObjectExpression(c))}}for(c=[];!this.match("}");)c.push(this.parseStatementListItem());this.expect("}");return this.finalize(a,new l.BlockStatement(c))};d.prototype.parseLexicalBinding=function(a,c){var e=this.createNode();a=this.parsePattern([],a);this.context.strict&&
	a.type===h.Syntax.Identifier&&this.scanner.isRestrictedWord(a.name)&&this.tolerateError(n.Messages.StrictVarName);var q=null;if(!c.inFor&&a.type!==h.Syntax.Identifier||this.match("\x3d"))this.expect("\x3d"),q=this.isolateCoverGrammar(this.parseAssignmentExpression);return this.finalize(e,new l.VariableDeclarator(a,q))};d.prototype.parseBindingList=function(a,c){for(var e=[this.parseLexicalBinding(a,c)];this.match(",");)this.nextToken(),e.push(this.parseLexicalBinding(a,c));return e};d.prototype.parseArrayPattern=
	function(a,c){var e=this.createNode();this.expect("[");for(var q=[];!this.match("]");)this.match(",")?(this.nextToken(),q.push(null)):(q.push(this.parsePatternWithDefault(a,c)),this.match("]")||this.expect(","));this.expect("]");return this.finalize(e,new l.ArrayPattern(q))};d.prototype.parsePropertyPattern=function(a,c){var e=this.createNode(),q=!1,t=!1;if(3===this.lookahead.type){var g=this.lookahead;var p=this.parseVariableIdentifier();var x=this.finalize(e,new l.Identifier(g.value));this.match("\x3d")?
	(a.push(g),t=!0,this.nextToken(),a=this.parseAssignmentExpression(),g=this.finalize(this.startNode(g),new l.AssignmentPattern(x,a))):this.match(":")?(this.expect(":"),g=this.parsePatternWithDefault(a,c)):(a.push(g),t=!0,g=x)}else q=this.match("["),p=this.parseObjectPropertyKey(),this.expect(":"),g=this.parsePatternWithDefault(a,c);return this.finalize(e,new l.Property("init",p,q,g,!1,t))};d.prototype.parseObjectPattern=function(a,c){var e=this.createNode(),q=[];for(this.expect("{");!this.match("}");)q.push(this.parsePropertyPattern(a,
	c)),this.match("}")||this.expect(",");this.expect("}");return this.finalize(e,new l.ObjectPattern(q))};d.prototype.parsePattern=function(a,c){this.match("[")?a=this.parseArrayPattern(a,c):this.match("{")?a=this.parseObjectPattern(a,c):(!this.matchKeyword("let")||"const"!==c&&"let"!==c||this.tolerateUnexpectedToken(this.lookahead,n.Messages.LetInLexicalBinding),a.push(this.lookahead),a=this.parseVariableIdentifier(c));return a};d.prototype.parsePatternWithDefault=function(a,c){var e=this.lookahead;
	a=this.parsePattern(a,c);this.match("\x3d")&&(this.nextToken(),c=this.isolateCoverGrammar(this.parseAssignmentExpression),a=this.finalize(this.startNode(e),new l.AssignmentPattern(a,c)));return a};d.prototype.parseVariableIdentifier=function(a){var c=this.createNode(),e=this.nextToken();3!==e.type&&(this.context.strict&&4===e.type&&this.scanner.isStrictModeReservedWord(e.value)?this.tolerateUnexpectedToken(e,n.Messages.StrictReservedWord):(this.context.strict||"let"!==e.value||"var"!==a)&&this.throwUnexpectedToken(e));
	return this.finalize(c,new l.Identifier(e.value))};d.prototype.parseVariableDeclaration=function(a){var c=this.createNode(),e=this.parsePattern([],"var");this.context.strict&&e.type===h.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(n.Messages.StrictVarName);var q=null;this.match("\x3d")?(this.nextToken(),q=this.isolateCoverGrammar(this.parseAssignmentExpression)):e.type===h.Syntax.Identifier||a.inFor||this.expect("\x3d");return this.finalize(c,new l.VariableDeclarator(e,
	q))};d.prototype.parseVariableDeclarationList=function(a){a={inFor:a.inFor};var c=[];for(c.push(this.parseVariableDeclaration(a));this.match(",");)this.nextToken(),c.push(this.parseVariableDeclaration(a));return c};d.prototype.parseVariableStatement=function(){var a=this.createNode();this.expectKeyword("var");var c=this.parseVariableDeclarationList({inFor:!1});this.consumeSemicolon();return this.finalize(a,new l.VariableDeclaration(c,"var"))};d.prototype.parseEmptyStatement=function(){var a=this.createNode();
	this.expect(";");return this.finalize(a,new l.EmptyStatement)};d.prototype.parseExpressionStatement=function(){var a=this.createNode(),c=this.parseExpression();this.consumeSemicolon();return this.finalize(a,new l.ExpressionStatement(c))};d.prototype.parseIfClause=function(){this.context.strict&&this.matchKeyword("function")&&this.tolerateError(n.Messages.StrictFunction);return this.parseStatement(!0)};d.prototype.parseIfStatement=function(){var a=this.createNode(),c=null;this.expectKeyword("if");
	this.expect("(");var e=this.parseExpression();if(!this.match(")")&&this.config.tolerant){this.tolerateUnexpectedToken(this.nextToken());var q=this.finalize(this.createNode(),new l.EmptyStatement)}else this.expect(")"),q=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),c=this.parseIfClause());return this.finalize(a,new l.IfStatement(e,q,c))};d.prototype.parseForStatement=function(){var a=null,c=null,e=null,q=this.createNode();this.expectKeyword("for");this.expect("(");if(this.match(";"))this.nextToken();
	else if(this.matchKeyword("var")){a=this.createNode();this.nextToken();var t=this.context.allowIn;this.context.allowIn=!1;var g=this.parseVariableDeclarationList({inFor:!0});this.context.allowIn=t;if(1===g.length&&this.matchKeyword("in")){var p=g[0];p.init&&(p.id.type===h.Syntax.ArrayPattern||p.id.type===h.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(n.Messages.ForInOfLoopInitializer,"for-in");a=this.finalize(a,new l.VariableDeclaration(g,"var"));this.nextToken();p=a;var x=this.parseExpression();
	a=null}else 1===g.length&&null===g[0].init&&this.matchContextualKeyword("of")?(a=this.finalize(a,new l.VariableDeclaration(g,"var")),this.nextToken(),p=a,x=this.parseAssignmentExpression(),a=null):(a=this.finalize(a,new l.VariableDeclaration(g,"var")),this.expect(";"))}else{g=this.lookahead;var u=this.context.isBindingElement,A=this.context.isAssignmentTarget,m=this.context.firstCoverInitializedNameError;t=this.context.allowIn;this.context.allowIn=!1;a=this.inheritCoverGrammar(this.parseAssignmentExpression);
	this.context.allowIn=t;if(this.matchKeyword("in"))this.context.isAssignmentTarget&&a.type!==h.Syntax.AssignmentExpression||this.tolerateError(n.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(a),p=a,x=this.parseExpression(),a=null;else{this.context.isBindingElement=u;this.context.isAssignmentTarget=A;this.context.firstCoverInitializedNameError=m;if(this.match(",")){for(a=[a];this.match(",");)this.nextToken(),a.push(this.isolateCoverGrammar(this.parseAssignmentExpression));
	a=this.finalize(this.startNode(g),new l.SequenceExpression(a))}this.expect(";")}}"undefined"===typeof p&&(this.match(";")||(c=this.isolateCoverGrammar(this.parseExpression)),this.expect(";"),this.match(")")||(e=this.isolateCoverGrammar(this.parseExpression)));!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),t=this.finalize(this.createNode(),new l.EmptyStatement)):(this.expect(")"),g=this.context.inIteration,this.context.inIteration=!0,t=this.isolateCoverGrammar(this.parseStatementBlockAllowed),
	this.context.inIteration=g);return"undefined"===typeof p?this.finalize(q,new l.ForStatement(a,c,e,t)):this.finalize(q,new l.ForInStatement(p,x,t))};d.prototype.parseContinueStatement=function(){var a=this.createNode();this.expectKeyword("continue");var c=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var e=this.parseVariableIdentifier();c=e;Object.prototype.hasOwnProperty.call(this.context.labelSet,"$"+e.name)||this.throwError(n.Messages.UnknownLabel,e.name)}this.consumeSemicolon();null!==
	c||this.context.inIteration||this.throwError(n.Messages.IllegalContinue);return this.finalize(a,new l.ContinueStatement(c))};d.prototype.parseBreakStatement=function(){var a=this.createNode();this.expectKeyword("break");var c=null;3!==this.lookahead.type||this.hasLineTerminator||(c=this.parseVariableIdentifier(),Object.prototype.hasOwnProperty.call(this.context.labelSet,"$"+c.name)||this.throwError(n.Messages.UnknownLabel,c.name));this.consumeSemicolon();null!==c||this.context.inIteration||this.context.inSwitch||
	this.throwError(n.Messages.IllegalBreak);return this.finalize(a,new l.BreakStatement(c))};d.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(n.Messages.IllegalReturn);var a=this.createNode();this.expectKeyword("return");var c=(this.match(";")||this.match("}")||this.hasLineTerminator||2===this.lookahead.type)&&8!==this.lookahead.type&&10!==this.lookahead.type?null:this.parseExpression();this.consumeSemicolon();return this.finalize(a,new l.ReturnStatement(c))};
	d.prototype.parseLabelledStatement=function(){var a=this.createNode(),c=this.parseExpression();this.consumeSemicolon();c=new l.ExpressionStatement(c);return this.finalize(a,c)};d.prototype.parseStatementBlockAllowed=function(){return this.parseStatement(!0)};d.prototype.parseStatement=function(a){void 0===a&&(a=!1);switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:a=this.parseExpressionStatement();break;case 7:var c=this.lookahead.value;a="{"===c?a?this.parseBlockOrObjectInitialiser():
	this.parseObjectInitializer():"("===c?this.parseExpressionStatement():";"===c?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:a=this.parseLabelledStatement();break;case 4:switch(this.lookahead.value.toLowerCase()){case "break":a=this.parseBreakStatement();break;case "continue":a=this.parseContinueStatement();break;case "for":a=this.parseForStatement();break;case "function":a=this.parseFunctionDeclaration();break;case "if":a=this.parseIfStatement();break;case "return":a=this.parseReturnStatement();
	break;case "var":a=this.parseVariableStatement();break;default:a=this.parseExpressionStatement()}break;default:a=this.throwUnexpectedToken(this.lookahead)}return a};d.prototype.parseFunctionSourceElements=function(){var a=this.createNode();this.expect("{");var c=[],e=this.context.labelSet,q=this.context.inIteration,t=this.context.inSwitch,g=this.context.inFunctionBody;this.context.labelSet={};this.context.inIteration=!1;this.context.inSwitch=!1;for(this.context.inFunctionBody=!0;2!==this.lookahead.type&&
	!this.match("}");)c.push(this.parseStatementListItem());this.expect("}");this.context.labelSet=e;this.context.inIteration=q;this.context.inSwitch=t;this.context.inFunctionBody=g;return this.finalize(a,new l.BlockStatement(c))};d.prototype.validateParam=function(a,c,e){var q="$"+e;this.context.strict?(this.scanner.isRestrictedWord(e)&&(a.stricted=c,a.message=n.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(a.paramSet,q)&&(a.stricted=c,a.message=n.Messages.StrictParamDupe)):a.firstRestricted||
	(this.scanner.isRestrictedWord(e)?(a.firstRestricted=c,a.message=n.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(e)?(a.firstRestricted=c,a.message=n.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(a.paramSet,q)&&(a.stricted=c,a.message=n.Messages.StrictParamDupe));"function"===typeof Object.defineProperty?Object.defineProperty(a.paramSet,q,{value:!0,enumerable:!0,writable:!0,configurable:!0}):a.paramSet[q]=!0};d.prototype.parseFormalParameter=function(a){for(var c=
	[],e=this.parsePatternWithDefault(c),q=0;q<c.length;q++)this.validateParam(a,c[q],c[q].value);a.simple=a.simple&&e instanceof l.Identifier;a.params.push(e)};d.prototype.parseFormalParameters=function(a){a={simple:!0,params:[],firstRestricted:a};this.expect("(");if(!this.match(")"))for(a.paramSet={};2!==this.lookahead.type;){this.parseFormalParameter(a);if(this.match(")"))break;this.expect(",");if(this.match(")"))break}this.expect(")");return{simple:a.simple,params:a.params,stricted:a.stricted,firstRestricted:a.firstRestricted,
	message:a.message}};d.prototype.parseFunctionDeclaration=function(a){var c=this.createNode();this.expectKeyword("function");var e=null,q=null;if(!a||!this.match("("))if(a=this.lookahead,e=this.parseVariableIdentifier(),this.context.strict)this.scanner.isRestrictedWord(a.value)&&this.tolerateUnexpectedToken(a,n.Messages.StrictFunctionName);else if(this.scanner.isRestrictedWord(a.value)){q=a;var t=n.Messages.StrictFunctionName}else this.scanner.isStrictModeReservedWord(a.value)&&(q=a,t=n.Messages.StrictReservedWord);
	var g=this.parseFormalParameters(q);a=g.params;var p=g.stricted;q=g.firstRestricted;g.message&&(t=g.message);var x=this.context.strict,u=this.context.allowStrictDirective;this.context.allowStrictDirective=g.simple;g=this.parseFunctionSourceElements();this.context.strict&&q&&this.throwUnexpectedToken(q,t);this.context.strict&&p&&this.tolerateUnexpectedToken(p,t);this.context.strict=x;this.context.allowStrictDirective=u;return this.finalize(c,new l.FunctionDeclaration(e,a,g,!1))};d.prototype.parseFunctionExpression=
	function(){var a=this.createNode();this.expectKeyword("function");var c=null;if(!this.match("(")){var e=this.lookahead;c=this.parseVariableIdentifier();if(this.context.strict)this.scanner.isRestrictedWord(e.value)&&this.tolerateUnexpectedToken(e,n.Messages.StrictFunctionName);else if(this.scanner.isRestrictedWord(e.value)){var q=e;var t=n.Messages.StrictFunctionName}else this.scanner.isStrictModeReservedWord(e.value)&&(q=e,t=n.Messages.StrictReservedWord)}var g=this.parseFormalParameters(q);e=g.params;
	var p=g.stricted;q=g.firstRestricted;g.message&&(t=g.message);var x=this.context.strict,u=this.context.allowStrictDirective;this.context.allowStrictDirective=g.simple;g=this.parseFunctionSourceElements();this.context.strict&&q&&this.throwUnexpectedToken(q,t);this.context.strict&&p&&this.tolerateUnexpectedToken(p,t);this.context.strict=x;this.context.allowStrictDirective=u;return this.finalize(a,new l.FunctionExpression(c,e,g,!1))};d.prototype.qualifiedPropertyName=function(a){switch(a.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;
	case 7:return"["===a.value}return!1};d.prototype.isStartOfExpression=function(){var a=!0,c=this.lookahead.value;switch(this.lookahead.type){case 7:a="["===c||"("===c||"{"===c||"+"===c||"-"===c||"!"===c||"~"===c||"++"===c||"--"===c||"/"===c||"/\x3d"===c;break;case 4:a="class"===c||"delete"===c||"function"===c||"let"===c||"new"===c||"super"===c||"this"===c||"typeof"===c||"void"===c||"yield"===c}return a};d.prototype.parseScript=function(){for(var a=this.createNode(),c=[];2!==this.lookahead.type;)c.push(this.parseStatementListItem());
	return this.finalize(a,new l.Script(c))};return d}();y.Parser=C})},"esri/arcade/lib/assert":function(){define(["require","exports"],function(C,y){Object.defineProperty(y,"__esModule",{value:!0});y.assert=void 0;y.assert=function(b,w){if(!b)throw Error("ASSERT: "+w);}})},"esri/arcade/lib/error-handler":function(){define(["require","exports"],function(C,y){Object.defineProperty(y,"__esModule",{value:!0});y.ErrorHandler=void 0;C=function(){function b(){this.errors=[];this.tolerant=!1}b.prototype.recordError=
	function(w){this.errors.push(w)};b.prototype.tolerate=function(w){if(this.tolerant)this.recordError(w);else throw w;};b.prototype.constructError=function(w,n){w=Error(w);try{throw w;}catch(l){Object.create&&Object.defineProperty&&(w=Object.create(l),Object.defineProperty(w,"column",{value:n}))}return w};b.prototype.createError=function(w,n,l,k){l=this.constructError("Line "+n+": "+k,l);l.index=w;l.lineNumber=n;l.description=k;return l};b.prototype.throwError=function(w,n,l,k){throw this.createError(w,
	n,l,k);};b.prototype.tolerateError=function(w,n,l,k){w=this.createError(w,n,l,k);if(this.tolerant)this.recordError(w);else throw w;};return b}();y.ErrorHandler=C})},"esri/arcade/lib/messages":function(){define(["require","exports"],function(C,y){Object.defineProperty(y,"__esModule",{value:!0});y.Messages=void 0;y.Messages={BadImportCallArity:"Unexpected token",BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",
	ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token \x3d",DefaultRestProperty:"Unexpected token \x3d",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",
	GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",
	InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",
	NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",PropertyAfterRestProperty:"Unexpected token",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",
	StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",
	StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",
	UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}})},"esri/arcade/lib/nodes":function(){define(["require","exports","./syntax"],function(C,y,b){Object.defineProperty(y,"__esModule",{value:!0});y.VariableDeclarator=y.VariableDeclaration=y.UpdateExpression=y.UnaryExpression=y.TemplateLiteral=y.TemplateElement=y.StaticMemberExpression=y.SequenceExpression=y.Script=y.ReturnStatement=
	y.Property=y.ObjectPattern=y.ObjectExpression=y.Module=y.MethodDefinition=y.Literal=y.IfStatement=y.Identifier=y.FunctionExpression=y.FunctionDeclaration=y.ForStatement=y.ForInStatement=y.ExpressionStatement=y.EmptyStatement=y.ContinueStatement=y.ConditionalExpression=y.ComputedMemberExpression=y.CallExpression=y.BreakStatement=y.BlockStatement=y.BinaryExpression=y.AssignmentPattern=y.AssignmentExpression=y.ArrayPattern=y.ArrayExpression=void 0;C=function(){return function(w){this.type=b.Syntax.ArrayExpression;
	this.elements=w}}();y.ArrayExpression=C;C=function(){return function(w){this.type=b.Syntax.ArrayPattern;this.elements=w}}();y.ArrayPattern=C;C=function(){return function(w,n,l){this.type=b.Syntax.AssignmentExpression;this.operator=w;this.left=n;this.right=l}}();y.AssignmentExpression=C;C=function(){return function(w,n){this.type=b.Syntax.AssignmentPattern;this.left=w;this.right=n}}();y.AssignmentPattern=C;C=function(){return function(w,n,l){this.type="||"===w||"\x26\x26"===w?b.Syntax.LogicalExpression:
	b.Syntax.BinaryExpression;this.operator=w;this.left=n;this.right=l}}();y.BinaryExpression=C;C=function(){return function(w){this.type=b.Syntax.BlockStatement;this.body=w}}();y.BlockStatement=C;C=function(){return function(w){this.type=b.Syntax.BreakStatement;this.label=w}}();y.BreakStatement=C;C=function(){return function(w,n){this.type=b.Syntax.CallExpression;this.callee=w;this.arguments=n}}();y.CallExpression=C;C=function(){return function(w,n){this.type=b.Syntax.MemberExpression;this.computed=
	!0;this.object=w;this.property=n}}();y.ComputedMemberExpression=C;C=function(){return function(w,n,l){this.type=b.Syntax.ConditionalExpression;this.test=w;this.consequent=n;this.alternate=l}}();y.ConditionalExpression=C;C=function(){return function(w){this.type=b.Syntax.ContinueStatement;this.label=w}}();y.ContinueStatement=C;C=function(){return function(){this.type=b.Syntax.EmptyStatement}}();y.EmptyStatement=C;C=function(){return function(w){this.type=b.Syntax.ExpressionStatement;this.expression=
	w}}();y.ExpressionStatement=C;C=function(){return function(w,n,l){this.type=b.Syntax.ForInStatement;this.left=w;this.right=n;this.body=l;this.each=!1}}();y.ForInStatement=C;C=function(){return function(w,n,l,k){this.type=b.Syntax.ForStatement;this.init=w;this.test=n;this.update=l;this.body=k}}();y.ForStatement=C;C=function(){return function(w,n,l,k){this.type=b.Syntax.FunctionDeclaration;this.id=w;this.params=n;this.body=l;this.generator=k;this.async=this.expression=!1}}();y.FunctionDeclaration=C;
	C=function(){return function(w,n,l,k){this.type=b.Syntax.FunctionExpression;this.id=w;this.params=n;this.body=l;this.generator=k;this.async=this.expression=!1}}();y.FunctionExpression=C;C=function(){return function(w){this.type=b.Syntax.Identifier;this.name=w}}();y.Identifier=C;C=function(){return function(w,n,l){this.type=b.Syntax.IfStatement;this.test=w;this.consequent=n;this.alternate=l}}();y.IfStatement=C;C=function(){return function(w,n){this.type=b.Syntax.Literal;this.value=w;this.raw=n}}();
	y.Literal=C;C=function(){return function(w,n,l,k,h){this.type=b.Syntax.MethodDefinition;this.key=w;this.computed=n;this.value=l;this.kind=k;this.static=h}}();y.MethodDefinition=C;C=function(){return function(w){this.type=b.Syntax.Program;this.body=w;this.sourceType="module"}}();y.Module=C;C=function(){return function(w){this.type=b.Syntax.ObjectExpression;this.properties=w}}();y.ObjectExpression=C;C=function(){return function(w){this.type=b.Syntax.ObjectPattern;this.properties=w}}();y.ObjectPattern=
	C;C=function(){return function(w,n,l,k,h,f){this.type=b.Syntax.Property;this.key=n;this.computed=l;this.value=k;this.kind=w;this.method=h;this.shorthand=f}}();y.Property=C;C=function(){return function(w){this.type=b.Syntax.ReturnStatement;this.argument=w}}();y.ReturnStatement=C;C=function(){return function(w){this.type=b.Syntax.Program;this.body=w;this.sourceType="script"}}();y.Script=C;C=function(){return function(w){this.type=b.Syntax.SequenceExpression;this.expressions=w}}();y.SequenceExpression=
	C;C=function(){return function(w,n){this.type=b.Syntax.MemberExpression;this.computed=!1;this.object=w;this.property=n}}();y.StaticMemberExpression=C;C=function(){return function(w,n){this.type=b.Syntax.TemplateElement;this.value=w;this.tail=n}}();y.TemplateElement=C;C=function(){return function(w,n){this.type=b.Syntax.TemplateLiteral;this.quasis=w;this.expressions=n}}();y.TemplateLiteral=C;C=function(){return function(w,n){this.type=b.Syntax.UnaryExpression;this.operator=w;this.argument=n;this.prefix=
	!0}}();y.UnaryExpression=C;C=function(){return function(w,n,l){this.type=b.Syntax.UpdateExpression;this.operator=w;this.argument=n;this.prefix=l}}();y.UpdateExpression=C;C=function(){return function(w,n){this.type=b.Syntax.VariableDeclaration;this.declarations=w;this.kind=n}}();y.VariableDeclaration=C;C=function(){return function(w,n){this.type=b.Syntax.VariableDeclarator;this.id=w;this.init=n}}();y.VariableDeclarator=C})},"esri/arcade/lib/scanner":function(){define(["require","exports","./assert",
	"./character","./messages"],function(C,y,b,w,n){Object.defineProperty(y,"__esModule",{value:!0});y.Scanner=void 0;C=function(){function l(k,h){this.source=k;this.errorHandler=h;this.isModule=this.trackComment=!1;this.length=k.length;this.index=0;this.lineNumber=0<k.length?1:0;this.lineStart=0;this.curlyStack=[]}l.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,curlyStack:this.curlyStack.slice()}};l.prototype.restoreState=function(k){this.index=
	k.index;this.lineNumber=k.lineNumber;this.lineStart=k.lineStart;this.curlyStack=k.curlyStack};l.prototype.eof=function(){return this.index>=this.length};l.prototype.throwUnexpectedToken=function(k){void 0===k&&(k=n.Messages.UnexpectedTokenIllegal);return this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,k)};l.prototype.tolerateUnexpectedToken=function(k){void 0===k&&(k=n.Messages.UnexpectedTokenIllegal);this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-
	this.lineStart+1,k)};l.prototype.skipSingleLineComment=function(k){var h=[];if(this.trackComment){h=[];var f=this.index-k;var d={start:{line:this.lineNumber,column:this.index-this.lineStart-k},end:{}}}for(;!this.eof();){var a=this.source.charCodeAt(this.index);++this.index;if(w.Character.isLineTerminator(a))return this.trackComment&&(d.end={line:this.lineNumber,column:this.index-this.lineStart-1},k={multiLine:!1,slice:[f+k,this.index-1],range:[f,this.index-1],loc:d},h.push(k)),13===a&&10===this.source.charCodeAt(this.index)&&
	++this.index,++this.lineNumber,this.lineStart=this.index,h}this.trackComment&&(d.end={line:this.lineNumber,column:this.index-this.lineStart},k={multiLine:!1,slice:[f+k,this.index],range:[f,this.index],loc:d},h.push(k));return h};l.prototype.skipMultiLineComment=function(){var k=[];if(this.trackComment){k=[];var h=this.index-2;var f={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}}}for(;!this.eof();){var d=this.source.charCodeAt(this.index);if(w.Character.isLineTerminator(d))13===
	d&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else{if(42===d&&47===this.source.charCodeAt(this.index+1))return this.index+=2,this.trackComment&&(f.end={line:this.lineNumber,column:this.index-this.lineStart},h={multiLine:!0,slice:[h+2,this.index-2],range:[h,this.index],loc:f},k.push(h)),k;++this.index}}this.trackComment&&(f.end={line:this.lineNumber,column:this.index-this.lineStart},h={multiLine:!0,slice:[h+2,this.index],range:[h,
	this.index],loc:f},k.push(h));this.tolerateUnexpectedToken();return k};l.prototype.scanComments=function(){var k;this.trackComment&&(k=[]);for(var h=0===this.index;!this.eof();){var f=this.source.charCodeAt(this.index);if(w.Character.isWhiteSpace(f))++this.index;else if(w.Character.isLineTerminator(f))++this.index,13===f&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,h=!0;else if(47===f)if(f=this.source.charCodeAt(this.index+1),47===f)this.index+=
	2,f=this.skipSingleLineComment(2),this.trackComment&&(k=k.concat(f)),h=!0;else if(42===f)this.index+=2,f=this.skipMultiLineComment(),this.trackComment&&(k=k.concat(f));else break;else if(h&&45===f)if(45===this.source.charCodeAt(this.index+1)&&62===this.source.charCodeAt(this.index+2))this.index+=3,f=this.skipSingleLineComment(3),this.trackComment&&(k=k.concat(f));else break;else if(60!==f||this.isModule)break;else if("!--"===this.source.slice(this.index+1,this.index+4))this.index+=4,f=this.skipSingleLineComment(4),
	this.trackComment&&(k=k.concat(f));else break}return k};l.prototype.isFutureReservedWord=function(k){return!1};l.prototype.isStrictModeReservedWord=function(k){return!1};l.prototype.isRestrictedWord=function(k){return!1};l.prototype.isKeyword=function(k){k=k.toLowerCase();switch(k.length){case 2:return"if"===k||"in"===k;case 3:return"var"===k||"for"===k;case 4:return"else"===k;case 5:return"break"===k;case 6:return"return"===k;case 8:return"function"===k||"continue"===k;default:return!1}};l.prototype.codePointAt=
	function(k){var h=this.source.charCodeAt(k);55296<=h&&56319>=h&&(k=this.source.charCodeAt(k+1),56320<=k&&57343>=k&&(h=1024*(h-55296)+k-56320+65536));return h};l.prototype.scanHexEscape=function(k){k="u"===k?4:2;for(var h=0,f=0;f<k;++f)if(!this.eof()&&w.Character.isHexDigit(this.source.charCodeAt(this.index)))h=16*h+"0123456789abcdef".indexOf(this.source[this.index++].toLowerCase());else return null;return String.fromCharCode(h)};l.prototype.scanUnicodeCodePointEscape=function(){var k=this.source[this.index],
	h=0;for("}"===k&&this.throwUnexpectedToken();!this.eof();){k=this.source[this.index++];if(!w.Character.isHexDigit(k.charCodeAt(0)))break;h=16*h+"0123456789abcdef".indexOf(k.toLowerCase())}(1114111<h||"}"!==k)&&this.throwUnexpectedToken();return w.Character.fromCodePoint(h)};l.prototype.getIdentifier=function(){for(var k=this.index++;!this.eof();){var h=this.source.charCodeAt(this.index);if(92===h||55296<=h&&57343>h)return this.index=k,this.getComplexIdentifier();if(w.Character.isIdentifierPart(h))++this.index;
	else break}return this.source.slice(k,this.index)};l.prototype.getComplexIdentifier=function(){var k=this.codePointAt(this.index),h=w.Character.fromCodePoint(k);this.index+=h.length;if(92===k){117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken();++this.index;if("{"===this.source[this.index]){++this.index;var f=this.scanUnicodeCodePointEscape()}else f=this.scanHexEscape("u"),null!==f&&"\\"!==f&&w.Character.isIdentifierStart(f.charCodeAt(0))||this.throwUnexpectedToken();h=f}for(;!this.eof();){k=
	this.codePointAt(this.index);if(!w.Character.isIdentifierPart(k))break;f=w.Character.fromCodePoint(k);h+=f;this.index+=f.length;92===k&&(h=h.substr(0,h.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,f=this.scanUnicodeCodePointEscape()):(f=this.scanHexEscape("u"),null!==f&&"\\"!==f&&w.Character.isIdentifierPart(f.charCodeAt(0))||this.throwUnexpectedToken()),h+=f)}return h};l.prototype.octalToDecimal=function(k){var h=
	"0"!==k,f="01234567".indexOf(k);!this.eof()&&w.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(h=!0,f=8*f+"01234567".indexOf(this.source[this.index++]),0<="0123".indexOf(k)&&!this.eof()&&w.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(f=8*f+"01234567".indexOf(this.source[this.index++])));return{code:f,octal:h}};l.prototype.scanIdentifier=function(){var k=this.index,h=92===this.source.charCodeAt(k)?this.getComplexIdentifier():this.getIdentifier();var f=1===h.length?3:this.isKeyword(h)?
	4:"null"===h.toLowerCase()?5:"true"===h.toLowerCase()||"false"===h.toLowerCase()?1:3;if(3!==f&&k+h.length!==this.index){var d=this.index;this.index=k;this.tolerateUnexpectedToken(n.Messages.InvalidEscapedReservedWord);this.index=d}return{type:f,value:h,lineNumber:this.lineNumber,lineStart:this.lineStart,start:k,end:this.index}};l.prototype.scanPunctuator=function(){var k=this.index,h=this.source[this.index];switch(h){case "(":case "{":"{"===h&&this.curlyStack.push("{");++this.index;break;case ".":++this.index;
	"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,h="...");break;case "}":++this.index;this.curlyStack.pop();break;case ")":case ";":case ",":case "[":case "]":case ":":case "?":case "~":++this.index;break;default:h=this.source.substr(this.index,4),"\x3e\x3e\x3e\x3d"===h?this.index+=4:(h=h.substr(0,3),"\x3d\x3d\x3d"===h||"!\x3d\x3d"===h||"\x3e\x3e\x3e"===h||"\x3c\x3c\x3d"===h||"\x3e\x3e\x3d"===h||"**\x3d"===h?this.index+=3:(h=h.substr(0,2),"\x26\x26"===h||"||"===h||"\x3d\x3d"===
	h||"!\x3d"===h||"+\x3d"===h||"-\x3d"===h||"*\x3d"===h||"/\x3d"===h||"++"===h||"--"===h||"\x3c\x3c"===h||"\x3e\x3e"===h||"\x26\x3d"===h||"|\x3d"===h||"^\x3d"===h||"%\x3d"===h||"\x3c\x3d"===h||"\x3e\x3d"===h||"\x3d\x3e"===h||"**"===h?this.index+=2:(h=this.source[this.index],0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(h)&&++this.index)))}this.index===k&&this.throwUnexpectedToken();return{type:7,value:h,lineNumber:this.lineNumber,lineStart:this.lineStart,start:k,end:this.index}};l.prototype.scanHexLiteral=
	function(k){for(var h="";!this.eof()&&w.Character.isHexDigit(this.source.charCodeAt(this.index));)h+=this.source[this.index++];0===h.length&&this.throwUnexpectedToken();w.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:6,value:parseInt("0x"+h,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:k,end:this.index}};l.prototype.scanBinaryLiteral=function(k){for(var h="",f;!this.eof();){f=this.source[this.index];if("0"!==f&&"1"!==f)break;
	h+=this.source[this.index++]}0===h.length&&this.throwUnexpectedToken();this.eof()||(f=this.source.charCodeAt(this.index),(w.Character.isIdentifierStart(f)||w.Character.isDecimalDigit(f))&&this.throwUnexpectedToken());return{type:6,value:parseInt(h,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:k,end:this.index}};l.prototype.scanOctalLiteral=function(k,h){var f="",d=!1;w.Character.isOctalDigit(k.charCodeAt(0))?(d=!0,f="0"+this.source[this.index++]):++this.index;for(;!this.eof()&&w.Character.isOctalDigit(this.source.charCodeAt(this.index));)f+=
	this.source[this.index++];d||0!==f.length||this.throwUnexpectedToken();(w.Character.isIdentifierStart(this.source.charCodeAt(this.index))||w.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken();return{type:6,value:parseInt(f,8),octal:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:h,end:this.index}};l.prototype.scanNumericLiteral=function(){var k=this.index,h=this.source[k];b.assert(w.Character.isDecimalDigit(h.charCodeAt(0))||"."===h,"Numeric literal must start with a decimal digit or a decimal point");
	var f="";if("."!==h){f=this.source[this.index++];h=this.source[this.index];if("0"===f){if("x"===h||"X"===h)return++this.index,this.scanHexLiteral(k);if("b"===h||"B"===h)return++this.index,this.scanBinaryLiteral(k);if("o"===h||"O"===h)return this.scanOctalLiteral(h,k)}for(;w.Character.isDecimalDigit(this.source.charCodeAt(this.index));)f+=this.source[this.index++];h=this.source[this.index]}if("."===h){for(f+=this.source[this.index++];w.Character.isDecimalDigit(this.source.charCodeAt(this.index));)f+=
	this.source[this.index++];h=this.source[this.index]}if("e"===h||"E"===h){f+=this.source[this.index++];h=this.source[this.index];if("+"===h||"-"===h)f+=this.source[this.index++];if(w.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;w.Character.isDecimalDigit(this.source.charCodeAt(this.index));)f+=this.source[this.index++];else this.throwUnexpectedToken()}w.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:6,value:parseFloat(f),
	lineNumber:this.lineNumber,lineStart:this.lineStart,start:k,end:this.index}};l.prototype.scanStringLiteral=function(){var k=this.index,h=this.source[k];b.assert("'"===h||'"'===h,"String literal must starts with a quote");++this.index;for(var f=!1,d="";!this.eof();){var a=this.source[this.index++];if(a===h){h="";break}if("\\"===a)if((a=this.source[this.index++])&&w.Character.isLineTerminator(a.charCodeAt(0)))++this.lineNumber,"\r"===a&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;
	else switch(a){case "u":"{"===this.source[this.index]?(++this.index,d+=this.scanUnicodeCodePointEscape()):(a=this.scanHexEscape(a),null===a&&this.throwUnexpectedToken(),d+=a);break;case "x":a=this.scanHexEscape(a);null===a&&this.throwUnexpectedToken(n.Messages.InvalidHexEscapeSequence);d+=a;break;case "n":d+="\n";break;case "r":d+="\r";break;case "t":d+="\t";break;case "b":d+="\b";break;case "f":d+="\f";break;case "v":d+="\x0B";break;case "8":case "9":d+=a;this.tolerateUnexpectedToken();break;default:a&&
	w.Character.isOctalDigit(a.charCodeAt(0))?(a=this.octalToDecimal(a),f=a.octal||f,d+=String.fromCharCode(a.code)):d+=a}else if(w.Character.isLineTerminator(a.charCodeAt(0)))break;else d+=a}""!==h&&(this.index=k,this.throwUnexpectedToken());return{type:8,value:d,octal:f,lineNumber:this.lineNumber,lineStart:this.lineStart,start:k,end:this.index}};l.prototype.scanTemplate=function(){var k="",h=!1,f=this.index,d="`"===this.source[f],a=!1,c=2;for(++this.index;!this.eof();){var e=this.source[this.index++];
	if("`"===e){c=1;h=a=!0;break}if("$"===e){if("{"===this.source[this.index]){this.curlyStack.push("${");++this.index;h=!0;break}k+=e}else if("\\"===e)if(e=this.source[this.index++],w.Character.isLineTerminator(e.charCodeAt(0)))++this.lineNumber,"\r"===e&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(e){case "n":k+="\n";break;case "r":k+="\r";break;case "t":k+="\t";break;case "u":if("{"===this.source[this.index])++this.index,k+=this.scanUnicodeCodePointEscape();else{var q=
	this.index,t=this.scanHexEscape(e);null!==t?k+=t:(this.index=q,k+=e)}break;case "x":e=this.scanHexEscape(e);null===e&&this.throwUnexpectedToken(n.Messages.InvalidHexEscapeSequence);k+=e;break;case "b":k+="\b";break;case "f":k+="\f";break;case "v":k+="\v";break;default:"0"===e?(w.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(n.Messages.TemplateOctalLiteral),k+="\x00"):w.Character.isOctalDigit(e.charCodeAt(0))?this.throwUnexpectedToken(n.Messages.TemplateOctalLiteral):
	k+=e}else w.Character.isLineTerminator(e.charCodeAt(0))?(++this.lineNumber,"\r"===e&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,k+="\n"):k+=e}h||this.throwUnexpectedToken();d||this.curlyStack.pop();return{type:10,value:this.source.slice(f+1,this.index-c),cooked:k,head:d,tail:a,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}};l.prototype.testRegExp=function(k,h){var f=this,d=k;0<=h.indexOf("u")&&(d=d.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,
	function(a,c,e){a=parseInt(c||e,16);1114111<a&&f.throwUnexpectedToken(n.Messages.InvalidRegExp);return 65535>=a?String.fromCharCode(a):"\uffff"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"\uffff"));try{RegExp(d)}catch(a){this.throwUnexpectedToken(n.Messages.InvalidRegExp)}try{return new RegExp(k,h)}catch(a){return null}};l.prototype.scanRegExpBody=function(){var k=this.source[this.index];b.assert("/"===k,"Regular expression literal must start with a slash");for(var h=this.source[this.index++],f=
	!1,d=!1;!this.eof();)if(k=this.source[this.index++],h+=k,"\\"===k)k=this.source[this.index++],w.Character.isLineTerminator(k.charCodeAt(0))&&this.throwUnexpectedToken(n.Messages.UnterminatedRegExp),h+=k;else if(w.Character.isLineTerminator(k.charCodeAt(0)))this.throwUnexpectedToken(n.Messages.UnterminatedRegExp);else if(f)"]"===k&&(f=!1);else{if("/"===k){d=!0;break}"["===k&&(f=!0)}d||this.throwUnexpectedToken(n.Messages.UnterminatedRegExp);return h.substr(1,h.length-2)};l.prototype.scanRegExpFlags=
	function(){for(var k="";!this.eof();){var h=this.source[this.index];if(!w.Character.isIdentifierPart(h.charCodeAt(0)))break;++this.index;if("\\"!==h||this.eof())k+=h;else{h=this.source[this.index];if("u"===h){++this.index;h=this.index;var f=this.scanHexEscape("u");if(null!==f)for(k+=f;h<this.index;++h);else this.index=h,k+="u"}this.tolerateUnexpectedToken()}}return k};l.prototype.scanRegExp=function(){var k=this.index,h=this.scanRegExpBody(),f=this.scanRegExpFlags(),d=this.testRegExp(h,f);return{type:9,
	value:"",pattern:h,flags:f,regex:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:k,end:this.index}};l.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var k=this.source.charCodeAt(this.index);return w.Character.isIdentifierStart(k)?this.scanIdentifier():40===k||41===k||59===k?this.scanPunctuator():39===k||34===k?this.scanStringLiteral():46===k?w.Character.isDecimalDigit(this.source.charCodeAt(this.index+
	1))?this.scanNumericLiteral():this.scanPunctuator():w.Character.isDecimalDigit(k)?this.scanNumericLiteral():96===k||125===k&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():55296<=k&&57343>k&&w.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()};return l}();y.Scanner=C})},"esri/arcade/lib/character":function(){define(["require","exports"],function(C,y){Object.defineProperty(y,"__esModule",{value:!0});y.Character=void 0;var b=
	/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,
	w=/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD46\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E\uDC5F\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/;
	y.Character={fromCodePoint:function(n){return 65536>n?String.fromCharCode(n):String.fromCharCode(55296+(n-65536>>10))+String.fromCharCode(56320+(n-65536&1023))},isWhiteSpace:function(n){return 32===n||9===n||11===n||12===n||160===n||5760<=n&&0<=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(n)},isLineTerminator:function(n){return 10===n||13===n||8232===n||8233===n},isIdentifierStart:function(n){return 36===n||95===n||65<=n&&90>=n||97<=n&&122>=n||92===n||
	128<=n&&b.test(y.Character.fromCodePoint(n))},isIdentifierPart:function(n){return 36===n||95===n||65<=n&&90>=n||97<=n&&122>=n||48<=n&&57>=n||92===n||128<=n&&w.test(y.Character.fromCodePoint(n))},isDecimalDigit:function(n){return 48<=n&&57>=n},isHexDigit:function(n){return 48<=n&&57>=n||65<=n&&70>=n||97<=n&&102>=n},isOctalDigit:function(n){return 48<=n&&55>=n}}})},"esri/arcade/lib/token":function(){define(["require","exports"],function(C,y){Object.defineProperty(y,"__esModule",{value:!0});y.TokenName=
	y.Token=void 0;C=y.Token||(y.Token={});C[C.BooleanLiteral=1]="BooleanLiteral";C[C.EOF=2]="EOF";C[C.Identifier=3]="Identifier";C[C.Keyword=4]="Keyword";C[C.NullLiteral=5]="NullLiteral";C[C.NumericLiteral=6]="NumericLiteral";C[C.Punctuator=7]="Punctuator";C[C.StringLiteral=8]="StringLiteral";C[C.RegularExpression=9]="RegularExpression";C[C.Template=10]="Template";y.TokenName={};y.TokenName[1]="Boolean";y.TokenName[2]="\x3cend\x3e";y.TokenName[3]="Identifier";y.TokenName[4]="Keyword";y.TokenName[5]=
	"Null";y.TokenName[6]="Numeric";y.TokenName[7]="Punctuator";y.TokenName[8]="String";y.TokenName[9]="RegularExpression";y.TokenName[10]="Template"})},"esri/arcade/lib/tokenizer":function(){define(["require","exports","./error-handler","./scanner","./token"],function(C,y,b,w,n){Object.defineProperty(y,"__esModule",{value:!0});y.Tokenizer=void 0;var l=function(){function k(){this.values=[];this.curly=this.paren=-1}k.prototype.beforeFunctionExpression=function(h){return 0<="( { [ in typeof instanceof new return case delete throw void \x3d +\x3d -\x3d *\x3d **\x3d /\x3d %\x3d \x3c\x3c\x3d \x3e\x3e\x3d \x3e\x3e\x3e\x3d \x26\x3d |\x3d ^\x3d , + - * ** / % ++ -- \x3c\x3c \x3e\x3e \x3e\x3e\x3e \x26 | ^ ! ~ \x26\x26 || ? : \x3d\x3d\x3d \x3d\x3d \x3e\x3d \x3c\x3d \x3c \x3e !\x3d !\x3d\x3d".split(" ").indexOf(h)};
	k.prototype.isRegexStart=function(){var h=this.values[this.values.length-1],f=null!==h;switch(h){case "this":case "]":f=!1;break;case ")":h=this.values[this.paren-1];f="if"===h||"while"===h||"for"===h||"with"===h;break;case "}":f=!0,"function"===this.values[this.curly-3]?f=(h=this.values[this.curly-4])?!this.beforeFunctionExpression(h):!1:"function"===this.values[this.curly-4]&&(f=(h=this.values[this.curly-5])?!this.beforeFunctionExpression(h):!0)}return f};k.prototype.push=function(h){7===h.type||
	4===h.type?("{"===h.value?this.curly=this.values.length:"("===h.value&&(this.paren=this.values.length),this.values.push(h.value)):this.values.push(null)};return k}();C=function(){function k(h,f){this.errorHandler=new b.ErrorHandler;this.errorHandler.tolerant=f?"boolean"===typeof f.tolerant&&f.tolerant:!1;this.scanner=new w.Scanner(h,this.errorHandler);this.scanner.trackComment=f?"boolean"===typeof f.comment&&f.comment:!1;this.trackRange=f?"boolean"===typeof f.range&&f.range:!1;this.trackLoc=f?"boolean"===
	typeof f.loc&&f.loc:!1;this.buffer=[];this.reader=new l}k.prototype.errors=function(){return this.errorHandler.errors};k.prototype.getNextToken=function(){if(0===this.buffer.length){var h=this.scanner.scanComments();if(this.scanner.trackComment)for(var f=0;f<h.length;++f){var d=h[f],a=this.scanner.source.slice(d.slice[0],d.slice[1]);a={type:d.multiLine?"BlockComment":"LineComment",value:a};this.trackRange&&(a.range=d.range);this.trackLoc&&(a.loc=d.loc);this.buffer.push(a)}if(!this.scanner.eof()){h=
	void 0;this.trackLoc&&(h={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});f=void 0;if("/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()){d=this.scanner.saveState();try{f=this.scanner.scanRegExp()}catch(c){this.scanner.restoreState(d),f=this.scanner.lex()}}else f=this.scanner.lex();this.reader.push(f);d={type:n.TokenName[f.type],value:this.scanner.source.slice(f.start,f.end)};this.trackRange&&(d.range=[f.start,f.end]);this.trackLoc&&
	(h.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},d.loc=h);9===f.type&&(d.regex={pattern:f.pattern,flags:f.flags});this.buffer.push(d)}}return this.buffer.shift()};return k}();y.Tokenizer=C})},"esri/moment":function(){define(["require","exports","./plugins/moment!"],function(C,y,b){return b})},"esri/plugins/moment":function(){define(["require","exports","dojo/_base/kernel","moment/moment"],function(C,y,b,w){Object.defineProperty(y,"__esModule",{value:!0});var n=
	{ar:1,"ar-dz":1,"ar-kw":1,"ar-ly":1,"ar-ma":1,"ar-sa":1,"ar-tn":1,bs:1,ca:1,cs:1,da:1,de:1,"de-at":1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,"en-ie":1,"en-il":1,"en-in":1,"en-nz":1,"en-sg":1,es:1,"es-do":1,"es-mx":1,"es-us":1,et:1,fi:1,fr:1,"fr-ca":1,"fr-ch":1,he:1,hr:1,hu:1,id:1,it:1,"it-ch":1,ja:1,ko:1,lt:1,lv:1,nb:1,nl:1,"nl-be":1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,sk:1,sl:1,sr:1,"sr-cyrl":1,sv:1,th:1,tr:1,uk:1,vi:1,"zh-cn":1,"zh-hk":1,"zh-mo":1,"zh-tw":1};y.load=function(l,k,h){l=b.locale;var f=
	l in n;if(!f){var d=l.split("-");1<d.length&&d[0]in n&&(l=d[0],f=!0)}f?k(["moment/locale/"+l],function(){h(w)}):h(w)}})},"moment/moment":function(){(function(C,y){"object"===typeof exports&&"undefined"!==typeof module?module.exports=y():"function"===typeof define&&define.amd?define(y):C.moment=y()})(this,function(){function C(){return Gc.apply(null,arguments)}function y(F){return F instanceof Array||"[object Array]"===Object.prototype.toString.call(F)}function b(F){return null!=F&&"[object Object]"===
	Object.prototype.toString.call(F)}function w(F,M){return Object.prototype.hasOwnProperty.call(F,M)}function n(F){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(F).length;for(var M in F)if(w(F,M))return!1;return!0}function l(F){return void 0===F}function k(F){return"number"===typeof F||"[object Number]"===Object.prototype.toString.call(F)}function h(F){return F instanceof Date||"[object Date]"===Object.prototype.toString.call(F)}function f(F,M){var V=[],ja;for(ja=0;ja<F.length;++ja)V.push(M(F[ja],
	ja));return V}function d(F,M){for(var V in M)w(M,V)&&(F[V]=M[V]);w(M,"toString")&&(F.toString=M.toString);w(M,"valueOf")&&(F.valueOf=M.valueOf);return F}function a(F,M,V,ja){return Ia(F,M,V,ja,!0).utc()}function c(F){null==F._pf&&(F._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1});return F._pf}function e(F){if(null==
	F._isValid){var M=c(F),V=ta.call(M.parsedDateParts,function(ja){return null!=ja});V=!isNaN(F._d.getTime())&&0>M.overflow&&!M.empty&&!M.invalidEra&&!M.invalidMonth&&!M.invalidWeekday&&!M.weekdayMismatch&&!M.nullInput&&!M.invalidFormat&&!M.userInvalidated&&(!M.meridiem||M.meridiem&&V);F._strict&&(V=V&&0===M.charsLeftOver&&0===M.unusedTokens.length&&void 0===M.bigHour);if(null!=Object.isFrozen&&Object.isFrozen(F))return V;F._isValid=V}return F._isValid}function q(F){var M=a(NaN);null!=F?d(c(M),F):c(M).userInvalidated=
	!0;return M}function t(F,M){var V;l(M._isAMomentObject)||(F._isAMomentObject=M._isAMomentObject);l(M._i)||(F._i=M._i);l(M._f)||(F._f=M._f);l(M._l)||(F._l=M._l);l(M._strict)||(F._strict=M._strict);l(M._tzm)||(F._tzm=M._tzm);l(M._isUTC)||(F._isUTC=M._isUTC);l(M._offset)||(F._offset=M._offset);l(M._pf)||(F._pf=c(M));l(M._locale)||(F._locale=M._locale);if(0<ya.length)for(V=0;V<ya.length;V++){var ja=ya[V];var Ga=M[ja];l(Ga)||(F[ja]=Ga)}return F}function g(F){t(this,F);this._d=new Date(null!=F._d?F._d.getTime():
	NaN);this.isValid()||(this._d=new Date(NaN));!1===Ja&&(Ja=!0,C.updateOffset(this),Ja=!1)}function p(F){return F instanceof g||null!=F&&null!=F._isAMomentObject}function x(F){!1===C.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+F)}function u(F,M){var V=!0;return d(function(){null!=C.deprecationHandler&&C.deprecationHandler(null,F);if(V){var ja=[],Ga,Pa;for(Ga=0;Ga<arguments.length;Ga++){var Ua="";if("object"===typeof arguments[Ga]){Ua+=
	"\n["+Ga+"] ";for(Pa in arguments[0])w(arguments[0],Pa)&&(Ua+=Pa+": "+arguments[0][Pa]+", ");Ua=Ua.slice(0,-2)}else Ua=arguments[Ga];ja.push(Ua)}x(F+"\nArguments: "+Array.prototype.slice.call(ja).join("")+"\n"+Error().stack);V=!1}return M.apply(this,arguments)},M)}function A(F,M){null!=C.deprecationHandler&&C.deprecationHandler(F,M);Ha[F]||(x(M),Ha[F]=!0)}function m(F){return"undefined"!==typeof Function&&F instanceof Function||"[object Function]"===Object.prototype.toString.call(F)}function v(F,
	M){var V=d({},F),ja;for(ja in M)w(M,ja)&&(b(F[ja])&&b(M[ja])?(V[ja]={},d(V[ja],F[ja]),d(V[ja],M[ja])):null!=M[ja]?V[ja]=M[ja]:delete V[ja]);for(ja in F)w(F,ja)&&!w(M,ja)&&b(F[ja])&&(V[ja]=d({},V[ja]));return V}function r(F){null!=F&&this.set(F)}function B(F,M,V){var ja=""+Math.abs(F);return(0<=F?V?"+":"":"-")+Math.pow(10,Math.max(0,M-ja.length)).toString().substr(1)+ja}function D(F,M,V,ja){var Ga=ja;"string"===typeof ja&&(Ga=function(){return this[ja]()});F&&(Za[F]=Ga);M&&(Za[M[0]]=function(){return B(Ga.apply(this,
	arguments),M[1],M[2])});V&&(Za[V]=function(){return this.localeData().ordinal(Ga.apply(this,arguments),F)})}function G(F){return F.match(/\[[\s\S]/)?F.replace(/^\[|\]$/g,""):F.replace(/\\/g,"")}function z(F){var M=F.match(Ka),V;var ja=0;for(V=M.length;ja<V;ja++)M[ja]=Za[M[ja]]?Za[M[ja]]:G(M[ja]);return function(Ga){var Pa="",Ua;for(Ua=0;Ua<V;Ua++)Pa+=m(M[Ua])?M[Ua].call(Ga,F):M[Ua];return Pa}}function E(F,M){if(!F.isValid())return F.localeData().invalidDate();M=H(M,F.localeData());Va[M]=Va[M]||z(M);
	return Va[M](F)}function H(F,M){function V(Ga){return M.longDateFormat(Ga)||Ga}var ja=5;for(Ra.lastIndex=0;0<=ja&&Ra.test(F);)F=F.replace(Ra,V),Ra.lastIndex=0,--ja;return F}function I(F,M){var V=F.toLowerCase();Sa[V]=Sa[V+"s"]=Sa[M]=F}function O(F){return"string"===typeof F?Sa[F]||Sa[F.toLowerCase()]:void 0}function T(F){var M={},V,ja;for(ja in F)w(F,ja)&&(V=O(ja))&&(M[V]=F[ja]);return M}function Z(F){var M=[],V;for(V in F)w(F,V)&&M.push({unit:V,priority:Xa[V]});M.sort(function(ja,Ga){return ja.priority-
	Ga.priority});return M}function ia(F){return 0===F%4&&0!==F%100||0===F%400}function ca(F){return 0>F?Math.ceil(F)||0:Math.floor(F)}function W(F){F=+F;var M=0;0!==F&&isFinite(F)&&(M=ca(F));return M}function ha(F,M){return function(V){return null!=V?(xa(this,F,V),C.updateOffset(this,M),this):ma(this,F)}}function ma(F,M){return F.isValid()?F._d["get"+(F._isUTC?"UTC":"")+M]():NaN}function xa(F,M,V){if(F.isValid()&&!isNaN(V))if("FullYear"===M&&ia(F.year())&&1===F.month()&&29===F.date())V=W(V),F._d["set"+
	(F._isUTC?"UTC":"")+M](V,F.month(),ka(V,F.month()));else F._d["set"+(F._isUTC?"UTC":"")+M](V)}function K(F,M,V){tc[F]=m(M)?M:function(ja,Ga){return ja&&V?V:M}}function Y(F,M){return w(tc,F)?tc[F](M._strict,M._locale):new RegExp(la(F))}function la(F){return L(F.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(M,V,ja,Ga,Pa){return V||ja||Ga||Pa}))}function L(F){return F.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26")}function R(F,M){var V,ja=M;"string"===typeof F&&(F=[F]);k(M)&&(ja=
	function(Ga,Pa){Pa[M]=W(Ga)});for(V=0;V<F.length;V++)uc[F[V]]=ja}function da(F,M){R(F,function(V,ja,Ga,Pa){Ga._w=Ga._w||{};M(V,Ga._w,Ga,Pa)})}function ka(F,M){if(isNaN(F)||isNaN(M))return NaN;var V=(M%12+12)%12;return 1===V?ia(F+(M-V)/12)?29:28:31-V%7%2}function qa(F,M){if(!F.isValid())return F;if("string"===typeof M)if(/^\d+$/.test(M))M=W(M);else if(M=F.localeData().monthsParse(M),!k(M))return F;var V=Math.min(F.date(),ka(F.year(),M));F._d["set"+(F._isUTC?"UTC":"")+"Month"](M,V);return F}function va(F){return null!=
	F?(qa(this,F),C.updateOffset(this,!0),this):ma(this,"Month")}function Ea(){function F(Ua,hb){return hb.length-Ua.length}var M=[],V=[],ja=[],Ga;for(Ga=0;12>Ga;Ga++){var Pa=a([2E3,Ga]);M.push(this.monthsShort(Pa,""));V.push(this.months(Pa,""));ja.push(this.months(Pa,""));ja.push(this.monthsShort(Pa,""))}M.sort(F);V.sort(F);ja.sort(F);for(Ga=0;12>Ga;Ga++)M[Ga]=L(M[Ga]),V[Ga]=L(V[Ga]);for(Ga=0;24>Ga;Ga++)ja[Ga]=L(ja[Ga]);this._monthsShortRegex=this._monthsRegex=new RegExp("^("+ja.join("|")+")","i");this._monthsStrictRegex=
	new RegExp("^("+V.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+M.join("|")+")","i")}function ba(F,M,V,ja,Ga,Pa,Ua){100>F&&0<=F?(M=new Date(F+400,M,V,ja,Ga,Pa,Ua),isFinite(M.getFullYear())&&M.setFullYear(F)):M=new Date(F,M,V,ja,Ga,Pa,Ua);return M}function fa(F){if(100>F&&0<=F){var M=Array.prototype.slice.call(arguments);M[0]=F+400;M=new Date(Date.UTC.apply(null,M));isFinite(M.getUTCFullYear())&&M.setUTCFullYear(F)}else M=new Date(Date.UTC.apply(null,arguments));return M}function pa(F,
	M,V){V=7+M-V;return-((7+fa(F,0,V).getUTCDay()-M)%7)+V-1}function wa(F,M,V,ja,Ga){V=(7+V-ja)%7;ja=pa(F,ja,Ga);ja=1+7*(M-1)+V+ja;0>=ja?(M=F-1,F=(ia(M)?366:365)+ja):ja>(ia(F)?366:365)?(M=F+1,F=ja-(ia(F)?366:365)):(M=F,F=ja);return{year:M,dayOfYear:F}}function ra(F,M,V){var ja=pa(F.year(),M,V);ja=Math.floor((F.dayOfYear()-ja-1)/7)+1;1>ja?(F=F.year()-1,M=ja+Oa(F,M,V)):ja>Oa(F.year(),M,V)?(M=ja-Oa(F.year(),M,V),F=F.year()+1):(F=F.year(),M=ja);return{week:M,year:F}}function Oa(F,M,V){var ja=pa(F,M,V);M=
	pa(F+1,M,V);return((ia(F)?366:365)-ja+M)/7}function X(F,M){return F.slice(M,7).concat(F.slice(0,M))}function U(F,M,V){var ja;F=F.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],ja=0;7>ja;++ja){var Ga=a([2E3,1]).day(ja);this._minWeekdaysParse[ja]=this.weekdaysMin(Ga,"").toLocaleLowerCase();this._shortWeekdaysParse[ja]=this.weekdaysShort(Ga,"").toLocaleLowerCase();this._weekdaysParse[ja]=this.weekdays(Ga,"").toLocaleLowerCase()}if(V)M=
	"dddd"===M?wb.call(this._weekdaysParse,F):"ddd"===M?wb.call(this._shortWeekdaysParse,F):wb.call(this._minWeekdaysParse,F);else if("dddd"===M){M=wb.call(this._weekdaysParse,F);if(-1!==M)return M;M=wb.call(this._shortWeekdaysParse,F);if(-1!==M)return M;M=wb.call(this._minWeekdaysParse,F)}else if("ddd"===M){M=wb.call(this._shortWeekdaysParse,F);if(-1!==M)return M;M=wb.call(this._weekdaysParse,F);if(-1!==M)return M;M=wb.call(this._minWeekdaysParse,F)}else{M=wb.call(this._minWeekdaysParse,F);if(-1!==M)return M;
	M=wb.call(this._weekdaysParse,F);if(-1!==M)return M;M=wb.call(this._shortWeekdaysParse,F)}return-1!==M?M:null}function oa(){function F(ib,xb){return xb.length-ib.length}var M=[],V=[],ja=[],Ga=[],Pa;for(Pa=0;7>Pa;Pa++){var Ua=a([2E3,1]).day(Pa);var hb=L(this.weekdaysMin(Ua,""));var pb=L(this.weekdaysShort(Ua,""));Ua=L(this.weekdays(Ua,""));M.push(hb);V.push(pb);ja.push(Ua);Ga.push(hb);Ga.push(pb);Ga.push(Ua)}M.sort(F);V.sort(F);ja.sort(F);Ga.sort(F);this._weekdaysMinRegex=this._weekdaysShortRegex=
	this._weekdaysRegex=new RegExp("^("+Ga.join("|")+")","i");this._weekdaysStrictRegex=new RegExp("^("+ja.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+V.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+M.join("|")+")","i")}function sa(){return this.hours()%12||12}function Fa(F,M){D(F,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),M)})}function Ta(F,M){return M._meridiemParse}function Ya(F){return F?F.toLowerCase().replace("_","-"):F}function bb(F){var M=
	null;if(void 0===sb[F]&&"undefined"!==typeof module&&module&&module.exports)try{M=gc._abbr;var V=require;V("./locale/"+F);Ma(M)}catch(ja){sb[F]=null}return sb[F]}function Ma(F,M){F&&((M=l(M)?Q(F):J(F,M))?gc=M:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+F+" not found. Did you forget to load it?"));return gc._abbr}function J(F,M){if(null!==M){var V=xc;M.abbr=F;if(null!=sb[F])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),
	V=sb[F]._config;else if(null!=M.parentLocale)if(null!=sb[M.parentLocale])V=sb[M.parentLocale]._config;else if(V=bb(M.parentLocale),null!=V)V=V._config;else return hc[M.parentLocale]||(hc[M.parentLocale]=[]),hc[M.parentLocale].push({name:F,config:M}),null;sb[F]=new r(v(V,M));hc[F]&&hc[F].forEach(function(ja){J(ja.name,ja.config)});Ma(F);return sb[F]}delete sb[F];return null}function Q(F){var M;F&&F._locale&&F._locale._abbr&&(F=F._locale._abbr);if(!F)return gc;if(!y(F)){if(M=bb(F))return M;F=[F]}a:{M=
	0;for(var V,ja,Ga,Pa;M<F.length;){Pa=Ya(F[M]).split("-");V=Pa.length;for(ja=(ja=Ya(F[M+1]))?ja.split("-"):null;0<V;){if(Ga=bb(Pa.slice(0,V).join("-"))){F=Ga;break a}if(Ga=ja&&ja.length>=V){b:{Ga=void 0;var Ua=Math.min(Pa.length,ja.length);for(Ga=0;Ga<Ua;Ga+=1)if(Pa[Ga]!==ja[Ga])break b;Ga=Ua}Ga=Ga>=V-1}if(Ga)break;V--}M++}F=gc}return F}function aa(F){var M;(M=F._a)&&-2===c(F).overflow&&(M=0>M[Mb]||11<M[Mb]?Mb:1>M[Lb]||M[Lb]>ka(M[Cb],M[Mb])?Lb:0>M[yb]||24<M[yb]||24===M[yb]&&(0!==M[Hb]||0!==M[Nb]||
	0!==M[Ub])?yb:0>M[Hb]||59<M[Hb]?Hb:0>M[Nb]||59<M[Nb]?Nb:0>M[Ub]||999<M[Ub]?Ub:-1,c(F)._overflowDayOfYear&&(M<Cb||M>Lb)&&(M=Lb),c(F)._overflowWeeks&&-1===M&&(M=Hc),c(F)._overflowWeekday&&-1===M&&(M=Ic),c(F).overflow=M);return F}function N(F){var M;var V=F._i;var ja=Jc.exec(V)||Kc.exec(V);if(ja){c(F).iso=!0;V=0;for(M=oc.length;V<M;V++)if(oc[V][1].exec(ja[1])){var Ga=oc[V][0];var Pa=!1!==oc[V][2];break}if(null==Ga)F._isValid=!1;else{if(ja[3]){V=0;for(M=vc.length;V<M;V++)if(vc[V][1].exec(ja[3])){var Ua=
	(ja[2]||" ")+vc[V][0];break}if(null==Ua){F._isValid=!1;return}}if(Pa||null==Ua){if(ja[4])if(Lc.exec(ja[4]))var hb="Z";else{F._isValid=!1;return}F._f=Ga+(Ua||"")+(hb||"");Aa(F)}else F._isValid=!1}}else F._isValid=!1}function S(F){var M=Mc.exec(F._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(M){var V=M[3],ja=M[2],Ga=M[5],Pa=M[6],Ua=M[7],hb=parseInt(M[4],10);V=[49>=hb?2E3+hb:999>=hb?1900+hb:hb,yc.indexOf(V),parseInt(ja,10),parseInt(Ga,10),parseInt(Pa,
	10)];Ua&&V.push(parseInt(Ua,10));a:{if(Ua=M[1])if(Ua=zc.indexOf(Ua),ja=(new Date(V[0],V[1],V[2])).getDay(),Ua!==ja){c(F).weekdayMismatch=!0;Ua=F._isValid=!1;break a}Ua=!0}Ua&&(F._a=V,(Ua=M[8])?M=Nc[Ua]:M[9]?M=0:(M=parseInt(M[10],10),Ua=M%100,M=(M-Ua)/100*60+Ua),F._tzm=M,F._d=fa.apply(null,F._a),F._d.setUTCMinutes(F._d.getUTCMinutes()-F._tzm),c(F).rfc2822=!0)}else F._isValid=!1}function ea(F){var M=Oc.exec(F._i);null!==M?F._d=new Date(+M[1]):(N(F),!1===F._isValid&&(delete F._isValid,S(F),!1===F._isValid&&
	(delete F._isValid,F._strict?F._isValid=!1:C.createFromInputFallback(F))))}function na(F,M,V){return null!=F?F:null!=M?M:V}function ua(F){var M=[];if(!F._d){var V=new Date(C.now());V=F._useUTC?[V.getUTCFullYear(),V.getUTCMonth(),V.getUTCDate()]:[V.getFullYear(),V.getMonth(),V.getDate()];if(F._w&&null==F._a[Lb]&&null==F._a[Mb]){var ja=F._w;if(null!=ja.GG||null!=ja.W||null!=ja.E){var Ga=1;var Pa=4;var Ua=na(ja.GG,F._a[Cb],ra(Na(),1,4).year);var hb=na(ja.W,1);var pb=na(ja.E,1);if(1>pb||7<pb)var ib=!0}else if(Ga=
	F._locale._week.dow,Pa=F._locale._week.doy,hb=ra(Na(),Ga,Pa),Ua=na(ja.gg,F._a[Cb],hb.year),hb=na(ja.w,hb.week),null!=ja.d){if(pb=ja.d,0>pb||6<pb)ib=!0}else if(null!=ja.e){if(pb=ja.e+Ga,0>ja.e||6<ja.e)ib=!0}else pb=Ga;1>hb||hb>Oa(Ua,Ga,Pa)?c(F)._overflowWeeks=!0:null!=ib?c(F)._overflowWeekday=!0:(ib=wa(Ua,hb,pb,Ga,Pa),F._a[Cb]=ib.year,F._dayOfYear=ib.dayOfYear)}if(null!=F._dayOfYear){ib=na(F._a[Cb],V[Cb]);if(F._dayOfYear>(ia(ib)?366:365)||0===F._dayOfYear)c(F)._overflowDayOfYear=!0;ib=fa(ib,0,F._dayOfYear);
	F._a[Mb]=ib.getUTCMonth();F._a[Lb]=ib.getUTCDate()}for(ib=0;3>ib&&null==F._a[ib];++ib)F._a[ib]=M[ib]=V[ib];for(;7>ib;ib++)F._a[ib]=M[ib]=null==F._a[ib]?2===ib?1:0:F._a[ib];24===F._a[yb]&&0===F._a[Hb]&&0===F._a[Nb]&&0===F._a[Ub]&&(F._nextDay=!0,F._a[yb]=0);F._d=(F._useUTC?fa:ba).apply(null,M);M=F._useUTC?F._d.getUTCDay():F._d.getDay();null!=F._tzm&&F._d.setUTCMinutes(F._d.getUTCMinutes()-F._tzm);F._nextDay&&(F._a[yb]=24);F._w&&"undefined"!==typeof F._w.d&&F._w.d!==M&&(c(F).weekdayMismatch=!0)}}function Aa(F){if(F._f===
	C.ISO_8601)N(F);else if(F._f===C.RFC_2822)S(F);else{F._a=[];c(F).empty=!0;var M=""+F._i,V,ja,Ga=M.length,Pa=0;var Ua=H(F._f,F._locale).match(Ka)||[];for(V=0;V<Ua.length;V++){var hb=Ua[V];if(ja=(M.match(Y(hb,F))||[])[0]){var pb=M.substr(0,M.indexOf(ja));0<pb.length&&c(F).unusedInput.push(pb);M=M.slice(M.indexOf(ja)+ja.length);Pa+=ja.length}if(Za[hb]){if(ja?c(F).empty=!1:c(F).unusedTokens.push(hb),pb=F,null!=ja&&w(uc,hb))uc[hb](ja,pb._a,pb,hb)}else F._strict&&!ja&&c(F).unusedTokens.push(hb)}c(F).charsLeftOver=
	Ga-Pa;0<M.length&&c(F).unusedInput.push(M);12>=F._a[yb]&&!0===c(F).bigHour&&0<F._a[yb]&&(c(F).bigHour=void 0);c(F).parsedDateParts=F._a.slice(0);c(F).meridiem=F._meridiem;M=F._a;V=yb;Ga=F._locale;Ua=F._a[yb];Pa=F._meridiem;null!=Pa&&(null!=Ga.meridiemHour?Ua=Ga.meridiemHour(Ua,Pa):null!=Ga.isPM&&((Ga=Ga.isPM(Pa))&&12>Ua&&(Ua+=12),Ga||12!==Ua||(Ua=0)));M[V]=Ua;M=c(F).era;null!==M&&(F._a[Cb]=F._locale.erasConvertYear(M,F._a[Cb]));ua(F);aa(F)}}function Ba(F){if(!F._d){var M=T(F._i);F._a=f([M.year,M.month,
	void 0===M.day?M.date:M.day,M.hour,M.minute,M.second,M.millisecond],function(V){return V&&parseInt(V,10)});ua(F)}}function Qa(F){var M=F._i,V=F._f;F._locale=F._locale||Q(F._l);if(null===M||void 0===V&&""===M)return q({nullInput:!0});"string"===typeof M&&(F._i=M=F._locale.preparse(M));if(p(M))return new g(aa(M));if(h(M))F._d=M;else if(y(V)){var ja=!1;if(0===F._f.length)c(F).invalidFormat=!0,F._d=new Date(NaN);else{for(M=0;M<F._f.length;M++){V=0;var Ga=!1;var Pa=t({},F);null!=F._useUTC&&(Pa._useUTC=
	F._useUTC);Pa._f=F._f[M];Aa(Pa);e(Pa)&&(Ga=!0);V+=c(Pa).charsLeftOver;V+=10*c(Pa).unusedTokens.length;c(Pa).score=V;if(ja)V<Ua&&(Ua=V,hb=Pa);else if(null==Ua||V<Ua||Ga){var Ua=V;var hb=Pa;Ga&&(ja=!0)}}d(F,hb||Pa)}}else V?Aa(F):La(F);e(F)||(F._d=null);return F}function La(F){var M=F._i;l(M)?F._d=new Date(C.now()):h(M)?F._d=new Date(M.valueOf()):"string"===typeof M?ea(F):y(M)?(F._a=f(M.slice(0),function(V){return parseInt(V,10)}),ua(F)):b(M)?Ba(F):k(M)?F._d=new Date(M):C.createFromInputFallback(F)}
	function Ia(F,M,V,ja,Ga){var Pa={};if(!0===M||!1===M)ja=M,M=void 0;if(!0===V||!1===V)ja=V,V=void 0;if(b(F)&&n(F)||y(F)&&0===F.length)F=void 0;Pa._isAMomentObject=!0;Pa._useUTC=Pa._isUTC=Ga;Pa._l=V;Pa._i=F;Pa._f=M;Pa._strict=ja;F=new g(aa(Qa(Pa)));F._nextDay&&(F.add(1,"d"),F._nextDay=void 0);return F}function Na(F,M,V,ja){return Ia(F,M,V,ja,!1)}function eb(F,M){var V;1===M.length&&y(M[0])&&(M=M[0]);if(!M.length)return Na();var ja=M[0];for(V=1;V<M.length;++V)if(!M[V].isValid()||M[V][F](ja))ja=M[V];
	return ja}function ab(F){var M=T(F);F=M.year||0;var V=M.quarter||0,ja=M.month||0,Ga=M.week||M.isoWeek||0,Pa=M.day||0,Ua=M.hour||0,hb=M.minute||0,pb=M.second||0,ib=M.millisecond||0;a:{var xb,Ac=!1;for(xb in M)if(w(M,xb)&&(-1===wb.call(ic,xb)||null!=M[xb]&&isNaN(M[xb]))){M=!1;break a}for(xb=0;xb<ic.length;++xb)if(M[ic[xb]]){if(Ac){M=!1;break a}parseFloat(M[ic[xb]])!==W(M[ic[xb]])&&(Ac=!0)}M=!0}this._isValid=M;this._milliseconds=+ib+1E3*pb+6E4*hb+36E5*Ua;this._days=+Pa+7*Ga;this._months=+ja+3*V+12*F;
	this._data={};this._locale=Q();this._bubble()}function gb(F){return F instanceof ab}function cb(F){return 0>F?-1*Math.round(-1*F):Math.round(F)}function kb(F,M){D(F,0,0,function(){var V=this.utcOffset(),ja="+";0>V&&(V=-V,ja="-");return ja+B(~~(V/60),2)+M+B(~~V%60,2)})}function ub(F,M){F=(M||"").match(F);if(null===F)return null;F=((F[F.length-1]||[])+"").match(Pc)||["-",0,0];M=+(60*F[1])+W(F[2]);return 0===M?0:"+"===F[0]?M:-M}function ob(F,M){return M._isUTC?(M=M.clone(),F=(p(F)||h(F)?F.valueOf():
	Na(F).valueOf())-M.valueOf(),M._d.setTime(M._d.valueOf()+F),C.updateOffset(M,!1),M):Na(F).local()}function db(){return this.isValid()?this._isUTC&&0===this._offset:!1}function jb(F,M){var V=F,ja=null;gb(F)?V={ms:F._milliseconds,d:F._days,M:F._months}:k(F)||!isNaN(+F)?(V={},M?V[M]=+F:V.milliseconds=+F):(ja=Qc.exec(F))?(V="-"===ja[1]?-1:1,V={y:0,d:W(ja[Lb])*V,h:W(ja[yb])*V,m:W(ja[Hb])*V,s:W(ja[Nb])*V,ms:W(cb(1E3*ja[Ub]))*V}):(ja=Rc.exec(F))?(V="-"===ja[1]?-1:1,V={y:nb(ja[2],V),M:nb(ja[3],V),w:nb(ja[4],
	V),d:nb(ja[5],V),h:nb(ja[6],V),m:nb(ja[7],V),s:nb(ja[8],V)}):null==V?V={}:"object"===typeof V&&("from"in V||"to"in V)&&(ja=Na(V.from),V=Na(V.to),ja.isValid()&&V.isValid()?(V=ob(V,ja),ja.isBefore(V)?V=Jb(ja,V):(V=Jb(V,ja),V.milliseconds=-V.milliseconds,V.months=-V.months),ja=V):ja={milliseconds:0,months:0},V={},V.ms=ja.milliseconds,V.M=ja.months);V=new ab(V);gb(F)&&w(F,"_locale")&&(V._locale=F._locale);gb(F)&&w(F,"_isValid")&&(V._isValid=F._isValid);return V}function nb(F,M){F=F&&parseFloat(F.replace(",",
	"."));return(isNaN(F)?0:F)*M}function Jb(F,M){var V={};V.months=M.month()-F.month()+12*(M.year()-F.year());F.clone().add(V.months,"M").isAfter(M)&&--V.months;V.milliseconds=+M-+F.clone().add(V.months,"M");return V}function Ab(F,M){return function(V,ja){if(null!==ja&&!isNaN(+ja)){A(M,"moment()."+M+"(period, number) is deprecated. Please use moment()."+M+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");var Ga=V;V=ja;ja=Ga}V=jb(V,ja);vb(this,V,F);return this}}
	function vb(F,M,V,ja){var Ga=M._milliseconds,Pa=cb(M._days);M=cb(M._months);F.isValid()&&(ja=null==ja?!0:ja,M&&qa(F,ma(F,"Month")+M*V),Pa&&xa(F,"Date",ma(F,"Date")+Pa*V),Ga&&F._d.setTime(F._d.valueOf()+Ga*V),ja&&C.updateOffset(F,Pa||M))}function Tb(F){return"string"===typeof F||F instanceof String}function zb(F){var M=y(F),V=!1;M&&(V=0===F.filter(function(ja){return!k(ja)&&Tb(F)}).length);return M&&V}function Db(F,M){if(F.date()<M.date())return-Db(M,F);var V=12*(M.year()-F.year())+(M.month()-F.month()),
	ja=F.clone().add(V,"months");0>M-ja?(F=F.clone().add(V-1,"months"),M=(M-ja)/(ja-F)):(F=F.clone().add(V+1,"months"),M=(M-ja)/(F-ja));return-(V+M)||0}function Kb(F){if(void 0===F)return this._locale._abbr;F=Q(F);null!=F&&(this._locale=F);return this}function Qb(){return this._locale}function Gb(F,M){return(F%M+M)%M}function Rb(F,M,V){return 100>F&&0<=F?new Date(F+400,M,V)-Bc:(new Date(F,M,V)).valueOf()}function jc(F,M,V){return 100>F&&0<=F?Date.UTC(F+400,M,V)-Bc:Date.UTC(F,M,V)}function $b(F,M){return M.erasAbbrRegex(F)}
	function ac(){var F=[],M=[],V=[],ja=[],Ga,Pa=this.eras();var Ua=0;for(Ga=Pa.length;Ua<Ga;++Ua)M.push(L(Pa[Ua].name)),F.push(L(Pa[Ua].abbr)),V.push(L(Pa[Ua].narrow)),ja.push(L(Pa[Ua].name)),ja.push(L(Pa[Ua].abbr)),ja.push(L(Pa[Ua].narrow));this._erasRegex=new RegExp("^("+ja.join("|")+")","i");this._erasNameRegex=new RegExp("^("+M.join("|")+")","i");this._erasAbbrRegex=new RegExp("^("+F.join("|")+")","i");this._erasNarrowRegex=new RegExp("^("+V.join("|")+")","i")}function Vb(F,M){D(0,[F,F.length],0,
	M)}function kc(F,M,V,ja,Ga){if(null==F)return ra(this,ja,Ga).year;var Pa=Oa(F,ja,Ga);M>Pa&&(M=Pa);F=wa(F,M,V,ja,Ga);F=fa(F.year,0,F.dayOfYear);this.year(F.getUTCFullYear());this.month(F.getUTCMonth());this.date(F.getUTCDate());return this}function bc(F,M){M[Ub]=W(1E3*("0."+F))}function Eb(F){return F}function Wb(F,M,V,ja){var Ga=Q();M=a().set(ja,M);return Ga[V](M,F)}function lc(F,M,V){k(F)&&(M=F,F=void 0);F=F||"";if(null!=M)return Wb(F,M,V,"month");var ja=[];for(M=0;12>M;M++)ja[M]=Wb(F,M,V,"month");
	return ja}function cc(F,M,V,ja){"boolean"!==typeof F&&(V=M=F,F=!1);k(M)&&(V=M,M=void 0);M=M||"";var Ga=Q();F=F?Ga._week.dow:0;Ga=[];if(null!=V)return Wb(M,(V+F)%7,ja,"day");for(V=0;7>V;V++)Ga[V]=Wb(M,(V+F)%7,ja,"day");return Ga}function mc(F,M,V,ja){M=jb(M,V);F._milliseconds+=ja*M._milliseconds;F._days+=ja*M._days;F._months+=ja*M._months;return F._bubble()}function pc(F){return 0>F?Math.floor(F):Math.ceil(F)}function Ib(F){return function(){return this.as(F)}}function rb(F){return function(){return this.isValid()?
	this._data[F]:NaN}}function P(F,M,V,ja,Ga){return Ga.relativeTime(M||1,!!V,F,ja)}function Ca(F){return(0<F)-(0>F)||+F}function za(){if(!this.isValid())return this.localeData().invalidDate();var F=wc(this._milliseconds)/1E3,M=wc(this._days),V=wc(this._months),ja=this.asSeconds();if(!ja)return"P0D";var Ga=ca(F/60);var Pa=ca(Ga/60);F%=60;Ga%=60;var Ua=ca(V/12);V%=12;var hb=F?F.toFixed(3).replace(/\.?0+$/,""):"";var pb=0>ja?"-":"";var ib=Ca(this._months)!==Ca(ja)?"-":"";var xb=Ca(this._days)!==Ca(ja)?
	"-":"";ja=Ca(this._milliseconds)!==Ca(ja)?"-":"";return pb+"P"+(Ua?ib+Ua+"Y":"")+(V?ib+V+"M":"")+(M?xb+M+"D":"")+(Pa||Ga||F?"T":"")+(Pa?ja+Pa+"H":"")+(Ga?ja+Ga+"M":"")+(F?ja+hb+"S":"")}var ta=Array.prototype.some?Array.prototype.some:function(F){var M=Object(this),V=M.length>>>0,ja;for(ja=0;ja<V;ja++)if(ja in M&&F.call(this,M[ja],ja,M))return!0;return!1};var ya=C.momentProperties=[],Ja=!1,Ha={};C.suppressDeprecationWarnings=!1;C.deprecationHandler=null;var Da=Object.keys?Object.keys:function(F){var M,
	V=[];for(M in F)w(F,M)&&V.push(M);return V};var Ka=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ra=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Va={},Za={},Sa={},Xa={},$a=/\d/,fb=/\d\d/,Bb=/\d{3}/,dc=/\d{4}/,Xb=/[+-]?\d{6}/,qb=/\d\d?/,tb=/\d\d\d\d?/,Yb=/\d\d\d\d\d\d?/,Fb=/\d{1,3}/,Zb=/\d{1,4}/,qc=/[+-]?\d{1,6}/,ec=/\d+/,rc=/[+-]?\d+/,Sc=/Z|[+-]\d\d:?\d\d/gi,
	sc=/Z|[+-]\d\d(?::?\d\d)?/gi,nc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;var tc={};var uc={},Cb=0,Mb=1,Lb=2,yb=3,Hb=4,Nb=5,Ub=6,Hc=7,Ic=8;var wb=Array.prototype.indexOf?Array.prototype.indexOf:function(F){var M;for(M=0;M<this.length;++M)if(this[M]===F)return M;return-1};D("M",["MM",2],"Mo",function(){return this.month()+1});D("MMM",0,0,function(F){return this.localeData().monthsShort(this,
	F)});D("MMMM",0,0,function(F){return this.localeData().months(this,F)});I("month","M");Xa.month=8;K("M",qb);K("MM",qb,fb);K("MMM",function(F,M){return M.monthsShortRegex(F)});K("MMMM",function(F,M){return M.monthsRegex(F)});R(["M","MM"],function(F,M){M[Mb]=W(F)-1});R(["MMM","MMMM"],function(F,M,V,ja){ja=V._locale.monthsParse(F,ja,V._strict);null!=ja?M[Mb]=ja:c(V).invalidMonth=F});var yc="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Cc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;D("Y",0,0,function(){var F=
	this.year();return 9999>=F?B(F,4):"+"+F});D(0,["YY",2],0,function(){return this.year()%100});D(0,["YYYY",4],0,"year");D(0,["YYYYY",5],0,"year");D(0,["YYYYYY",6,!0],0,"year");I("year","y");Xa.year=1;K("Y",rc);K("YY",qb,fb);K("YYYY",Zb,dc);K("YYYYY",qc,Xb);K("YYYYYY",qc,Xb);R(["YYYYY","YYYYYY"],Cb);R("YYYY",function(F,M){M[Cb]=2===F.length?C.parseTwoDigitYear(F):W(F)});R("YY",function(F,M){M[Cb]=C.parseTwoDigitYear(F)});R("Y",function(F,M){M[Cb]=parseInt(F,10)});C.parseTwoDigitYear=function(F){return W(F)+
	(68<W(F)?1900:2E3)};var Dc=ha("FullYear",!0);D("w",["ww",2],"wo","week");D("W",["WW",2],"Wo","isoWeek");I("week","w");I("isoWeek","W");Xa.week=5;Xa.isoWeek=5;K("w",qb);K("ww",qb,fb);K("W",qb);K("WW",qb,fb);da(["w","ww","W","WW"],function(F,M,V,ja){M[ja.substr(0,1)]=W(F)});D("d",0,"do","day");D("dd",0,0,function(F){return this.localeData().weekdaysMin(this,F)});D("ddd",0,0,function(F){return this.localeData().weekdaysShort(this,F)});D("dddd",0,0,function(F){return this.localeData().weekdays(this,F)});
	D("e",0,0,"weekday");D("E",0,0,"isoWeekday");I("day","d");I("weekday","e");I("isoWeekday","E");Xa.day=11;Xa.weekday=11;Xa.isoWeekday=11;K("d",qb);K("e",qb);K("E",qb);K("dd",function(F,M){return M.weekdaysMinRegex(F)});K("ddd",function(F,M){return M.weekdaysShortRegex(F)});K("dddd",function(F,M){return M.weekdaysRegex(F)});da(["dd","ddd","dddd"],function(F,M,V,ja){ja=V._locale.weekdaysParse(F,ja,V._strict);null!=ja?M.d=ja:c(V).invalidWeekday=F});da(["d","e","E"],function(F,M,V,ja){M[ja]=W(F)});var zc=
	"Sun Mon Tue Wed Thu Fri Sat".split(" ");D("H",["HH",2],0,"hour");D("h",["hh",2],0,sa);D("k",["kk",2],0,function(){return this.hours()||24});D("hmm",0,0,function(){return""+sa.apply(this)+B(this.minutes(),2)});D("hmmss",0,0,function(){return""+sa.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)});D("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)});D("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)});Fa("a",!0);Fa("A",!1);I("hour","h");Xa.hour=
	13;K("a",Ta);K("A",Ta);K("H",qb);K("h",qb);K("k",qb);K("HH",qb,fb);K("hh",qb,fb);K("kk",qb,fb);K("hmm",tb);K("hmmss",Yb);K("Hmm",tb);K("Hmmss",Yb);R(["H","HH"],yb);R(["k","kk"],function(F,M,V){F=W(F);M[yb]=24===F?0:F});R(["a","A"],function(F,M,V){V._isPm=V._locale.isPM(F);V._meridiem=F});R(["h","hh"],function(F,M,V){M[yb]=W(F);c(V).bigHour=!0});R("hmm",function(F,M,V){var ja=F.length-2;M[yb]=W(F.substr(0,ja));M[Hb]=W(F.substr(ja));c(V).bigHour=!0});R("hmmss",function(F,M,V){var ja=F.length-4,Ga=F.length-
	2;M[yb]=W(F.substr(0,ja));M[Hb]=W(F.substr(ja,2));M[Nb]=W(F.substr(Ga));c(V).bigHour=!0});R("Hmm",function(F,M,V){V=F.length-2;M[yb]=W(F.substr(0,V));M[Hb]=W(F.substr(V))});R("Hmmss",function(F,M,V){V=F.length-4;var ja=F.length-2;M[yb]=W(F.substr(0,V));M[Hb]=W(F.substr(V,2));M[Nb]=W(F.substr(ja))});var Tc=ha("Hours",!0),xc={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",
	LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:"January February March April May June July August September October November December".split(" "),
	monthsShort:yc,week:{dow:0,doy:6},weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysShort:zc,meridiemParse:/[ap]\.?m?\.?/i},sb={},hc={},gc,Jc=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Kc=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
	Lc=/Z|[+-]\d\d(?::?\d\d)?/,oc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],vc=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],
	["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Oc=/^\/?Date\((-?\d+)/i,Mc=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Nc={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};C.createFromInputFallback=u("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",
	function(F){F._d=new Date(F._i+(F._useUTC?" UTC":""))});C.ISO_8601=function(){};C.RFC_2822=function(){};var Uc=u("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var F=Na.apply(null,arguments);return this.isValid()&&F.isValid()?F<this?this:F:q()}),Vc=u("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var F=Na.apply(null,arguments);return this.isValid()&&F.isValid()?F>this?
	this:F:q()}),ic="year quarter month week day hour minute second millisecond".split(" ");kb("Z",":");kb("ZZ","");K("Z",sc);K("ZZ",sc);R(["Z","ZZ"],function(F,M,V){V._useUTC=!0;V._tzm=ub(sc,F)});var Pc=/([\+\-]|\d\d)/gi;C.updateOffset=function(){};var Qc=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Rc=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;jb.fn=ab.prototype;jb.invalid=
	function(){return jb(NaN)};var Wc=Ab(1,"add"),Xc=Ab(-1,"subtract");C.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";C.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ec=u("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(F){return void 0===F?this.localeData():this.locale(F)}),Bc=126227808E5;D("N",0,0,"eraAbbr");D("NN",0,0,"eraAbbr");D("NNN",0,0,"eraAbbr");D("NNNN",0,0,"eraName");D("NNNNN",0,0,"eraNarrow");
	D("y",["y",1],"yo","eraYear");D("y",["yy",2],0,"eraYear");D("y",["yyy",3],0,"eraYear");D("y",["yyyy",4],0,"eraYear");K("N",$b);K("NN",$b);K("NNN",$b);K("NNNN",function(F,M){return M.erasNameRegex(F)});K("NNNNN",function(F,M){return M.erasNarrowRegex(F)});R(["N","NN","NNN","NNNN","NNNNN"],function(F,M,V,ja){(M=V._locale.erasParse(F,ja,V._strict))?c(V).era=M:c(V).invalidEra=F});K("y",ec);K("yy",ec);K("yyy",ec);K("yyyy",ec);K("yo",function(F,M){return M._eraYearOrdinalRegex||ec});R(["y","yy","yyy","yyyy"],
	Cb);R(["yo"],function(F,M,V,ja){var Ga;V._locale._eraYearOrdinalRegex&&(Ga=F.match(V._locale._eraYearOrdinalRegex));M[Cb]=V._locale.eraYearOrdinalParse?V._locale.eraYearOrdinalParse(F,Ga):parseInt(F,10)});D(0,["gg",2],0,function(){return this.weekYear()%100});D(0,["GG",2],0,function(){return this.isoWeekYear()%100});Vb("gggg","weekYear");Vb("ggggg","weekYear");Vb("GGGG","isoWeekYear");Vb("GGGGG","isoWeekYear");I("weekYear","gg");I("isoWeekYear","GG");Xa.weekYear=1;Xa.isoWeekYear=1;K("G",rc);K("g",
	rc);K("GG",qb,fb);K("gg",qb,fb);K("GGGG",Zb,dc);K("gggg",Zb,dc);K("GGGGG",qc,Xb);K("ggggg",qc,Xb);da(["gggg","ggggg","GGGG","GGGGG"],function(F,M,V,ja){M[ja.substr(0,2)]=W(F)});da(["gg","GG"],function(F,M,V,ja){M[ja]=C.parseTwoDigitYear(F)});D("Q",0,"Qo","quarter");I("quarter","Q");Xa.quarter=7;K("Q",$a);R("Q",function(F,M){M[Mb]=3*(W(F)-1)});D("D",["DD",2],"Do","date");I("date","D");Xa.date=9;K("D",qb);K("DD",qb,fb);K("Do",function(F,M){return F?M._dayOfMonthOrdinalParse||M._ordinalParse:M._dayOfMonthOrdinalParseLenient});
	R(["D","DD"],Lb);R("Do",function(F,M){M[Lb]=W(F.match(qb)[0])});var Fc=ha("Date",!0);D("DDD",["DDDD",3],"DDDo","dayOfYear");I("dayOfYear","DDD");Xa.dayOfYear=4;K("DDD",Fb);K("DDDD",Bb);R(["DDD","DDDD"],function(F,M,V){V._dayOfYear=W(F)});D("m",["mm",2],0,"minute");I("minute","m");Xa.minute=14;K("m",qb);K("mm",qb,fb);R(["m","mm"],Hb);var Yc=ha("Minutes",!1);D("s",["ss",2],0,"second");I("second","s");Xa.second=15;K("s",qb);K("ss",qb,fb);R(["s","ss"],Nb);var Zc=ha("Seconds",!1);D("S",0,0,function(){return~~(this.millisecond()/
	100)});D(0,["SS",2],0,function(){return~~(this.millisecond()/10)});D(0,["SSS",3],0,"millisecond");D(0,["SSSS",4],0,function(){return 10*this.millisecond()});D(0,["SSSSS",5],0,function(){return 100*this.millisecond()});D(0,["SSSSSS",6],0,function(){return 1E3*this.millisecond()});D(0,["SSSSSSS",7],0,function(){return 1E4*this.millisecond()});D(0,["SSSSSSSS",8],0,function(){return 1E5*this.millisecond()});D(0,["SSSSSSSSS",9],0,function(){return 1E6*this.millisecond()});I("millisecond","ms");Xa.millisecond=
	16;K("S",Fb,$a);K("SS",Fb,fb);K("SSS",Fb,Bb);var Sb;for(Sb="SSSS";9>=Sb.length;Sb+="S")K(Sb,ec);for(Sb="S";9>=Sb.length;Sb+="S")R(Sb,bc);var $c=ha("Milliseconds",!1);D("z",0,0,"zoneAbbr");D("zz",0,0,"zoneName");var Wa=g.prototype;Wa.add=Wc;Wa.calendar=function(F,M){if(1===arguments.length)if(arguments[0]){var V=arguments[0],ja;if(!(ja=p(V)||h(V)||Tb(V)||k(V)||zb(V))){ja=b(V)&&!n(V);var Ga=!1,Pa="years year y months month M days day d dates date D hours hour h minutes minute m seconds second s milliseconds millisecond ms".split(" "),
	Ua;for(Ua=0;Ua<Pa.length;Ua+=1){var hb=Pa[Ua];Ga=Ga||w(V,hb)}ja=ja&&Ga}if(ja||null===V||void 0===V)F=arguments[0],M=void 0;else{V=arguments[0];ja=b(V)&&!n(V);Ga=!1;Pa="sameDay nextDay lastDay nextWeek lastWeek sameElse".split(" ");for(Ua=0;Ua<Pa.length;Ua+=1)hb=Pa[Ua],Ga=Ga||w(V,hb);ja&&Ga&&(M=arguments[0],F=void 0)}}else M=F=void 0;V=F||Na();ja=ob(V,this).startOf("day");ja=C.calendarFormat(this,ja)||"sameElse";Ga=M&&(m(M[ja])?M[ja].call(this,V):M[ja]);return this.format(Ga||this.localeData().calendar(ja,
	this,Na(V)))};Wa.clone=function(){return new g(this)};Wa.diff=function(F,M,V){if(!this.isValid())return NaN;F=ob(F,this);if(!F.isValid())return NaN;var ja=6E4*(F.utcOffset()-this.utcOffset());M=O(M);switch(M){case "year":M=Db(this,F)/12;break;case "month":M=Db(this,F);break;case "quarter":M=Db(this,F)/3;break;case "second":M=(this-F)/1E3;break;case "minute":M=(this-F)/6E4;break;case "hour":M=(this-F)/36E5;break;case "day":M=(this-F-ja)/864E5;break;case "week":M=(this-F-ja)/6048E5;break;default:M=
	this-F}return V?M:ca(M)};Wa.endOf=function(F){F=O(F);if(void 0===F||"millisecond"===F||!this.isValid())return this;var M=this._isUTC?jc:Rb;switch(F){case "year":var V=M(this.year()+1,0,1)-1;break;case "quarter":V=M(this.year(),this.month()-this.month()%3+3,1)-1;break;case "month":V=M(this.year(),this.month()+1,1)-1;break;case "week":V=M(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case "isoWeek":V=M(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case "day":case "date":V=
	M(this.year(),this.month(),this.date()+1)-1;break;case "hour":V=this._d.valueOf();V+=36E5-Gb(V+(this._isUTC?0:6E4*this.utcOffset()),36E5)-1;break;case "minute":V=this._d.valueOf();V+=6E4-Gb(V,6E4)-1;break;case "second":V=this._d.valueOf(),V+=1E3-Gb(V,1E3)-1}this._d.setTime(V);C.updateOffset(this,!0);return this};Wa.format=function(F){F||(F=this.isUtc()?C.defaultFormatUtc:C.defaultFormat);F=E(this,F);return this.localeData().postformat(F)};Wa.from=function(F,M){return this.isValid()&&(p(F)&&F.isValid()||
	Na(F).isValid())?jb({to:this,from:F}).locale(this.locale()).humanize(!M):this.localeData().invalidDate()};Wa.fromNow=function(F){return this.from(Na(),F)};Wa.to=function(F,M){return this.isValid()&&(p(F)&&F.isValid()||Na(F).isValid())?jb({from:this,to:F}).locale(this.locale()).humanize(!M):this.localeData().invalidDate()};Wa.toNow=function(F){return this.to(Na(),F)};Wa.get=function(F){F=O(F);return m(this[F])?this[F]():this};Wa.invalidAt=function(){return c(this).overflow};Wa.isAfter=function(F,M){F=
	p(F)?F:Na(F);if(!this.isValid()||!F.isValid())return!1;M=O(M)||"millisecond";return"millisecond"===M?this.valueOf()>F.valueOf():F.valueOf()<this.clone().startOf(M).valueOf()};Wa.isBefore=function(F,M){F=p(F)?F:Na(F);if(!this.isValid()||!F.isValid())return!1;M=O(M)||"millisecond";return"millisecond"===M?this.valueOf()<F.valueOf():this.clone().endOf(M).valueOf()<F.valueOf()};Wa.isBetween=function(F,M,V,ja){F=p(F)?F:Na(F);M=p(M)?M:Na(M);if(!(this.isValid()&&F.isValid()&&M.isValid()))return!1;ja=ja||
	"()";return("("===ja[0]?this.isAfter(F,V):!this.isBefore(F,V))&&(")"===ja[1]?this.isBefore(M,V):!this.isAfter(M,V))};Wa.isSame=function(F,M){F=p(F)?F:Na(F);if(!this.isValid()||!F.isValid())return!1;M=O(M)||"millisecond";if("millisecond"===M)return this.valueOf()===F.valueOf();F=F.valueOf();return this.clone().startOf(M).valueOf()<=F&&F<=this.clone().endOf(M).valueOf()};Wa.isSameOrAfter=function(F,M){return this.isSame(F,M)||this.isAfter(F,M)};Wa.isSameOrBefore=function(F,M){return this.isSame(F,M)||
	this.isBefore(F,M)};Wa.isValid=function(){return e(this)};Wa.lang=Ec;Wa.locale=Kb;Wa.localeData=Qb;Wa.max=Vc;Wa.min=Uc;Wa.parsingFlags=function(){return d({},c(this))};Wa.set=function(F,M){if("object"===typeof F){F=T(F);M=Z(F);var V;for(V=0;V<M.length;V++)this[M[V].unit](F[M[V].unit])}else if(F=O(F),m(this[F]))return this[F](M);return this};Wa.startOf=function(F){F=O(F);if(void 0===F||"millisecond"===F||!this.isValid())return this;var M=this._isUTC?jc:Rb;switch(F){case "year":var V=M(this.year(),
	0,1);break;case "quarter":V=M(this.year(),this.month()-this.month()%3,1);break;case "month":V=M(this.year(),this.month(),1);break;case "week":V=M(this.year(),this.month(),this.date()-this.weekday());break;case "isoWeek":V=M(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case "day":case "date":V=M(this.year(),this.month(),this.date());break;case "hour":V=this._d.valueOf();V-=Gb(V+(this._isUTC?0:6E4*this.utcOffset()),36E5);break;case "minute":V=this._d.valueOf();V-=Gb(V,6E4);break;
	case "second":V=this._d.valueOf(),V-=Gb(V,1E3)}this._d.setTime(V);C.updateOffset(this,!0);return this};Wa.subtract=Xc;Wa.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};Wa.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}};Wa.toDate=function(){return new Date(this.valueOf())};Wa.toISOString=function(F){if(!this.isValid())return null;
	var M=(F=!0!==F)?this.clone().utc():this;return 0>M.year()||9999<M.year()?E(M,F?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):m(Date.prototype.toISOString)?F?this.toDate().toISOString():(new Date(this.valueOf()+6E4*this.utcOffset())).toISOString().replace("Z",E(M,"Z")):E(M,F?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")};Wa.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var F="moment",M="";this.isLocal()||(F=0===this.utcOffset()?"moment.utc":
	"moment.parseZone",M="Z");F="["+F+'("]';var V=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY";return this.format(F+V+"-MM-DD[T]HH:mm:ss.SSS"+(M+'[")]'))};"undefined"!==typeof Symbol&&null!=Symbol.for&&(Wa[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment\x3c"+this.format()+"\x3e"});Wa.toJSON=function(){return this.isValid()?this.toISOString():null};Wa.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};Wa.unix=function(){return Math.floor(this.valueOf()/
	1E3)};Wa.valueOf=function(){return this._d.valueOf()-6E4*(this._offset||0)};Wa.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}};Wa.eraName=function(){var F,M=this.localeData().eras();var V=0;for(F=M.length;V<F;++V){var ja=this.clone().startOf("day").valueOf();if(M[V].since<=ja&&ja<=M[V].until||M[V].until<=ja&&ja<=M[V].since)return M[V].name}return""};Wa.eraNarrow=function(){var F,M=this.localeData().eras();var V=0;for(F=M.length;V<
	F;++V){var ja=this.clone().startOf("day").valueOf();if(M[V].since<=ja&&ja<=M[V].until||M[V].until<=ja&&ja<=M[V].since)return M[V].narrow}return""};Wa.eraAbbr=function(){var F,M=this.localeData().eras();var V=0;for(F=M.length;V<F;++V){var ja=this.clone().startOf("day").valueOf();if(M[V].since<=ja&&ja<=M[V].until||M[V].until<=ja&&ja<=M[V].since)return M[V].abbr}return""};Wa.eraYear=function(){var F,M=this.localeData().eras();var V=0;for(F=M.length;V<F;++V){var ja=M[V].since<=M[V].until?1:-1;var Ga=
	this.clone().startOf("day").valueOf();if(M[V].since<=Ga&&Ga<=M[V].until||M[V].until<=Ga&&Ga<=M[V].since)return(this.year()-C(M[V].since).year())*ja+M[V].offset}return this.year()};Wa.year=Dc;Wa.isLeapYear=function(){return ia(this.year())};Wa.weekYear=function(F){return kc.call(this,F,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)};Wa.isoWeekYear=function(F){return kc.call(this,F,this.isoWeek(),this.isoWeekday(),1,4)};Wa.quarter=Wa.quarters=function(F){return null==
	F?Math.ceil((this.month()+1)/3):this.month(3*(F-1)+this.month()%3)};Wa.month=va;Wa.daysInMonth=function(){return ka(this.year(),this.month())};Wa.week=Wa.weeks=function(F){var M=this.localeData().week(this);return null==F?M:this.add(7*(F-M),"d")};Wa.isoWeek=Wa.isoWeeks=function(F){var M=ra(this,1,4).week;return null==F?M:this.add(7*(F-M),"d")};Wa.weeksInYear=function(){var F=this.localeData()._week;return Oa(this.year(),F.dow,F.doy)};Wa.weeksInWeekYear=function(){var F=this.localeData()._week;return Oa(this.weekYear(),
	F.dow,F.doy)};Wa.isoWeeksInYear=function(){return Oa(this.year(),1,4)};Wa.isoWeeksInISOWeekYear=function(){return Oa(this.isoWeekYear(),1,4)};Wa.date=Fc;Wa.day=Wa.days=function(F){if(!this.isValid())return null!=F?this:NaN;var M=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=F){var V=this.localeData();"string"===typeof F&&(isNaN(F)?(F=V.weekdaysParse(F),F="number"===typeof F?F:null):F=parseInt(F,10));return this.add(F-M,"d")}return M};Wa.weekday=function(F){if(!this.isValid())return null!=
	F?this:NaN;var M=(this.day()+7-this.localeData()._week.dow)%7;return null==F?M:this.add(F-M,"d")};Wa.isoWeekday=function(F){if(!this.isValid())return null!=F?this:NaN;if(null!=F){var M=this.localeData();F="string"===typeof F?M.weekdaysParse(F)%7||7:isNaN(F)?null:F;return this.day(this.day()%7?F:F-7)}return this.day()||7};Wa.dayOfYear=function(F){var M=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==F?M:this.add(F-M,"d")};Wa.hour=Wa.hours=Tc;Wa.minute=Wa.minutes=
	Yc;Wa.second=Wa.seconds=Zc;Wa.millisecond=Wa.milliseconds=$c;Wa.utcOffset=function(F,M,V){var ja=this._offset||0,Ga;if(!this.isValid())return null!=F?this:NaN;if(null!=F){if("string"===typeof F){if(F=ub(sc,F),null===F)return this}else 16>Math.abs(F)&&!V&&(F*=60);!this._isUTC&&M&&(Ga=-Math.round(this._d.getTimezoneOffset()));this._offset=F;this._isUTC=!0;null!=Ga&&this.add(Ga,"m");ja!==F&&(!M||this._changeInProgress?vb(this,jb(F-ja,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,C.updateOffset(this,
	!0),this._changeInProgress=null));return this}return this._isUTC?ja:-Math.round(this._d.getTimezoneOffset())};Wa.utc=function(F){return this.utcOffset(0,F)};Wa.local=function(F){this._isUTC&&(this.utcOffset(0,F),this._isUTC=!1,F&&this.subtract(-Math.round(this._d.getTimezoneOffset()),"m"));return this};Wa.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var F=ub(Sc,this._i);null!=F?this.utcOffset(F):this.utcOffset(0,!0)}return this};Wa.hasAlignedHourOffset=
	function(F){if(!this.isValid())return!1;F=F?Na(F).utcOffset():0;return 0===(this.utcOffset()-F)%60};Wa.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};Wa.isLocal=function(){return this.isValid()?!this._isUTC:!1};Wa.isUtcOffset=function(){return this.isValid()?this._isUTC:!1};Wa.isUtc=db;Wa.isUTC=db;Wa.zoneAbbr=function(){return this._isUTC?"UTC":""};Wa.zoneName=function(){return this._isUTC?"Coordinated Universal Time":
	""};Wa.dates=u("dates accessor is deprecated. Use date instead.",Fc);Wa.months=u("months accessor is deprecated. Use month instead",va);Wa.years=u("years accessor is deprecated. Use year instead",Dc);Wa.zone=u("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(F,M){return null!=F?("string"!==typeof F&&(F=-F),this.utcOffset(F,M),this):-this.utcOffset()});Wa.isDSTShifted=u("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",
	function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var F={};t(F,this);F=Qa(F);if(F._a){var M=F._isUTC?a(F._a):Na(F._a);var V;if(V=this.isValid()){F=F._a;M=M.toArray();V=Math.min(F.length,M.length);var ja=Math.abs(F.length-M.length),Ga=0,Pa;for(Pa=0;Pa<V;Pa++)W(F[Pa])!==W(M[Pa])&&Ga++;V=0<Ga+ja}this._isDSTShifted=V}else this._isDSTShifted=!1;return this._isDSTShifted});var mb=r.prototype;mb.calendar=function(F,M,V){F=this._calendar[F]||this._calendar.sameElse;return m(F)?F.call(M,V):F};
	mb.longDateFormat=function(F){var M=this._longDateFormat[F],V=this._longDateFormat[F.toUpperCase()];if(M||!V)return M;this._longDateFormat[F]=V.match(Ka).map(function(ja){return"MMMM"===ja||"MM"===ja||"DD"===ja||"dddd"===ja?ja.slice(1):ja}).join("");return this._longDateFormat[F]};mb.invalidDate=function(){return this._invalidDate};mb.ordinal=function(F){return this._ordinal.replace("%d",F)};mb.preparse=Eb;mb.postformat=Eb;mb.relativeTime=function(F,M,V,ja){var Ga=this._relativeTime[V];return m(Ga)?
	Ga(F,M,V,ja):Ga.replace(/%d/i,F)};mb.pastFuture=function(F,M){F=this._relativeTime[0<F?"future":"past"];return m(F)?F(M):F.replace(/%s/i,M)};mb.set=function(F){var M;for(M in F)if(w(F,M)){var V=F[M];m(V)?this[M]=V:this["_"+M]=V}this._config=F;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)};mb.eras=function(F,M){var V=this._eras||Q("en")._eras;F=0;for(M=V.length;F<M;++F){switch(typeof V[F].since){case "string":var ja=
	C(V[F].since).startOf("day");V[F].since=ja.valueOf()}switch(typeof V[F].until){case "undefined":V[F].until=Infinity;break;case "string":ja=C(V[F].until).startOf("day").valueOf(),V[F].until=ja.valueOf()}}return V};mb.erasParse=function(F,M,V){var ja,Ga=this.eras();F=F.toUpperCase();var Pa=0;for(ja=Ga.length;Pa<ja;++Pa){var Ua=Ga[Pa].name.toUpperCase();var hb=Ga[Pa].abbr.toUpperCase();var pb=Ga[Pa].narrow.toUpperCase();if(V)switch(M){case "N":case "NN":case "NNN":if(hb===F)return Ga[Pa];break;case "NNNN":if(Ua===
	F)return Ga[Pa];break;case "NNNNN":if(pb===F)return Ga[Pa]}else if(0<=[Ua,hb,pb].indexOf(F))return Ga[Pa]}};mb.erasConvertYear=function(F,M){var V=F.since<=F.until?1:-1;return void 0===M?C(F.since).year():C(F.since).year()+(M-F.offset)*V};mb.erasAbbrRegex=function(F){w(this,"_erasAbbrRegex")||ac.call(this);return F?this._erasAbbrRegex:this._erasRegex};mb.erasNameRegex=function(F){w(this,"_erasNameRegex")||ac.call(this);return F?this._erasNameRegex:this._erasRegex};mb.erasNarrowRegex=function(F){w(this,
	"_erasNarrowRegex")||ac.call(this);return F?this._erasNarrowRegex:this._erasRegex};mb.months=function(F,M){return F?y(this._months)?this._months[F.month()]:this._months[(this._months.isFormat||Cc).test(M)?"format":"standalone"][F.month()]:y(this._months)?this._months:this._months.standalone};mb.monthsShort=function(F,M){return F?y(this._monthsShort)?this._monthsShort[F.month()]:this._monthsShort[Cc.test(M)?"format":"standalone"][F.month()]:y(this._monthsShort)?this._monthsShort:this._monthsShort.standalone};
	mb.monthsParse=function(F,M,V){var ja;if(this._monthsParseExact){a:{F=F.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],ja=0;12>ja;++ja){var Ga=a([2E3,ja]);this._shortMonthsParse[ja]=this.monthsShort(Ga,"").toLocaleLowerCase();this._longMonthsParse[ja]=this.months(Ga,"").toLocaleLowerCase()}if(V)M="MMM"===M?wb.call(this._shortMonthsParse,F):wb.call(this._longMonthsParse,F);else if("MMM"===M){M=wb.call(this._shortMonthsParse,F);
	if(-1!==M)break a;M=wb.call(this._longMonthsParse,F)}else{M=wb.call(this._longMonthsParse,F);if(-1!==M)break a;M=wb.call(this._shortMonthsParse,F)}M=-1!==M?M:null}return M}this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(ja=0;12>ja;ja++)if(Ga=a([2E3,ja]),V&&!this._longMonthsParse[ja]&&(this._longMonthsParse[ja]=new RegExp("^"+this.months(Ga,"").replace(".","")+"$","i"),this._shortMonthsParse[ja]=new RegExp("^"+this.monthsShort(Ga,"").replace(".","")+
	"$","i")),V||this._monthsParse[ja]||(Ga="^"+this.months(Ga,"")+"|^"+this.monthsShort(Ga,""),this._monthsParse[ja]=new RegExp(Ga.replace(".",""),"i")),V&&"MMMM"===M&&this._longMonthsParse[ja].test(F)||V&&"MMM"===M&&this._shortMonthsParse[ja].test(F)||!V&&this._monthsParse[ja].test(F))return ja};mb.monthsRegex=function(F){if(this._monthsParseExact)return w(this,"_monthsRegex")||Ea.call(this),F?this._monthsStrictRegex:this._monthsRegex;w(this,"_monthsRegex")||(this._monthsRegex=nc);return this._monthsStrictRegex&&
	F?this._monthsStrictRegex:this._monthsRegex};mb.monthsShortRegex=function(F){if(this._monthsParseExact)return w(this,"_monthsRegex")||Ea.call(this),F?this._monthsShortStrictRegex:this._monthsShortRegex;w(this,"_monthsShortRegex")||(this._monthsShortRegex=nc);return this._monthsShortStrictRegex&&F?this._monthsShortStrictRegex:this._monthsShortRegex};mb.week=function(F){return ra(F,this._week.dow,this._week.doy).week};mb.firstDayOfYear=function(){return this._week.doy};mb.firstDayOfWeek=function(){return this._week.dow};
	mb.weekdays=function(F,M){M=y(this._weekdays)?this._weekdays:this._weekdays[F&&!0!==F&&this._weekdays.isFormat.test(M)?"format":"standalone"];return!0===F?X(M,this._week.dow):F?M[F.day()]:M};mb.weekdaysMin=function(F){return!0===F?X(this._weekdaysMin,this._week.dow):F?this._weekdaysMin[F.day()]:this._weekdaysMin};mb.weekdaysShort=function(F){return!0===F?X(this._weekdaysShort,this._week.dow):F?this._weekdaysShort[F.day()]:this._weekdaysShort};mb.weekdaysParse=function(F,M,V){var ja;if(this._weekdaysParseExact)return U.call(this,
	F,M,V);this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]);for(ja=0;7>ja;ja++){var Ga=a([2E3,1]).day(ja);V&&!this._fullWeekdaysParse[ja]&&(this._fullWeekdaysParse[ja]=new RegExp("^"+this.weekdays(Ga,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[ja]=new RegExp("^"+this.weekdaysShort(Ga,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[ja]=new RegExp("^"+this.weekdaysMin(Ga,"").replace(".","\\.?")+"$","i"));
	this._weekdaysParse[ja]||(Ga="^"+this.weekdays(Ga,"")+"|^"+this.weekdaysShort(Ga,"")+"|^"+this.weekdaysMin(Ga,""),this._weekdaysParse[ja]=new RegExp(Ga.replace(".",""),"i"));if(V&&"dddd"===M&&this._fullWeekdaysParse[ja].test(F)||V&&"ddd"===M&&this._shortWeekdaysParse[ja].test(F)||V&&"dd"===M&&this._minWeekdaysParse[ja].test(F)||!V&&this._weekdaysParse[ja].test(F))return ja}};mb.weekdaysRegex=function(F){if(this._weekdaysParseExact)return w(this,"_weekdaysRegex")||oa.call(this),F?this._weekdaysStrictRegex:
	this._weekdaysRegex;w(this,"_weekdaysRegex")||(this._weekdaysRegex=nc);return this._weekdaysStrictRegex&&F?this._weekdaysStrictRegex:this._weekdaysRegex};mb.weekdaysShortRegex=function(F){if(this._weekdaysParseExact)return w(this,"_weekdaysRegex")||oa.call(this),F?this._weekdaysShortStrictRegex:this._weekdaysShortRegex;w(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=nc);return this._weekdaysShortStrictRegex&&F?this._weekdaysShortStrictRegex:this._weekdaysShortRegex};mb.weekdaysMinRegex=function(F){if(this._weekdaysParseExact)return w(this,
	"_weekdaysRegex")||oa.call(this),F?this._weekdaysMinStrictRegex:this._weekdaysMinRegex;w(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=nc);return this._weekdaysMinStrictRegex&&F?this._weekdaysMinStrictRegex:this._weekdaysMinRegex};mb.isPM=function(F){return"p"===(F+"").toLowerCase().charAt(0)};mb.meridiem=function(F,M,V){return 11<F?V?"pm":"PM":V?"am":"AM"};Ma("en",{eras:[{since:"0001-01-01",until:Infinity,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-Infinity,
	offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(F){var M=F%10;M=1===W(F%100/10)?"th":1===M?"st":2===M?"nd":3===M?"rd":"th";return F+M}});C.lang=u("moment.lang is deprecated. Use moment.locale instead.",Ma);C.langData=u("moment.langData is deprecated. Use moment.localeData instead.",Q);var Ob=Math.abs,ad=Ib("ms"),bd=Ib("s"),cd=Ib("m"),dd=Ib("h"),ed=Ib("d"),fd=Ib("w"),gd=Ib("M"),hd=Ib("Q"),id=Ib("y"),jd=rb("milliseconds"),kd=rb("seconds"),
	ld=rb("minutes"),md=rb("hours"),nd=rb("days"),od=rb("months"),pd=rb("years"),Pb=Math.round,fc={ss:44,s:45,m:45,h:22,d:26,w:null,M:11},wc=Math.abs,lb=ab.prototype;lb.isValid=function(){return this._isValid};lb.abs=function(){var F=this._data;this._milliseconds=Ob(this._milliseconds);this._days=Ob(this._days);this._months=Ob(this._months);F.milliseconds=Ob(F.milliseconds);F.seconds=Ob(F.seconds);F.minutes=Ob(F.minutes);F.hours=Ob(F.hours);F.months=Ob(F.months);F.years=Ob(F.years);return this};lb.add=
	function(F,M){return mc(this,F,M,1)};lb.subtract=function(F,M){return mc(this,F,M,-1)};lb.as=function(F){if(!this.isValid())return NaN;var M=this._milliseconds;F=O(F);if("month"===F||"quarter"===F||"year"===F){var V=this._days+M/864E5;V=this._months+4800*V/146097;switch(F){case "month":return V;case "quarter":return V/3;case "year":return V/12}}else switch(V=this._days+Math.round(146097*this._months/4800),F){case "week":return V/7+M/6048E5;case "day":return V+M/864E5;case "hour":return 24*V+M/36E5;
	case "minute":return 1440*V+M/6E4;case "second":return 86400*V+M/1E3;case "millisecond":return Math.floor(864E5*V)+M;default:throw Error("Unknown unit "+F);}};lb.asMilliseconds=ad;lb.asSeconds=bd;lb.asMinutes=cd;lb.asHours=dd;lb.asDays=ed;lb.asWeeks=fd;lb.asMonths=gd;lb.asQuarters=hd;lb.asYears=id;lb.valueOf=function(){return this.isValid()?this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*W(this._months/12):NaN};lb._bubble=function(){var F=this._milliseconds,M=this._days,V=this._months,
	ja=this._data;0<=F&&0<=M&&0<=V||0>=F&&0>=M&&0>=V||(F+=864E5*pc(146097*V/4800+M),V=M=0);ja.milliseconds=F%1E3;F=ca(F/1E3);ja.seconds=F%60;F=ca(F/60);ja.minutes=F%60;F=ca(F/60);ja.hours=F%24;M+=ca(F/24);F=ca(4800*M/146097);V+=F;M-=pc(146097*F/4800);F=ca(V/12);ja.days=M;ja.months=V%12;ja.years=F;return this};lb.clone=function(){return jb(this)};lb.get=function(F){F=O(F);return this.isValid()?this[F+"s"]():NaN};lb.milliseconds=jd;lb.seconds=kd;lb.minutes=ld;lb.hours=md;lb.days=nd;lb.weeks=function(){return ca(this.days()/
	7)};lb.months=od;lb.years=pd;lb.humanize=function(F,M){if(!this.isValid())return this.localeData().invalidDate();var V=!1,ja=fc;"object"===typeof F&&(M=F,F=!1);"boolean"===typeof F&&(V=F);"object"===typeof M&&(ja=Object.assign({},fc,M),null!=M.s&&null==M.ss&&(ja.ss=M.s-1));F=this.localeData();M=!V;var Ga=jb(this).abs(),Pa=Pb(Ga.as("s")),Ua=Pb(Ga.as("m")),hb=Pb(Ga.as("h")),pb=Pb(Ga.as("d")),ib=Pb(Ga.as("M")),xb=Pb(Ga.as("w"));Ga=Pb(Ga.as("y"));Pa=Pa<=ja.ss&&["s",Pa]||Pa<ja.s&&["ss",Pa]||1>=Ua&&["m"]||
	Ua<ja.m&&["mm",Ua]||1>=hb&&["h"]||hb<ja.h&&["hh",hb]||1>=pb&&["d"]||pb<ja.d&&["dd",pb];null!=ja.w&&(Pa=Pa||1>=xb&&["w"]||xb<ja.w&&["ww",xb]);Pa=Pa||1>=ib&&["M"]||ib<ja.M&&["MM",ib]||1>=Ga&&["y"]||["yy",Ga];Pa[2]=M;Pa[3]=0<+this;Pa[4]=F;M=P.apply(null,Pa);V&&(M=F.pastFuture(+this,M));return F.postformat(M)};lb.toISOString=za;lb.toString=za;lb.toJSON=za;lb.locale=Kb;lb.localeData=Qb;lb.toIsoString=u("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",za);lb.lang=Ec;
	D("X",0,0,"unix");D("x",0,0,"valueOf");K("x",rc);K("X",/[+-]?\d+(\.\d{1,3})?/);R("X",function(F,M,V){V._d=new Date(1E3*parseFloat(F))});R("x",function(F,M,V){V._d=new Date(W(F))});C.version="2.29.1";var Gc=Na;C.fn=Wa;C.min=function(){var F=[].slice.call(arguments,0);return eb("isBefore",F)};C.max=function(){var F=[].slice.call(arguments,0);return eb("isAfter",F)};C.now=function(){return Date.now?Date.now():+new Date};C.utc=a;C.unix=function(F){return Na(1E3*F)};C.months=function(F,M){return lc(F,
	M,"months")};C.isDate=h;C.locale=Ma;C.invalid=q;C.duration=jb;C.isMoment=p;C.weekdays=function(F,M,V){return cc(F,M,V,"weekdays")};C.parseZone=function(){return Na.apply(null,arguments).parseZone()};C.localeData=Q;C.isDuration=gb;C.monthsShort=function(F,M){return lc(F,M,"monthsShort")};C.weekdaysMin=function(F,M,V){return cc(F,M,V,"weekdaysMin")};C.defineLocale=J;C.updateLocale=function(F,M){if(null!=M){var V=xc;if(null!=sb[F]&&null!=sb[F].parentLocale)sb[F].set(v(sb[F]._config,M));else{var ja=bb(F);
	null!=ja&&(V=ja._config);M=v(V,M);null==ja&&(M.abbr=F);M=new r(M);M.parentLocale=sb[F];sb[F]=M}Ma(F)}else null!=sb[F]&&(null!=sb[F].parentLocale?(sb[F]=sb[F].parentLocale,F===Ma()&&Ma(F)):null!=sb[F]&&delete sb[F]);return sb[F]};C.locales=function(){return Da(sb)};C.weekdaysShort=function(F,M,V){return cc(F,M,V,"weekdaysShort")};C.normalizeUnits=O;C.relativeTimeRounding=function(F){return void 0===F?Pb:"function"===typeof F?(Pb=F,!0):!1};C.relativeTimeThreshold=function(F,M){if(void 0===fc[F])return!1;
	if(void 0===M)return fc[F];fc[F]=M;"s"===F&&(fc.ss=M-1);return!0};C.calendarFormat=function(F,M){F=F.diff(M,"days",!0);return-6>F?"sameElse":-1>F?"lastWeek":0>F?"lastDay":1>F?"sameDay":2>F?"nextDay":7>F?"nextWeek":"sameElse"};C.prototype=Wa;C.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};return C})},
	"esri/arcadeProfiles/visualizationProfile":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../promiseList ../support/expressionUtils ./utils".split(" "),function(C,y,b,w,n,l,k){C=new (C(null,{declaredClass:"esri.arcadeProfiles.VisualizationProfile",initialize:function(h){var f=[];k.hasGeometryOperations(h)&&f.push(l.enableGeometryOperations());return n(f)}}));b("extend-esri")&&y.setObject("arcadeProfiles.visualizationProfile",C,w);return C})},"esri/arcadeProfiles/utils":function(){define(["dojo/_base/lang",
	"dojo/_base/array","dojo/has","../kernel","../support/expressionUtils"],function(C,y,b,w,n){var l=/(\/(MapServer|FeatureServer)).*/ig,k={hasGeometryOperations:function(h){return y.some(h,function(f){return f.hasGeometryOperations?f.hasGeometryOperations():n.hasGeometryOperations(f)})},hasFeatureSetOperations:function(h){return y.some(h,function(f){return f.hasFeatureSetOperations?f.hasFeatureSetOperations():n.hasFeatureSetOperations(f)})},hasVariables:function(h,f){return y.some(h,function(d){return y.some(f,
	function(a){return d.hasVariable?d.hasVariable(a):n.hasVariable(d,a)})})},isAsync:function(h){return y.some(h,function(f){return f.async})},getServiceUrl:function(h){return l.test(h)?h.replace(l,"$1"):null}};b("extend-esri")&&C.setObject("arcadeProfiles.utils",k,w);return k})},"esri/renderers/SimpleRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ../symbols/jsonUtils ./Renderer".split(" "),function(C,y,b,w,n,l,k){C=C(k,{declaredClass:"esri.renderer.SimpleRenderer",
	constructor:function(h,f){if(h&&!h.declaredClass){var d=h;this.symbol=(h=d.symbol)&&(h.declaredClass?h:l.fromJson(h,f));this.label=d.label;this.description=d.description}else this.symbol=h},getSymbol:function(h){return this.symbol},toJson:function(){var h=y.mixin(this.inherited(arguments),{type:"simple",label:this.label,description:this.description,symbol:this.symbol&&this.symbol.toJson()});return n.fixJson(h)}});b("extend-esri")&&y.setObject("renderer.SimpleRenderer",C,w);return C})},"esri/renderers/UniqueValueRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../symbols/jsonUtils ./Renderer ../support/expressionUtils".split(" "),
	function(C,y,b,w,n,l,k,h,f){C=C(h,{declaredClass:"esri.renderer.UniqueValueRenderer",constructor:function(d,a,c,e,q,t){this.values=[];this._symbols={};this.infos=[];d&&!d.declaredClass?(a=d,c=t&&t.geometryType,this.defaultSymbol=(d=a.defaultSymbol)&&(d.declaredClass?d:k.fromJson(d,t)),this.attributeField=a.field1,this.attributeField2=a.field2,this.attributeField3=a.field3,this.fieldDelimiter=a.fieldDelimiter,this.defaultLabel=a.defaultLabel,this.setValueExpression(a.valueExpression),this.valueExpressionTitle=
	a.valueExpressionTitle,this.legendOptions=a.legendOptions,a.backgroundFillSymbol&&(this.backgroundFillSymbol=k.fromJson(a.backgroundFillSymbol,c?{geometryType:"esriGeometryPolygon"}:null)),"esriGeometryPolygon"===c&&this.hasVisualVariables("sizeInfo",!1)&&(t={geometryType:"esriGeometryPoint"}),y.forEach(a.uniqueValueInfos,function(g){this._addValueInfo(g,t)},this)):(this.defaultSymbol=d,this.attributeField=a,this.attributeField2=c,this.attributeField3=e,this.fieldDelimiter=q);this._multiple=!!this.attributeField2},
	addValue:function(d,a){d=b.isObject(d)?d:{value:d,symbol:a};this._addValueInfo(d)},removeValue:function(d){var a=y.indexOf(this.values,d);-1!==a&&(this.values.splice(a,1),this._hasNullKeyword=this._evalNullKeyword(this.values),delete this._symbols[d],this.infos.splice(a,1))},getUniqueValueInfo:function(d){var a=this.attributeField,c=d.attributes;if(this.valueExpression)a=this._getDataValue(d,this._uvInfo,null,this._cache.uvInfo),a=this._normalizeNullValue(a);else if(this._multiple){d=this.attributeField2;
	var e=this.attributeField3,q=[];a&&q.push(this._normalizeNullValue(c[a]));d&&q.push(this._normalizeNullValue(c[d]));e&&q.push(this._normalizeNullValue(c[e]));a=q.join(this.fieldDelimiter||"")}else a=b.isFunction(a)?a(d):c[a],a=this._normalizeNullValue(a);return this._symbols[a]},setValueExpression:function(d){this.valueExpression=d;this._uvInfo={valueExpression:d};this._cache.uvInfo=this._createCache(this._uvInfo,!0)},getFieldsUsedInExpressions:function(){var d=this.inherited(arguments);this.valueExpression&&
	(d=d.concat(f.extractFieldNames(this.valueExpression)));d.sort();return y.filter(d,function(a,c){return 0===c||d[c-1]!==a})},getSymbol:function(d){return(d=this.getUniqueValueInfo(d))&&d.symbol||this.defaultSymbol},_addValueInfo:function(d,a){var c=d.value;this.values.push(c);this._hasNullKeyword=this._evalNullKeyword(this.values);this.infos.push(d);var e=d.symbol;e&&!e.declaredClass&&(d.symbol=k.fromJson(e,a));this._symbols[c]=d},_nullCode:"\x3cNull\x3e",_normalizeNullValue:function(d){return this._hasNullKeyword&&
	null==d?this._nullCode:d},_evalNullKeyword:function(d){var a=this.fieldDelimiter||"",c=new RegExp("(^|"+a+")("+this._nullCode+")("+a+"|$)");return y.some(d,function(e){return c.test(e)})},toJson:function(){var d=l.fixJson;var a={type:"uniqueValue",field1:this.attributeField,field2:this.attributeField2,field3:this.attributeField3,fieldDelimiter:this.fieldDelimiter,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:b.clone(this.legendOptions),defaultSymbol:this.defaultSymbol&&
	this.defaultSymbol.toJson(),defaultLabel:this.defaultLabel,uniqueValueInfos:y.map(this.infos||[],function(c){c=b.mixin({},c);c.symbol=c.symbol&&c.symbol.toJson();c.value+="";return d(c)})};this.backgroundFillSymbol&&(a.backgroundFillSymbol=this.backgroundFillSymbol.toJson());a=b.mixin(this.inherited(arguments),a);return d(a)}});w("extend-esri")&&b.setObject("renderer.UniqueValueRenderer",C,n);return C})},"esri/renderers/ClassBreaksRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../symbols/jsonUtils ./Renderer ../support/expressionUtils".split(" "),
	function(C,y,b,w,n,l,k,h,f){C=C(h,{declaredClass:"esri.renderer.ClassBreaksRenderer",constructor:function(d,a,c){this.breaks=[];this._symbols={};this.infos=[];this.isMaxInclusive=!0;if(d&&!d.declaredClass){var e=d;a=c&&c.geometryType;this.attributeField=e.field;this.setValueExpression(e.valueExpression);this.valueExpressionTitle=e.valueExpressionTitle;this.legendOptions=e.legendOptions;this.defaultSymbol=(d=e.defaultSymbol)&&(d.declaredClass?d:k.fromJson(d,c));this.backgroundFillSymbol=(d=e.backgroundFillSymbol)&&
	(d.declaredClass?d:k.fromJson(d,a?{geometryType:"esriGeometryPolygon"}:null));this._copy(["defaultLabel","classificationMethod:rest","normalizationType:rest","normalizationField","normalizationTotal"],e,this);var q=e.minValue;(d=e.classBreakInfos)&&d[0]&&l.isDefined(d[0].classMaxValue)&&y.forEach(d,function(t){var g=t.classMaxValue;t.minValue=q;q=t.maxValue=g},this);"esriGeometryPolygon"===a&&(this.hasVisualVariables("sizeInfo",!1)||k.isPointSymbol(k.getFirstSupportedSymbol(y.map(d,function(t){return t.symbol}))))&&
	(c={geometryType:"esriGeometryPoint"});y.forEach(d,function(t){this._addBreakInfo(t,c)},this)}else this.defaultSymbol=d,this.attributeField=a},addBreak:function(d,a,c){d=b.isObject(d)?d:{minValue:d,maxValue:a,symbol:c};this._addBreakInfo(d)},removeBreak:function(d,a){var c=this.breaks,e,q=c.length,t=this._symbols;for(e=0;e<q;e++){var g=c[e];if(g[0]==d&&g[1]==a){c.splice(e,1);delete t[d+"-"+a];this.infos.splice(e,1);break}}},clearBreaks:function(){this.breaks=[];this._symbols={};this.infos=[]},getBreakIndex:function(d){var a=
	this.attributeField,c=d.attributes,e=this.breaks,q=e.length,t=this.isMaxInclusive;if(this.valueExpression)d=this._getDataValue(d,this._cbInfo,null,this._cache.cbInfo);else if(b.isFunction(a))d=a(d);else if(d=parseFloat(c[a]),a=this.normalizationType,a){var g=parseFloat(this.normalizationTotal);c=parseFloat(c[this.normalizationField]);if("log"===a)d=Math.log(d)*Math.LOG10E;else if("percent-of-total"===a&&!isNaN(g))d=d/g*100;else if("field"===a){if(isNaN(d)||isNaN(c))return-1;d/=c}}if(null!=d&&!isNaN(d)&&
	"number"===typeof d)for(c=0;c<q;c++)if(a=e[c],a[0]<=d&&(t?d<=a[1]:d<a[1]))return c;return-1},getBreakInfo:function(d){d=this.getBreakIndex(d);return-1!==d?this.infos[d]:null},getSymbol:function(d){return(d=this.breaks[this.getBreakIndex(d)])?this._symbols[d[0]+"-"+d[1]]:this.defaultSymbol},setMaxInclusive:function(d){this.isMaxInclusive=d},setValueExpression:function(d){this.valueExpression=d;this._cbInfo={valueExpression:d};this._cache.cbInfo=this._createCache(this._cbInfo)},getFieldsUsedInExpressions:function(){var d=
	this.inherited(arguments);this.valueExpression&&(d=d.concat(f.extractFieldNames(this.valueExpression)));d.sort();return y.filter(d,function(a,c){return 0===c||d[c-1]!==a})},isContinuousRenderer:function(){var d=!1;if(this.infos&&1===this.infos.length){var a=this.attributeField,c=this.normalizationField,e=this.valueExpression;d=this.getVisualVariablesForType("colorInfo",!1)||[];var q=this.getVisualVariablesForType("sizeInfo",!1)||[],t=this.getVisualVariablesForType("opacityInfo",!1)||[];d=d.concat(q).concat(t);
	d=y.some(d,function(g){return(g.field===a||g.valueExpression===e)&&g.normalizationField==c})}return d},_normalizationTypeEnums:[["field","esriNormalizeByField"],["log","esriNormalizeByLog"],["percent-of-total","esriNormalizeByPercentOfTotal"]],_classificationMethodEnums:[["natural-breaks","esriClassifyNaturalBreaks"],["equal-interval","esriClassifyEqualInterval"],["quantile","esriClassifyQuantile"],["standard-deviation","esriClassifyStandardDeviation"],["geometrical-interval","esriClassifyGeometricalInterval"],
	["defined-interval","esriClassifyDefinedInterval"]],_copy:function(d,a,c){y.forEach(d,function(e){var q=e.split(":");if(1<q.length){e=q[0];var t=this["_"+e+"Enums"];if("rest"===q[1]){var g="1";var p="0"}else"sdk"===q[1]&&(g="0",p="1")}q=a[e];if(void 0!==q&&(c[e]=q,t&&g)){var x,u=t.length;for(x=0;x<u;x++)if(t[x][g]===q){c[e]=t[x][p];break}}},this)},_addBreakInfo:function(d,a){var c=d.minValue,e=d.maxValue;this.breaks.push([c,e]);this.infos.push(d);var q=d.symbol;q&&!q.declaredClass&&(d.symbol=k.fromJson(q,
	a));this._symbols[c+"-"+e]=d.symbol},toJson:function(){var d=this.infos||[],a=l.fixJson,c=d[0]&&d[0].minValue,e=this.backgroundFillSymbol;d=b.mixin(this.inherited(arguments),{type:"classBreaks",field:this.attributeField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:b.clone(this.legendOptions),defaultSymbol:this.defaultSymbol&&this.defaultSymbol.toJson(),backgroundFillSymbol:e&&e.toJson(),minValue:-Infinity===c?-Number.MAX_VALUE:c,classBreakInfos:y.map(d,
	function(q){q=b.mixin({},q);q.symbol=q.symbol&&q.symbol.toJson();q.classMaxValue=Infinity===q.maxValue?Number.MAX_VALUE:q.maxValue;delete q.minValue;delete q.maxValue;return a(q)})});this._copy(["defaultLabel","classificationMethod:sdk","normalizationType:sdk","normalizationField","normalizationTotal"],this,d);d.hasOwnProperty("normalizationType")&&!d.normalizationType&&delete d.normalizationType;d.hasOwnProperty("classificationMethod")&&!d.classificationMethod&&delete d.classificationMethod;return a(d)}});
	w("extend-esri")&&b.setObject("renderer.ClassBreaksRenderer",C,n);return C})},"esri/renderers/TemporalRenderer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","./Renderer"],function(C,y,b,w,n){C=C(n,{declaredClass:"esri.renderer.TemporalRenderer",constructor:function(l,k,h,f){this.observationRenderer=l;this.latestObservationRenderer=k;this.trackRenderer=h;this.observationAger=f},getSymbol:function(l){var k=l.getLayer(),h=this.getObservationRenderer(l),f=h&&h.getSymbol(l),
	d=this.observationAger;k.timeInfo&&k._map.timeExtent&&h===this.observationRenderer&&d&&f&&(f=d.getAgedSymbol(f,l));return f},getObservationRenderer:function(l){return 0===l.getLayer()._getKind(l)?this.observationRenderer:this.latestObservationRenderer||this.observationRenderer},toJson:function(){var l={type:"temporal"};l.observationRenderer=this.observationRenderer.toJson();this.latestObservationRenderer&&(l.latestObservationRenderer=this.latestObservationRenderer.toJson());this.trackRenderer&&(l.trackRenderer=
	this.trackRenderer.toJson());this.observationAger&&(l.observationAger=this.observationAger.toJson());return l}});b("extend-esri")&&y.setObject("renderer.TemporalRenderer",C,w);return C})},"esri/renderers/SymbolAger":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(C,y,b,w){C=C(null,{declaredClass:"esri.renderer.SymbolAger",getAgedSymbol:function(n,l){},_setSymbolSize:function(n,l){switch(n.type){case "simplemarkersymbol":n.setSize(l);break;case "picturemarkersymbol":n.setWidth(l);
	n.setHeight(l);break;case "simplelinesymbol":case "cartographiclinesymbol":n.setWidth(l);break;case "simplefillsymbol":case "picturefillsymbol":n.outline&&n.outline.setWidth(l)}}});b("extend-esri")&&y.setObject("renderer.SymbolAger",C,w);return C})},"esri/renderers/TimeClassBreaksAger":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has dojo/date ../kernel ../lang ../symbols/jsonUtils ../Color ./SymbolAger".split(" "),function(C,y,b,w,n,l,k,h,f,d){var a=C(d,{declaredClass:"esri.renderer.TimeClassBreaksAger",
	constructor:function(c,e){this.infos=c;this.timeUnits=e||"day";c.sort(function(q,t){return q.minAge<t.minAge?-1:q.minAge>t.minAge?1:0})},getAgedSymbol:function(c,e){var q=e.getLayer();e=e.attributes;var t=k.isDefined;c=h.fromJson(c.toJson());var g=q._map.timeExtent.endTime;if(!g)return c;var p=n.difference(new Date(e[q._startTimeField]),g,this.timeUnits);y.some(this.infos,function(x){if(p>=x.minAge&&p<=x.maxAge){var u=x.color,A=x.size;x=x.alpha;u&&c.setColor(u);t(A)&&this._setSymbolSize(c,A);t(x)&&
	c.color&&(c.color.a=x);return!0}},this);return c},toJson:function(){var c={agerClassBreakInfos:[]},e;c.timeUnits=this._getRestUnits(this.timeUnits);for(e=0;e<this.infos.length;e+=1){var q=this.infos[e];var t={};t.oldestAge=Infinity===q.maxAge?null:q.maxAge;t.size=q.size;q.color&&(t.color=f.toJsonColor(q.color));q.alpha&&(t.alpha=Math.round(255*q.alpha));c.agerClassBreakInfos[e]=t}return c},_getRestUnits:function(c){var e="esriTimeUnitsDays";switch(c){case a.UNIT_SECONDS:e="esriTimeUnitsSeconds";break;
	case a.UNIT_MILLISECONDS:e="esriTimeUnitsMilliseconds";break;case a.UNIT_HOURS:e="esriTimeUnitsHours";break;case a.UNIT_MINUTES:e="esriTimeUnitsMinutes";break;case a.UNIT_MONTHS:e="esriTimeUnitsMonths";break;case a.UNIT_WEEKS:e="esriTimeUnitsWeeks";break;case a.UNIT_YEARS:e="esriTimeUnitsYears"}return e}});b.mixin(a,{UNIT_DAYS:"day",UNIT_HOURS:"hour",UNIT_MILLISECONDS:"millisecond",UNIT_MINUTES:"minute",UNIT_MONTHS:"month",UNIT_SECONDS:"second",UNIT_WEEKS:"week",UNIT_YEARS:"year"});w("extend-esri")&&
	b.setObject("renderer.TimeClassBreaksAger",a,l);return a})},"esri/renderers/TimeRampAger":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/Color dojo/has ../kernel ../symbols/jsonUtils ../Color ./SymbolAger".split(" "),function(C,y,b,w,n,l,k,h){C=C(h,{declaredClass:"esri.renderer.TimeRampAger",constructor:function(f,d,a){this.colorRange=f;this.sizeRange=d;this.alphaRange=a},getAgedSymbol:function(f,d){var a=d.getLayer(),c=d.attributes;f=l.fromJson(f.toJson());var e=a._map.timeExtent;
	d=e.startTime;e=e.endTime;if(!d||!e)return f;d=d.getTime();e=e.getTime();a=new Date(c[a._startTimeField]);a=a.getTime();a<d&&(a=d);a=e===d?1:(a-d)/(e-d);if(d=this.sizeRange)c=d[0],e=d[1],d=Math.abs(e-c)*a,this._setSymbolSize(f,c<e?c+d:c-d);if(d=this.colorRange){e=d[0];var q=d[1],t=Math.round;c=new b;var g=e.r,p=q.r;d=Math.abs(p-g)*a;c.r=t(g<p?g+d:g-d);g=e.g;p=q.g;d=Math.abs(p-g)*a;c.g=t(g<p?g+d:g-d);g=e.b;p=q.b;d=Math.abs(p-g)*a;c.b=t(g<p?g+d:g-d);e=e.a;q=q.a;d=Math.abs(q-e)*a;c.a=e<q?e+d:e-d;f.setColor(c)}c=
	f.color;(d=this.alphaRange)&&c&&(e=d[0],q=d[1],d=Math.abs(q-e)*a,c.a=e<q?e+d:e-d);return f},toJson:function(){var f={};this.sizeRange&&(f.sizeRange=this.sizeRange);this.colorRange&&(f.colorRange=[k.toJsonColor(this.colorRange[0]),k.toJsonColor(this.colorRange[1])]);this.alphaRange&&(f.alphaRange=[Math.round(255*this.alphaRange[0]),Math.round(255*this.alphaRange[1])]);return f}});w("extend-esri")&&y.setObject("renderer.TimeRampAger",C,n);return C})},"esri/renderers/StretchRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../layers/RasterFunction ./colorRampUtils".split(" "),
	function(C,y,b,w,n,l,k,h){var f={TYPE_NONE:"none",TYPE_STANDARDDEVIATION:"standardDeviation",TYPE_HISTOGRAMEQUALIZATION:"histogramEqualization",TYPE_MINMAX:"minMax",TYPE_PERCENTCLIP:"percentClip",TYPE_SIGMOID:"sigmoid"};C=C(null,{declaredClass:"esri.renderer.StretchRenderer",constructor:function(d){d=d||{};this.stretchType=f.TYPE_NONE;this.dra=!0;this.statistics=[];this.gamma=[];this.computeGamma=this.useGamma=!1;this.sigmoidStrengthLevel=this.numberOfStandardDeviations=this.minPercent=this.maxPercent=
	this.min=this.max=null;b.mixin(this,d);this.colorRamp=h.fromJson(d.colorRamp)},toJson:function(){var d={type:"rasterStretch",stretchType:this.stretchType,colorRamp:this.colorRamp&&this.colorRamp.toJson(),min:this.min,max:this.max,numberOfStandardDeviations:this.numberOfStandardDeviations,statistics:b.clone(this.statistics),dra:this.dra,minPercent:this.minPercent,maxPercent:this.maxPercent,useGamma:this.useGamma,gamma:b.clone(this.gamma),computeGamma:this.computeGamma,sigmoidStrengthLevel:this.sigmoidStrengthLevel};
	return l.fixJson(d)},toRenderingRule:function(d){d=d||{};var a=new k;a.functionName="Stretch";var c=this._convertStretchTypeEnumToIndex(this.stretchType),e={StretchType:c,Statistics:this.statistics,DRA:this.dra,UseGamma:this.useGamma,Gamma:this.gamma,ComputeGamma:this.computeGamma};l.isDefined(this.min)&&(e.Min=this.min);l.isDefined(this.min)&&(e.Max=this.max);3===c?(e.NumberOfStandardDeviations=this.numberOfStandardDeviations,a.outputPixelType="U8"):6===c?(e.MinPercent=parseFloat(this.minPercent),
	e.MaxPercent=parseFloat(this.maxPercent),a.outputPixelType="U8"):5===c?a.outputPixelType="U8":9===c&&(e.SigmoidStrengthLevel=this.sigmoidStrengthLevel);a.functionArguments=e;a.variableName="Raster";return this.colorRamp?(c=new k,c.functionArguments=d.convertToColormap?{Colormap:h.convertColorRampToColormap(this.colorRamp,256)}:{colorRamp:this.colorRamp.toJson()},c.variableName="Raster",c.functionName="Colormap",c.functionArguments.Raster=a,c):a},_convertStretchTypeEnumToIndex:function(d){var a=0;
	d===f.TYPE_STANDARDDEVIATION?a=3:d===f.TYPE_HISTOGRAMEQUALIZATION?a=4:d===f.TYPE_MINMAX?a=5:d===f.TYPE_PERCENTCLIP?a=6:d===f.TYPE_SIGMOID&&(a=9);return a},_convertStretchTypeIndexToEnum:function(d){var a=f.TYPE_NONE;3===d?a=f.TYPE_STANDARDDEVIATION:4===d?a=f.TYPE_HISTOGRAMEQUALIZATION:5===d?a=f.TYPE_MINMAX:6===d?a=f.TYPE_PERCENTCLIP:9===d&&(a=f.TYPE_SIGMOID);return a}});b.mixin(C,f);w("extend-esri")&&b.setObject("renderer.StretchRenderer",C,n);return C})},"esri/layers/RasterFunction":function(){define(["dojo/_base/declare",
	"dojo/_base/lang","dojo/has","../kernel","../lang"],function(C,y,b,w,n){var l=C(null,{declaredClass:"esri.layers.RasterFunction",functionName:null,arguments:null,functionArguments:null,variableName:null,outputPixelType:null,_isTemplate:null,_templateJson:null,constructor:function(k){if(y.isObject(k)){this._isRFTJson(k)&&(this._isTemplate=!0,this._templateJson=k);var h=0;this.functionName=k.rasterFunction||k.name;this.functionArguments=y.clone(k.rasterFunctionArguments||k.arguments);y.mixin(this,k);
	if(k=this.functionArguments)if(k.Raster=this._toRasterFunction(k.Raster),k.Raster2=this._toRasterFunction(k.Raster2),k.DEM=this._toRasterFunction(k.DEM),k.FillRaster=this._toRasterFunction(k.FillRaster),k.Rasters&&k.Rasters.length)for(h=0;h<k.Rasters.length;h++)k.Rasters[h]=this._toRasterFunction(k.Rasters[h])}},_isRFTJson:function(k){return k.name&&k.arguments&&k.function&&k.hasOwnProperty("functionType")},_toRasterFunction:function(k){return k&&(k.rasterFunction||k.functionName)?new l(k):k},_rfToJson:function(k){k&&
	"esri.layers.RasterFunction"===k.declaredClass&&(k=k.toJson());return k},toJson:function(){if(this._isTemplate)return this._templateJson;var k=y.clone(this.functionArguments||this.arguments);if(k&&(k.Raster=this._rfToJson(k.Raster),k.Raster2=this._rfToJson(k.Raster2),k.DEM=this._rfToJson(k.DEM),k.FillRaster=this._rfToJson(k.FillRaster),k.Rasters&&k.Rasters.length)){var h,f=[];for(h=0;h<k.Rasters.length;h++)f.push(this._rfToJson(k.Rasters[h]));k.Rasters=f}return n.filter({rasterFunction:this.functionName,
	rasterFunctionArguments:k,variableName:this.variableName,outputPixelType:this.outputPixelType?this.outputPixelType:null},function(d){if(null!==d&&void 0!==d)return!0})}});b("extend-esri")&&y.setObject("layers.RasterFunction",l,w);return l})},"esri/renderers/colorRampUtils":function(){define("dojo/_base/lang dojo/_base/array dojo/store/Memory ../tasks/AlgorithmicColorRamp ../tasks/MultipartColorRamp ../Color ./colorUtils".split(" "),function(C,y,b,w,n,l,k){function h(u){if(null==u||"algorithmic"!==
	u.type&&!u.fromColor)return u;var A=u.declaredClass?new w:C.clone(u);A.fromColor=u.toColor;A.toColor=u.fromColor;A.algorithm=u.algorithm;return A}function f(u){if(null==u)return null;if("multipart"===u.type||u.colorRamps&&0<u.colorRamps.length){var A=u.declaredClass?new n:C.clone(u);A.colorRamps=y.map(u.colorRamps.slice().reverse(),function(m){return h(m)});return A}return h(u)}function d(u,A,m){if(!u)return{id:null,isInverted:!1};var v=u.name;v&&(u.fromColor||u.colorRamps)&&(u.name=void 0);var r=
	a(u,A,m);if(r)return v&&(u.name=v),{id:r,isInverted:!1};r=a(u,A,m,!0);v&&(u.name=v);return r?{id:r,isInverted:!0}:v&&(r=a(u,A,m))?{id:r,isInverted:!1}:{id:null,isInverted:!1}}function a(u,A,m,v){if(u){v&&(u=f(u));A=A||g;m=m||p;var r=null;v=u.declaredClass;var B,D;if((B="string"===typeof u?u:u.name)&&y.some(m,function(G){if(G.name===B)return r=G.id,!0})&&r)return r;"esri.tasks.AlgorithmicColorRamp"===v?y.some(A,function(G){if(e(u.fromColor.toRgb(),G.fromColor)&&e(u.toColor.toRgb(),G.toColor))return r=
	G.id,!0},this):"esri.tasks.MultipartColorRamp"===v&&y.some(A,function(G){if(u.colorRamps&&G.colorRamps&&u.colorRamps.length===G.colorRamps.length&&(D=u.colorRamps,!y.some(G.colorRamps,function(z,E){if(!e(D[E].fromColor.toRgb(),z.fromColor)||!e(D[E].toColor.toRgb(),z.toColor))return!0},this))){if(r)return!0;r=G.id}},this);return r}}function c(u){var A=new w,m=u.algorithm;A.fromColor=l.toDojoColor(u.fromColor);A.toColor=l.toDojoColor(u.toColor);m?"esriCIELabAlgorithm"===m?A.algorithm="cie-lab":"esriHSVAlgorithm"===
	m?A.algorithm="hsv":"esriLabLChAlgorithm"===m&&(A.algorithm="lab-lch"):A.algorithm="hsv";return A}function e(u,A){if(!u||!A)return!1;u=u.slice(0,3);A=A.slice(0,3);return!y.some(u,function(m,v){if(m>A[v]+2||m<A[v]-2)return!0})}function q(u,A,m){u=k.toLAB(u);A=k.toLAB(A);return k.toRGB({l:u.l*(1-m)+m*A.l,a:u.a*(1-m)+m*A.a,b:u.b*(1-m)+m*A.b})}var t={},g=[{id:"none",selected:!0},{id:"aspect_predefined",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,
	181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"blackToWhite_predefined",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blueBright_predefined",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blueLightToDark_predefined",fromColor:[211,
	229,232],toColor:[46,100,140]},{id:"blueGreenBright_predefined",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blueGreenLightToDark_predefined",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brownLightToDark_predefined",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brownToBlueGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brownToBlueGreenDivergingDark_predefined",type:"multipart",
	colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"cividis_predefined",type:"multipart",colorRamps:[{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,32,77,255],toColor:[0,33,79,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,33,79,255],toColor:[0,34,80,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,34,80,255],toColor:[0,35,82,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[0,35,82,255],toColor:[0,35,84,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,35,84,255],toColor:[0,36,85,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,36,85,255],toColor:[0,37,87,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,37,87,255],toColor:[0,38,89,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,38,89,255],toColor:[0,38,91,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,
	38,91,255],toColor:[0,39,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,39,92,255],toColor:[0,40,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,40,94,255],toColor:[0,40,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,40,96,255],toColor:[0,41,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,41,98,255],toColor:[0,42,100,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,42,100,
	255],toColor:[0,42,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,42,101,255],toColor:[0,43,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,43,103,255],toColor:[0,44,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,44,105,255],toColor:[0,45,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,45,107,255],toColor:[0,45,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,45,
	109,255],toColor:[0,46,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,46,110,255],toColor:[0,47,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,47,111,255],toColor:[0,47,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,47,112,255],toColor:[0,47,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,47,112,255],toColor:[0,48,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,
	48,112,255],toColor:[0,49,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,49,112,255],toColor:[0,49,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,49,112,255],toColor:[0,50,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,50,112,255],toColor:[0,51,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,51,111,255],toColor:[0,52,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,
	52,111,255],toColor:[0,52,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,52,111,255],toColor:[0,53,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,53,111,255],toColor:[1,54,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[1,54,111,255],toColor:[6,55,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[6,55,110,255],toColor:[11,55,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[11,
	55,110,255],toColor:[15,56,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[15,56,110,255],toColor:[18,57,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[18,57,110,255],toColor:[21,57,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[21,57,110,255],toColor:[24,58,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[24,58,110,255],toColor:[26,59,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[26,59,109,255],toColor:[29,60,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[29,60,109,255],toColor:[31,60,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,60,109,255],toColor:[33,61,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[33,61,109,255],toColor:[35,62,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[35,62,109,255],toColor:[37,63,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[37,63,109,255],toColor:[38,63,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[38,63,109,255],toColor:[40,64,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[40,64,108,255],toColor:[42,65,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[42,65,108,255],toColor:[43,65,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[43,65,108,255],toColor:[45,66,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[45,66,108,255],toColor:[46,67,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[46,67,108,255],toColor:[48,68,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[48,68,108,255],toColor:[49,68,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[49,68,108,255],toColor:[51,69,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[51,69,108,255],toColor:[52,70,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[52,70,108,255],toColor:[53,70,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[53,70,108,255],toColor:[55,71,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[55,71,108,255],toColor:[56,72,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[56,72,108,255],toColor:[57,73,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[57,73,108,255],toColor:[58,73,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[58,73,108,255],toColor:[60,74,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[60,74,108,255],toColor:[61,75,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[61,75,108,255],toColor:[62,75,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[62,75,108,255],toColor:[63,76,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[63,76,108,255],toColor:[64,77,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[64,77,108,255],toColor:[65,78,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[65,78,108,255],toColor:[67,78,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[67,78,108,255],toColor:[68,79,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[68,79,108,255],toColor:[69,80,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[69,80,108,255],toColor:[70,80,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[70,80,108,255],toColor:[71,81,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,81,108,255],toColor:[72,82,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,82,108,255],toColor:[73,83,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[73,83,108,255],toColor:[74,83,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[74,83,108,255],toColor:[75,84,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[75,84,108,255],toColor:[76,85,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[76,85,108,255],toColor:[77,86,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[77,86,108,255],toColor:[78,86,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[78,86,108,255],toColor:[79,87,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[79,87,108,255],toColor:[80,88,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[80,88,108,255],toColor:[81,88,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[81,88,109,255],toColor:[82,89,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[82,89,109,255],toColor:[83,90,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[83,90,109,255],toColor:[84,91,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[84,91,109,255],toColor:[85,91,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[85,91,109,255],toColor:[86,92,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[86,92,109,255],toColor:[87,93,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[87,93,109,255],toColor:[88,93,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[88,93,109,255],toColor:[89,94,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[89,94,110,255],toColor:[90,95,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[90,95,110,255],toColor:[91,96,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[91,96,110,255],toColor:[92,96,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[92,96,110,255],toColor:[93,97,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[93,97,110,255],toColor:[94,98,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[94,98,110,255],toColor:[94,99,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[94,99,111,255],toColor:[95,99,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[95,99,111,255],toColor:[96,100,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[96,100,111,255],toColor:[97,101,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[97,101,111,255],toColor:[98,101,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[98,101,111,255],toColor:[99,102,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[99,102,112,255],toColor:[100,103,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[100,103,112,255],toColor:[101,104,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[101,104,112,255],toColor:[102,104,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[102,104,112,255],toColor:[103,105,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[103,105,113,255],toColor:[104,106,113,255]},{type:"algorithmic",
	algorithm:"esriCIELabAlgorithm",fromColor:[104,106,113,255],toColor:[104,107,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[104,107,113,255],toColor:[105,107,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[105,107,113,255],toColor:[106,108,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[106,108,114,255],toColor:[107,109,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[107,109,114,255],toColor:[108,
	109,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[108,109,114,255],toColor:[109,110,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[109,110,115,255],toColor:[110,111,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[110,111,115,255],toColor:[111,112,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[111,112,115,255],toColor:[111,112,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[111,
	112,115,255],toColor:[112,113,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[112,113,116,255],toColor:[113,114,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[113,114,116,255],toColor:[114,115,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[114,115,116,255],toColor:[115,115,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[115,115,117,255],toColor:[116,116,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[116,116,117,255],toColor:[117,117,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[117,117,117,255],toColor:[117,118,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[117,118,118,255],toColor:[118,118,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[118,118,118,255],toColor:[119,119,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[119,119,119,255],toColor:[120,120,119,255]},{type:"algorithmic",
	algorithm:"esriCIELabAlgorithm",fromColor:[120,120,119,255],toColor:[121,121,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[121,121,119,255],toColor:[122,121,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[122,121,120,255],toColor:[123,122,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[123,122,120,255],toColor:[124,123,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[124,123,120,255],toColor:[124,
	124,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[124,124,121,255],toColor:[125,124,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[125,124,121,255],toColor:[126,125,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[126,125,121,255],toColor:[127,126,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[127,126,121,255],toColor:[128,127,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[128,
	127,121,255],toColor:[129,127,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[129,127,121,255],toColor:[130,128,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[130,128,121,255],toColor:[131,129,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[131,129,121,255],toColor:[132,130,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[132,130,121,255],toColor:[133,130,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[133,130,121,255],toColor:[134,131,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[134,131,121,255],toColor:[135,132,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[135,132,121,255],toColor:[136,133,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[136,133,121,255],toColor:[137,134,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[137,134,121,255],toColor:[138,134,121,255]},{type:"algorithmic",
	algorithm:"esriCIELabAlgorithm",fromColor:[138,134,121,255],toColor:[139,135,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[139,135,121,255],toColor:[140,136,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[140,136,121,255],toColor:[141,137,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[141,137,121,255],toColor:[142,137,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[142,137,121,255],toColor:[143,
	138,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[143,138,121,255],toColor:[144,139,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[144,139,121,255],toColor:[145,140,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[145,140,121,255],toColor:[146,141,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[146,141,121,255],toColor:[147,141,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[147,
	141,121,255],toColor:[148,142,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[148,142,121,255],toColor:[149,143,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[149,143,121,255],toColor:[150,144,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[150,144,121,255],toColor:[151,145,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[151,145,120,255],toColor:[152,145,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[152,145,120,255],toColor:[153,146,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[153,146,120,255],toColor:[154,147,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[154,147,120,255],toColor:[155,148,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[155,148,120,255],toColor:[156,149,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[156,149,120,255],toColor:[157,149,120,255]},{type:"algorithmic",
	algorithm:"esriCIELabAlgorithm",fromColor:[157,149,120,255],toColor:[158,150,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[158,150,120,255],toColor:[159,151,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[159,151,119,255],toColor:[160,152,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[160,152,119,255],toColor:[161,153,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[161,153,119,255],toColor:[162,
	153,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[162,153,119,255],toColor:[163,154,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[163,154,119,255],toColor:[164,155,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[164,155,118,255],toColor:[165,156,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[165,156,118,255],toColor:[166,157,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[166,
	157,118,255],toColor:[167,158,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[167,158,118,255],toColor:[168,158,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[168,158,118,255],toColor:[169,159,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[169,159,117,255],toColor:[170,160,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[170,160,117,255],toColor:[171,161,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[171,161,117,255],toColor:[172,162,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[172,162,117,255],toColor:[173,162,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[173,162,116,255],toColor:[174,163,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[174,163,116,255],toColor:[175,164,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[175,164,116,255],toColor:[177,165,115,255]},{type:"algorithmic",
	algorithm:"esriCIELabAlgorithm",fromColor:[177,165,115,255],toColor:[178,166,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[178,166,115,255],toColor:[179,167,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[179,167,115,255],toColor:[180,168,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[180,168,115,255],toColor:[181,168,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[181,168,114,255],toColor:[182,
	169,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[182,169,114,255],toColor:[183,170,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[183,170,114,255],toColor:[184,171,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[184,171,113,255],toColor:[185,172,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[185,172,113,255],toColor:[186,173,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[186,
	173,113,255],toColor:[187,173,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[187,173,112,255],toColor:[188,174,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[188,174,112,255],toColor:[189,175,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[189,175,111,255],toColor:[190,176,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[190,176,111,255],toColor:[191,177,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[191,177,111,255],toColor:[192,178,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[192,178,110,255],toColor:[194,179,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[194,179,110,255],toColor:[195,180,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[195,180,109,255],toColor:[196,180,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[196,180,109,255],toColor:[197,181,109,255]},{type:"algorithmic",
	algorithm:"esriCIELabAlgorithm",fromColor:[197,181,109,255],toColor:[198,182,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[198,182,108,255],toColor:[199,183,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[199,183,108,255],toColor:[200,184,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[200,184,107,255],toColor:[201,185,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[201,185,107,255],toColor:[202,
	186,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[202,186,106,255],toColor:[203,187,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[203,187,106,255],toColor:[204,187,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[204,187,105,255],toColor:[205,188,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[205,188,105,255],toColor:[207,189,104,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[207,
	189,104,255],toColor:[208,190,104,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[208,190,104,255],toColor:[209,191,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[209,191,103,255],toColor:[210,192,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[210,192,103,255],toColor:[211,193,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[211,193,102,255],toColor:[212,194,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[212,194,101,255],toColor:[213,195,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[213,195,101,255],toColor:[214,196,100,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[214,196,100,255],toColor:[215,196,100,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[215,196,100,255],toColor:[217,197,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[217,197,99,255],toColor:[218,198,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[218,198,98,255],toColor:[219,199,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[219,199,98,255],toColor:[220,200,97,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[220,200,97,255],toColor:[221,201,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[221,201,96,255],toColor:[222,202,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[222,202,96,255],toColor:[223,203,95,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[223,203,95,255],toColor:[224,204,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[224,204,94,255],toColor:[226,205,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[226,205,94,255],toColor:[227,206,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[227,206,93,255],toColor:[228,207,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[228,207,92,255],toColor:[229,208,91,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[229,208,91,255],toColor:[230,209,91,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[230,209,91,255],toColor:[231,209,90,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[231,209,90,255],toColor:[233,210,89,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[233,210,89,255],toColor:[234,211,88,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[234,211,88,255],toColor:[235,212,87,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[235,212,87,255],toColor:[236,213,86,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[236,213,86,255],toColor:[237,214,86,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[237,214,86,255],toColor:[238,215,85,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[238,215,85,255],toColor:[239,216,84,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[239,216,84,255],toColor:[241,217,83,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[241,217,83,255],toColor:[242,218,82,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,218,82,255],toColor:[243,219,81,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[243,219,81,255],toColor:[244,220,80,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,220,80,255],toColor:[245,221,79,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[245,221,79,255],toColor:[246,222,78,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[246,222,78,255],toColor:[248,223,77,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,223,77,255],toColor:[249,224,75,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[249,224,75,255],toColor:[250,225,74,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,225,74,255],toColor:[251,226,73,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,226,73,255],toColor:[252,227,72,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[252,227,72,255],toColor:[254,228,71,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,228,71,255],toColor:[255,229,69,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,229,69,255],toColor:[255,230,68,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,230,68,255],toColor:[255,231,67,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,231,67,255],toColor:[255,232,66,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[255,232,66,255],toColor:[255,233,67,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,233,67,255],toColor:[255,234,69,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,234,69,255],toColor:[255,235,70,255]}]},{id:"coefficientBias_predefined",fromColor:[214,214,255],toColor:[0,57,148]},{id:"coldToHotDiverging_predefined",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},
	{id:"conditionNumber_predefined",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyanToPurple_predefined",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyanLightToBlueDark_predefined",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance_predefined",fromColor:[255,200,0],toColor:[0,
	0,255]},{id:"elevation1_predefined",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2_predefined",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,
	255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors_predefined",fromColor:[255,235,214],toColor:[196,10,10]},{id:"grayLightToDark_predefined",fromColor:[219,219,219],toColor:[69,69,69]},{id:"greenBright_predefined",fromColor:[204,255,204],toColor:[14,204,14]},{id:"greenLightToDark_predefined",
	fromColor:[220,245,233],toColor:[34,102,51]},{id:"greenToBlue_predefined",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"inferno_predefined",type:"multipart",colorRamps:[{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,0,4,255],toColor:[1,0,5,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[1,0,5,255],toColor:[1,1,6,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[1,
	1,6,255],toColor:[1,1,8,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[1,1,8,255],toColor:[2,1,10,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[2,1,10,255],toColor:[2,2,12,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[2,2,12,255],toColor:[2,2,14,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[2,2,14,255],toColor:[3,2,16,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[3,2,16,255],toColor:[4,
	3,18,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[4,3,18,255],toColor:[4,3,21,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[4,3,21,255],toColor:[5,4,23,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[5,4,23,255],toColor:[6,4,25,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[6,4,25,255],toColor:[7,5,27,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[7,5,27,255],toColor:[8,6,29,255]},{type:"algorithmic",
	algorithm:"esriCIELabAlgorithm",fromColor:[8,6,29,255],toColor:[9,6,32,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[9,6,32,255],toColor:[10,7,34,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[10,7,34,255],toColor:[11,7,36,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[11,7,36,255],toColor:[12,8,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[12,8,38,255],toColor:[13,8,41,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[13,8,41,255],toColor:[14,9,43,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[14,9,43,255],toColor:[16,9,45,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[16,9,45,255],toColor:[17,10,48,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[17,10,48,255],toColor:[18,10,50,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[18,10,50,255],toColor:[20,11,53,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[20,
	11,53,255],toColor:[21,11,55,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[21,11,55,255],toColor:[22,11,58,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[22,11,58,255],toColor:[24,12,60,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[24,12,60,255],toColor:[25,12,62,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[25,12,62,255],toColor:[27,12,65,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[27,
	12,65,255],toColor:[28,12,67,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[28,12,67,255],toColor:[30,12,70,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[30,12,70,255],toColor:[31,12,72,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,12,72,255],toColor:[33,12,74,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[33,12,74,255],toColor:[35,12,77,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[35,
	12,77,255],toColor:[36,12,79,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[36,12,79,255],toColor:[38,12,81,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[38,12,81,255],toColor:[40,11,83,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[40,11,83,255],toColor:[42,11,85,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[42,11,85,255],toColor:[43,11,87,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[43,
	11,87,255],toColor:[45,11,89,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[45,11,89,255],toColor:[47,10,91,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[47,10,91,255],toColor:[49,10,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[49,10,93,255],toColor:[51,10,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[51,10,94,255],toColor:[52,10,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[52,
	10,96,255],toColor:[54,9,97,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[54,9,97,255],toColor:[56,9,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[56,9,98,255],toColor:[58,9,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[58,9,99,255],toColor:[59,9,100,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[59,9,100,255],toColor:[61,9,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[61,9,
	101,255],toColor:[63,9,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[63,9,102,255],toColor:[64,10,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[64,10,103,255],toColor:[66,10,104,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[66,10,104,255],toColor:[68,10,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[68,10,105,255],toColor:[69,10,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[69,
	10,105,255],toColor:[71,11,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,11,106,255],toColor:[73,11,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[73,11,107,255],toColor:[74,12,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[74,12,107,255],toColor:[76,12,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[76,12,108,255],toColor:[78,13,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[78,13,108,255],toColor:[79,13,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[79,13,108,255],toColor:[81,14,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[81,14,109,255],toColor:[83,14,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[83,14,109,255],toColor:[84,15,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[84,15,109,255],toColor:[86,15,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[86,15,110,255],toColor:[87,16,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[87,16,110,255],toColor:[89,17,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[89,17,110,255],toColor:[91,17,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[91,17,110,255],toColor:[92,18,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[92,18,110,255],toColor:[94,18,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[94,18,111,255],toColor:[95,19,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[95,19,111,255],toColor:[97,20,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[97,20,111,255],toColor:[99,20,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[99,20,111,255],toColor:[100,21,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[100,21,111,255],toColor:[102,21,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[102,21,111,255],toColor:[103,22,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[103,22,111,255],toColor:[105,23,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[105,23,111,255],toColor:[107,23,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[107,23,111,255],toColor:[108,24,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[108,24,111,255],toColor:[110,24,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[110,24,111,255],toColor:[111,25,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[111,25,111,255],toColor:[113,25,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[113,25,110,255],toColor:[115,26,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[115,26,110,255],toColor:[116,27,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[116,27,110,255],toColor:[118,27,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[118,27,110,255],toColor:[119,28,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[119,28,110,255],toColor:[121,28,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[121,28,110,255],toColor:[123,29,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[123,29,109,255],toColor:[124,29,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[124,29,109,255],toColor:[126,30,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[126,30,109,255],toColor:[127,31,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[127,31,109,255],toColor:[129,31,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[129,31,108,255],toColor:[130,32,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[130,32,108,255],toColor:[132,32,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[132,32,108,255],toColor:[134,33,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[134,33,107,255],toColor:[135,33,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[135,33,107,255],toColor:[137,34,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[137,34,107,255],toColor:[138,34,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[138,34,106,255],toColor:[140,35,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[140,35,106,255],toColor:[142,36,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[142,36,105,255],toColor:[143,36,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[143,36,105,255],toColor:[145,37,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[145,37,105,255],toColor:[146,37,104,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[146,37,104,255],toColor:[148,38,104,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[148,38,104,255],toColor:[150,38,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[150,38,103,255],toColor:[151,39,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[151,39,102,255],toColor:[153,40,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[153,40,102,255],toColor:[154,40,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[154,40,101,255],toColor:[156,41,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[156,41,101,255],toColor:[158,41,100,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[158,41,100,255],toColor:[159,42,100,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[159,42,100,255],toColor:[161,43,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[161,43,99,255],toColor:[162,43,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[162,43,98,255],toColor:[164,44,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[164,44,98,255],toColor:[165,45,97,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[165,45,97,255],toColor:[167,45,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[167,45,96,255],toColor:[169,46,95,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[169,46,95,255],toColor:[170,46,95,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[170,46,95,255],toColor:[172,47,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[172,47,94,255],toColor:[173,48,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[173,48,93,255],toColor:[175,49,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[175,49,92,255],toColor:[176,49,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[176,49,92,255],toColor:[178,50,91,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[178,50,91,255],toColor:[179,51,90,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[179,51,90,255],toColor:[181,51,89,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[181,51,89,255],toColor:[182,52,88,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[182,52,88,255],toColor:[184,53,87,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[184,53,87,255],toColor:[185,54,86,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[185,54,86,255],toColor:[187,54,85,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[187,54,85,255],toColor:[188,55,85,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[188,55,85,255],toColor:[190,56,84,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[190,56,84,255],toColor:[191,57,83,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[191,57,83,255],toColor:[193,58,82,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[193,58,82,255],toColor:[194,59,81,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[194,59,81,255],toColor:[196,60,80,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[196,60,80,255],toColor:[197,60,79,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[197,60,79,255],toColor:[198,61,78,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[198,61,78,255],toColor:[200,62,77,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[200,62,77,255],toColor:[201,63,76,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[201,63,76,255],toColor:[203,64,75,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[203,64,75,255],toColor:[204,65,74,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[204,65,74,255],toColor:[205,66,72,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[205,66,72,255],toColor:[207,67,71,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[207,67,71,255],toColor:[208,68,70,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[208,68,70,255],toColor:[209,69,69,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[209,69,69,255],toColor:[211,70,68,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[211,70,68,255],toColor:[212,72,67,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[212,72,67,255],toColor:[213,73,66,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[213,73,66,255],toColor:[214,74,65,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[214,74,65,255],toColor:[216,75,64,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[216,75,64,255],toColor:[217,76,62,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[217,76,62,255],toColor:[218,77,61,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[218,77,61,255],toColor:[219,79,60,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[219,79,60,255],toColor:[220,80,59,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[220,80,59,255],toColor:[221,81,58,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[221,81,58,255],toColor:[223,82,57,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[223,82,57,255],toColor:[224,84,56,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[224,84,56,255],toColor:[225,85,54,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[225,85,54,255],toColor:[226,86,53,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[226,86,53,255],toColor:[227,88,52,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[227,88,52,255],toColor:[228,89,51,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[228,89,51,255],toColor:[229,90,50,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[229,90,50,255],toColor:[230,92,48,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[230,92,48,255],toColor:[231,93,47,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[231,93,47,255],toColor:[232,95,46,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[232,95,46,255],toColor:[233,96,45,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[233,96,45,255],toColor:[234,98,43,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[234,98,43,255],toColor:[235,99,42,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[235,99,42,255],toColor:[235,101,41,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[235,101,41,255],toColor:[236,102,40,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[236,102,40,255],toColor:[237,104,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[237,104,38,255],toColor:[238,105,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[238,105,37,255],toColor:[239,107,36,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[239,107,36,255],toColor:[240,109,35,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[240,109,35,255],toColor:[240,110,33,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[240,110,33,255],toColor:[241,112,32,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[241,112,32,255],toColor:[242,113,31,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,113,31,255],toColor:[242,115,30,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,115,30,255],toColor:[243,117,28,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[243,117,28,255],toColor:[244,118,27,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[244,118,27,255],toColor:[244,120,26,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,120,26,255],toColor:[245,122,24,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[245,122,24,255],toColor:[246,123,23,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[246,123,23,255],toColor:[246,125,22,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[246,125,22,255],toColor:[247,127,20,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[247,127,20,255],toColor:[247,129,19,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[247,129,19,255],toColor:[248,130,18,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,130,18,255],toColor:[248,132,16,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,132,16,255],toColor:[249,134,15,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[249,134,15,255],toColor:[249,136,14,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[249,136,14,255],toColor:[249,137,12,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[249,137,12,255],toColor:[250,139,11,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,139,11,255],toColor:[250,141,10,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,141,10,255],toColor:[250,143,9,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,143,9,255],toColor:[251,145,8,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[251,145,8,255],toColor:[251,146,7,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,146,7,255],toColor:[251,148,7,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,148,7,255],toColor:[252,150,6,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,150,6,255],toColor:[252,152,6,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,152,6,255],toColor:[252,154,6,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[252,154,6,255],toColor:[252,156,6,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,156,6,255],toColor:[252,158,7,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,158,7,255],toColor:[253,160,7,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,160,7,255],toColor:[253,161,8,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,161,8,255],toColor:[253,163,9,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[253,163,9,255],toColor:[253,165,10,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,165,10,255],toColor:[253,167,12,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,167,12,255],toColor:[253,169,13,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,169,13,255],toColor:[253,171,15,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,171,15,255],toColor:[253,173,17,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[253,173,17,255],toColor:[253,175,19,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,175,19,255],toColor:[253,177,20,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,177,20,255],toColor:[253,179,22,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,179,22,255],toColor:[253,181,25,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,181,25,255],toColor:[252,183,27,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[252,183,27,255],toColor:[252,185,29,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,185,29,255],toColor:[252,186,31,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,186,31,255],toColor:[252,188,33,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,188,33,255],toColor:[252,190,35,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,190,35,255],toColor:[251,192,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[251,192,38,255],toColor:[251,194,40,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,194,40,255],toColor:[251,196,43,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,196,43,255],toColor:[251,198,45,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,198,45,255],toColor:[250,200,48,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,200,48,255],toColor:[250,202,50,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[250,202,50,255],toColor:[250,204,53,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,204,53,255],toColor:[249,206,56,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[249,206,56,255],toColor:[249,208,58,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[249,208,58,255],toColor:[248,210,61,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,210,61,255],toColor:[248,212,64,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[248,212,64,255],toColor:[247,214,67,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[247,214,67,255],toColor:[247,216,70,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[247,216,70,255],toColor:[246,218,73,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[246,218,73,255],toColor:[246,220,76,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[246,220,76,255],toColor:[245,222,80,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[245,222,80,255],toColor:[245,224,83,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[245,224,83,255],toColor:[244,226,86,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,226,86,255],toColor:[244,228,90,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,228,90,255],toColor:[244,229,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,229,94,255],toColor:[243,231,97,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[243,231,97,255],toColor:[243,233,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[243,233,101,255],toColor:[243,235,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[243,235,105,255],toColor:[242,237,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,237,109,255],toColor:[242,238,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,238,113,255],toColor:[242,240,117,255]},{type:"algorithmic",
	algorithm:"esriCIELabAlgorithm",fromColor:[242,240,117,255],toColor:[242,242,122,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,242,122,255],toColor:[243,243,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[243,243,126,255],toColor:[243,245,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[243,245,130,255],toColor:[244,246,134,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,246,134,255],toColor:[244,
	247,138,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,247,138,255],toColor:[245,249,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[245,249,142,255],toColor:[246,250,146,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[246,250,146,255],toColor:[247,251,150,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[247,251,150,255],toColor:[249,252,154,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[249,
	252,154,255],toColor:[250,253,158,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,253,158,255],toColor:[251,254,162,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,254,162,255],toColor:[253,255,165,255]}]},{id:"magma_predefined",type:"multipart",colorRamps:[{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[0,0,4,255],toColor:[1,0,5,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[1,0,5,255],toColor:[1,1,6,255]},{type:"algorithmic",
	algorithm:"esriCIELabAlgorithm",fromColor:[1,1,6,255],toColor:[1,1,8,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[1,1,8,255],toColor:[2,1,10,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[2,1,10,255],toColor:[2,2,12,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[2,2,12,255],toColor:[2,2,14,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[2,2,14,255],toColor:[3,3,16,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[3,3,16,255],toColor:[4,3,18,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[4,3,18,255],toColor:[4,4,20,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[4,4,20,255],toColor:[5,4,22,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[5,4,22,255],toColor:[6,5,24,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[6,5,24,255],toColor:[6,5,26,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[6,5,26,
	255],toColor:[7,6,28,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[7,6,28,255],toColor:[8,7,30,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[8,7,30,255],toColor:[9,7,32,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[9,7,32,255],toColor:[10,8,34,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[10,8,34,255],toColor:[11,9,36,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[11,9,36,255],toColor:[12,
	9,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[12,9,38,255],toColor:[13,10,41,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[13,10,41,255],toColor:[14,11,43,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[14,11,43,255],toColor:[16,11,45,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[16,11,45,255],toColor:[17,12,47,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[17,12,47,255],toColor:[18,
	13,50,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[18,13,50,255],toColor:[19,13,52,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[19,13,52,255],toColor:[20,14,54,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[20,14,54,255],toColor:[21,14,57,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[21,14,57,255],toColor:[23,15,59,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[23,15,59,255],toColor:[24,
	15,61,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[24,15,61,255],toColor:[25,16,64,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[25,16,64,255],toColor:[26,16,66,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[26,16,66,255],toColor:[28,16,68,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[28,16,68,255],toColor:[29,17,71,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[29,17,71,255],toColor:[30,
	17,73,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[30,17,73,255],toColor:[32,17,76,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[32,17,76,255],toColor:[33,17,78,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[33,17,78,255],toColor:[35,18,81,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[35,18,81,255],toColor:[36,18,83,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[36,18,83,255],toColor:[38,
	18,86,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[38,18,86,255],toColor:[39,18,88,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[39,18,88,255],toColor:[41,18,90,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[41,18,90,255],toColor:[42,17,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[42,17,93,255],toColor:[44,17,95,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[44,17,95,255],toColor:[46,
	17,97,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[46,17,97,255],toColor:[47,17,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[47,17,99,255],toColor:[49,17,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[49,17,101,255],toColor:[51,16,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[51,16,103,255],toColor:[52,16,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[52,16,105,255],toColor:[54,
	16,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[54,16,107,255],toColor:[56,16,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[56,16,109,255],toColor:[58,15,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[58,15,111,255],toColor:[59,15,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[59,15,112,255],toColor:[61,15,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[61,15,113,255],
	toColor:[63,15,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[63,15,115,255],toColor:[65,15,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[65,15,116,255],toColor:[66,15,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[66,15,117,255],toColor:[68,15,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[68,15,118,255],toColor:[70,16,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[70,
	16,119,255],toColor:[71,16,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,16,120,255],toColor:[73,16,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[73,16,121,255],toColor:[75,17,122,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[75,17,122,255],toColor:[76,17,122,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[76,17,122,255],toColor:[78,17,123,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[78,17,123,255],toColor:[79,18,124,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[79,18,124,255],toColor:[81,18,124,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[81,18,124,255],toColor:[83,19,125,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[83,19,125,255],toColor:[84,19,125,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[84,19,125,255],toColor:[86,20,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[86,20,126,255],toColor:[87,21,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[87,21,126,255],toColor:[89,21,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[89,21,126,255],toColor:[91,22,127,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[91,22,127,255],toColor:[92,22,127,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[92,22,127,255],toColor:[94,23,127,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[94,23,127,255],toColor:[95,24,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[95,24,128,255],toColor:[97,24,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[97,24,128,255],toColor:[98,25,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[98,25,128,255],toColor:[100,26,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[100,26,128,255],toColor:[101,26,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[101,26,129,255],toColor:[103,27,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[103,27,129,255],toColor:[105,28,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[105,28,129,255],toColor:[106,28,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[106,28,129,255],toColor:[108,29,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[108,29,129,255],toColor:[109,30,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[109,30,129,255],toColor:[111,30,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[111,30,130,255],toColor:[112,31,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[112,31,130,255],toColor:[114,31,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[114,31,130,255],toColor:[116,32,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[116,32,130,255],toColor:[117,33,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[117,33,130,255],toColor:[119,33,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[119,33,130,255],toColor:[120,34,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[120,34,130,255],toColor:[122,34,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[122,34,130,255],toColor:[123,35,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[123,35,130,255],toColor:[125,36,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[125,36,130,255],toColor:[127,36,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[127,36,130,255],toColor:[128,37,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[128,37,130,255],toColor:[130,37,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[130,37,130,255],toColor:[131,38,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[131,38,130,255],toColor:[133,39,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[133,39,130,255],toColor:[134,39,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[134,39,130,255],toColor:[136,40,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[136,40,130,255],toColor:[138,40,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[138,40,130,255],toColor:[139,41,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[139,41,130,255],toColor:[141,41,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[141,41,129,255],toColor:[142,42,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[142,42,129,255],toColor:[144,42,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[144,42,129,255],toColor:[146,43,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[146,43,129,255],toColor:[147,43,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[147,43,129,255],toColor:[149,44,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[149,44,129,255],toColor:[151,44,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[151,44,129,255],toColor:[152,45,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[152,45,128,255],toColor:[154,46,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[154,46,128,255],toColor:[155,46,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[155,46,128,255],toColor:[157,47,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[157,47,128,255],toColor:[159,47,127,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[159,47,127,255],toColor:[160,48,127,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[160,48,127,255],toColor:[162,48,127,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[162,48,127,255],toColor:[164,49,127,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[164,49,127,255],toColor:[165,49,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[165,49,126,255],toColor:[167,50,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[167,50,126,255],toColor:[169,50,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[169,50,126,255],toColor:[170,51,125,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[170,51,125,255],toColor:[172,51,125,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[172,51,125,255],toColor:[174,52,124,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[174,52,124,255],toColor:[175,52,124,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[175,52,124,255],toColor:[177,53,124,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[177,53,124,255],toColor:[178,53,123,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[178,53,123,255],toColor:[180,54,123,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[180,54,123,255],toColor:[182,54,122,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[182,54,122,255],toColor:[183,55,122,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[183,55,122,255],toColor:[185,56,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[185,56,121,255],toColor:[187,56,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[187,56,121,255],toColor:[188,57,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[188,57,120,255],toColor:[190,57,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[190,57,120,255],toColor:[192,58,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[192,58,119,255],toColor:[193,59,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[193,59,118,255],toColor:[195,59,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[195,59,118,255],toColor:[196,60,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[196,60,117,255],toColor:[198,60,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[198,60,117,255],toColor:[200,61,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[200,61,116,255],toColor:[201,62,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[201,62,115,255],toColor:[203,63,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[203,63,115,255],toColor:[204,63,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[204,63,114,255],toColor:[206,64,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[206,64,113,255],toColor:[208,65,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[208,65,112,255],toColor:[209,66,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[209,66,112,255],toColor:[211,66,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[211,66,111,255],toColor:[212,67,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[212,67,110,255],toColor:[214,68,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[214,68,109,255],toColor:[215,69,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[215,69,109,255],toColor:[217,70,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[217,70,108,255],toColor:[218,71,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[218,71,107,255],toColor:[220,72,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[220,72,106,255],toColor:[221,73,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[221,73,106,255],toColor:[222,74,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[222,74,105,255],toColor:[224,75,104,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[224,75,104,255],toColor:[225,76,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[225,76,103,255],toColor:[226,77,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[226,77,102,255],toColor:[228,78,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[228,78,102,255],toColor:[229,79,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[229,79,101,255],toColor:[230,81,100,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[230,81,100,255],toColor:[231,82,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[231,82,99,255],toColor:[233,83,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[233,83,99,255],toColor:[234,84,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[234,84,98,255],toColor:[235,86,97,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[235,86,97,255],toColor:[236,87,97,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[236,87,97,255],toColor:[237,89,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[237,89,96,255],toColor:[238,90,95,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[238,90,95,255],toColor:[239,92,95,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[239,92,95,255],toColor:[240,93,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[240,93,94,255],toColor:[241,95,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[241,95,94,255],toColor:[242,97,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,97,93,255],toColor:[242,98,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,98,93,255],toColor:[243,100,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[243,100,93,255],toColor:[244,102,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,102,93,255],toColor:[245,104,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[245,104,92,255],toColor:[245,105,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[245,105,92,255],toColor:[246,107,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[246,107,92,255],toColor:[247,109,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[247,109,92,255],toColor:[247,111,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[247,111,92,255],toColor:[248,113,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,113,92,255],toColor:[248,114,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,114,92,255],toColor:[249,116,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[249,116,92,255],toColor:[249,118,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[249,118,93,255],toColor:[250,120,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,120,93,255],toColor:[250,122,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,122,93,255],toColor:[250,124,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,124,94,255],toColor:[251,126,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,126,94,255],toColor:[251,128,95,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[251,128,95,255],toColor:[251,130,95,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,130,95,255],toColor:[252,131,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,131,96,255],toColor:[252,133,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,133,96,255],toColor:[252,135,97,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,135,97,255],toColor:[253,137,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[253,137,98,255],toColor:[253,139,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,139,99,255],toColor:[253,141,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,141,99,255],toColor:[253,143,100,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,143,100,255],toColor:[253,145,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,145,101,255],toColor:[254,147,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[254,147,102,255],toColor:[254,149,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,149,103,255],toColor:[254,150,104,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,150,104,255],toColor:[254,152,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,152,105,255],toColor:[254,154,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,154,106,255],toColor:[254,156,107,255]},{type:"algorithmic",
	algorithm:"esriCIELabAlgorithm",fromColor:[254,156,107,255],toColor:[255,158,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,158,108,255],toColor:[255,160,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,160,109,255],toColor:[255,162,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,162,111,255],toColor:[255,164,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,164,112,255],toColor:[255,
	165,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,165,113,255],toColor:[255,167,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,167,114,255],toColor:[255,169,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,169,116,255],toColor:[255,171,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,171,117,255],toColor:[255,173,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,
	173,118,255],toColor:[255,175,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,175,119,255],toColor:[255,177,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,177,121,255],toColor:[255,179,122,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,179,122,255],toColor:[255,180,124,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,180,124,255],toColor:[255,182,125,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[255,182,125,255],toColor:[255,184,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,184,126,255],toColor:[255,186,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,186,128,255],toColor:[255,188,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,188,129,255],toColor:[255,190,131,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,190,131,255],toColor:[255,191,132,255]},{type:"algorithmic",
	algorithm:"esriCIELabAlgorithm",fromColor:[255,191,132,255],toColor:[255,193,134,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,193,134,255],toColor:[255,195,135,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,195,135,255],toColor:[255,197,137,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,197,137,255],toColor:[255,199,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,199,139,255],toColor:[255,
	201,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,201,140,255],toColor:[255,203,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,203,142,255],toColor:[255,204,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,204,143,255],toColor:[255,206,145,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,206,145,255],toColor:[255,208,147,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,
	208,147,255],toColor:[255,210,148,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,210,148,255],toColor:[255,212,150,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,212,150,255],toColor:[255,214,152,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,214,152,255],toColor:[255,215,153,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,215,153,255],toColor:[255,217,155,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[255,217,155,255],toColor:[254,219,157,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,219,157,255],toColor:[254,221,159,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,221,159,255],toColor:[254,223,160,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,223,160,255],toColor:[254,225,162,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,225,162,255],toColor:[254,226,164,255]},{type:"algorithmic",
	algorithm:"esriCIELabAlgorithm",fromColor:[254,226,164,255],toColor:[254,228,166,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,228,166,255],toColor:[254,230,167,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,230,167,255],toColor:[254,232,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,232,169,255],toColor:[254,234,171,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,234,171,255],toColor:[254,
	236,173,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,236,173,255],toColor:[253,237,175,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,237,175,255],toColor:[253,239,177,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,239,177,255],toColor:[253,241,179,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,241,179,255],toColor:[253,243,180,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,
	243,180,255],toColor:[253,245,182,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,245,182,255],toColor:[253,247,184,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,247,184,255],toColor:[253,248,186,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,248,186,255],toColor:[253,250,188,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,250,188,255],toColor:[253,252,190,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[253,252,190,255],toColor:[253,254,192,255]}]},{id:"orangeBright_predefined",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orangeLightToDark_predefined",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partialSpectrum_predefined",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partialSpectrum1Diverging_predefined",type:"multipart",
	colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partialSpectrum2Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pinkToYellowGreenDivergingBright_predefined",
	type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pinkToYellowGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"plasma_predefined",type:"multipart",colorRamps:[{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[13,8,135,255],toColor:[16,7,136,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[16,
	7,136,255],toColor:[19,7,138,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[19,7,138,255],toColor:[22,7,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[22,7,139,255],toColor:[25,6,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[25,6,140,255],toColor:[27,6,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[27,6,141,255],toColor:[29,6,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[29,
	6,142,255],toColor:[32,6,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[32,6,143,255],toColor:[34,6,144,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[34,6,144,255],toColor:[36,6,145,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[36,6,145,255],toColor:[38,5,146,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[38,5,146,255],toColor:[40,5,147,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[40,
	5,147,255],toColor:[42,5,148,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[42,5,148,255],toColor:[44,5,149,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[44,5,149,255],toColor:[46,5,150,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[46,5,150,255],toColor:[48,5,150,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[48,5,150,255],toColor:[50,5,151,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[50,
	5,151,255],toColor:[51,5,152,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[51,5,152,255],toColor:[53,4,153,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[53,4,153,255],toColor:[55,4,153,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[55,4,153,255],toColor:[57,4,154,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[57,4,154,255],toColor:[58,4,155,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[58,
	4,155,255],toColor:[60,4,156,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[60,4,156,255],toColor:[62,4,156,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[62,4,156,255],toColor:[64,4,157,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[64,4,157,255],toColor:[65,4,158,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[65,4,158,255],toColor:[67,3,158,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[67,
	3,158,255],toColor:[69,3,159,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[69,3,159,255],toColor:[70,3,159,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[70,3,159,255],toColor:[72,3,160,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,3,160,255],toColor:[73,3,161,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[73,3,161,255],toColor:[75,3,161,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[75,
	3,161,255],toColor:[77,2,162,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[77,2,162,255],toColor:[78,2,162,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[78,2,162,255],toColor:[80,2,163,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[80,2,163,255],toColor:[82,2,163,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[82,2,163,255],toColor:[83,2,164,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[83,
	2,164,255],toColor:[85,2,164,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[85,2,164,255],toColor:[86,1,165,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[86,1,165,255],toColor:[88,1,165,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[88,1,165,255],toColor:[90,1,165,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[90,1,165,255],toColor:[91,1,166,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[91,
	1,166,255],toColor:[93,1,166,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[93,1,166,255],toColor:[94,1,167,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[94,1,167,255],toColor:[96,1,167,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[96,1,167,255],toColor:[98,0,167,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[98,0,167,255],toColor:[99,0,167,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[99,
	0,167,255],toColor:[101,0,168,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[101,0,168,255],toColor:[102,0,168,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[102,0,168,255],toColor:[104,0,168,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[104,0,168,255],toColor:[105,0,168,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[105,0,168,255],toColor:[107,0,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[107,
	0,169,255],toColor:[108,0,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[108,0,169,255],toColor:[110,0,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[110,0,169,255],toColor:[112,0,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[112,0,169,255],toColor:[113,0,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[113,0,169,255],toColor:[115,1,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[115,
	1,169,255],toColor:[116,1,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[116,1,169,255],toColor:[118,1,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[118,1,169,255],toColor:[119,1,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[119,1,169,255],toColor:[121,1,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[121,1,169,255],toColor:[122,2,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[122,
	2,169,255],toColor:[124,2,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[124,2,169,255],toColor:[125,3,169,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[125,3,169,255],toColor:[127,3,168,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[127,3,168,255],toColor:[128,4,168,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[128,4,168,255],toColor:[130,4,168,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[130,
	4,168,255],toColor:[131,5,168,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[131,5,168,255],toColor:[133,6,167,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[133,6,167,255],toColor:[134,6,167,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[134,6,167,255],toColor:[136,7,167,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[136,7,167,255],toColor:[137,8,166,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[137,
	8,166,255],toColor:[138,9,166,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[138,9,166,255],toColor:[140,10,166,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[140,10,166,255],toColor:[141,11,165,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[141,11,165,255],toColor:[143,12,165,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[143,12,165,255],toColor:[144,13,164,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[144,13,164,255],toColor:[145,14,164,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[145,14,164,255],toColor:[147,15,163,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[147,15,163,255],toColor:[148,16,163,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[148,16,163,255],toColor:[150,18,162,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[150,18,162,255],toColor:[151,19,161,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[151,19,161,255],toColor:[152,20,161,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[152,20,161,255],toColor:[154,21,160,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[154,21,160,255],toColor:[155,22,159,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[155,22,159,255],toColor:[156,23,159,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[156,23,159,255],toColor:[158,24,158,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[158,24,158,255],toColor:[159,25,157,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[159,25,157,255],toColor:[160,26,156,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[160,26,156,255],toColor:[162,28,156,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[162,28,156,255],toColor:[163,29,155,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[163,29,155,255],toColor:[164,30,154,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[164,30,154,255],toColor:[165,31,153,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[165,31,153,255],toColor:[167,32,152,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[167,32,152,255],toColor:[168,33,152,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[168,33,152,255],toColor:[169,34,151,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[169,34,151,255],toColor:[170,35,150,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[170,35,150,255],toColor:[171,37,149,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[171,37,149,255],toColor:[173,38,148,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[173,38,148,255],toColor:[174,39,147,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[174,39,147,255],toColor:[175,40,146,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[175,40,146,255],toColor:[176,41,145,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[176,41,145,255],toColor:[177,42,145,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[177,42,145,255],toColor:[179,43,144,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[179,43,144,255],toColor:[180,45,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[180,45,143,255],toColor:[181,46,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[181,46,142,255],toColor:[182,47,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[182,47,141,255],toColor:[183,48,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[183,48,140,255],toColor:[184,49,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[184,49,139,255],toColor:[185,50,138,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[185,50,138,255],toColor:[186,51,137,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[186,51,137,255],toColor:[187,52,136,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[187,52,136,255],toColor:[188,54,135,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[188,54,135,255],toColor:[189,55,134,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[189,55,134,255],toColor:[191,56,133,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[191,56,133,255],toColor:[192,57,132,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[192,57,132,255],toColor:[193,58,131,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[193,58,131,255],toColor:[194,59,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[194,59,130,255],toColor:[195,60,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[195,60,129,255],toColor:[196,62,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[196,62,129,255],toColor:[197,63,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[197,63,128,255],toColor:[198,64,127,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[198,64,127,255],toColor:[199,65,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[199,65,126,255],toColor:[200,66,125,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[200,66,125,255],toColor:[201,67,124,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[201,67,124,255],toColor:[202,68,123,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[202,68,123,255],toColor:[202,69,122,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[202,69,122,255],toColor:[203,71,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[203,71,121,255],toColor:[204,72,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[204,72,120,255],toColor:[205,73,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[205,73,119,255],toColor:[206,74,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[206,74,118,255],toColor:[207,75,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[207,75,117,255],toColor:[208,76,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[208,76,117,255],toColor:[209,77,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[209,77,116,255],toColor:[210,79,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[210,79,115,255],toColor:[211,80,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[211,80,114,255],toColor:[212,81,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[212,81,113,255],toColor:[212,82,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[212,82,112,255],toColor:[213,83,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[213,83,111,255],toColor:[214,84,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[214,84,110,255],toColor:[215,85,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[215,85,109,255],toColor:[216,87,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[216,87,109,255],toColor:[217,88,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[217,88,108,255],toColor:[218,89,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[218,89,107,255],toColor:[218,90,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[218,90,106,255],toColor:[219,91,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[219,91,105,255],toColor:[220,92,104,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[220,92,104,255],toColor:[221,93,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[221,93,103,255],toColor:[222,95,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[222,95,102,255],toColor:[223,96,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[223,96,102,255],toColor:[223,97,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[223,97,101,255],toColor:[224,98,100,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[224,98,100,255],toColor:[225,99,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[225,99,99,255],toColor:[226,100,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[226,100,98,255],toColor:[226,102,97,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[226,102,97,255],toColor:[227,103,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[227,103,96,255],toColor:[228,104,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[228,104,96,255],toColor:[229,105,95,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[229,105,95,255],toColor:[229,106,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[229,106,94,255],toColor:[230,108,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[230,108,93,255],toColor:[231,109,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[231,109,92,255],toColor:[232,110,91,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[232,110,91,255],toColor:[232,111,90,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[232,111,90,255],toColor:[233,112,90,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[233,112,90,255],toColor:[234,114,89,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[234,114,89,255],toColor:[234,115,88,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[234,115,88,255],toColor:[235,116,87,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[235,116,87,255],toColor:[236,117,86,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[236,117,86,255],toColor:[236,119,85,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[236,119,85,255],toColor:[237,120,84,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[237,120,84,255],toColor:[238,121,83,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[238,121,83,255],toColor:[238,122,83,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[238,122,83,255],toColor:[239,124,82,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[239,124,82,255],toColor:[240,125,81,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[240,125,81,255],toColor:[240,126,80,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[240,126,80,255],toColor:[241,127,79,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[241,127,79,255],toColor:[241,129,78,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[241,129,78,255],toColor:[242,130,77,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,130,77,255],toColor:[242,131,77,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,131,77,255],toColor:[243,133,76,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[243,133,76,255],toColor:[244,134,75,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,134,75,255],toColor:[244,135,74,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[244,135,74,255],toColor:[245,136,73,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[245,136,73,255],toColor:[245,138,72,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[245,138,72,255],toColor:[246,139,71,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[246,139,71,255],toColor:[246,140,70,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[246,140,70,255],toColor:[247,142,70,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[247,142,70,255],toColor:[247,143,69,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[247,143,69,255],toColor:[248,144,68,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,144,68,255],toColor:[248,146,67,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,146,67,255],toColor:[248,147,66,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,147,66,255],toColor:[249,149,65,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[249,149,65,255],toColor:[249,150,64,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[249,150,64,255],toColor:[250,151,64,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,151,64,255],toColor:[250,153,63,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,153,63,255],toColor:[250,154,62,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,154,62,255],toColor:[251,156,61,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[251,156,61,255],toColor:[251,157,60,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,157,60,255],toColor:[251,158,59,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,158,59,255],toColor:[252,160,58,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,160,58,255],toColor:[252,161,58,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,161,58,255],toColor:[252,163,57,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[252,163,57,255],toColor:[253,164,56,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,164,56,255],toColor:[253,166,55,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,166,55,255],toColor:[253,167,54,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,167,54,255],toColor:[253,168,53,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,168,53,255],toColor:[253,170,52,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[253,170,52,255],toColor:[254,171,52,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,171,52,255],toColor:[254,173,51,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,173,51,255],toColor:[254,174,50,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,174,50,255],toColor:[254,176,49,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,176,49,255],toColor:[254,177,48,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[254,177,48,255],toColor:[254,179,48,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,179,48,255],toColor:[254,180,47,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,180,47,255],toColor:[254,182,46,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,182,46,255],toColor:[255,183,45,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,183,45,255],toColor:[255,185,45,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[255,185,45,255],toColor:[255,187,44,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,187,44,255],toColor:[255,188,43,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,188,43,255],toColor:[255,190,43,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,190,43,255],toColor:[255,191,42,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[255,191,42,255],toColor:[255,193,41,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[255,193,41,255],toColor:[254,194,41,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,194,41,255],toColor:[254,196,40,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,196,40,255],toColor:[254,198,40,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,198,40,255],toColor:[254,199,39,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,199,39,255],toColor:[254,201,39,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[254,201,39,255],toColor:[254,202,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,202,38,255],toColor:[254,204,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[254,204,38,255],toColor:[253,206,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,206,38,255],toColor:[253,207,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,207,37,255],toColor:[253,209,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[253,209,37,255],toColor:[253,211,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[253,211,37,255],toColor:[252,212,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,212,37,255],toColor:[252,214,36,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,214,36,255],toColor:[252,216,36,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,216,36,255],toColor:[251,217,36,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[251,217,36,255],toColor:[251,219,36,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[251,219,36,255],toColor:[250,221,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,221,37,255],toColor:[250,222,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[250,222,37,255],toColor:[249,224,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[249,224,37,255],toColor:[249,226,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[249,226,37,255],toColor:[248,227,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,227,37,255],toColor:[248,229,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[248,229,38,255],toColor:[247,231,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[247,231,38,255],toColor:[247,232,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[247,232,38,255],toColor:[246,234,39,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[246,234,39,255],toColor:[246,236,39,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[246,236,39,255],toColor:[245,238,39,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[245,238,39,255],toColor:[244,239,39,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,239,39,255],toColor:[244,241,39,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[244,241,39,255],toColor:[243,243,39,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[243,243,39,255],toColor:[242,245,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,245,38,255],toColor:[242,246,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,246,38,255],toColor:[241,248,36,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[241,248,36,255],toColor:[241,250,34,255]}]},{id:"precipitation_predefined",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,
	255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction_predefined",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purpleBright_predefined",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purpleToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,
	255,191],toColor:[20,122,11]}]},{id:"purpleToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purpleBlueBright_predefined",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purpleBlueLightToDark_predefined",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purpleRedBright_predefined",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purpleRedLightToDark_predefined",fromColor:[250,215,246],toColor:[143,
	17,57]},{id:"redBright_predefined",fromColor:[255,204,204],toColor:[219,0,0]},{id:"redLightToDark_predefined",fromColor:[255,224,224],toColor:[143,10,10]},{id:"redToBlueDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"redToBlueDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"redToGreen_predefined",
	type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"redToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"redToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope_predefined",type:"multipart",colorRamps:[{fromColor:[56,
	168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrumFullBright_predefined",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrumFullDark_predefined",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrumFullLight_predefined",type:"multipart",
	colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface_predefined",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature_predefined",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,
	0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"viridis_predefined",type:"multipart",colorRamps:[{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[68,1,84,255],toColor:[69,2,86,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[69,2,86,255],toColor:[69,
	4,87,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[69,4,87,255],toColor:[69,5,89,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[69,5,89,255],toColor:[70,7,90,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[70,7,90,255],toColor:[70,8,92,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[70,8,92,255],toColor:[70,10,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[70,10,93,255],toColor:[71,11,95,
	255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,11,95,255],toColor:[71,13,96,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,13,96,255],toColor:[71,14,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,14,98,255],toColor:[71,16,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,16,99,255],toColor:[72,17,100,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,17,100,255],toColor:[72,
	19,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,19,102,255],toColor:[72,20,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,20,103,255],toColor:[72,22,104,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,22,104,255],toColor:[72,23,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,23,106,255],toColor:[72,24,107,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,24,107,255],
	toColor:[72,26,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,26,108,255],toColor:[72,27,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,27,109,255],toColor:[72,28,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,28,110,255],toColor:[73,30,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[73,30,112,255],toColor:[73,31,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[73,
	31,113,255],toColor:[72,32,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,32,114,255],toColor:[72,34,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,34,115,255],toColor:[72,35,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,35,116,255],toColor:[72,36,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,36,117,255],toColor:[72,37,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[72,37,118,255],toColor:[72,39,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,39,119,255],toColor:[72,40,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,40,120,255],toColor:[72,41,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,41,121,255],toColor:[72,42,122,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[72,42,122,255],toColor:[72,44,123,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[72,44,123,255],toColor:[71,45,124,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,45,124,255],toColor:[71,46,125,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,46,125,255],toColor:[71,47,125,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,47,125,255],toColor:[71,49,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[71,49,126,255],toColor:[70,50,127,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[70,50,127,255],toColor:[70,51,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[70,51,128,255],toColor:[70,52,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[70,52,128,255],toColor:[70,54,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[70,54,129,255],toColor:[69,55,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[69,55,130,255],toColor:[69,56,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[69,56,130,255],toColor:[69,57,131,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[69,57,131,255],toColor:[68,58,132,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[68,58,132,255],toColor:[68,60,132,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[68,60,132,255],toColor:[68,61,133,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[68,61,133,255],toColor:[67,62,133,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[67,62,133,255],toColor:[67,63,134,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[67,63,134,255],toColor:[66,64,134,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[66,64,134,255],toColor:[66,66,135,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[66,66,135,255],toColor:[65,67,135,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[65,67,135,255],toColor:[65,68,136,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[65,68,136,255],toColor:[65,69,136,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[65,69,136,255],toColor:[64,70,136,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[64,70,136,255],toColor:[64,71,137,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[64,71,137,255],toColor:[63,73,137,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[63,73,137,255],toColor:[63,74,138,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[63,74,138,255],toColor:[62,75,138,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[62,75,138,255],toColor:[62,76,138,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[62,76,138,255],toColor:[61,77,138,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[61,77,138,255],toColor:[61,78,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[61,78,139,255],toColor:[60,79,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[60,79,139,255],toColor:[60,80,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[60,80,139,255],toColor:[59,81,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[59,81,139,255],toColor:[59,83,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[59,83,140,255],toColor:[58,84,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[58,84,140,255],toColor:[58,85,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[58,85,140,255],toColor:[57,86,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[57,86,140,255],toColor:[57,87,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[57,87,140,255],toColor:[56,88,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[56,88,141,255],toColor:[56,89,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[56,89,141,255],toColor:[55,90,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[55,90,141,255],toColor:[55,91,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[55,91,141,255],toColor:[54,92,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[54,92,141,255],toColor:[54,93,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[54,93,141,255],toColor:[53,94,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[53,94,141,255],toColor:[53,95,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[53,95,142,255],toColor:[52,96,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[52,96,142,255],toColor:[52,97,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[52,97,142,255],toColor:[52,98,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[52,98,142,255],toColor:[51,99,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[51,99,142,255],toColor:[51,100,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[51,100,142,255],toColor:[50,101,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[50,101,142,255],toColor:[50,102,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[50,102,142,255],toColor:[49,103,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[49,103,142,255],toColor:[49,104,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[49,104,142,255],toColor:[48,105,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[48,105,142,255],toColor:[48,106,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[48,106,142,255],toColor:[48,107,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[48,107,143,255],toColor:[47,108,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[47,108,143,255],toColor:[47,109,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[47,109,143,255],toColor:[46,110,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[46,110,143,255],toColor:[46,111,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[46,111,143,255],toColor:[45,112,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[45,112,143,255],toColor:[45,113,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[45,113,143,255],toColor:[45,114,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[45,114,143,255],toColor:[44,115,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[44,115,143,255],toColor:[44,116,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[44,116,143,255],toColor:[43,117,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[43,117,143,255],toColor:[43,118,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[43,118,143,255],toColor:[43,119,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[43,119,143,255],toColor:[42,120,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[42,120,143,255],toColor:[42,121,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[42,121,143,255],toColor:[42,122,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[42,122,143,255],toColor:[41,123,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[41,123,143,255],toColor:[41,123,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[41,123,143,255],toColor:[40,124,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[40,124,143,255],toColor:[40,125,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[40,125,143,255],toColor:[40,126,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[40,126,143,255],toColor:[39,127,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[39,127,143,255],toColor:[39,128,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[39,128,143,255],toColor:[39,129,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[39,129,143,255],toColor:[38,130,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[38,130,143,255],toColor:[38,131,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[38,131,143,255],toColor:[37,132,143,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[37,132,143,255],toColor:[37,133,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[37,133,142,255],toColor:[37,134,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[37,134,142,255],toColor:[36,135,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[36,135,142,255],toColor:[36,136,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[36,136,142,255],toColor:[36,137,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[36,137,142,255],toColor:[35,138,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[35,138,142,255],toColor:[35,139,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[35,139,142,255],toColor:[35,139,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[35,139,142,255],toColor:[34,140,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[34,140,142,255],toColor:[34,141,142,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[34,141,142,255],toColor:[34,142,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[34,142,141,255],toColor:[33,143,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[33,143,141,255],toColor:[33,144,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[33,144,141,255],toColor:[33,145,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[33,145,141,255],toColor:[32,146,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[32,146,141,255],toColor:[32,147,141,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[32,147,141,255],toColor:[32,148,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[32,148,140,255],toColor:[32,149,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[32,149,140,255],toColor:[31,150,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,150,140,255],toColor:[31,151,140,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,151,140,255],toColor:[31,152,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,152,139,255],toColor:[31,153,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[31,153,139,255],toColor:[31,154,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,154,139,255],toColor:[31,155,139,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,155,139,255],toColor:[31,156,138,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,156,138,255],toColor:[31,156,138,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,156,138,255],toColor:[31,157,138,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[31,157,138,255],toColor:[31,158,137,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,158,137,255],toColor:[31,159,137,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,159,137,255],toColor:[31,160,137,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,160,137,255],toColor:[31,161,136,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[31,161,136,255],toColor:[31,162,136,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[31,162,136,255],toColor:[32,163,135,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[32,163,135,255],toColor:[32,164,135,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[32,164,135,255],toColor:[32,165,134,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[32,165,134,255],toColor:[33,166,134,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[33,166,134,255],toColor:[33,167,134,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[33,167,134,255],toColor:[34,168,133,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[34,168,133,255],toColor:[34,169,133,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[34,169,133,255],toColor:[35,170,132,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[35,170,132,255],toColor:[36,170,131,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[36,170,131,255],toColor:[37,171,131,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[37,171,131,255],toColor:[38,172,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[38,172,130,255],toColor:[38,173,130,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[38,173,130,255],toColor:[39,174,129,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[39,174,129,255],toColor:[40,175,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[40,175,128,255],toColor:[41,176,128,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[41,176,128,255],toColor:[43,177,127,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[43,177,127,255],toColor:[44,178,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[44,178,126,255],toColor:[45,179,126,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[45,179,126,255],toColor:[46,180,125,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[46,180,125,255],toColor:[48,180,124,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[48,180,124,255],toColor:[49,181,123,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[49,181,123,255],toColor:[50,182,123,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[50,182,123,255],toColor:[52,183,122,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[52,183,122,255],toColor:[53,184,121,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[53,184,121,255],toColor:[55,185,120,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[55,185,120,255],toColor:[56,186,119,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[56,186,119,255],toColor:[58,187,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[58,187,118,255],toColor:[60,187,118,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[60,187,118,255],toColor:[61,188,117,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[61,188,117,255],toColor:[63,189,116,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[63,189,116,255],toColor:[65,190,115,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[65,190,115,255],toColor:[67,191,114,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[67,191,114,255],toColor:[68,192,113,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[68,192,113,255],toColor:[70,193,112,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[70,193,112,255],toColor:[72,193,111,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[72,193,111,255],toColor:[74,194,110,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[74,194,110,255],toColor:[76,195,109,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[76,195,109,255],toColor:[78,196,108,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[78,196,108,255],toColor:[80,197,106,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[80,197,106,255],toColor:[82,197,105,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[82,197,105,255],toColor:[84,198,104,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[84,198,104,255],toColor:[86,199,103,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[86,199,103,255],toColor:[88,200,102,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[88,200,102,255],toColor:[90,200,101,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[90,200,101,255],toColor:[92,201,99,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[92,201,99,255],toColor:[95,202,98,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[95,202,98,255],toColor:[97,203,97,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[97,203,97,255],toColor:[99,203,95,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[99,203,95,255],toColor:[101,204,94,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[101,204,94,255],toColor:[103,205,93,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[103,205,93,255],toColor:[106,206,91,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[106,206,91,255],toColor:[108,206,90,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[108,206,90,255],toColor:[110,207,89,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[110,207,89,255],toColor:[113,208,87,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[113,208,87,255],toColor:[115,208,86,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[115,208,86,255],toColor:[117,209,84,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[117,209,84,255],toColor:[120,210,83,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[120,210,83,255],toColor:[122,210,81,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[122,210,81,255],toColor:[125,211,80,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[125,211,80,255],toColor:[127,212,78,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[127,212,78,255],toColor:[130,212,77,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[130,212,77,255],toColor:[132,213,75,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[132,213,75,255],toColor:[135,213,74,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[135,213,74,255],toColor:[137,214,72,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[137,214,72,255],toColor:[140,215,71,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[140,215,71,255],toColor:[142,215,69,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[142,215,69,255],toColor:[145,216,67,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[145,216,67,255],toColor:[147,216,66,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[147,216,66,255],toColor:[150,217,64,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[150,217,64,255],toColor:[153,217,62,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[153,217,62,255],toColor:[155,218,61,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[155,218,61,255],toColor:[158,218,59,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[158,218,59,255],toColor:[160,219,57,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[160,219,57,255],toColor:[163,219,55,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[163,219,55,255],toColor:[166,220,54,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[166,220,54,255],toColor:[168,220,52,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[168,220,52,255],toColor:[171,221,50,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[171,221,50,255],toColor:[174,221,49,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[174,221,49,255],toColor:[176,222,47,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[176,222,47,255],toColor:[179,222,45,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[179,222,45,255],toColor:[182,222,43,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[182,222,43,255],toColor:[184,223,42,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[184,223,42,255],toColor:[187,223,40,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[187,223,40,255],toColor:[190,224,38,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[190,224,38,255],toColor:[192,224,37,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[192,224,37,255],toColor:[195,224,35,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[195,224,35,255],toColor:[198,225,34,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[198,225,34,255],toColor:[201,225,32,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[201,225,32,255],toColor:[203,225,31,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[203,225,31,255],toColor:[206,226,29,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[206,226,29,255],toColor:[209,226,28,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[209,226,28,255],toColor:[211,226,27,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[211,226,27,255],toColor:[214,227,26,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[214,227,26,255],toColor:[216,227,26,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[216,227,26,255],toColor:[219,227,25,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[219,227,25,255],toColor:[222,228,25,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[222,228,25,255],toColor:[224,228,24,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[224,228,24,255],toColor:[227,228,24,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[227,228,24,255],toColor:[229,229,25,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[229,229,25,255],toColor:[232,229,25,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[232,229,25,255],toColor:[235,229,26,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[235,229,26,255],toColor:[237,230,27,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[237,230,27,255],toColor:[240,230,28,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[240,230,28,255],toColor:[242,230,29,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[242,230,29,255],toColor:[245,231,30,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",
	fromColor:[245,231,30,255],toColor:[247,231,32,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[247,231,32,255],toColor:[249,231,33,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[249,231,33,255],toColor:[252,232,35,255]},{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:[252,232,35,255],toColor:[254,232,37,255]}]},{id:"whiteToBlack_predefined",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellowToDarkRed_predefined",type:"multipart",colorRamps:[{fromColor:[255,
	255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellowToGreenToDarkBlue_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellowToRed_predefined",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellowGreenBright_predefined",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellowGreenLightToDark_predefined",fromColor:[215,240,175],toColor:[96,
	107,45]}],p=[{name:"Aspect",id:"aspect_predefined"},{name:"Black to White",id:"blackToWhite_predefined"},{name:"Blue Bright",id:"blueBright_predefined"},{name:"Blue Light to Dark",id:"blueLightToDark_predefined"},{name:"Blue-Green Bright",id:"blueGreenBright_predefined"},{name:"Blue-Green Light to Dark",id:"blueGreenLightToDark_predefined"},{name:"Brown Light to Dark",id:"brownLightToDark_predefined"},{name:"Brown to Blue Green Diverging, Bright",id:"brownToBlueGreenDivergingBright_predefined"},{name:"Brown to Blue Green Diverging, Dark",
	id:"brownToBlueGreenDivergingDark_predefined"},{name:"Cividis",id:"cividis_predefined"},{name:"Coefficient Bias",id:"coefficientBias_predefined"},{name:"Cold to Hot Diverging",id:"coldToHotDiverging_predefined"},{name:"Condition Number",id:"conditionNumber_predefined"},{name:"Cyan to Purple",id:"cyanToPurple_predefined"},{name:"Cyan-Light to Blue-Dark",id:"cyanLightToBlueDark_predefined"},{name:"Distance",id:"distance_predefined"},{id:"elevation1_predefined",name:"Elevation #1"},{id:"elevation2_predefined",
	name:"Elevation #2"},{id:"errors_predefined",name:"Errors"},{id:"grayLightToDark_predefined",name:"Gray Light to Dark"},{id:"greenBright_predefined",name:"Green Bright"},{id:"greenLightToDark_predefined",name:"Green Light to Dark"},{name:"Green to Blue",id:"greenToBlue_predefined"},{name:"Inferno",id:"inferno_predefined"},{name:"Magma",id:"magma_predefined"},{name:"Orange Bright",id:"orangeBright_predefined"},{name:"Orange Light to Dark",id:"orangeLightToDark_predefined"},{id:"partialSpectrum_predefined",
	name:"Partial Spectrum"},{id:"partialSpectrum1Diverging_predefined",name:"Partial Spectrum 1 Diverging",type:"multipart"},{id:"partialSpectrum2Diverging_predefined",name:"Partial Spectrum 2 Diverging"},{name:"Plasma",id:"plasma_predefined"},{name:"Pink to YellowGreen Diverging, Bright",id:"pinkToYellowGreenDivergingBright_predefined"},{name:"Pink to YellowGreen Diverging, Dark",id:"pinkToYellowGreenDivergingDark_predefined"},{id:"precipitation_predefined",name:"Precipitation"},{id:"prediction_predefined",
	name:"Prediction"},{name:"Purple Bright",id:"purpleBright_predefined"},{id:"purpleToGreenDivergingBright_predefined",name:"Purple to Green Diverging, Bright"},{id:"purpleToGreenDivergingDark_predefined",name:"Purple to Green Diverging, Dark"},{name:"Purple-Blue Bright",id:"purpleBlueBright_predefined"},{name:"Purple-Blue Light to Dark",id:"purpleBlueLightToDark_predefined"},{name:"Purple-Red Bright",id:"purpleRedBright_predefined"},{name:"Purple-Red Light to Dark",id:"purpleRedLightToDark_predefined"},
	{name:"Red Bright",id:"redBright_predefined"},{name:"Red Light to Dark",id:"redLightToDark_predefined"},{id:"redToBlueDivergingBright_predefined",name:"Red to Blue Diverging, Bright"},{id:"redToBlueDivergingDark_predefined",name:"Red to Blue Diverging, Dark"},{id:"redToGreen_predefined",name:"Red to Green"},{id:"redToGreenDivergingBright_predefined",name:"Red to Green Diverging, Bright"},{id:"redToGreenDivergingDark_predefined",name:"Red to Green Diverging, Dark"},{name:"Slope",id:"slope_predefined"},
	{id:"spectrumFullBright_predefined",name:"Spectrum-Full Bright"},{id:"spectrumFullDark_predefined",name:"Spectrum-Full Dark"},{id:"spectrumFullLight_predefined",name:"Spectrum-Full Light"},{id:"surface_predefined",name:"Surface"},{id:"temperature_predefined",name:"Temperature"},{name:"Viridis",id:"viridis_predefined"},{name:"White to Black",id:"whiteToBlack_predefined"},{id:"yellowToDarkRed_predefined",name:"Yellow to Dark Red"},{id:"yellowToGreenToDarkBlue_predefined",name:"Yellow to Green to Dark Blue"},
	{name:"Yellow to Red",id:"yellowToRed_predefined"},{name:"Yellow-Green Bright",id:"yellowGreenBright_predefined"},{name:"Yellow-Green Light to Dark",id:"yellowGreenLightToDark_predefined"}],x=new b({data:p});C.mixin(t,{predefinedColorRamps:g,predefinedColorRampNameMap:p,getColorRampName:function(u){u=d(u);return u.id?(u=x.query({id:u.id}),u[0]?u[0].name:null):null},fromJson:function(u){var A=null;if(!u)return A;"multipart"===u.type?(A=new n,A.colorRamps=y.map(u.colorRamps,function(m){return c(m)},
	this)):"algorithmic"===u.type&&(A=c(u));return A},colorsEqual:e,getColorRampId:d,invertColorRamp:f,convertColorRampToColormap:function(u,A){if(u&&A){var m=u.colorRamps?u.colorRamps.length:1,v=[],r=[],B,D,G,z,E=0,H=0;for(E=0;E<m;E++)v[E]={},v[E].start=H,v[E].end=H+1/m,H=v[E].end;for(E=0;E<A;E++){var I=(E+.5)/A;y.forEach(v,function(O,T){I>=O.start&&I<O.end&&(z=(I-O.start)/(O.end-O.start),1<v.length?(B=k.getDojoColor(u.colorRamps[T].fromColor),D=k.getDojoColor(u.colorRamps[T].toColor)):(B=k.getDojoColor(u.fromColor),
	D=k.getDojoColor(u.toColor)),G=q(B,D,z),r.push([E,G.r,G.g,G.b]))},this)}return r}},interpolateLabColor:q});return t})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(C,y,b){return C("dojo.store.Memory",null,{constructor:function(w){for(var n in w)this[n]=w[n];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:b,get:function(w){return this.data[this.index[w]]},getIdentity:function(w){return w[this.idProperty]},
	put:function(w,n){var l=this.data,k=this.index,h=this.idProperty;h=w[h]=n&&"id"in n?n.id:h in w?w[h]:Math.random();if(h in k){if(n&&!1===n.overwrite)throw Error("Object already exists");l[k[h]]=w}else k[h]=l.push(w)-1;return h},add:function(w,n){(n=n||{}).overwrite=!1;return this.put(w,n)},remove:function(w){var n=this.index,l=this.data;if(w in n)return l.splice(n[w],1),this.setData(l),!0},query:function(w,n){return y(this.queryEngine(w,n)(this.data))},setData:function(w){w.items?(this.idProperty=
	w.identifier||this.idProperty,w=this.data=w.items):this.data=w;this.index={};for(var n=0,l=w.length;n<l;n++)this.index[w[n][this.idProperty]]=n}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../when"],function(C,y,b){var w=function(n){function l(h){n[h]=function(){var f=arguments,d=b(n,function(a){Array.prototype.unshift.call(f,a);return w(C[h].apply(C,f))});if("forEach"!==h||k)return d}}if(!n)return n;var k=!!n.then;k&&(n=y.delegate(n));l("forEach");
	l("filter");l("map");null==n.total&&(n.total=b(n,function(h){return h.length}));return n};y.setObject("dojo.store.util.QueryResults",w);return w})},"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(C){return function(y,b){function w(l){l=C.filter(l,y);var k=b&&b.sort;k&&l.sort("function"==typeof k?k:function(f,d){for(var a,c=0;a=k[c];c++){var e=f[a.attribute],q=d[a.attribute];e=null!=e?e.valueOf():e;q=null!=q?q.valueOf():q;if(e!=q)return!!a.descending==(null==e||
	e>q)?-1:1}return 0});if(b&&(b.start||b.count)){var h=l.length;l=l.slice(b.start||0,(b.start||0)+(b.count||Infinity));l.total=h}return l}switch(typeof y){default:throw Error("Can not query with a "+typeof y);case "object":case "undefined":var n=y;y=function(l){for(var k in n){var h=n[k];if(h&&h.test){if(!h.test(l[k],l))return!1}else if(h!=l[k])return!1}return!0};break;case "string":if(!this[y])throw Error("No filter function "+y+" was found in store");y=this[y];case "function":}w.matches=y;return w}})},
	"esri/tasks/AlgorithmicColorRamp":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../Color ./ColorRamp".split(" "),function(C,y,b,w,n,l){C=C(l,{declaredClass:"esri.tasks.AlgorithmicColorRamp",type:"algorithmic",fromColor:null,toColor:null,algorithm:null,toJson:function(){switch(this.algorithm&&this.algorithm.toLowerCase()){case "cie-lab":var k="esriCIELabAlgorithm";break;case "hsv":k="esriHSVAlgorithm";break;case "lab-lch":k="esriLabLChAlgorithm"}k={type:"algorithmic",algorithm:k};
	k.fromColor=n.toJsonColor(this.fromColor);k.toColor=n.toJsonColor(this.toColor);return k}});b("extend-esri")&&y.setObject("tasks.AlgorithmicColorRamp",C,w);return C})},"esri/tasks/ColorRamp":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(C,y,b,w){C=C(null,{declaredClass:"esri.tasks.ColorRamp",type:null});b("extend-esri")&&y.setObject("tasks.ColorRamp",C,w);return C})},"esri/tasks/MultipartColorRamp":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../symbols/Symbol ./ColorRamp".split(" "),
	function(C,y,b,w,n,l){C=C(l,{declaredClass:"esri.tasks.MultipartColorRamp",type:"multipart",constructor:function(){this.colorRamps=[]},addColorRamp:function(k){this.colorRamps.push(k)},toJson:function(){return{type:"multipart",colorRamps:b.map(this.colorRamps,function(k){return k.toJson()})}}});w("extend-esri")&&y.setObject("tasks.MultipartColorRamp",C,n);return C})},"esri/renderers/colorUtils":function(){define(["dojo/_base/Color","dojo/_base/array"],function(C,y){var b={COEF_RGB2XYZ:[[.4124,.3576,
	.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],COEF_XYZ2RGB:[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],matrixProduct:function(n,l){var k=[],h,f;if(n[0].length!==l.length)throw"dimensions do not match";var d=n.length,a=n[0].length,c=0;for(h=0;h<d;h++){for(f=c=0;f<a;f++)c+=n[h][f]*l[f];k.push(c)}return k},rgb2xyz:function(n){n=[n.r/255,n.g/255,n.b/255].map(function(l){return.04045>=l?l/12.92:Math.pow((l+.055)/1.055,2.4)});n=this.matrixProduct(this.COEF_RGB2XYZ,n);return{x:100*
	n[0],y:100*n[1],z:100*n[2]}},xyz2rgb:function(n){n=this.matrixProduct(this.COEF_XYZ2RGB,[n.x/100,n.y/100,n.z/100]).map(function(l){return Math.min(1,Math.max(.0031308>=l?12.92*l:1.055*Math.pow(l,1/2.4)-.055,0))});return{r:Math.round(255*n[0]),g:Math.round(255*n[1]),b:Math.round(255*n[2])}},xyz2lab:function(n){n=[n.x/95.047,n.y/100,n.z/108.883].map(function(l){return l>Math.pow(6/29,3)?Math.pow(l,1/3):1/3*Math.pow(29/6,2)*l+4/29});return{l:116*n[1]-16,a:500*(n[0]-n[1]),b:200*(n[1]-n[2])}},lab2xyz:function(n){var l=
	n.l;n=[(l+16)/116+n.a/500,(l+16)/116,(l+16)/116-n.b/200].map(function(k){return k>6/29?Math.pow(k,3):3*Math.pow(6/29,2)*(k-4/29)});return{x:95.047*n[0],y:100*n[1],z:108.883*n[2]}},lab2lch:function(n){var l=n.l,k=n.a,h=n.b;n=Math.sqrt(k*k+h*h);k=Math.atan2(h,k);k=0<k?k:k+2*Math.PI;return{l:l,c:n,h:k}},lch2lab:function(n){var l=n.c,k=n.h;return{l:n.l,a:l*Math.cos(k),b:l*Math.sin(k)}},rgb2lab:function(n){return this.xyz2lab(this.rgb2xyz(n))},lab2rgb:function(n){return this.xyz2rgb(this.lab2xyz(n))},
	rgb2lch:function(n){return this.lab2lch(this.xyz2lab(this.rgb2xyz(n)))},lch2rgb:function(n){return this.xyz2rgb(this.lab2xyz(this.lch2lab(n)))}},w={rgb2hsv:function(n){var l=n.r,k=n.g;n=n.b;var h=Math.max(l,k,n),f=h-Math.min(l,k,n),d;0===f?d=0:h===l?d=(k-n)/f%6:h===k?d=(n-l)/f+2:h===n&&(d=(l-k)/f+4);0>d&&(d+=6);return{h:60*d,s:100*(0===f?0:f/h),v:100/255*h}},hsv2rgb:function(n){var l=(n.h+360)%360/60,k=n.v/100*255;n=n.s/100*k;var h=n*(1-Math.abs(l%2-1));switch(Math.floor(l)){case 0:l={r:n,g:h,b:0};
	break;case 1:l={r:h,g:n,b:0};break;case 2:l={r:0,g:n,b:h};break;case 3:l={r:0,g:h,b:n};break;case 4:l={r:h,g:0,b:n};break;case 5:case 6:l={r:n,g:0,b:h};break;default:l={r:0,g:0,b:0}}l.r=Math.round(l.r+k-n);l.g=Math.round(l.g+k-n);l.b=Math.round(l.b+k-n);return l}};return{toRGB:function(n){var l;void 0!==n.r&&void 0!==n.g&&void 0!==n.b?l=n:void 0!==n.l&&void 0!==n.c&&void 0!==n.h?l=b.lch2rgb(n):void 0!==n.l&&void 0!==n.a&&void 0!==n.b?l=b.lab2rgb(n):void 0!==n.x&&void 0!==n.y&&void 0!==n.z?l=b.xyz2rgb(n):
	void 0!==n.h&&void 0!==n.s&&void 0!==n.v&&(l=w.hsv2rgb(n));return l},toHSV:function(n){if(void 0!==n.h&&void 0!==n.s&&void 0!==n.v)return n;n=this.toRGB(n);return w.rgb2hsv(n)},toLAB:function(n){return void 0!==n.l&&void 0!==n.a&&void 0!==n.b?n:b.rgb2lab(this.toRGB(n))},toLCH:function(n){return void 0!==n.l&&void 0!==n.c&&void 0!==n.h?n:b.rgb2lch(this.toRGB(n))},toXYZ:function(n){return void 0!==n.x&&void 0!==n.y&&void 0!==n.z?n:b.rgb2xyz(this.toRGB(n))},getDojoColor:function(n){if(n){if(Array.isArray(n))return C.fromArray(n);
	if(void 0!==n.r&&void 0!==n.g&&void 0!==n.b)return n}},correctRGBLimits:function(n){var l=[n.r,n.g,n.b];y.forEach(l,function(k,h){0>l[h]?l[h]=0:255<l[h]&&(l[h]=255);l[h]=Math.floor(l[h])});return{r:l[0],g:l[1],b:l[2],a:1}}}})},"esri/renderers/jsonUtils":function(){define("dojo/_base/array dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ../Color ../symbols/jsonUtils ./SimpleRenderer ./UniqueValueRenderer ./ClassBreaksRenderer ./VectorFieldRenderer ./DotDensityRenderer ./ScaleDependentRenderer ./TimeClassBreaksAger ./TimeRampAger ./TemporalRenderer ./HeatmapRenderer ./StretchRenderer ./ShadedReliefRenderer ./ColormapRenderer".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x,u,A){var m={createDefaultRenderer:function(v){v=k.createDefaultSymbol(v);return new h(v)},fromJson:function(v,r){switch(v.type||""){case "simple":v=new h(v,r);break;case "uniqueValue":v=new f(v,null,null,null,null,r);break;case "classBreaks":v=new d(v,null,r);break;case "vectorField":v=new a(v);break;case "scaleDependent":v=this._scaleDependentFromJson(v);break;case "dotDensity":v=v.attributes?m.createDefaultRenderer("esriGeometryPolygon"):this._dotDensityFromJson(v);
	break;case "temporal":v=this._temporalFromJson(v,r);break;case "heatmap":v=this._heatmapFromJson(v);break;case "rasterStretch":v=new x(v);break;case "rasterShadedRelief":v=new u(v);break;case "rasterColormap":v=new A(v);break;default:v=(v=r&&r.geometryType)?m.createDefaultRenderer(v):null}return v},_scaleDependentFromJson:function(v){var r={},B=v.minScale;r.rendererInfos=C.map(v.rendererInfos,function(D){var G=D.maxScale;D={minScale:B,maxScale:G,renderer:D.renderer&&this.fromJson(D.renderer)};B=G;
	return D},this);return new e(r)},_dotDensityFromJson:function(v){v.backgroundColor&&y.isArray(v.backgroundColor)&&(v.backgroundColor=l.toDojoColor(v.backgroundColor));0<v.dotSize&&(v.dotSize=w.pt2px(v.dotSize));v.fields&&C.forEach(v.fields,function(r){r&&y.isArray(r.color)&&(r.color=l.toDojoColor(r.color))});v.legendOptions&&(v.legendOptions.backgroundColor&&y.isArray(v.legendOptions.backgroundColor)&&(v.legendOptions.backgroundColor=l.toDojoColor(v.legendOptions.backgroundColor)),v.legendOptions.outline&&
	(v.legendOptions.outline=k.fromJson(v.legendOptions.outline)));v.outline&&(v.outline=k.fromJson(v.outline));return new c(v)},_temporalFromJson:function(v,r){var B=r&&r.geometryType;v=v||{};var D=this.fromJson(v.observationRenderer,r);r=v.latestObservationRenderer?this.fromJson(v.latestObservationRenderer,r):null;B=v.trackRenderer?this.fromJson(v.trackRenderer,B?{geometryType:"esriGeometryPolyline"}:null):null;v=this._agerFromJson(v.observationAger);return new g(D,r,B,v)},_agerFromJson:function(v){var r;
	v=v||{};v.colorRange||v.sizeRange||v.alphaRange?r=this._timeRampFromJson(v):v.agerClassBreakInfos&&(r=this._timeClassBreaksFromJson(v));return r},_timeRampFromJson:function(v){var r,B,D;v.colorRange&&1<v.colorRange.length&&(r=[l.toDojoColor(v.colorRange[0]),l.toDojoColor(v.colorRange[1])]);v.sizeRange&&1<v.sizeRange.length&&(B=[v.sizeRange[0],v.sizeRange[1]]);v.alphaRange&&1<v.alphaRange.length&&(D=[v.alphaRange[0]/255,v.alphaRange[1]/255]);return new t(r,B,D)},_timeClassBreaksFromJson:function(v){var r=
	v.agerClassBreakInfos,B=[],D;var G=q.UNIT_DAYS;switch(v.timeUnits){case "esriTimeUnitsSeconds":G=q.UNIT_SECONDS;break;case "esriTimeUnitsMilliseconds":G=q.UNIT_MILLISECONDS;break;case "esriTimeUnitsHours":G=q.UNIT_HOURS;break;case "esriTimeUnitsMinutes":G=q.UNIT_MINUTES;break;case "esriTimeUnitsMonths":G=q.UNIT_MONTHS;break;case "esriTimeUnitsWeeks":G=q.UNIT_WEEKS;break;case "esriTimeUnitsYears":G=q.UNIT_YEARS}for(D=0;D<r.length;D+=1){v=r[D];var z={minAge:0,maxAge:v.oldestAge||Infinity};v.color&&
	(z.color=l.toDojoColor(v.color));v.alpha&&(z.alpha=v.alpha/255);z.size=v.size;B[D]=z}return new q(B,G)},_heatmapFromJson:function(v){var r=v.colorStops;r&&r instanceof Array&&C.forEach(r,function(B){B.color=l.toDojoColor(B.color)});return new p(v)}};b("extend-esri")&&y.mixin(y.getObject("renderer",!0,n),m);return m})},"esri/renderers/VectorFieldRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojo/_base/array ../kernel ../lang ../Color ./Renderer ./ClassBreaksRenderer ../symbols/SimpleMarkerSymbol ../symbols/PictureMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/jsonUtils require".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q){var t=C(h,{declaredClass:"esri.renderer.VectorFieldRenderer",iconFolderPath:"../images/symbol/sfs/",constructor:function(g){l.isDefined(g)||(g={});g.attributeField=g.attributeField||"Magnitude";g.rotationInfo=g.rotationInfo||this._getRotationInfo(g);C.safeMixin(this,g);this.setRotationInfo(this.rotationInfo);this.style=this.style||t.STYLE_SINGLE_ARROW;this.singleArrowSymbol&&(this.singleArrowSymbol=this.singleArrowSymbol.declaredClass?this.singleArrowSymbol:e.fromJson(this.singleArrowSymbol));
	this.renderer=new f(this._getDefaultSymbol(),g.attributeField);this._updateRenderer(this.style);this.flowRepresentation=this.flowRepresentation||this.FLOW_FROM},getSymbol:function(g){return this.renderer&&this.renderer.getSymbol(g)},setVisualVariables:function(g){g=w.filter(g,function(p){if("sizeInfo"===p.type)return l.isDefined(this._updateSizeInfo(p))},this);this.inherited(arguments);return this},setSizeInfo:function(g){this._updateSizeInfo(g);this.inherited(arguments);return this},setProportionalSymbolInfo:function(g){this.setSizeInfo(g);
	return this},setColorInfo:function(g){return this},_updateRenderer:function(g){return l.isDefined(this.renderer)?g===t.STYLE_SINGLE_ARROW?this._createSingleArrowRenderer():g===t.STYLE_BEAUFORT_KN?this._createBeaufortKnotsRenderer():g===t.STYLE_BEAUFORT_METER?this._createBeaufortMeterRenderer():g===t.STYLE_BEAUFORT_FEET?this._createBeaufortFeetRenderer():g===t.STYLE_BEAUFORT_MILE?this._createBeaufortMilesRenderer():g===t.STYLE_BEAUFORT_KM?this._createBeaufortKilometersRenderer():g===t.STYLE_OCEAN_CURRENT_M?
	this._createCurrentMeterRenderer():g===t.STYLE_OCEAN_CURRENT_KN?this._createCurrentKnotsRenderer():g===t.STYLE_SCALAR?this._createSimpleScalarRenderer():g===t.STYLE_WIND_BARBS?this._createWindBarbsRenderer():this._createClassifiedArrowRenderer():Error("Invalid Renderer!")},_updateSizeInfo:function(g){return g&&l.isDefined(g.minSize)&&l.isDefined(g.maxSize)&&l.isDefined(g.minDataValue)&&l.isDefined(g.maxDataValue)?(this.style===t.STYLE_WIND_BARBS&&(g.minSize=g.maxSize),g.field=g.field||"Magnitude",
	g.type="sizeInfo",this.minDataValue=g.minDataValue,this.maxDataValue=g.maxDataValue,g):null},_createClassifiedArrowRenderer:function(){this.renderer.defaultSymbol=this._getDefaultSymbol(new k([56,168,0]));var g=[0,1E-6,3.5,7,10.5,14];if(l.isDefined(this.minDataValue)&&l.isDefined(this.maxDataValue)){var p=(this.maxDataValue-this.minDataValue)/5;g=[];var x;var u=this.minDataValue;for(x=0;6>x;x++)g[x]=u,u+=p}this._addBreaks(g,[[56,168,0],[139,309,0],[255,255,0],[255,128,0],[255,0,0]])},_createSingleArrowRenderer:function(){this.renderer.defaultSymbol=
	this.singleArrowSymbol||this._getDefaultSymbol()},_createBeaufortMeterRenderer:function(){this.renderer.defaultSymbol=this._getDefaultSymbol(new k([214,47,39]));this._addBreaks([0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7],[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])},_createBeaufortKnotsRenderer:function(){this.renderer.defaultSymbol=this._getDefaultSymbol(new k([214,
	47,39]));this._addBreaks([0,1,3,6,10,16,21,27,33,40,47,55,63],[[40,146,199],[89,162,186],[129,179,171],[160,194,155],[191,212,138],[218,230,119],[250,250,100],[252,213,83],[252,179,102],[250,141,52],[247,110,42],[240,71,29]])},_createBeaufortFeetRenderer:function(){var g=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];w.forEach(g,function(p,x){g[x]*=3.28084});this.renderer.defaultSymbol=this._getDefaultSymbol(new k([214,47,39]));this._addBreaks(g,[[69,117,181],[101,137,184],[132,158,186],
	[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])},_createBeaufortMilesRenderer:function(){var g=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];w.forEach(g,function(p,x){g[x]*=2.23694});this.renderer.defaultSymbol=this._getDefaultSymbol(new k([214,47,39]));this._addBreaks(g,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,
	117,81],[232,21,21]])},_createBeaufortKilometersRenderer:function(){var g=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];w.forEach(g,function(p,x){g[x]*=3.6});this.renderer.defaultSymbol=this._getDefaultSymbol(new k([214,47,39]));this._addBreaks(g,[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]])},_createCurrentMeterRenderer:function(){this.renderer.defaultSymbol=this._getDefaultSymbol(new k([177,
	177,177]));this._addBreaks([0,.5,1,1.5,2],[[78,26,153],[179,27,26],[202,128,26],[177,177,177]])},_createCurrentKnotsRenderer:function(){this.renderer.defaultSymbol=this._getDefaultSymbol(new k([177,177,177]));this._addBreaks([0,.25,.5,1,1.5,2,2.5,3,3.5,4],[[0,0,0],[0,37,100],[78,26,153],[151,0,100],[179,27,26],[177,78,26],[202,128,26],[177,179,52],[177,177,177]])},_createSimpleScalarRenderer:function(){this.renderer.defaultSymbol=new a({url:q.toUrl(this.iconFolderPath+"scalar.png"),height:20,width:20,
	type:"esriPMS",angle:0})},_createWindBarbsRenderer:function(){var g=[],p;for(p=0;150>=p;p+=5)g.push(p);var x="M20 20 M5 20 A15 15 0 1 0 35 20 A15 15 0 1 0 5 20 M20 20 M10 20 A10 10 0 1 0 30 20 A10 10 0 1 0 10 20;M25 0 L25 40 M25 35 L17.5 37.5;M25 0 L25 40 L10 45 L25 40;M25 0 L25 40 L10 45 L25 40 M25 35 L17.5 37.5;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L17.5 32.5;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30;M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5;M25 0 L25 40 L10 40 L25 35;M25 0 L25 40 L10 40 L25 35 M25 30 L17.5 32.5;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L17.5 17.5;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20;M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20 L25 15 M25 10 L17.5 12.5;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L17.5 27.5;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L17.5 22.5;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L17.5 17.5;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L10 15;M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L10 15 M25 10 M25 5 L17.5 7.5".split(";");
	var u=new a({url:q.toUrl(this.iconFolderPath+"windbarb.png"),height:20,width:20,type:"esriPMS",angle:0});this.renderer.defaultSymbol=u;for(p=0;p<g.length-1;p++)0===p?this.renderer.addBreak({minValue:g[p],maxValue:g[p+1],symbol:u}):this.renderer.addBreak({minValue:g[p],maxValue:g[p+1],symbol:(new d).setPath(x[p]).setOutline((new c).setWidth(1.5)).setSize(20).setColor(new k([0,0,0,255]))})},_getDefaultSymbol:function(g){return(new d).setPath("M14,32 14,18 9,23 16,3 22,23 17,18 17,32 z").setOutline((new c).setWidth(0)).setSize(20).setColor(g||
	new k([0,92,230]))},_getRotationInfo:function(g){var p=g&&g.flowRepresentation||t.FLOW_FROM,x=g&&g.rotationField||"Direction",u=t.FLOW_FROM;return{field:function(A){A=A.attributes[x];return p===u?A:A+180},type:"geographic"}},_addBreaks:function(g,p){if(!l.isDefined(this.renderer))return Error("Invalid Renderer!");if(!(g&&p&&g.length&&p.length&&g.length>=p.length))return Error("AddBreaks: Input arguments break values and colors not valid");var x;for(x=0;x<p.length;x++)this.renderer.addBreak({minValue:g[x],
	maxValue:g[x+1],symbol:this._getDefaultSymbol(new k(p[x]))})},toJson:function(){var g=y.mixin(this.inherited(arguments),{type:"vectorField",style:this.style,attributeField:this.attributeField,flowRepresentation:this.flowRepresentation,symbolTileSize:this.symbolTileSize,inputUnit:this.inputUnit,outputUnit:this.outputUnit});this.renderer&&this.renderer.defaultSymbol&&this.style===t.STYLE_SINGLE_ARROW&&(g.singleArrowSymbol=this.renderer.defaultSymbol.toJson());return l.fixJson(g)}});y.mixin(t,{STYLE_WIND_BARBS:"wind_speed",
	STYLE_SINGLE_ARROW:"single_arrow",STYLE_CLASSIFIED_ARROW:"classified_arrow",STYLE_BEAUFORT_KN:"beaufort_kn",STYLE_BEAUFORT_METER:"beaufort_m",STYLE_BEAUFORT_MILE:"beaufort_mi",STYLE_BEAUFORT_FEET:"beaufort_ft",STYLE_BEAUFORT_KM:"beaufort_km",STYLE_OCEAN_CURRENT_M:"ocean_current_m",STYLE_OCEAN_CURRENT_KN:"ocean_current_kn",STYLE_SCALAR:"simple_scalar"},{FLOW_FROM:"flow_from",FLOW_TO:"flow_to"});b("extend-esri")&&y.setObject("renderer.VectorFieldRenderer",t,n);return t})},"esri/renderers/DotDensityRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct dojo/has dojox/gfx/_base ../kernel ../lang ../Color ./Renderer ../symbols/PictureFillSymbol ../geometry/ScreenPoint ../geometry/Point".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e){C=C(d,{declaredClass:"esri.renderer.DotDensityRenderer",constructor:function(q){this.dotSize=q.dotSize||3;this.dotValue=q.dotValue;this.fields=q.fields;this.outline=q.outline;this.backgroundColor=q.backgroundColor;this.exactCount=q.exactCount||!0;this.dotShape=q.dotShape||"square";this.legendOptions=q.legendOptions;this._exactCountMinArea=1E4;this._currentMapScale=this._map=this._canvas=null;this._symbolMap={};this._currentGraphic=this._currentResolution=this._objectIdField=
	null;this._supportsCanvas=window.CanvasRenderingContext2D?!0:!1;window.CanvasRenderingContext2D||console.log("The DotDensityRenderer requires a Canvas enabled Browser.  IE8 and less does not support Canvas.")},getSymbol:function(q){this._currentGraphic=q;if(!this._supportsCanvas)return null;this._map||(this._map=q.getLayer()._map,this._objectIdField=q.getLayer().objectIdField,this._currentMapScale=this._map.getScale(),this._currentResolution=this._map.extent.getWidth()/this._map.width,this._map.on("zoom-end",
	y.hitch(this,function(p){this._currentMapScale=this._map.getScale();this._currentResolution=p.extent.getWidth()/this._map.width;this._symbolMap[this._currentMapScale]={}})));if(this._symbolMap[this._currentMapScale]&&this._symbolMap[this._currentMapScale][q.attributes[this._objectIdField]]){var t=this._symbolMap[this._currentMapScale][q.attributes[this._objectIdField]];var g=this._getShapeProperties(q);t.setOffset(g.dx,g.dy);return t}t=this._generateFieldsCount(this.fields,q.attributes,this.dotValue);
	g=this._getShapeProperties(q);if(!g.width||!g.height)return null;t=new a(this._generateImageSrc(g.width,g.height,t,g.minXY,g.maxXY),this.outline,g.width,g.height);t.setOffset(g.dx,g.dy);this._symbolMap[this._currentMapScale]||(this._symbolMap[this._currentMapScale]={});return this._symbolMap[this._currentMapScale][q.attributes[this._objectIdField]]=t},_generateFieldsCount:function(q,t,g){var p;for(p=q.length-1;0<=p;p--){var x=t[q[p].name]/g;q[p].numPoints=Math.round(x)}return q},_getShapeProperties:function(q){var t=
	q.geometry.getExtent();t.contains(this._map.extent)&&(t=this._map.extent);var g=Math.ceil(t.getWidth()/this._currentResolution);var p=Math.ceil(t.getHeight()/this._currentResolution);var x=this._map.toScreen(new e(t.xmin,t.ymin,t.spatialReference));t=this._map.toScreen(new e(t.xmax,t.ymax,t.spatialReference));q=q.getLayer().getNavigationTransform();return{minXY:x,maxXY:t,dx:(x.x-q.dx)%g,dy:(t.y-q.dy)%p,width:g,height:p}},_generateImageSrc:function(q,t,g,p,x,u){var A=this.dotSize,m;this._canvas?(this._canvas.width=
	q,this._canvas.height=t):this._canvas=this._initCanvas(q,t);var v=this._canvas.getContext("2d");if(u=u||this.backgroundColor)v.fillStyle=u.toCss(!0),v.fillRect(0,0,q,t),v.fill();for(u=g.length-1;0<=u;u--)for(v.fillStyle=g[u].color.toCss(!0),m=g[u].numPoints-1;0<=m;m--){var r=this._getRandomPoint(q,t,p,x);"square"===this.dotShape?v.fillRect(r.x,r.y,A,A):"circle"===this.dotShape&&(v.beginPath(),v.arc(r.x,r.y,A/2,0,2*Math.PI,!0));v.fill()}return this._canvas.toDataURL()},_initCanvas:function(q,t){q=
	w.create("canvas",{id:"canvas",width:q+"px",height:t+"px",style:"position: absolute; left: -10000px; top: 0px;"},null);document.body.appendChild(q);return q},_getRandomInt:function(q,t){return Math.floor(Math.random()*(t-q+1)+q)},_getRandomPoint:function(q,t,g,p){var x={},u=this.outline&&this.outline.width?this.outline.width:0;if(!0===this.exactCount&&q*t>this._exactCountMinArea){q=!1;do x.x=this._getRandomInt(g.x,p.x),x.y=this._getRandomInt(p.y,g.y),q=new c(x.x,x.y),q=this._checkPointShapeBounds(q,
	this.dotSize+u,this._currentGraphic.geometry),!0===q&&(x.x-=g.x,x.y-=p.y);while(!1===q)}else x.x=this._getRandomInt(0,q),x.y=this._getRandomInt(0,t);return x},_checkPointShapeBounds:function(q,t,g){var p=null;p=!1;var x=!0,u=0;do{switch(u){case 1:q.x+=t;break;case 2:q.y+=t;break;case 3:q.x-=t}p=this._map.toMap(q);p=g.contains(p);!1===p&&(x=!1);u+=1}while(3>=u&&!0===x);return p},setDotSize:function(q){0<q&&(this.dotSize=q)},setDotValue:function(q){0<q&&(this.dotValue=q)},setOutline:function(q){this.outline=
	q},setBackgroundColor:function(q){this.backgroundColor=q},toJson:function(){var q=y.mixin(this.inherited(arguments),{type:"dotDensity",backgroundColor:f.toJsonColor(this.backgroundColor),dotShape:this.dotShape,dotSize:0<this.dotSize?l.px2pt(this.dotSize):0,dotValue:this.dotValue,fields:b.map(this.fields,function(t){return h.fixJson({color:f.toJsonColor(t.color),name:t.name})}),legendOptions:this.legendOptions&&h.fixJson({backgroundColor:f.toJsonColor(this.legendOptions.backgroundColor),dotCoverage:this.legendOptions.dotCoverage,
	outline:this.legendOptions.outline&&this.legendOptions.outline.toJson(),valueUnit:this.legendOptions.valueUnit}),outline:this.outline&&this.outline.toJson()});return h.fixJson(q)}});n("extend-esri")&&y.setObject("renderer.DotDensityRenderer",C,k);return C})},"esri/renderers/ScaleDependentRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ./Renderer".split(" "),function(C,y,b,w,n,l,k){C=C(k,{declaredClass:"esri.renderer.ScaleDependentRenderer",
	constructor:function(h){this.setRendererInfos(h&&h.rendererInfos||[])},setRendererInfos:function(h){this.rendererInfos=h;this._setRangeType();return this},getSymbol:function(h){var f=this.getRendererInfo(h);return f&&f.renderer&&f.renderer.getSymbol(h)},getRendererInfo:function(h){h=h.getLayer().getMap();return"zoom"===this.rangeType?this.getRendererInfoByZoom(h.getZoom()):this.getRendererInfoByScale(h.getScale())},getRendererInfoByZoom:function(h){var f=this.rendererInfos,d,a=0;do{var c=f[a];h>=
	c.minZoom&&h<=c.maxZoom&&(d=c);a++}while(!d&&a<f.length);return d},getRendererInfoByScale:function(h){var f=this.rendererInfos,d,a=0;do{var c=f[a];var e=c.minScale;var q=c.maxScale;var t=!e;var g=!q;!t&&h<=e&&(t=!0);!g&&h>=q&&(g=!0);t&&g&&(d=c);a++}while(!d&&a<f.length);return d},addRendererInfo:function(h){var f=0,d=this.rendererInfos,a=h.hasOwnProperty("minZoom")?"minZoom":"minScale",c=d.length;do{var e=d[f];if(c===f||h[a]<e[a]){d.splice(f,0,h);this._setRangeType();var q=!0}f++}while(!q&&f<c);return this},
	_setRangeType:function(){var h=this.rendererInfos;if(h=h&&h[0])this.rangeType=h.hasOwnProperty("minZoom")?"zoom":h.hasOwnProperty("minScale")?"scale":""},toJson:function(){if("zoom"===this.rangeType)return null;var h=this.rendererInfos||[],f=h[0]&&h[0].minScale;h=b.mixin(this.inherited(arguments),{type:"scaleDependent",minScale:0<f?f:0,rendererInfos:y.map(h,function(d){return l.fixJson({maxScale:0<d.maxScale?d.maxScale:0,renderer:d.renderer&&d.renderer.toJson()})})});return l.fixJson(h)}});w("extend-esri")&&
	b.setObject("renderer.ScaleDependentRenderer",C,n);return C})},"esri/renderers/HeatmapRenderer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/dom-construct ../sniff ../kernel ../lang ../symbols/PictureMarkerSymbol ../Color ./Renderer".split(" "),function(C,y,b,w,n,l,k,h,f,d){C=C([d],{declaredClass:"esri.renderer.HeatmapRenderer",colors:null,blurRadius:10,maxPixelIntensity:100,minPixelIntensity:0,field:null,fieldOffset:null,colorStops:null,constructor:function(a){(this._supportsCanvas=
	window.CanvasRenderingContext2D?!0:!1)?("string"==typeof a&&(a=JSON.parse(a)),y.mixin(this,a),this._canvas=null,this.colors||this.colorStops||(this.colorStops=[{ratio:0,color:"rgba(255, 140, 0, 0)"},{ratio:.75,color:"rgba(255, 140, 0, 1)"},{ratio:.9,color:"rgba(255, 0,   0, 1)"}]),this.gradient=this._generateGradient(this.colorStops||this.colors)):console.log("The HeatmapRenderer requires a Canvas enabled Browser.  IE8 and less does not support Canvas.")},getSymbol:function(a){if(!this._supportsCanvas)return!1;
	var c=a.attributes.imageData;a=a.attributes.size;if(!a)return null;var e=this._getContext(a[0],a[1]),q=e.getImageData(0,0,a[0],a[1]);window.ArrayBuffer&&c instanceof ArrayBuffer?c=window.Uint8ClampedArray?new Uint8ClampedArray(c):new Uint8Array(c):c.BYTES_PER_ELEMENT&&1!==c.BYTES_PER_ELEMENT&&(c=window.Uint8ClampedArray?new Uint8ClampedArray(c.buffer):new Uint8Array(c.buffer));if(window.CanvasPixelArray&&q.data instanceof window.CanvasPixelArray)for(var t=q.data,g=t.length;g--;)t[g]=c[g];else q.data.set(c);
	e.putImageData(q,0,0);return new h(e.canvas.toDataURL(),a[0],a[1])},setColors:function(a){a&&(a instanceof Array||a.colors)&&(this.gradient=this._generateGradient(a.colors||a),this.colors=a);return this},setColorStops:function(a){a&&(a instanceof Array||a.colorStops)&&(this.gradient=this._generateGradient(a.colorStops||a),this.colorStops=a);return this},setMaxPixelIntensity:function(a){this.maxPixelIntensity=a;return this},setMinPixelIntensity:function(a){this.minPixelIntensity=a;return this},setField:function(a){this.field=
	a;return this},setFieldOffset:function(a){this.fieldOffset=a;return this},setBlurRadius:function(a){this.blurRadius=a;return this},getStats:function(){},getHistogramData:function(){},toJson:function(){var a=y.mixin(this.inherited(arguments),{type:"heatmap",blurRadius:this.blurRadius,colorStops:this._colorsToStops(this.colorStops||this.colors),maxPixelIntensity:this.maxPixelIntensity,minPixelIntensity:this.minPixelIntensity,field:this.field});null!=this.fieldOffset&&(a.fieldOffset=this.fieldOffset);
	b.forEach(a.colorStops,function(c){c.color=f.toJsonColor(c.color)});return k.fixJson(a)},_getContext:function(a,c){this._canvas?(this._canvas.width=a,this._canvas.height=c):this._canvas=this._initCanvas(a,c);return this._canvas.getContext("2d")},_initCanvas:function(a,c){var e=w.create("canvas",{id:"hm_canvas-"+Math.floor(1E3*Math.random()),style:"position: absolute; left: 0px; top: -10000px;"},null);e.width=a;e.height=c;document.body.appendChild(e);return e},_generateGradient:function(a,c){c||(c=
	512);a=this._colorsToStops(a);for(var e=this._getContext(1,c||512),q=e.createLinearGradient(0,0,0,c),t=0,g;t<a.length;t++)g=a[t],q.addColorStop(g.ratio,g.color.toCss(!0));e.fillStyle=q;e.fillRect(0,0,1,c);return e.getImageData(0,0,1,c).data},_colorsToStops:function(a){var c=[];if(!a[0])return c;if(null!=a[0].ratio)c=b.map(a,function(x){return{ratio:x.ratio,color:this._toColor(x.color)}},this);else if(null!=a[0].value){var e=Infinity;c=-Infinity;var q=0,t;for(t=0;t<a.length;t++){var g=a[t].value;g<
	e&&(e=g);g>c&&(c=g)}q=c-e;this.maxPixelIntensity=c;this.minPixelIntensity=e;c=b.map(a,function(x){var u=x.value;x=this._toColor(x.color);return{value:u,ratio:(u-e)/q,color:x}},this)}else{var p=a.length-1;c=b.map(a,function(x,u){return{color:this._toColor(x),ratio:u/p}},this)}return c},_toColor:function(a){a.toRgba||a.declaredClass||(a=new f(a));return a}});n("extend-esri")&&y.setObject("renderer.HeatmapRenderer",C,l);return C})},"esri/renderers/ShadedReliefRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../layers/RasterFunction ./colorRampUtils".split(" "),
	function(C,y,b,w,n,l,k,h){C=C(null,{declaredClass:"esri.renderer.ShadedReliefRenderer",constructor:function(f){f=f||{};this.hillshadeType=f.hillshadeType||"traditional";this.azimuth=null!=f.azimuth?f.azimuth:315;this.altitude=null!=f.altitude?f.altitude:45;this.zFactor=f.zFactor||1;this.scalingType=f.scalingType||"none";this.pixelSizePower=null!=f.pixelSizePower?f.pixelSizePower:.664;this.pixelSizeFactor=null!=f.pixelSizeFactor?f.pixelSizeFactor:.024;this.removeEdgeEffect=f.removeEdgeEffect||!1;this.colorRamp=
	h.fromJson(f.colorRamp)},toJson:function(){var f={type:"rasterShadedRelief",hillshadeType:this.hillshadeType,azimuth:this.azimuth,altitude:this.altitude,zFactor:this.zFactor,scalingType:this.scalingType,pixelSizePower:this.pixelSizePower,pixelSizeFactor:this.pixelSizeFactor,colorRamp:this.colorRamp&&this.colorRamp.toJson()};return l.fixJson(f)},toRenderingRule:function(f){}});w("extend-esri")&&b.setObject("renderer.ShadedReliefRenderer",C,n);return C})},"esri/renderers/ColormapRenderer":function(){define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/has ../kernel ../lang ../symbols/jsonUtils ./Renderer ./arcadeUtils".split(" "),
	function(C,y,b,w,n,l,k,h,f){C=C(h,{declaredClass:"esri.renderer.ColormapRenderer",constructor:function(d){this.colormapInfos=d&&d.colormapInfos},toJson:function(){var d=l.fixJson;var a={type:"rasterColormap",colormapInfos:y.map(this.colormapInfos||[],function(c,e){var q={};c.color&&null!==c.color&&3<=c.color.length&&(q.color=c.color,q.value=c.value||e,q.label=(c.label||e)+"");return d(q)})};a=b.mixin(this.inherited(arguments),a);return d(a)}});w("extend-esri")&&b.setObject("renderer.ColormapRenderer",
	C,n);return C})},"esri/renderers/arcadeUtils":function(){define(["dojo/_base/lang","dojo/has","../kernel","../support/expressionUtils"],function(C,y,b,w){y("extend-esri")&&C.setObject("renderer.arcadeUtils",w,b);return w})},"esri/utils":function(){define("./domUtils ./lang ./urlUtils ./request ./tileUtils ./graphicsUtils ./deferredUtils ./layerUtils ./geometry/normalizeUtils".split(" "),function(){return{}})},"esri/graphicsUtils":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/has",
	"./kernel","./geometry/Extent"],function(C,y,b,w,n){var l={graphicsExtent:function(k){if(!k||!k.length)return null;var h=null,f,d=k.length;for(f=0;f<d;f++){var a=k[f].geometry;if(a){var c=a.getExtent();c||"point"!==a.type||null==a.x||null==a.y||(c=new n(a.x,a.y,a.x,a.y,a.spatialReference));c&&(h=h?h.union(c):c)}}return 0>h.getWidth()&&0>h.getHeight()?null:h},getGeometries:function(k){return y.map(k,function(h){return h.geometry})},_encodeGraphics:function(k,h){return y.map(k,function(f,d){f=f.toJson();
	var a={};f.geometry&&(d=h&&h[d],a.geometry=d&&d.toJson()||f.geometry);f.attributes&&(a.attributes=f.attributes);return a})}};b("extend-esri")&&C.mixin(w,l);return l})},"esri/IdentityManager":function(){define(["./IdentityManagerDialog","./kernel","./OAuthSignInHandler","dojo/_base/declare"],function(C,y,b,w){C=new C;y.id=w.safeMixin(C,b);return y.id})},"esri/IdentityManagerDialog":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/config dojo/_base/Deferred dojo/_base/lang dojo/has dojo/dom-attr dojo/keys dijit/registry dijit/Dialog ./kernel ./lang ./domUtils ./Credential ./IdentityManagerBase dojo/i18n!./nls/jsapi dojo/query dijit/form/Button dijit/form/Form dijit/form/ValidationTextBox".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g){y=y([t],{declaredClass:"esri.IdentityManager",_eventMap:{"dialog-cancel":["info"]},constructor:function(p){n.mixin(this,p);this.registerConnectEvents()},_dialogContent:"\x3cdiv data-dojo-type\x3d'dijit.form.Form' data-dojo-props\x3d'\"class\":\"esriIdForm\"'\x3e\x3cdiv class\x3d'dijitDialogPaneContentArea'\x3e\x3cdiv style\x3d'padding-bottom: 5px; word-wrap: break-word;'\x3e${info}\x3c/div\x3e\x3cdiv style\x3d'margin: 0px; padding: 0px; height: 10px;'\x3e\x3c/div\x3e\x3cdiv class\x3d'esriErrorMsg' style\x3d'display: none; color: white; background-color: #D46464; text-align: center; padding-top: 3px; padding-bottom: 3px;'\x3e${invalidUser}\x3c/div\x3e\x3cdiv style\x3d'margin: 0px; padding: 0px; height: 10px;'\x3e\x3c/div\x3e\x3ctable style\x3d'width: 100%;'\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel\x3e${lblUser}\x3cbr/\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' data-dojo-props\x3d'type:\"text\", \"class\":\"esriIdUser\", required:true, trim:true, style:\"width: 100%;\", autocapitalize:\"none\", autocorrect:\"off\", spellcheck:false' /\x3e\x3c/label\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd\x3e\x3clabel\x3e${lblPwd}\x3cbr/\x3e\x3cinput data-dojo-type\x3d'dijit.form.ValidationTextBox' data-dojo-props\x3d'type:\"password\", \"class\":\"esriIdPwd\", required:true, style:\"width: 100%;\"' /\x3e\x3c/label\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e\x3cdiv class\x3d'dijitDialogPaneActionBar'\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' data-dojo-props\x3d'type:\"button\", \"class\":\"esriIdSubmit\"'\x3e${lblOk}\x3c/button\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' data-dojo-props\x3d'type:\"button\", \"class\":\"esriIdCancel\"'\x3e${lblCancel}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e",
	onDialogCreate:function(){},onDialogCancel:function(){},signIn:function(p,x,u){this._nls||(this._nls=g.identity);this._loginDialog||(this._loginDialog=this.dialog=this._createLoginDialog(),this.onDialogCreate());var A=this._loginDialog,m=u&&u.error,v=u&&u.token,r=new w(function(){A.onCancel()});if(A.open)return p=Error("BUSY"),p.name="identity-manager:busy",p.code="IdentityManager.1",p.log=!!b.isDebug,r.errback(p),r;e.hide(A.errMsg_);m&&403==m.code&&v&&(k.set(A.errMsg_,"innerHTML",this._nls.forbidden),
	e.show(A.errMsg_));A.dfd_=r;A.serverInfo_=x;A.resUrl_=p;A.admin_=u&&u.isAdmin;k.set(A.resLink_,{title:p,innerHTML:"("+(this.getResourceName(p)||this._nls.lblItem)+")"});k.set(A.serverLink_,{title:x.server,innerHTML:(-1!==x.server.toLowerCase().indexOf("arcgis.com")?"ArcGIS Online":x.server)+" "});A.txtPwd_.set("value","");A.show();return r},_createLoginDialog:function(){var p=this._nls,x=c.substitute(p,this._dialogContent);x=c.substitute({resource:"\x3cspan class\x3d'resLink' style\x3d'word-wrap: break-word;'\x3e\x3c/span\x3e",
	server:"\x3cspan class\x3d'serverLink' style\x3d'word-wrap: break-word;'\x3e\x3c/span\x3e"},x);var u=new d({title:p.title,content:x,"class":"esriSignInDialog",style:"width: 18em;",esriIdMgr_:this,keypressed_:function(A){A.charOrCode===h.ENTER&&this.execute_()},execute_:function(){var A=this.txtUser_.get("value"),m=this.txtPwd_.get("value"),v=this.dfd_,r=this;if(this.form_.validate()&&A&&m){this.btnSubmit_.set("label",p.lblSigning);var B=a.id.findCredential(r.resUrl_,A),D=function(G){r.btnSubmit_.set("label",
	p.lblOk);r.btnSubmit_.set("disabled",!1);e.hide(r.errMsg_);r.hide();d._DialogLevelManager.hide(r);var z=r.serverInfo_;r.dfd_=r.serverInfo_=r.generateDfd_=r.resUrl_=null;var E=B;if(G){var H=G.token;var I=c.isDefined(G.expires)?Number(G.expires):null;var O=!!G.ssl;E?(E.userId=A,E.token=H,E.expires=I,E.validity=G.validity,E.ssl=O,E.creationTime=(new Date).getTime()):E=new q({userId:A,server:z.server,token:H,expires:I,ssl:O,isAdmin:r.admin_,validity:G.validity})}v.callback(E)};B&&!B._enqueued?D():(r.btnSubmit_.set("disabled",
	!0),r.generateDfd_=a.id.generateToken(this.serverInfo_,{username:A,password:m},{isAdmin:this.admin_}).addCallback(D).addErrback(function(G){r.btnSubmit_.set("disabled",!1);r.generateDfd_=null;r.btnSubmit_.set("label",p.lblOk);k.set(r.errMsg_,"innerHTML",G&&G.code?p.invalidUser:p.noAuthService);e.show(r.errMsg_)}))}},cancel_:function(){u.generateDfd_&&u.generateDfd_.cancel();var A=u.dfd_,m=u.resUrl_,v=u.serverInfo_;u.btnSubmit_.set("disabled",!1);u.dfd_=u.serverInfo_=u.generateDfd_=u.resUrl_=null;
	e.hide(u.errMsg_);d._DialogLevelManager.hide(u);u.esriIdMgr_.onDialogCancel({resourceUrl:m,serverInfo:v});m=Error("ABORTED");m.name="identity-manager:user-aborted";m.code="IdentityManager.2";m.log=!!b.isDebug;A.errback(m)}});x=u.domNode;u.form_=f.byNode(C.query(".esriIdForm",x)[0]);u.txtUser_=f.byNode(C.query(".esriIdUser",x)[0]);u.txtPwd_=f.byNode(C.query(".esriIdPwd",x)[0]);u.btnSubmit_=f.byNode(C.query(".esriIdSubmit",x)[0]);u.btnCancel_=f.byNode(C.query(".esriIdCancel",x)[0]);u.resLink_=C.query(".resLink",
	x)[0];u.serverLink_=C.query(".serverLink",x)[0];u.errMsg_=C.query(".esriErrorMsg",x)[0];u.connect(u.txtUser_,"onKeyPress",u.keypressed_);u.connect(u.txtPwd_,"onKeyPress",u.keypressed_);u.connect(u.btnSubmit_,"onClick",u.execute_);u.connect(u.btnCancel_,"onClick",u.onCancel);u.connect(u,"onCancel",u.cancel_);return u}});l("extend-esri")&&(a.IdentityManagerDialog=a.IdentityManager=y);return y})},"dijit/Dialog":function(){define("require dojo/_base/array dojo/aspect dojo/_base/declare dojo/Deferred dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/i18n dojo/keys dojo/_base/lang dojo/on dojo/ready dojo/sniff dojo/touch dojo/window dojo/dnd/Moveable dojo/dnd/TimedMoveable ./focus ./_base/manager ./_Widget ./_TemplatedMixin ./_CssStateMixin ./form/_FormMixin ./_DialogMixin ./DialogUnderlay ./layout/ContentPane ./layout/utils dojo/text!./templates/Dialog.html ./a11yclick dojo/i18n!./nls/common".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x,u,A,m,v,r,B,D,G,z,E,H,I,O){function T(){}var Z=new n;Z.resolve(!0);v=w("dijit._DialogBase"+(g("dojo-bidi")?"_NoBidi":""),[B,G,z,D],{templateString:O,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:!1,duration:v.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,draggable:!0,_setDraggableAttr:function(ha){this._set("draggable",ha)},maxRatio:.9,
	closable:!0,_setClosableAttr:function(ha){this.closeButtonNode.style.display=ha?"":"none";this._set("closable",ha)},postMixInProperties:function(){var ha=a.getLocalization("dijit","common");e.mixin(this,ha);this.inherited(arguments)},postCreate:function(){f.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);b.after(this,"onExecute",e.hitch(this,"hide"),!0);b.after(this,"onCancel",e.hitch(this,"hide"),!0);q(this.closeButtonNode,
	p.press,function(ha){ha.stopPropagation()});this._modalconnects=[]},onLoad:function(){this.resize();this._position();this.autofocus&&ca.isTop(this)&&(this._getFocusItems(),m.focus(this._firstFocusItem));this.inherited(arguments)},focus:function(){this._getFocusItems();m.focus(this._firstFocusItem)},_endDrag:function(){var ha=h.position(this.domNode),ma=x.getBox(this.ownerDocument);ha.y=Math.min(Math.max(ha.y,0),ma.h-ha.h);ha.x=Math.min(Math.max(ha.x,0),ma.w-ha.w);this._relativePosition=ha;this._position()},
	_setup:function(){var ha=this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==g("ie")?A:u)(ha,{handle:this.titleBar}),b.after(this._moveable,"onMoveStop",e.hitch(this,"_endDrag"),!0)):k.add(ha,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":y.map(this["class"].split(/\s/),function(ma){return ma+"_underlay"}).join(" "),_onKeyDown:e.hitch(this,"_onKey"),ownerDocument:this.ownerDocument}},_size:function(){this.resize()},_position:function(){if(!k.contains(this.ownerDocumentBody,
	"dojoMove")){var ha=this.domNode,ma=x.getBox(this.ownerDocument),xa=this._relativePosition,K=h.position(ha);f.set(ha,{left:Math.floor(ma.l+(xa?Math.min(xa.x,ma.w-K.w):(ma.w-K.w)/2))+"px",top:Math.floor(ma.t+(xa?Math.min(xa.y,ma.h-K.h):(ma.h-K.h)/2))+"px"})}},_onKey:function(ha){if(ha.keyCode==c.TAB){this._getFocusItems();var ma=ha.target;this._firstFocusItem==this._lastFocusItem?(ha.stopPropagation(),ha.preventDefault()):ma==this._firstFocusItem&&ha.shiftKey?(m.focus(this._lastFocusItem),ha.stopPropagation(),
	ha.preventDefault()):ma!=this._lastFocusItem||ha.shiftKey||(m.focus(this._firstFocusItem),ha.stopPropagation(),ha.preventDefault())}else this.closable&&ha.keyCode==c.ESCAPE&&(this.onCancel(),ha.stopPropagation(),ha.preventDefault())},show:function(){if(this.open)return Z.promise;this._started||this.startup();this._alreadyInitialized||(this._setup(),this._alreadyInitialized=!0);this._fadeOutDeferred&&(this._fadeOutDeferred.cancel(),ca.hide(this));var ha=x.get(this.ownerDocument);this._modalconnects.push(q(ha,
	"scroll",e.hitch(this,"resize",null)));this._modalconnects.push(q(this.domNode,"keydown",e.hitch(this,"_onKey")));f.set(this.domNode,{opacity:0,display:""});this._set("open",!0);this._onShow();this.resize();this._position();this._fadeInDeferred=new n(e.hitch(this,function(){ma.stop();delete this._fadeInDeferred}));this._fadeInDeferred.then(void 0,T);ha=this._fadeInDeferred.promise;var ma=d.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:e.hitch(this,function(){ca.show(this,this.underlayAttrs)}),
	onEnd:e.hitch(this,function(){this.autofocus&&ca.isTop(this)&&(this._getFocusItems(),m.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();return ha},hide:function(){if(!this._alreadyInitialized||!this.open)return Z.promise;this._fadeInDeferred&&this._fadeInDeferred.cancel();this._fadeOutDeferred=new n(e.hitch(this,function(){ma.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(void 0,T);this._fadeOutDeferred.then(e.hitch(this,"onHide"));
	var ha=this._fadeOutDeferred.promise;var ma=d.fadeOut({node:this.domNode,duration:this.duration,onEnd:e.hitch(this,function(){this.domNode.style.display="none";ca.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();this._scrollConnected&&(this._scrollConnected=!1);for(var xa;xa=this._modalconnects.pop();)xa.remove();this._relativePosition&&delete this._relativePosition;this._set("open",!1);return ha},resize:function(ha){if("none"!=this.domNode.style.display){this._checkIfSingleChild();
	if(!ha){this._shrunk&&(this._singleChild&&"undefined"!=typeof this._singleChildOriginalStyle&&(this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle,delete this._singleChildOriginalStyle),y.forEach([this.domNode,this.containerNode,this.titleBar,this.actionBarNode],function(Y){Y&&f.set(Y,{position:"static",width:"auto",height:"auto"})}),this.domNode.style.position="absolute");var ma=x.getBox(this.ownerDocument);ma.w*=this.maxRatio;ma.h*=this.maxRatio;var xa=h.position(this.domNode);
	this._shrunk=!1;xa.w>=ma.w&&(ha={w:ma.w},h.setMarginBox(this.domNode,ha),xa=h.position(this.domNode),this._shrunk=!0);xa.h>=ma.h&&(ha||(ha={w:xa.w}),ha.h=ma.h,this._shrunk=!0);ha&&(ha.w||(ha.w=xa.w),ha.h||(ha.h=xa.h))}if(ha){h.setMarginBox(this.domNode,ha);ma=[];this.titleBar&&ma.push({domNode:this.titleBar,region:"top"});this.actionBarNode&&ma.push({domNode:this.actionBarNode,region:"bottom"});xa={domNode:this.containerNode,region:"center"};ma.push(xa);var K=I.marginBox2contentBox(this.domNode,ha);
	I.layoutChildren(this.domNode,K,ma);this._singleChild?(ma=I.marginBox2contentBox(this.containerNode,xa),this._singleChild.resize({w:ma.w,h:ma.h})):(this.containerNode.style.overflow="auto",this._layoutChildren())}else this._layoutChildren();g("touch")||ha||this._position()}},_layoutChildren:function(){y.forEach(this.getChildren(),function(ha){ha.resize&&ha.resize()})},destroy:function(){this._fadeInDeferred&&this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&
	this._moveable.destroy();for(var ha;ha=this._modalconnects.pop();)ha.remove();ca.hide(this);this.inherited(arguments)}});g("dojo-bidi")&&(v=w("dijit._DialogBase",v,{_setTitleAttr:function(ha){this._set("title",ha);this.titleNode.innerHTML=ha;this.applyTextDir(this.titleNode)},_setTextDirAttr:function(ha){this._created&&this.textDir!=ha&&(this._set("textDir",ha),this.set("title",this.title))}}));var ia=w("dijit.Dialog",[H,v],{});ia._DialogBase=v;var ca=ia._DialogLevelManager={_beginZIndex:950,show:function(ha,
	ma){W[W.length-1].focus=m.curNode;var xa=W[W.length-1].dialog?W[W.length-1].zIndex+2:ia._DialogLevelManager._beginZIndex;f.set(ha.domNode,"zIndex",xa);E.show(ma,xa-1);W.push({dialog:ha,underlayAttrs:ma,zIndex:xa})},hide:function(ha){if(W[W.length-1].dialog==ha){W.pop();var ma=W[W.length-1];1==W.length?E.hide():E.show(ma.underlayAttrs,ma.zIndex-1);if(ha.refocus&&(ha=ma.focus,!ma.dialog||ha&&l.isDescendant(ha,ma.dialog.domNode)||(ma.dialog._getFocusItems(),ha=ma.dialog._firstFocusItem),ha))try{ha.focus()}catch(xa){}}else ma=
	y.indexOf(y.map(W,function(xa){return xa.dialog}),ha),-1!=ma&&W.splice(ma,1)},isTop:function(ha){return W[W.length-1].dialog==ha}},W=ia._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];m.watch("curNode",function(ha,ma,xa){ha=W[W.length-1].dialog;if(xa&&ha&&!ha._fadeOutDeferred&&xa.ownerDocument==ha.ownerDocument){do if(xa==ha.domNode||k.contains(xa,"dijitPopup"))return;while(xa=xa.parentNode);ha.focus()}});g("dijit-legacy-requires")&&t(0,function(){C(["dijit/TooltipDialog"])});return ia})},
	"dojo/dnd/Moveable":function(){define("../_base/array ../_base/declare ../_base/lang ../dom ../dom-class ../Evented ../has ../on ../topic ../touch ./common ./Mover ../_base/window".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c,e){function q(p,x){"touchAction"in document.body.style?t="touchAction":"msTouchAction"in document.body.style&&(t="msTouchAction");g=function(u,A){u.style[t]=A};g(p,x)}var t,g=function(){};k("touch-action")&&(g=q);return y("dojo.dnd.Moveable",[l],{handle:"",delay:0,skip:!1,constructor:function(p,
	x){this.node=w.byId(p);g(this.node,"none");x||(x={});this.handle=x.handle?w.byId(x.handle):null;this.handle||(this.handle=this.node);this.delay=0<x.delay?x.delay:0;this.skip=x.skip;this.mover=x.mover?x.mover:c;this.events=[h(this.handle,d.press,b.hitch(this,"onMouseDown")),h(this.handle,"dragstart",b.hitch(this,"onSelectStart")),h(this.handle,"selectstart",b.hitch(this,"onSelectStart"))]},markupFactory:function(p,x,u){return new u(x,p)},destroy:function(){C.forEach(this.events,function(p){p.remove()});
	g(this.node,"");this.events=this.node=this.handle=null},onMouseDown:function(p){if(!this.skip||!a.isFormElement(p)){if(this.delay)this.events.push(h(this.handle,d.move,b.hitch(this,"onMouseMove")),h(this.handle.ownerDocument,d.release,b.hitch(this,"onMouseUp"))),this._lastX=p.pageX,this._lastY=p.pageY;else this.onDragDetected(p);p.stopPropagation();p.preventDefault()}},onMouseMove:function(p){if(Math.abs(p.pageX-this._lastX)>this.delay||Math.abs(p.pageY-this._lastY)>this.delay)this.onMouseUp(p),this.onDragDetected(p);
	p.stopPropagation();p.preventDefault()},onMouseUp:function(p){for(var x=0;2>x;++x)this.events.pop().remove();p.stopPropagation();p.preventDefault()},onSelectStart:function(p){this.skip&&a.isFormElement(p)||(p.stopPropagation(),p.preventDefault())},onDragDetected:function(p){new this.mover(this.node,p,this)},onMoveStart:function(p){f.publish("/dnd/move/start",p);n.add(e.body(),"dojoMove");n.add(this.node,"dojoMoveItem")},onMoveStop:function(p){f.publish("/dnd/move/stop",p);n.remove(e.body(),"dojoMove");
	n.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(p,x){this.onMoving(p,x);var u=p.node.style;u.left=x.l+"px";u.top=x.t+"px";this.onMoved(p,x)},onMoving:function(){},onMoved:function(){}})})},"dojo/dnd/common":function(){define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(C,y,b,w){var n=b.getObject("dojo.dnd",!0);n.getCopyKeyState=function(l){return l[C("mac")?"metaKey":"ctrlKey"]};n._uniqueId=0;n.getUniqueId=function(){do var l=y._scopeName+"Unique"+
	++n._uniqueId;while(w.byId(l));return l};n._empty={};n.isFormElement=function(l){l=l.target;3==l.nodeType&&(l=l.parentNode);return 0<=" a button textarea input select option ".indexOf(" "+l.tagName.toLowerCase()+" ")};return n})},"dojo/dnd/Mover":function(){define("../_base/array ../_base/declare ../_base/lang ../sniff ../_base/window ../dom ../dom-geometry ../dom-style ../Evented ../on ../touch ./common ./autoscroll".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c,e){return y("dojo.dnd.Mover",[f],{constructor:function(q,
	t,g){function p(x){x.preventDefault();x.stopPropagation()}this.node=l.byId(q);this.marginBox={l:t.pageX,t:t.pageY};this.mouseButton=t.button;t=this.host=g;q=q.ownerDocument;this.events=[d(q,a.move,b.hitch(this,"onFirstMove")),d(q,a.move,b.hitch(this,"onMouseMove")),d(q,a.release,b.hitch(this,"onMouseUp")),d(q,"dragstart",p),d(q.body,"selectstart",p)];e.autoScrollStart(q);if(t&&t.onMoveStart)t.onMoveStart(this)},onMouseMove:function(q){e.autoScroll(q);var t=this.marginBox;this.host.onMove(this,{l:t.l+
	q.pageX,t:t.t+q.pageY},q);q.preventDefault();q.stopPropagation()},onMouseUp:function(q){(w("webkit")&&w("mac")&&2==this.mouseButton?0==q.button:this.mouseButton==q.button)&&this.destroy();q.preventDefault();q.stopPropagation()},onFirstMove:function(q){var t=this.node.style,g=this.host;switch(t.position){case "relative":case "absolute":var p=Math.round(parseFloat(t.left))||0;t=Math.round(parseFloat(t.top))||0;break;default:t.position="absolute";t=k.getMarginBox(this.node);p=n.doc.body;var x=h.getComputedStyle(p),
	u=k.getMarginBox(p,x);x=k.getContentBox(p,x);p=t.l-(x.l-u.l);t=t.t-(x.t-u.t)}this.marginBox.l=p-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(g&&g.onFirstMove)g.onFirstMove(this,q);this.events.shift().remove()},destroy:function(){C.forEach(this.events,function(t){t.remove()});var q=this.host;if(q&&q.onMoveStop)q.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/dnd/autoscroll":function(){define("../_base/lang ../sniff ../_base/window ../dom-geometry ../dom-style ../window".split(" "),
	function(C,y,b,w,n,l){var k={};C.setObject("dojo.dnd.autoscroll",k);k.getViewport=l.getBox;k.V_TRIGGER_AUTOSCROLL=32;k.H_TRIGGER_AUTOSCROLL=32;k.V_AUTOSCROLL_VALUE=16;k.H_AUTOSCROLL_VALUE=16;var h,f=b.doc,d=Infinity,a=Infinity;k.autoScrollStart=function(c){f=c;h=l.getBox(f);c=b.body(f).parentNode;d=Math.max(c.scrollHeight-h.h,0);a=Math.max(c.scrollWidth-h.w,0)};k.autoScroll=function(c){var e=h||l.getBox(f),q=b.body(f).parentNode,t=0,g=0;c.clientX<k.H_TRIGGER_AUTOSCROLL?t=-k.H_AUTOSCROLL_VALUE:c.clientX>
	e.w-k.H_TRIGGER_AUTOSCROLL&&(t=Math.min(k.H_AUTOSCROLL_VALUE,a-q.scrollLeft));c.clientY<k.V_TRIGGER_AUTOSCROLL?g=-k.V_AUTOSCROLL_VALUE:c.clientY>e.h-k.V_TRIGGER_AUTOSCROLL&&(g=Math.min(k.V_AUTOSCROLL_VALUE,d-q.scrollTop));window.scrollBy(t,g)};k._validNodes={div:1,p:1,td:1};k._validOverflow={auto:1,scroll:1};k.autoScrollNodes=function(c){for(var e,q,t,g,p,x=0,u=0,A=c.target;A;){if(1==A.nodeType&&A.tagName.toLowerCase()in k._validNodes){t=n.getComputedStyle(A);p=t.overflowX.toLowerCase()in k._validOverflow;
	g=t.overflowY.toLowerCase()in k._validOverflow;if(p||g)e=w.getContentBox(A,t),q=w.position(A,!0);if(p){t=Math.min(k.H_TRIGGER_AUTOSCROLL,e.w/2);p=c.pageX-q.x;if(y("webkit")||y("opera"))p+=b.body().scrollLeft;x=0;0<p&&p<e.w&&(p<t?x=-t:p>e.w-t&&(x=t),A.scrollLeft+=x)}if(g){g=Math.min(k.V_TRIGGER_AUTOSCROLL,e.h/2);t=c.pageY-q.y;if(y("webkit")||y("opera"))t+=b.body().scrollTop;u=0;0<t&&t<e.h&&(t<g?u=-g:t>e.h-g&&(u=g),A.scrollTop+=u)}if(x||u)return}try{A=A.parentNode}catch(m){A=null}}k.autoScroll(c)};
	return k})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare","./Moveable"],function(C,y){var b=y.prototype.onMove;return C("dojo.dnd.TimedMoveable",y,{timeout:40,constructor:function(w,n){n||(n={});n.timeout&&"number"==typeof n.timeout&&0<=n.timeout&&(this.timeout=n.timeout)},onMoveStop:function(w){w._timer&&(clearTimeout(w._timer),b.call(this,w,w._leftTop));y.prototype.onMoveStop.apply(this,arguments)},onMove:function(w,n){w._leftTop=n;if(!w._timer){var l=this;w._timer=setTimeout(function(){w._timer=
	null;b.call(l,w,w._leftTop)},this.timeout)}}})})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/dom-attr dojo/dom-style dojo/on dojo/window ./_Widget ./_TemplatedMixin ./BackgroundIframe ./Viewport ./main".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c){var e=C("dijit.DialogUnderlay",[h,f],{templateString:"\x3cdiv class\x3d'dijitDialogUnderlayWrapper'\x3e\x3cdiv class\x3d'dijitDialogUnderlay' tabIndex\x3d'-1' data-dojo-attach-point\x3d'node'\x3e\x3c/div\x3e\x3c/div\x3e",
	dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(q){w.set(this.node,"id",q+"_underlay");this._set("dialogId",q)},_setClassAttr:function(q){this.node.className="dijitDialogUnderlay "+q;this._set("class",q)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.own(l(this.domNode,"keydown",y.hitch(this,"_onKeyDown")));this.inherited(arguments)},layout:function(){var q=this.node.style,t=this.domNode.style;t.display="none";var g=k.getBox(this.ownerDocument);t.top=
	g.t+"px";t.left=g.l+"px";q.width=g.w+"px";q.height=g.h+"px";t.display="block"},show:function(){this.domNode.style.display="block";this.open=!0;this.layout();this.bgIframe=new d(this.domNode);var q=k.get(this.ownerDocument);this._modalConnects=[a.on("resize",y.hitch(this,"layout")),l(q,"scroll",y.hitch(this,"layout"))]},hide:function(){this.bgIframe.destroy();delete this.bgIframe;for(this.domNode.style.display="none";this._modalConnects.length;)this._modalConnects.pop().remove();this.open=!1},destroy:function(){for(;this._modalConnects.length;)this._modalConnects.pop().remove();
	this.inherited(arguments)},_onKeyDown:function(){}});e.show=function(q,t){var g=e._singleton;!g||g._destroyed?g=c._underlay=e._singleton=new e(q):q&&g.set(q);n.set(g.domNode,"zIndex",t);g.open||g.show()};e.hide=function(){var q=e._singleton;q&&!q._destroyed&&q.hide()};return e})},"esri/Credential":function(){define(["dojo/_base/declare","dojo/has","./kernel","./IdentityManagerBase"],function(C,y,b,w){C=C(w.Credential,{});y("extend-esri")&&(b.Credential=C);return C})},"esri/IdentityManagerBase":function(){define("dojo/_base/declare dojo/_base/config dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/url dojo/sniff dojo/io-query dojo/on ./kernel ./config ./lang ./ServerInfo ./urlUtils ./deferredUtils ./request ./Evented ./OAuthCredential ./arcgis/OAuthInfo".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x,u){var A={},m=function(z){var E=(new l(z.owningSystemUrl)).host;z=(new l(z.server)).host;var H=/.+\.arcgis\.com$/i;return H.test(E)&&H.test(z)},v=function(z,E){return!!(m(z)&&E&&w.some(E,function(H){return H.test(z.server)}))},r=null,B=null;try{r=window.localStorage,B=window.sessionStorage}catch(z){}var D=C(p,{declaredClass:"esri.IdentityManagerBase",constructor:function(){this._portalConfig=b.getObject("esriGeowConfig");this.serverInfos=[];this.oAuthInfos=
	[];this.credentials=[];this._soReqs=[];this._xoReqs=[];this._portals=[];this._getOAuthHash();f(window,"pageshow",b.hitch(this,this._pageShowHandler))},defaultOAuthInfo:null,defaultTokenValidity:60,tokenValidity:null,normalizeWebTierAuth:!1,_appUrlObj:q.urlToObject(window.location.href),_postMessageAuthHandle:null,_busy:null,_rejectOnPersistedPageShow:!1,_oAuthHash:null,_gwTokenUrl:"/sharing/generateToken",_agsRest:"/rest/services",_agsPortal:/\/sharing(\/|$)/i,_agsAdmin:/(https?:\/\/[^\/]+\/[^\/]+)\/admin\/?(\/.*)?$/i,
	_adminSvcs:/\/rest\/admin\/services(\/|$)/i,_gwDomains:[{regex:/^https?:\/\/www\.arcgis\.com/i,customBaseUrl:"maps.arcgis.com",tokenServiceUrl:"https://www.arcgis.com/sharing/generateToken"},{regex:/^https?:\/\/(?:dev|[a-z\d-]+\.mapsdev)\.arcgis\.com/i,customBaseUrl:"mapsdev.arcgis.com",tokenServiceUrl:"https://dev.arcgis.com/sharing/generateToken"},{regex:/^https?:\/\/(?:devext|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,customBaseUrl:"mapsdevext.arcgis.com",tokenServiceUrl:"https://devext.arcgis.com/sharing/generateToken"},
	{regex:/^https?:\/\/(?:qaext|[a-z\d-]+\.mapsqa)\.arcgis\.com/i,customBaseUrl:"mapsqa.arcgis.com",tokenServiceUrl:"https://qaext.arcgis.com/sharing/generateToken"},{regex:/^https?:\/\/[a-z\d-]+\.maps\.arcgis\.com/i,customBaseUrl:"maps.arcgis.com",tokenServiceUrl:"https://www.arcgis.com/sharing/generateToken"}],_legacyFed:[],_regexSDirUrl:/http.+\/rest\/services\/?/ig,_regexServerType:/(\/(FeatureServer|GPServer|GeoDataServer|GeocodeServer|GeoenrichmentServer|GeometryServer|GlobeServer|ImageServer|MapServer|MobileServer|NAServer|NetworkDiagramServer|ParcelFabricServer|RelationalCatalogServer|SceneServer|StreamServer|UtilityNetworkServer|ValidationServer|VectorTileServer|VersionManagementServer)).*/ig,
	_gwUser:/http.+\/users\/([^\/]+)\/?.*/i,_gwItem:/http.+\/items\/([^\/]+)\/?.*/i,_gwGroup:/http.+\/groups\/([^\/]+)\/?.*/i,_errorCodes:[499,498,403,401],_rePortalTokenSvc:/\/sharing(\/rest)?\/generatetoken/i,_publicUrls:[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],_createDefaultOAuthInfo:!0,_hasTestedIfAppIsOnPortal:!1,registerServers:function(z){var E=this.serverInfos;E?(z=w.filter(z,function(H){return!this.findServerInfo(H.server)},this),this.serverInfos=E.concat(z)):
	this.serverInfos=z;w.forEach(z,function(H){H.owningSystemUrl&&this._portals.push(H.owningSystemUrl);if(H.hasPortal){this._portals.push(H.server);var I=a.defaults.io.corsEnabledServers,O=this._getOrigin(H.tokenServiceUrl);q.canUseXhr(H.server)||I.push(H.server.replace(/^https?:\/\//i,""));q.canUseXhr(O)||I.push(O.replace(/^https?:\/\//i,""))}},this)},registerOAuthInfos:function(z){var E=this.oAuthInfos;E?(w.forEach(z,function(H){(H=this.findOAuthInfo(H.portalUrl))&&E.splice(E.indexOf(H),1)},this),
	this.oAuthInfos=E.concat(z)):this.oAuthInfos=z},registerToken:function(z){z=c.mixin({},z);var E=this._sanitizeUrl(z.server),H=this.findServerInfo(E),I=!0,O;H||(H=new e,H.server=this._getServerInstanceRoot(E),H.tokenServiceUrl=this._getTokenSvcUrl(E),H.hasPortal=!0,this.registerServers([H]));(O=this.findCredential(E,z.userId))?(delete z.server,b.mixin(O,z),I=!1):(O=new G({userId:z.userId,server:H.server,token:z.token,expires:z.expires,ssl:z.ssl,scope:this._isServerRsrc(E)?"server":"portal"}),O.resources=
	[E],this.credentials.push(O));O.onTokenChange(!1);I||O.refreshServerTokens()},toJson:function(){return c.fixJson({serverInfos:w.map(this.serverInfos,function(z){return z.toJson()}),oAuthInfos:w.map(this.oAuthInfos,function(z){return z.toJson()}),credentials:w.map(this.credentials,function(z){return z.toJson()})})},initialize:function(z){if(z){b.isString(z)&&(z=JSON.parse(z));var E=z.serverInfos,H=z.oAuthInfos;z=z.credentials;if(E){var I=[];w.forEach(E,function(T){T.server&&T.tokenServiceUrl&&I.push(T.declaredClass?
	T:new e(T))});I.length&&this.registerServers(I)}if(H){var O=[];w.forEach(H,function(T){T.appId&&O.push(T.declaredClass?T:new u(T))});O.length&&this.registerOAuthInfos(O)}z&&w.forEach(z,function(T){T.userId&&T.server&&T.token&&T.expires&&T.expires>(new Date).getTime()&&(T=T.declaredClass?T:new G(T),T.onTokenChange(),this.credentials.push(T))},this)}},findServerInfo:function(z){var E;z=this._sanitizeUrl(z);w.some(this.serverInfos,function(H){this._hasSameServerInstance(H.server,z)&&(E=H);return!!E},
	this);return E},findOAuthInfo:function(z){var E;z=this._sanitizeUrl(z);w.some(this.oAuthInfos,function(H){this._hasSameServerInstance(H.portalUrl,z)&&(E=H);return!!E},this);return E},findCredential:function(z,E){var H;z=this._sanitizeUrl(z);var I=this._isServerRsrc(z)?"server":"portal";E?w.some(this.credentials,function(O){this._hasSameServerInstance(O.server,z)&&E===O.userId&&O.scope===I&&(H=O);return!!H},this):w.some(this.credentials,function(O){this._hasSameServerInstance(O.server,z)&&-1!==this._getIdenticalSvcIdx(z,
	O)&&O.scope===I&&(H=O);return!!H},this);return H},getCredential:function(z,E){var H=!0;if(c.isDefined(E))if(b.isObject(E)){var I=!!E.token;var O=E.error;H=!1!==E.prompt}else I=E;z=this._sanitizeUrl(z);var T=new n(t._dfdCanceller),Z=this._isAdminResource(z);if((I=I?this.findCredential(z):null)&&O&&498===O.code)I.destroy();else if(I)return z=Error("You are currently signed in as: '"+I.userId+"'. You do not have access to this resource: "+z),z.name="identity-manager:not-authorized",z.code="IdentityManagerBase.1",
	z.httpCode=O&&O.httpCode,z.messageCode=O?O.messageCode:null,z.subcode=O?O.subcode:null,z.details=O?O.details:null,z.log=!!y.isDebug,T.errback(z),T;if(O=this._findCredential(z,E))return T.callback(O),T;var ia=this.findServerInfo(z);if(ia)!ia.hasServer&&this._isServerRsrc(z)&&(ia._restInfoDfd=this._getTokenSvcUrl(z,!0),ia.hasServer=!0);else{O=this._getTokenSvcUrl(z);if(!O)return z=Error("Unknown resource - could not find token service endpoint."),z.name="identity-manager:unknown-resource",z.code="IdentityManagerBase.2",
	z.log=!!y.isDebug,T.errback(z),T;ia=new e;ia.server=this._getServerInstanceRoot(z);b.isString(O)?(ia.tokenServiceUrl=O,ia.hasPortal=!0):(ia._restInfoDfd=O,ia.hasServer=!0);this.registerServers([ia])}ia.hasPortal&&void 0===ia._selfReq&&(H||q.hasSameOrigin(ia.tokenServiceUrl,window.location.origin)||this._gwDomains.some(function(ca){return ca.tokenServiceUrl===ia.tokenServiceUrl}))&&(ia._selfReq={owningTenant:E&&E.owningTenant,selfDfd:this._getPortalSelf(ia.tokenServiceUrl.replace(this._rePortalTokenSvc,
	"/sharing/rest/portals/self"),z)});return this._enqueue(z,ia,E,T,Z)},getResourceName:function(z){return this._isRESTService(z)?z.replace(this._regexSDirUrl,"").replace(this._regexServerType,"")||"":this._gwUser.test(z)&&z.replace(this._gwUser,"$1")||this._gwItem.test(z)&&z.replace(this._gwItem,"$1")||this._gwGroup.test(z)&&z.replace(this._gwGroup,"$1")||""},generateToken:function(z,E,H){var I=this._rePortalTokenSvc.test(z.tokenServiceUrl),O=new l(window.location.href.toLowerCase()),T=!E;var Z=z.shortLivedTokenValidity;
	if(E){var ia=d.id.tokenValidity||Z||d.id.defaultTokenValidity;ia>Z&&(ia=Z)}if(H){var ca=H.isAdmin;var W=H.serverUrl;var ha=H.token;var ma=H.ssl;z.customParameters=H.customParameters}if(ca)Z=z.adminTokenServiceUrl;else{Z=z.tokenServiceUrl;var xa=new l(Z.toLowerCase());z.webTierAuth&&H&&H.serverUrl&&!ma&&"http"===O.scheme&&(q.hasSameOrigin(O.uri,Z,!0)||"https"===xa.scheme&&O.host===xa.host&&"7080"===O.port&&"7443"===xa.port)&&(Z=Z.replace(/^https:/i,"http:").replace(/:7443/i,":7080"));T&&I&&(Z=Z.replace(/\/rest/i,
	""))}ca=b.mixin({url:Z,content:b.mixin({request:"getToken",username:E&&E.username,password:E&&E.password,serverUrl:W,token:ha,expiration:ia,referer:ca||I?window.location.host:null,client:ca?"referer":null,f:"json"},z.customParameters),handleAs:"json",callbackParamName:T?"callback":void 0},H&&H.ioArgs);H={usePost:!T,disableIdentityLookup:!0,useProxy:this._useProxy(z,H)};I||(ca.withCredentials=!1);I=g(ca,H);I.addCallback(function(K){if(!K||!K.token)return K=Error("Unable to generate token"),K.name=
	"identity-manager:authentication-failed",K.code="IdentityManagerBase.3",K.log=!!y.isDebug,K;var Y=z.server;A[Y]||(A[Y]={});E&&(A[Y][E.username]=E.password);K.validity=ia;return K});I.addErrback(function(K){});return I},isBusy:function(){return!!this._busy},checkSignInStatus:function(z){var E=new n;this.checkAppAccess(z,"").then(function(H){E.resolve(H.credential)}).catch(function(H){E.reject(H)});return E},checkAppAccess:function(z,E,H){var I=this,O=!1;return this.getCredential(z,{prompt:!1}).then(function(T){var Z=
	{f:"json"};if("portal"===T.scope)if(E&&(I._doPortalSignIn(z)||H&&H.force)){var ia=T.server+"/sharing/rest/oauth2/validateAppAccess";Z.client_id=E}else if(T.token)ia=T.server+"/sharing/rest";else return{credential:T};else if(T.token)ia=T.server+"/rest/services";else return{credential:T};T.token&&(Z.token=T.token);return g({url:ia,content:Z,callbackParamName:"callback"},{disableIdentityLookup:!0}).then(function(ca){if(!1===ca.valid){var W=Error("You are currently signed in as: '"+T.userId+"'.  You do not have access to this app: '"+
	E+"'.");W.name="identity-manager:not-authorized";W.code="IdentityManagerBase.1";W.log=!!y.isDebug;W.details=ca;throw W;}O=!!ca.viewOnlyUserTypeApp;return{credential:T}}).catch(function(ca){if("IdentityManagerBase.1"===ca.code||400===ca.code)throw 400===ca.code&&(ca.name="identity-manager:invalid-request"),ca;if(498===ca.code)throw T.destroy(),ca=Error("User is not signed in."),ca.name="identity-manager:not-authenticated",ca.code="IdentityManagerBase.6",ca.log=!!y.isDebug,ca;return{credential:T}})}).then(function(T){return{credential:T.credential,
	viewOnly:O}})},setProtocolErrorHandler:function(z){this._protocolFunc=z},signIn:function(){},oAuthSignIn:function(){},onCredentialCreate:function(){},onCredentialsDestroy:function(){},destroyCredentials:function(){if(this.credentials){var z=this.credentials.slice();w.forEach(z,function(E){E.destroy()})}this.onCredentialsDestroy()},enablePostMessageAuth:function(z){z||(z="https://www.arcgis.com/sharing/rest");this._postMessageAuthHandle&&this._postMessageAuthHandle.remove();this._postMessageAuthHandle=
	f(window,"message",function(E){(E.origin===window.location.origin||c.endsWith(E.origin,".arcgis.com"))&&E.data&&"arcgis:auth:requestCredential"===E.data.type&&this.getCredential(z).then(function(H){E.source.postMessage({type:"arcgis:auth:credential",credential:{expires:H.expires,server:H.server,ssl:H.ssl,token:H.token,userId:H.userId}},E.origin)}).catch(function(H){E.source.postMessage({type:"arcgis:auth:error",error:{name:H.name,message:H.message}},E.origin)})}.bind(this))},disablePostMessageAuth:function(){this._postMessageAuthHandle&&
	(this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=null)},_getOAuthHash:function(){var z=window.location.hash;if(z){"#"===z.charAt(0)&&(z=z.substring(1));z=h.queryToObject(z);var E=!1;if(z.access_token&&z.expires_in&&z.state&&z.hasOwnProperty("username"))try{z.state=JSON.parse(z.state),"object"===typeof z.state&&z.state.portalUrl&&(this._oAuthHash=z,E=!0)}catch(H){}else z.error&&z.error_description&&(console.log("IdentityManager OAuth Error: ",z.error," - ",z.error_description),"access_denied"===
	z.error&&(E=!0));E&&(window.location.hash=z.state&&z.state.hash||"")}},_pageShowHandler:function(z){z.persisted&&this.isBusy()&&this._rejectOnPersistedPageShow&&(z=Error("ABORTED"),z.name="identity-manager:user-aborted",z.code="IdentityManager.2",z.log=!!y.isDebug,this._errbackFunc(z))},_findCredential:function(z,E){var H=-1,I,O,T=E&&E.token;E=E&&E.resource;var Z=this._isServerRsrc(z)?"server":"portal",ia=w.filter(this.credentials,function(ma){return this._hasSameServerInstance(ma.server,z)&&ma.scope===
	Z},this);z=E||z;if(ia.length)if(1===ia.length){E=ia[0];var ca=(I=(O=this.findServerInfo(E.server))&&O.owningSystemUrl)&&this.findCredential(I,E.userId);H=this._getIdenticalSvcIdx(z,E);if(T)-1!==H&&(E.resources.splice(H,1),this._removeResource(z,ca));else return-1===H&&E.resources.push(z),this._addResource(z,ca),E}else{var W,ha;w.some(ia,function(ma){ha=this._getIdenticalSvcIdx(z,ma);return-1!==ha?(W=ma,ca=(I=(O=this.findServerInfo(W.server))&&O.owningSystemUrl)&&this.findCredential(I,W.userId),H=
	ha,!0):!1},this);if(T)W&&(W.resources.splice(H,1),this._removeResource(z,ca));else if(W)return this._addResource(z,ca),W}},_findOAuthInfo:function(z){var E=this.findOAuthInfo(z);E||w.some(this.oAuthInfos,function(H){this._isIdProvider(H.portalUrl,z)&&(E=H);return!!E},this);return E},_addResource:function(z,E){E&&-1===this._getIdenticalSvcIdx(z,E)&&E.resources.push(z)},_removeResource:function(z,E){var H=-1;E&&(H=this._getIdenticalSvcIdx(z,E),-1<H&&E.resources.splice(H,1))},_useProxy:function(z,E){return E&&
	E.isAdmin&&!q.hasSameOrigin(z.adminTokenServiceUrl,window.location.href)||!this._isPortalDomain(z.tokenServiceUrl)&&10.1==z.currentVersion&&!q.hasSameOrigin(z.tokenServiceUrl,window.location.href)},_getOrigin:function(z){z=new l(z);return z.scheme+"://"+z.host+(c.isDefined(z.port)?":"+z.port:"")},_getServerInstanceRoot:function(z){var E=z.toLowerCase(),H=E.indexOf(this._agsRest);-1===H&&this._isAdminResource(z)&&(H=this._agsAdmin.test(z)?z.replace(this._agsAdmin,"$1").length:z.search(this._adminSvcs));
	-1===H&&(H=E.indexOf("/sharing"));-1===H&&"/"===E.substr(-1)&&(H=E.length-1);return-1<H?z.substring(0,H):z},_hasSameServerInstance:function(z,E){"/"===z.substr(-1)&&(z=z.slice(0,-1));z=z.toLowerCase();E=this._getServerInstanceRoot(E).toLowerCase();z=this._normalizeAGOLorgDomain(z);E=this._normalizeAGOLorgDomain(E);z=z.substr(z.indexOf(":"));E=E.substr(E.indexOf(":"));return z===E},_normalizeAGOLorgDomain:function(z){var E=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,H=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,
	I=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;E.test(z)?z=z.replace(E,"https://www.arcgis.com"):H.test(z)?z=z.replace(H,"https://devext.arcgis.com"):I.test(z)&&(z=z.replace(I,"https://qaext.arcgis.com"));return z},_sanitizeUrl:function(z){var E=(a.defaults.io.proxyUrl||"").toLowerCase(),H=E?z.toLowerCase().indexOf(E+"?"):-1;-1!==H&&(z=z.substring(H+E.length+1));z=q.normalize(z);return q.urlToObject(z).path},_isRESTService:function(z){return-1<z.indexOf(this._agsRest)},_isAdminResource:function(z){return this._agsAdmin.test(z)||
	this._adminSvcs.test(z)},_isServerRsrc:function(z){return this._isRESTService(z)||this._isAdminResource(z)},_isIdenticalService:function(z,E){if(this._isRESTService(z)&&this._isRESTService(E)){z=this._getSuffix(z).toLowerCase();E=this._getSuffix(E).toLowerCase();var H=z===E;H||(H=/(.*)\/(MapServer|FeatureServer).*/ig,H=z.replace(H,"$1")===E.replace(H,"$1"))}else this._isAdminResource(z)&&this._isAdminResource(E)?H=!0:this._isServerRsrc(z)||this._isServerRsrc(E)||!this._isPortalDomain(z)||(H=!0);return H},
	_isPortalDomain:function(z){var E=new l(z.toLowerCase()),H=this._portalConfig;z=w.some(this._gwDomains,function(I){return I.regex.test(E.uri)});!z&&H&&(z=this._hasSameServerInstance(this._getServerInstanceRoot(H.restBaseUrl),E.uri));z||(!this._arcgisUrl&&(H=b.getObject("esri.arcgis.utils.arcgisUrl"))&&(this._arcgisUrl=(new l(H)).authority),this._arcgisUrl&&(z=this._arcgisUrl.toLowerCase()===E.authority));z||(z=w.some(this._portals,function(I){return this._hasSameServerInstance(I,E.uri)},this));return z=
	z||this._agsPortal.test(E.path)},_isIdProvider:function(z,E){var H=-1,I=-1;w.forEach(this._gwDomains,function(ia,ca){-1===H&&ia.regex.test(z)&&(H=ca);-1===I&&ia.regex.test(E)&&(I=ca)});var O=!1;if(-1<H&&-1<I)if(0===H||4===H){if(0===I||4===I)O=!0}else if(1===H){if(1===I||2===I)O=!0}else 2===H?2===I&&(O=!0):3===H&&3===I&&(O=!0);if(!O){var T=this.findServerInfo(E),Z=T&&T.owningSystemUrl;Z&&m(T)&&this._isPortalDomain(Z)&&this._isIdProvider(z,Z)&&(O=!0)}return O},_isPublic:function(z){z=this._sanitizeUrl(z);
	return w.some(this._publicUrls,function(E){return E.test(z)})},_getIdenticalSvcIdx:function(z,E){var H=-1;w.some(E.resources,function(I,O){return this._isIdenticalService(z,I)?(H=O,!0):!1},this);return H},_getSuffix:function(z){return z.replace(this._regexSDirUrl,"").replace(this._regexServerType,"$1")},_getTokenSvcUrl:function(z){if(this._isRESTService(z)||this._isAdminResource(z)){var E=this._getServerInstanceRoot(z);var H=E+"/admin/generateToken";z=E+"/rest/info";E=g({url:z,content:{f:"json"},
	handleAs:"json",callbackParamName:"callback"});E.adminUrl_=H;return E}if(this._isPortalDomain(z)){var I="";w.some(this._gwDomains,function(O){O.regex.test(z)&&(I=O.tokenServiceUrl);return!!I});I||w.some(this._portals,function(O){this._hasSameServerInstance(O,z)&&(I=O+this._gwTokenUrl);return!!I},this);I||(H=z.toLowerCase().indexOf("/sharing"),-1!==H&&(I=z.substring(0,H)+this._gwTokenUrl));I||(I=this._getOrigin(z)+this._gwTokenUrl);I&&(H=(new l(z)).port,/^http:\/\//i.test(z)&&"7080"===H&&(I=I.replace(/:7080/i,
	":7443")),I=I.replace(/http:/i,"https:"));return I}if(-1!==z.toLowerCase().indexOf("premium.arcgisonline.com"))return"https://premium.arcgisonline.com/server/tokens"},_exchangeToken:function(z,E,H){return g({url:z+"/sharing/rest/oauth2/exchangeToken",content:{f:"json",client_id:E,token:H}},{disableIdentityLookup:!0,usePost:!0}).then(function(I){return I.token})},_getPlatformSelf:function(z,E){return g({url:z+"/sharing/rest/oauth2/platformSelf",content:{f:"json"},headers:{"X-Esri-Auth-Client-Id":E,
	"X-Esri-Auth-Redirect-Uri":window.location.href.replace(/#.*$/,"")},withCredentials:!0},{disableIdentityLookup:!0,usePost:!0})},_getPortalSelf:function(z,E){var H="";w.some(this._gwDomains,function(I){I.regex.test(z)&&(H=I.customBaseUrl);return!!H});if(H)return E=new n,E.resolve({allSSL:!0,currentVersion:"4.4",customBaseUrl:H,portalMode:"multitenant",supportsOAuth:!0}),E;"https:"===window.location.protocol?z=z.replace(/^http:/i,"https:").replace(/:7080/i,":7443"):/^http:/i.test(E)&&(z=z.replace(/^https:/i,
	"http:").replace(/:7443/i,":7080"));return g({url:z,content:{f:"json"},handleAs:"json",callbackParamName:"callback"},{crossOrigin:!1,disableIdentityLookup:!0})},_doPortalSignIn:function(z){var E=this._portalConfig,H=window.location.href,I=this.findServerInfo(z);return(E||this._isPortalDomain(H))&&(I?I.hasPortal||I.owningSystemUrl&&this._isPortalDomain(I.owningSystemUrl):this._isPortalDomain(z))&&(this._isIdProvider(H,z)||E&&(this._hasSameServerInstance(this._getServerInstanceRoot(E.restBaseUrl),z)||
	this._isIdProvider(E.restBaseUrl,z))||q.hasSameOrigin(H,z,!0))?!0:!1},_checkProtocol:function(z,E,H,I){var O=!0;I=I?E.adminTokenServiceUrl:E.tokenServiceUrl;0!==b.trim(I).toLowerCase().indexOf("https:")||0===window.location.href.toLowerCase().indexOf("https:")||a.defaults.io.useCors&&(q.canUseXhr(I)||q.canUseXhr(q.getProxyUrl(!0).path))||(O=this._protocolFunc?!!this._protocolFunc({resourceUrl:z,serverInfo:E}):!1,O||(z=Error("Aborted the Sign-In process to avoid sending password over insecure connection."),
	z.name="identity-manager:aborted",z.code="IdentityManagerBase.4",z.log=!!y.isDebug,console.log(z.message),H(z)));return O},_enqueue:function(z,E,H,I,O,T){I||(I=new n(t._dfdCanceller));I.resUrl_=z;I.sinfo_=E;I.options_=H;I.admin_=O;I.refresh_=T;this._busy?this._hasSameServerInstance(this._getServerInstanceRoot(z),this._busy.resUrl_)?(this._oAuthDfd&&this._oAuthDfd.oAuthWin_&&this._oAuthDfd.oAuthWin_.focus(),this._soReqs.push(I)):this._xoReqs.push(I):this._doSignIn(I);return I},_doSignIn:function(z){this._busy=
	z;this._rejectOnPersistedPageShow=!1;var E=this,H=function(W){var ha=z.options_&&z.options_.resource,ma=z.resUrl_,xa=z.refresh_,K=!1;-1===w.indexOf(E.credentials,W)&&(xa&&-1!==w.indexOf(E.credentials,xa)?(xa.userId=W.userId,xa.token=W.token,xa.expires=W.expires,xa.validity=W.validity,xa.ssl=W.ssl,xa.creationTime=W.creationTime,K=!0,W=xa):E.credentials.push(W));W.resources||(W.resources=[]);W.resources.push(ha||ma);W.scope=E._isServerRsrc(ma)?"server":"portal";W.onTokenChange();ha=E._soReqs;var Y=
	{};E._soReqs=[];w.forEach(ha,function(la){if(!this._isIdenticalService(ma,la.resUrl_)){var L=this._getSuffix(la.resUrl_);Y[L]||(Y[L]=!0,W.resources.push(la.resUrl_))}},E);z.callback(W);w.forEach(ha,function(la){this._hasSameServerInstance(this._getServerInstanceRoot(ma),la.resUrl_)?la.callback(W):this._soReqs.push(la)},E);E._busy=z.resUrl_=z.sinfo_=z.refresh_=null;if(!K)E.onCredentialCreate({credential:W});E._soReqs.length?E._doSignIn(E._soReqs.shift()):E._xoReqs.length&&E._doSignIn(E._xoReqs.shift())},
	I=function(W){z.errback(W);E._busy=z.resUrl_=z.sinfo_=z.refresh_=null;E._soReqs.length?E._doSignIn(E._soReqs.shift()):E._xoReqs.length&&E._doSignIn(E._xoReqs.shift())},O=function(W,ha,ma,xa){var K=z.sinfo_,Y=!z.options_||!1!==z.options_.prompt,la=K.hasPortal&&E._findOAuthInfo(z.resUrl_);if(W)H(new G({userId:W,server:K.server,token:ma||null,expires:c.isDefined(xa)?Number(xa):null,ssl:!!ha}));else if(window!==window.parent&&E._appUrlObj.query&&E._appUrlObj.query["arcgis-auth-origin"]&&E._appUrlObj.query["arcgis-auth-portal"]&&
	E._hasSameServerInstance(E._getServerInstanceRoot(E._appUrlObj.query["arcgis-auth-portal"]),z.resUrl_)){window.parent.postMessage({type:"arcgis:auth:requestCredential"},E._appUrlObj.query["arcgis-auth-origin"]);var L=f(window,"message",function(va){if(va.source===window.parent&&va.data)if("arcgis:auth:credential"===va.data.type)L.remove(),H(new G(va.data.credential));else if("arcgis:auth:error"===va.data.type){L.remove();va=va.data.error;switch(va.name){case "identity-manager:busy":case "identity-manager:not-authorized":var Ea=
	"IdentityManager.1";break;case "identity-manager:server-identification-failed":case "identity-manager:unknown-resource":case "identity-manager:user-aborted":Ea="IdentityManager.2";break;case "identity-manager:authentication-failed":Ea="IdentityManager.3";break;case "identity-manager:aborted":Ea="IdentityManager.4";break;case "identity-manager:not-authenticated":Ea="IdentityManager.6";break;case "identity-manager:invalid-request":Ea=400}var ba=Error(va.message);ba.name=va.name;ba.code=Ea;ba.log=!!y.isDebug;
	I(ba)}})}else if(la){var R=la._oAuthCred;R||(W=new x(la,r),ha=new x(la,B),W.isValid()&&ha.isValid()?W.expires>ha.expires?(R=W,ha.destroy()):(R=ha,W.destroy()):R=W.isValid()?W:ha,la._oAuthCred=R);if(R.isValid()){var da=new G({userId:R.userId,server:K.server,token:R.token,expires:R.expires,ssl:R.ssl,_oAuthCred:R});la.appId!==R.appId&&E._doPortalSignIn(z.resUrl_)?z._pendingDfd=E._exchangeToken(da.server,la.appId,da.token).then(function(va){da.token=va;R.token=va;R.save();H(da)}).catch(function(){H(da)}):
	H(da)}else if(E._oAuthHash&&E._hasSameServerInstance(la.portalUrl,E._oAuthHash.state.portalUrl))W=E._oAuthHash,da=new G({userId:W.username,server:K.server,token:W.access_token,expires:(new Date).getTime()+1E3*Number(W.expires_in),ssl:"true"===W.ssl,oAuthState:W.state,_oAuthCred:R}),R.storage=W.persist?r:B,R.token=da.token,R.expires=da.expires,R.userId=da.userId,R.ssl=da.ssl,R.save(),E._oAuthHash=null,H(da);else{var ka=function(){Y?z._pendingDfd=E.oAuthSignIn(z.resUrl_,K,la,z.options_).addCallbacks(H,
	I):(qa=Error("User is not signed in."),qa.name="identity-manager:not-authenticated",qa.code="IdentityManagerBase.6",qa.log=!!y.isDebug,I(qa))};E._doPortalSignIn(z.resUrl_)?z._pendingDfd=E._getPlatformSelf(K.server,la.appId).then(function(va){var Ea=va.portalUrl;!Ea||q.hasSameOrigin(Ea,window.location.origin,!0)?(da=new G({server:K.server,userId:va.username,token:va.token}),H(da)):ka()}).catch(ka):ka()}}else if(Y)E._checkProtocol(z.resUrl_,K,I,z.admin_)&&(W=z.options_,z.admin_&&(W=W||{},W.isAdmin=
	!0),z._pendingDfd=E.signIn(z.resUrl_,K,W).addCallbacks(H,I));else{var qa=Error("User is not signed in.");qa.name="identity-manager:not-authenticated";qa.code="IdentityManagerBase.6";qa.log=!!y.isDebug;I(qa)}},T=function(){var W=z.sinfo_,ha=W.owningSystemUrl,ma=z.options_,xa;if(ma){var K=ma.token;var Y=ma.error;var la=ma.prompt}(xa=E._findCredential(ha,{token:K,resource:z.resUrl_}))||w.some(E.credentials,function(L){this._isIdProvider(ha,L.server)&&(xa=L);return!!xa},E);xa?(ma=E.findCredential(z.resUrl_,
	xa.userId))?H(ma):v(W,E._legacyFed)?(ma=xa.toJson(),ma.server=W.server,ma.resources=null,H(new G(ma))):(z._pendingDfd=E.generateToken(E.findServerInfo(xa.server),null,{serverUrl:z.resUrl_,token:xa.token,ssl:xa.ssl})).addCallbacks(function(L){H(new G({userId:xa.userId,server:W.server,token:L.token,expires:c.isDefined(L.expires)?Number(L.expires):null,ssl:!!L.ssl,isAdmin:z.admin_,validity:L.validity}))},I):(E._busy=null,K&&(z.options_.token=null),(z._pendingDfd=E.getCredential(ha.replace(/\/?$/,"/sharing"),
	{resource:z.resUrl_,owningTenant:W.owningTenant,token:K,error:Y,prompt:la})).addCallbacks(function(L){E._enqueue(z.resUrl_,z.sinfo_,z.options_,z,z.admin_)},function(L){I(L)}))};this._errbackFunc=I;var Z=z.sinfo_.owningSystemUrl,ia=this._isServerRsrc(z.resUrl_),ca=z.sinfo_._restInfoDfd;ca?ca.addCallbacks(function(W){var ha=z.sinfo_;ha._restInfoDfd&&(ha.adminTokenServiceUrl=ha._restInfoDfd.adminUrl_,ha._restInfoDfd=null,ha.tokenServiceUrl=b.getObject("authInfo.tokenServicesUrl",!1,W)||b.getObject("authInfo.tokenServiceUrl",
	!1,W)||b.getObject("tokenServiceUrl",!1,W),ha.shortLivedTokenValidity=b.getObject("authInfo.shortLivedTokenValidity",!1,W),ha.currentVersion=W.currentVersion,ha.owningTenant=W.owningTenant,(W=ha.owningSystemUrl=W.owningSystemUrl)&&E._portals.push(W));ia&&ha.owningSystemUrl?T():O()},function(){z.sinfo_._restInfoDfd=null;var W=Error("Unknown resource - could not find token service endpoint.");W.name="identity-manager:server-identification-failed";W.code="IdentityManagerBase.2";W.log=!!y.isDebug;I(W)}):
	ia&&Z?T():z.sinfo_._selfReq?z.sinfo_._selfReq.selfDfd.then(function(W){var ha={};if(W){var ma=W.user&&W.user.username;ha.username=ma;ha.allSSL=W.allSSL;var xa=W.supportsOAuth;var K=W.currentVersion;if("multitenant"===W.portalMode)var Y=W.customBaseUrl}z.sinfo_.webTierAuth=!!ma;return ma&&E.normalizeWebTierAuth?E.generateToken(z.sinfo_,null,{ssl:ha.allSSL}).addBoth(function(la){ha.portalToken=la&&la.token;ha.tokenExpiration=la&&la.expires;return ha}):!ma&&xa&&4.4<=parseFloat(K)&&!E._findOAuthInfo(z.resUrl_)?
	E._generateOAuthInfo({portalUrl:z.sinfo_.server,customBaseUrl:Y,owningTenant:z.sinfo_._selfReq.owningTenant}).always(function(){return ha}):ha}).always(function(W){z.sinfo_._selfReq=null;W?O(W.username,W.allSSL,W.portalToken,W.tokenExpiration):O()}):O()},_generateOAuthInfo:function(z){var E=this,H=z.portalUrl,I=z.customBaseUrl,O=z.owningTenant;if(z=!this.defaultOAuthInfo&&this._createDefaultOAuthInfo&&!this._hasTestedIfAppIsOnPortal){var T=window.location.href;var Z=T.indexOf("?");-1<Z&&(T=T.slice(0,
	Z));Z=T.search(/\/(apps|home)\//);T=-1<Z?T.slice(0,Z):null}z&&T?(this._hasTestedIfAppIsOnPortal=!0,z=g({url:T+"/sharing/rest",content:{f:"json"},handleAs:"json"}).then(function(){E.defaultOAuthInfo=new u({appId:"arcgisonline",popupCallbackUrl:T+"/home/oauth-callback.html"})})):(z=new n,z.resolve(),z=z.promise);return z.then(function(){if(E.defaultOAuthInfo)return H=H.replace(/^http:/i,"https:"),g({url:H+"/sharing/rest/oauth2/validateRedirectUri",content:{accountId:O,client_id:E.defaultOAuthInfo.appId,
	redirect_uri:q.getAbsoluteUrl(E.defaultOAuthInfo.popupCallbackUrl),f:"json"},handleAs:"json",callbackParamName:"callback"}).then(function(ia){if(ia.valid){var ca=E.defaultOAuthInfo.clone();ca.portalUrl=ia.urlKey&&I?"https://"+ia.urlKey.toLowerCase()+"."+I:H;ca.popup=window!==window.top||!(q.hasSameOrigin(H,window.location.origin)||E._gwDomains.some(function(W){return W.regex.test(H)&&W.regex.test(window.location.origin)}));E.oAuthInfos.push(ca)}})})}});var G=C(p,{declaredClass:"esri.Credential",tokenRefreshBuffer:2,
	constructor:function(z){b.mixin(this,z);this.resources=this.resources||[];c.isDefined(this.creationTime)||(this.creationTime=(new Date).getTime())},_oAuthCred:null,refreshToken:function(){var z=this,E=this.resources&&this.resources[0],H=d.id.findServerInfo(this.server),I=H&&H.owningSystemUrl,O=!!I&&"server"===this.scope,T=O&&v(H,d.id._legacyFed),Z=O&&d.id.findServerInfo(I),ia,ca=(ia=H.webTierAuth)&&d.id.normalizeWebTierAuth,W=A[this.server];W=W&&W[this.userId];var ha={username:this.userId,password:W};
	if(!ia||ca)if(O&&!Z&&w.some(d.id.serverInfos,function(K){d.id._isIdProvider(I,K.server)&&(Z=K);return!!Z}),ia=Z&&d.id.findCredential(Z.server,this.userId),!O||ia)if(T)ia.refreshToken();else{if(O)var ma={serverUrl:E,token:ia&&ia.token,ssl:ia&&ia.ssl};else if(ca)ha=null,ma={ssl:this.ssl};else if(W)this.isAdmin&&(ma={isAdmin:!0});else{if(E){E=d.id._sanitizeUrl(E);this._enqueued=1;var xa=d.id._enqueue(E,H,null,null,this.isAdmin,this);xa.addCallback(function(){z._enqueued=0;z.refreshServerTokens()}).addErrback(function(){z._enqueued=
	0})}return xa}return d.id.generateToken(O?Z:H,O?null:ha,ma).addCallback(function(K){z.token=K.token;z.expires=c.isDefined(K.expires)?Number(K.expires):null;z.creationTime=(new Date).getTime();z.validity=K.validity;z.onTokenChange();z.refreshServerTokens()}).addErrback(function(){})}},refreshServerTokens:function(){"portal"===this.scope&&w.forEach(d.id.credentials,function(z){var E=d.id.findServerInfo(z.server),H=E&&E.owningSystemUrl;z!==this&&z.userId===this.userId&&H&&"server"===z.scope&&(d.id._hasSameServerInstance(this.server,
	H)||d.id._isIdProvider(H,this.server))&&(v(E,d.id._legacyFed)?(z.token=this.token,z.expires=this.expires,z.creationTime=this.creationTime,z.validity=this.validity,z.onTokenChange()):z.refreshToken())},this)},onTokenChange:function(z){clearTimeout(this._refreshTimer);var E=this.server&&d.id.findServerInfo(this.server),H=(E=E&&E.owningSystemUrl)&&d.id.findServerInfo(E);!1!==z&&(!E||"portal"===this.scope||H&&H.webTierAuth&&!d.id.normalizeWebTierAuth)&&(c.isDefined(this.expires)||c.isDefined(this.validity))&&
	this._startRefreshTimer()},onDestroy:function(){},destroy:function(){this.userId=this.server=this.token=this.expires=this.validity=this.resources=this.creationTime=null;this._oAuthCred&&(this._oAuthCred.destroy(),this._oAuthCred=null);var z=w.indexOf(d.id.credentials,this);-1<z&&d.id.credentials.splice(z,1);this.onTokenChange();this.onDestroy()},toJson:function(){return this._toJson()},_toJson:function(){var z=c.fixJson({userId:this.userId,server:this.server,token:this.token,expires:this.expires,
	validity:this.validity,ssl:this.ssl,isAdmin:this.isAdmin,creationTime:this.creationTime,scope:this.scope}),E=this.resources;E&&0<E.length&&(z.resources=E.slice());return z},_startRefreshTimer:function(){clearTimeout(this._refreshTimer);var z=6E4*this.tokenRefreshBuffer,E=Math.pow(2,31)-1,H=(this.validity?this.creationTime+6E4*this.validity:this.expires)-(new Date).getTime();0>H?H=0:H>E&&(H=E);this._refreshTimer=setTimeout(b.hitch(this,this.refreshToken),H>z?H-z:H)}});D.Credential=G;k("extend-esri")&&
	(d.IdentityManagerBase=D);return D})},"esri/ServerInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","./kernel","./lang"],function(C,y,b,w,n){C=C(null,{declaredClass:"esri.ServerInfo",constructor:function(l){y.mixin(this,l)},toJson:function(){return n.fixJson({server:this.server,tokenServiceUrl:this.tokenServiceUrl,adminTokenServiceUrl:this.adminTokenServiceUrl,shortLivedTokenValidity:this.shortLivedTokenValidity,owningSystemUrl:this.owningSystemUrl,owningTenant:this.owningTenant,
	currentVersion:this.currentVersion,hasPortal:this.hasPortal,hasServer:this.hasServer,webTierAuth:this.webTierAuth})}});b("extend-esri")&&(w.ServerInfo=C);return C})},"esri/OAuthCredential":function(){define(["./kernel","dojo/_base/declare","dojo/has","dojo/json"],function(C,y,b,w){y=y(null,{declaredClass:"esri.OAuthCredential",oAuthInfo:null,storage:null,appId:null,expires:null,ssl:null,token:null,userId:null,constructor:function(n,l){this.oAuthInfo=n;this.storage=l;this._init()},isValid:function(){var n=
	!1;if(this.oAuthInfo&&this.token&&this.userId){var l=(new Date).getTime();this.expires>l&&(this.expires-l)/1E3>60*this.oAuthInfo.minTimeUntilExpiration&&(n=!0)}return n},save:function(){if(this.storage){var n=this._load(),l=this.oAuthInfo;if(l&&l.authNamespace&&l.portalUrl){var k=n[l.authNamespace];k||(k=n[l.authNamespace]={});k[l.portalUrl]={appId:this.appId=l.appId,expires:this.expires,ssl:this.ssl,token:this.token,userId:this.userId};try{this.storage.setItem("esriJSAPIOAuth",w.stringify(n))}catch(h){console.log(h)}}}},
	destroy:function(){var n=this._load(),l=this.oAuthInfo;if(l&&l.appId&&l.portalUrl&&this.token&&this.expires>Date.now()){var k=l.portalUrl.replace(/^http:/i,"https:")+"/sharing/rest/oauth2/revokeToken",h=new FormData;h.append("f","json");h.append("auth_token",this.token);h.append("client_id",l.appId);h.append("token_type_hint","access_token");if("function"===typeof navigator.sendBeacon)navigator.sendBeacon(k,h);else{var f=new XMLHttpRequest;f.open("POST",k);f.send(h)}}if(l&&l.authNamespace&&l.portalUrl&&
	this.storage&&(k=n[l.authNamespace])){delete k[l.portalUrl];try{this.storage.setItem("esriJSAPIOAuth",w.stringify(n))}catch(d){console.log(d)}}l&&(this.oAuthInfo=l._oAuthCred=null)},_init:function(){var n=this._load(),l=this.oAuthInfo;l&&l.authNamespace&&l.portalUrl&&(n=n[l.authNamespace])&&(n=n[l.portalUrl])&&(this.appId=n.appId,this.expires=n.expires,this.ssl=n.ssl,this.token=n.token,this.userId=n.userId)},_load:function(){var n={};if(this.storage){var l=this.storage.getItem("esriJSAPIOAuth");if(l)try{n=
	w.parse(l)}catch(k){console.log(k)}}return n}});b("extend-esri")&&(C.OAuthCredential=y);return y})},"esri/arcgis/OAuthInfo":function(){define(["../kernel","../lang","dojo/_base/declare","dojo/_base/lang","dojo/has"],function(C,y,b,w,n){var l=b(null,{declaredClass:"esri.arcgis.OAuthInfo",constructor:function(k){w.mixin(this,{expiration:20160,minTimeUntilExpiration:30,portalUrl:"https://www.arcgis.com",authNamespace:"/",forceLogin:!1,popup:!1,popupCallbackUrl:"oauth-callback.html",popupWindowFeatures:"height\x3d490,width\x3d800,resizable,scrollbars,status",
	preserveUrlHash:!1},k)},_oAuthCred:null,toJson:function(){return y.fixJson({appId:this.appId,expiration:this.expiration,locale:this.locale,minTimeUntilExpiration:this.minTimeUntilExpiration,portalUrl:this.portalUrl,authNamespace:this.authNamespace,forceLogin:this.forceLogin,popup:this.popup,popupCallbackUrl:this.popupCallbackUrl,popupWindowFeatures:this.popupWindowFeatures,preserveUrlHash:this.preserveUrlHash})},clone:function(){return new l(this.toJson())}});n("extend-esri")&&w.setObject("arcgis.OAuthInfo",
	l,C);return l})},"dijit/form/Form":function(){define("dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/sniff ../_Widget ../_TemplatedMixin ./_FormMixin ../layout/_ContentPaneResizeMixin".split(" "),function(C,y,b,w,n,l,k,h){return C("dijit.form.Form",[n,l,k,h],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"\x3cform data-dojo-attach-point\x3d'containerNode' data-dojo-attach-event\x3d'onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}\x3e\x3c/form\x3e",
	postMixInProperties:function(){this.nameAttrSetting=this.name?"name\x3d'"+this.name+"'":"";this.inherited(arguments)},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(f){y.set(this.domNode,"encType",f);w("ie")&&(this.domNode.encoding=f);this._set("encType",f)},reset:function(f){var d={returnValue:!0,preventDefault:function(){this.returnValue=!1},stopPropagation:function(){},currentTarget:f?f.target:this.domNode,target:f?f.target:this.domNode};!1!==this.onReset(d)&&d.returnValue&&
	this.inherited(arguments,[])},onReset:function(){return!0},_onReset:function(f){this.reset(f);f.stopPropagation();f.preventDefault();return!1},_onSubmit:function(f){var d=this.constructor.prototype;if(this.execute!=d.execute||this.onExecute!=d.onExecute)b.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0"),this.onExecute(),this.execute(this.getValues());!1===this.onSubmit(f)&&(f.stopPropagation(),f.preventDefault())},onSubmit:function(){return this.isValid()},
	submit:function(){!1!==this.onSubmit()&&this.containerNode.submit()}})})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare dojo/_base/kernel dojo/_base/lang dojo/i18n ./TextBox ../Tooltip dojo/text!./templates/ValidationTextBox.html dojo/i18n!./nls/validate".split(" "),function(C,y,b,w,n,l,k){var h=C("dijit.form.ValidationTextBox",n,{templateString:k,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",
	regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(f,d){d!=h.prototype[f]&&(y.deprecated("ValidationTextBox id\x3d"+this.id+", set('"+f+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",d))},_setRegExpGenAttr:function(f){this._deprecateRegExp("regExpGen",f);this._set("regExpGen",this._computeRegexp)},_setRegExpAttr:function(f){this._deprecateRegExp("regExp",f)},_setValueAttr:function(){this.inherited(arguments);this._refreshState()},
	validator:function(f,d){return(new RegExp("^(?:"+this._computeRegexp(d)+")"+(this.required?"":"?")+"$")).test(f)&&(!this.required||!this._isEmpty(f))&&(this._isEmpty(f)||void 0!==this.parse(f,d))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,this.get("constraints"))},_isEmpty:function(f){return(this.trim?/^\s*$/:/^$/).test(f)},getErrorMessage:function(){var f="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:
	this.invalidMessage?this.invalidMessage:this.promptMessage,d="$_unset_$"==this.missingMessage?this.messages.missingMessage:this.missingMessage?this.missingMessage:f;return this.required&&this._isEmpty(this.textbox.value)?d:f},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(f){var d="",a=this.disabled||this.isValid(f);a&&(this._maskValidSubsetError=!0);var c=this._isEmpty(this.textbox.value),e=!a&&f&&this._isValidSubset();this._set("state",a?"":((!this._hasBeenBlurred||
	f)&&c||e)&&(this._maskValidSubsetError||e&&!this._hasBeenBlurred&&f)?"Incomplete":"Error");this.focusNode.setAttribute("aria-invalid","Error"==this.state?"true":"false");"Error"==this.state?(this._maskValidSubsetError=f&&e,d=this.getErrorMessage(f)):"Incomplete"==this.state?(d=this.getPromptMessage(f),this._maskValidSubsetError=!this._hasBeenBlurred||f):c&&(d=this.getPromptMessage(f));this.set("message",d);return a},displayMessage:function(f){f&&this.focused?l.show(f,this.domNode,this.tooltipPosition,
	!this.isLeftToRight()):l.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);this.inherited(arguments)},constructor:function(f){this.constraints=b.clone(this.constraints);this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(f){!f.locale&&this.lang&&(f.locale=this.lang);this._set("constraints",f);this._refreshState()},_setPatternAttr:function(f){this._set("pattern",f);this._refreshState()},
	_computeRegexp:function(f){var d=this.pattern;"function"==typeof d&&(d=d.call(this,f));if(d!=this._lastRegExp){var a="";this._lastRegExp=d;".*"!=d&&d.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(c){switch(c.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":a+=c;break;case ")":a+="|$)";break;default:a+="(?:"+c+"|$)"}});try{"".search(a)}catch(c){a=this.pattern,console.warn("RegExp error in "+this.declaredClass+": "+this.pattern)}this._partialre="^(?:"+
	a+")$"}return d},postMixInProperties:function(){this.inherited(arguments);this.messages=w.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},_setDisabledAttr:function(f){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(f){this._set("required",f);this.focusNode.setAttribute("aria-required",f);this._refreshState()},_setMessageAttr:function(f){this._set("message",f);this.displayMessage(f)},reset:function(){this._maskValidSubsetError=
	!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)},destroy:function(){l.hide(this.domNode);this.inherited(arguments)}});return h})},"dijit/form/TextBox":function(){define("dojo/_base/declare dojo/dom-construct dojo/dom-style dojo/_base/kernel dojo/_base/lang dojo/on dojo/sniff ./_FormValueWidget ./_TextBoxMixin dojo/text!./templates/TextBox.html ../main".split(" "),function(C,y,b,w,n,l,k,h,f,d,a){h=C("dijit.form.TextBox"+(k("dojo-bidi")?"_NoBidi":""),
	[h,f],{templateString:d,_singleNodeTemplate:'\x3cinput class\x3d"dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point\x3d"textbox,focusNode" autocomplete\x3d"off" type\x3d"${type}" ${!nameAttrSetting} /\x3e',_buttonInputDisabled:k("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var c=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==c||"file"==c)&&this.templateString==this.constructor.prototype.templateString)this.templateString=
	this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>k("ie")&&this.defer(function(){try{var c=b.getComputedStyle(this.domNode);if(c){var e=c.fontFamily;if(e){var q=this.domNode.getElementsByTagName("INPUT");if(q)for(c=0;c<q.length;c++)q[c].style.fontFamily=e}}}catch(t){}})},_setPlaceHolderAttr:function(c){this._set("placeHolder",c);this._phspan||(this._attachPoints.push("_phspan"),this._phspan=y.create("span",{className:"dijitPlaceHolder dijitInputField"},
	this.textbox,"after"),this.own(l(this._phspan,"mousedown",function(e){e.preventDefault()}),l(this._phspan,"touchend, pointerup, MSPointerUp",n.hitch(this,function(){this.focus()}))));this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(c));this._updatePlaceHolder()},_onInput:function(c){this.inherited(arguments);this._updatePlaceHolder()},_updatePlaceHolder:function(){this._phspan&&(this._phspan.style.display=this.placeHolder&&!this.textbox.value?"":"none")},
	_setValueAttr:function(c,e,q){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){w.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue")},setDisplayedValue:function(c){w.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",c)},_onBlur:function(c){this.disabled||(this.inherited(arguments),
	this._updatePlaceHolder(),k("mozilla")&&this.selectOnClick&&(this.textbox.selectionStart=this.textbox.selectionEnd=void 0))},_onFocus:function(c){this.disabled||this.readOnly||(this.inherited(arguments),this._updatePlaceHolder())}});9>k("ie")&&(h.prototype._isTextSelected=function(){var c=this.ownerDocument.selection.createRange();return c.parentElement()==this.textbox&&0<c.text.length},a._setSelectionRange=f._setSelectionRange=function(c,e,q){c.createTextRange&&(c=c.createTextRange(),c.collapse(!0),
	c.moveStart("character",-99999),c.moveStart("character",e),c.moveEnd("character",q-e),c.select())});k("dojo-bidi")&&(h=C("dijit.form.TextBox",h,{_setPlaceHolderAttr:function(c){this.inherited(arguments);this.applyTextDir(this._phspan)}}));return h})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(C,y,b,w){return C("dijit.form._FormValueWidget",[b,w],{_layoutHackIE7:function(){if(7==y("ie"))for(var n=this.domNode,l=n.parentNode,
	k=n.firstChild||n,h=k.style.filter,f=this;l&&0==l.clientHeight;)(function(){var d=f.connect(l,"onscroll",function(){f.disconnect(d);k.style.filter=(new Date).getMilliseconds();f.defer(function(){k.style.filter=h})})})(),l=l.parentNode}})})},"dijit/form/_FormValueMixin":function(){define("dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dojo/sniff ./_FormWidgetMixin".split(" "),function(C,y,b,w,n,l,k){return C("dijit.form._FormValueMixin",k,{readOnly:!1,_setReadOnlyAttr:function(h){l("trident")&&
	"disabled"in this?y.set(this.focusNode,"readOnly",h||this.disabled):y.set(this.focusNode,"readOnly",h);this._set("readOnly",h)},postCreate:function(){this.inherited(arguments);void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.value)},_setValueAttr:function(h,f){this._handleOnChange(h,f)},_handleOnChange:function(h,f){this._set("value",h);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,
	!0)}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/sniff dojo/keys dojo/_base/lang dojo/on ../main".split(" "),function(C,y,b,w,n,l,k,h){var f=y("dijit.form._TextBoxMixin"+(w("dojo-bidi")?"_NoBidi":""),null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints)},_setValueAttr:function(d,a,c){if(void 0!==d){var e=this.filter(d);
	"string"!=typeof c&&(c=null===e||"number"==typeof e&&isNaN(e)?"":this.filter(this.format(e,this.constraints)),0!=this.compare(e,this.filter(this.parse(c,this.constraints)))&&(c=null))}null==c||"number"==typeof c&&isNaN(c)||this.textbox.value==c||(this.textbox.value=c,this._set("displayedValue",this.get("displayedValue")));this.inherited(arguments,[e,a])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},_setDisplayedValueAttr:function(d){null==d?d="":"string"!=
	typeof d&&(d=String(d));this.textbox.value=d;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"))},format:function(d){return null==d?"":d.toString?d.toString():d},parse:function(d){return d},_refreshState:function(){},onInput:function(){},_onInput:function(d){this._lastInputEventValue=this.textbox.value;this._processInput(this._lastInputProducingEvent||d);delete this._lastInputProducingEvent;this.intermediateChanges&&this._handleOnChange(this.get("value"),
	!1)},_processInput:function(){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(k(this.textbox,"keydown, keypress, paste, cut, compositionend",l.hitch(this,function(d){if("keydown"==d.type&&229!=d.keyCode){var a=d.keyCode;switch(a){case n.SHIFT:case n.ALT:case n.CTRL:case n.META:case n.CAPS_LOCK:case n.NUM_LOCK:case n.SCROLL_LOCK:return}if(!d.ctrlKey&&!d.metaKey&&
	!d.altKey){switch(a){case n.NUMPAD_0:case n.NUMPAD_1:case n.NUMPAD_2:case n.NUMPAD_3:case n.NUMPAD_4:case n.NUMPAD_5:case n.NUMPAD_6:case n.NUMPAD_7:case n.NUMPAD_8:case n.NUMPAD_9:case n.NUMPAD_MULTIPLY:case n.NUMPAD_PLUS:case n.NUMPAD_ENTER:case n.NUMPAD_MINUS:case n.NUMPAD_PERIOD:case n.NUMPAD_DIVIDE:return}if(65<=a&&90>=a||48<=a&&57>=a||a==n.SPACE)return;a=!1;for(var c in n)if(n[c]===d.keyCode){a=!0;break}if(!a)return}}(a=32<=d.charCode?String.fromCharCode(d.charCode):d.charCode)||(a=65<=d.keyCode&&
	90>=d.keyCode||48<=d.keyCode&&57>=d.keyCode||d.keyCode==n.SPACE?String.fromCharCode(d.keyCode):d.keyCode);a||(a=229);if("keypress"==d.type){if("string"!=typeof a)return;if("a"<=a&&"z">=a||"A"<=a&&"Z">=a||"0"<=a&&"9">=a||" "===a)if(d.ctrlKey||d.metaKey||d.altKey)return}var e={faux:!0},q;for(q in d)/^(layer[XY]|returnValue|keyLocation)$/.test(q)||(c=d[q],"function"!=typeof c&&"undefined"!=typeof c&&(e[q]=c));l.mixin(e,{charOrCode:a,_wasConsumed:!1,preventDefault:function(){e._wasConsumed=!0;d.preventDefault()},
	stopPropagation:function(){d.stopPropagation()}});this._lastInputProducingEvent=e;!1===this.onInput(e)&&(e.preventDefault(),e.stopPropagation());if(!e._wasConsumed&&9>=w("ie"))switch(d.keyCode){case n.TAB:case n.ESCAPE:case n.DOWN_ARROW:case n.UP_ARROW:case n.LEFT_ARROW:case n.RIGHT_ARROW:break;default:d.keyCode==n.ENTER&&"textarea"!=this.textbox.tagName.toLowerCase()||this.defer(function(){this.textbox.value!==this._lastInputEventValue&&k.emit(this.textbox,"input",{bubbles:!0})})}})),k(this.textbox,
	"input",l.hitch(this,"_onInput")),k(this.domNode,"keypress",function(d){d.stopPropagation()}))},_blankValue:"",filter:function(d){if(null===d)return this._blankValue;if("string"!=typeof d)return d;this.trim&&(d=l.trim(d));this.uppercase&&(d=d.toUpperCase());this.lowercase&&(d=d.toLowerCase());this.propercase&&(d=d.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return d},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(d){this.disabled||
	(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(d){this.disabled||this.readOnly||(this.selectOnClick&&"mouse"==d&&(this._selectOnClickHandle=k.once(this.domNode,"mouseup, touchend",l.hitch(this,function(a){this._isTextSelected()||f.selectInputText(this.textbox)})),this.own(this._selectOnClickHandle),this.defer(function(){this._selectOnClickHandle&&(this._selectOnClickHandle.remove(),this._selectOnClickHandle=
	null)},500)),this.inherited(arguments),this._refreshState())},reset:function(){this.textbox.value="";this.inherited(arguments)}});w("dojo-bidi")&&(f=y("dijit.form._TextBoxMixin",f,{_setValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_setDisplayedValueAttr:function(){this.inherited(arguments);this.applyTextDir(this.focusNode)},_onInput:function(){this.applyTextDir(this.focusNode);this.inherited(arguments)}}));f._setSelectionRange=h._setSelectionRange=function(d,a,
	c){d.setSelectionRange&&d.setSelectionRange(a,c)};f.selectInputText=h.selectInputText=function(d,a,c){d=b.byId(d);isNaN(a)&&(a=0);isNaN(c)&&(c=d.value?d.value.length:0);try{d.focus(),f._setSelectionRange(d,a,c)}catch(e){}};return f})},"dijit/Tooltip":function(){define("dojo/_base/array dojo/_base/declare dojo/_base/fx dojo/dom dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff ./_base/manager ./place ./_Widget ./_TemplatedMixin ./BackgroundIframe dojo/text!./templates/Tooltip.html ./main".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x){function u(){}var A=y("dijit._MasterTooltip",[q,t],{duration:c.defaultDuration,templateString:p,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new g(this.domNode);this.fadeIn=b.fadeIn({node:this.domNode,duration:this.duration,onEnd:h.hitch(this,"_onShow")});this.fadeOut=b.fadeOut({node:this.domNode,duration:this.duration,onEnd:h.hitch(this,"_onHide")})},show:function(v,r,B,D,G,z,E){if(!this.aroundNode||this.aroundNode!==
	r||this.containerNode.innerHTML!=v)if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=v;G&&this.set("textDir",G);this.containerNode.align=D?"right":"left";var H=e.around(this.domNode,r,B&&B.length?B:m.defaultPosition,!D,h.hitch(this,"orient")),I=H.aroundNodePos;"M"==H.corner.charAt(0)&&"M"==H.aroundCorner.charAt(0)?(this.connectorNode.style.top=I.y+(I.h-this.connectorNode.offsetHeight>>1)-H.y+"px",this.connectorNode.style.left=""):"M"==H.corner.charAt(1)&&
	"M"==H.aroundCorner.charAt(1)?this.connectorNode.style.left=I.x+(I.w-this.connectorNode.offsetWidth>>1)-H.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");k.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=!0;this.aroundNode=r;this.onMouseEnter=z||u;this.onMouseLeave=E||u}},orient:function(v,r,B,D,G){this.connectorNode.style.top="";var z=D.h;D=D.w;v.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove",
	"BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[r+"-"+B];this.domNode.style.width="auto";var E=l.position(this.domNode);if(a("ie")||a("trident"))E.w+=2;l.setMarginBox(this.domNode,{w:Math.min(Math.max(D,1),E.w)});"B"==B.charAt(0)&&"B"==r.charAt(0)?(v=l.position(v),r=this.connectorNode.offsetHeight,
	v.h>z?(this.connectorNode.style.top=z-(G.h+r>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=Math.min(Math.max(G.h/2-r/2,0),v.h-r)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom="");return Math.max(0,E.w-D)},_onShow:function(){a("ie")&&(this.domNode.style.filter="")},hide:function(v){this._onDeck&&this._onDeck[1]==v?this._onDeck=null:this.aroundNode===v&&(this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=
	null,this.fadeOut.play());this.onMouseEnter=this.onMouseLeave=u},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";this._onDeck&&(this.show.apply(this,this._onDeck),this._onDeck=null)}});a("dojo-bidi")&&A.extend({_setAutoTextDir:function(v){this.applyTextDir(v);C.forEach(v.children,function(r){this._setAutoTextDir(r)},this)},_setTextDirAttr:function(v){this._set("textDir",v);"auto"==v?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});x.showTooltip=
	function(v,r,B,D,G,z,E){B&&(B=C.map(B,function(H){return{after:"after-centered",before:"before-centered"}[H]||H}));m._masterTT||(x._masterTT=m._masterTT=new A);return m._masterTT.show(v,r,B,D,G,z,E)};x.hideTooltip=function(v){return m._masterTT&&m._masterTT.hide(v)};var m=y("dijit.Tooltip",q,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(v){C.forEach(this._connections||[],function(r){C.forEach(r,function(B){B.remove()})},this);this._connectIds=
	C.filter(h.isArrayLike(v)?v:v?[v]:[],function(r){return w.byId(r,this.ownerDocument)},this);this._connections=C.map(this._connectIds,function(r){r=w.byId(r,this.ownerDocument);var B=this.selector,D=B?function(z){return d.selector(B,z)}:function(z){return z},G=this;return[d(r,D(f.enter),function(){G._onHover(this)}),d(r,D("focusin"),function(){G._onHover(this)}),d(r,D(f.leave),h.hitch(G,"_onUnHover")),d(r,D("focusout"),h.hitch(G,"set","state","DORMANT"))]},this);this._set("connectId",v)},addTarget:function(v){v=
	v.id||v;-1==C.indexOf(this._connectIds,v)&&this.set("connectId",this._connectIds.concat(v))},removeTarget:function(v){v=C.indexOf(this._connectIds,v.id||v);0<=v&&(this._connectIds.splice(v,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);n.add(this.domNode,"dijitTooltipData")},startup:function(){this.inherited(arguments);var v=this.connectId;C.forEach(h.isArrayLike(v)?v:[v],this.addTarget,this)},getContent:function(v){return this.label||this.domNode.innerHTML},
	state:"DORMANT",_setStateAttr:function(v){if(!(this.state==v||"SHOW TIMER"==v&&"SHOWING"==this.state||"HIDE TIMER"==v&&"DORMANT"==this.state)){this._hideTimer&&(this._hideTimer.remove(),delete this._hideTimer);this._showTimer&&(this._showTimer.remove(),delete this._showTimer);switch(v){case "DORMANT":this._connectNode&&(m.hide(this._connectNode),delete this._connectNode,this.onHide());break;case "SHOW TIMER":"SHOWING"!=this.state&&(this._showTimer=this.defer(function(){this.set("state","SHOWING")},
	this.showDelay));break;case "SHOWING":var r=this.getContent(this._connectNode);if(!r){this.set("state","DORMANT");return}m.show(r,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,h.hitch(this,"set","state","SHOWING"),h.hitch(this,"set","state","HIDE TIMER"));this.onShow(this._connectNode,this.position);break;case "HIDE TIMER":this._hideTimer=this.defer(function(){this.set("state","DORMANT")},this.hideDelay)}this._set("state",v)}},_onHover:function(v){this._connectNode&&v!=this._connectNode&&
	this.set("state","DORMANT");this._connectNode=v;this.set("state","SHOW TIMER")},_onUnHover:function(v){this.set("state","HIDE TIMER")},open:function(v){this.set("state","DORMANT");this._connectNode=v;this.set("state","SHOWING")},close:function(){this.set("state","DORMANT")},onShow:function(){},onHide:function(){},destroy:function(){this.set("state","DORMANT");C.forEach(this._connections||[],function(v){C.forEach(v,function(r){r.remove()})},this);this.inherited(arguments)}});m._MasterTooltip=A;m.show=
	x.showTooltip;m.hide=x.hideTooltip;m.defaultPosition=["after-centered","before-centered"];return m})},"esri/OAuthSignInHandler":function(){define("./Credential ./domUtils ./lang ./urlUtils dijit/Dialog dijit/registry dojo/_base/config dojo/_base/Deferred dojo/_base/kernel dojo/dom-attr dojo/i18n!./nls/jsapi dojo/io-query dojo/sniff dojo/json dijit/form/Button dojo/query".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c,e,q){var t=null,g=null;try{t=window.localStorage,g=window.sessionStorage}catch(p){}return{_oAuthDfd:null,
	_oAuthIntervalId:0,_oAuthDialogContent:"\x3cdiv class\x3d'dijitDialogPaneContentArea'\x3e\x3cdiv style\x3d'padding-bottom: 5px; word-wrap: break-word;'\x3e${oAuthInfo}\x3c/div\x3e\x3cdiv style\x3d'margin: 0px; padding: 0px; height: 10px;'\x3e\x3c/div\x3e\x3cdiv class\x3d'esriErrorMsg' style\x3d'display: none; color: white; background-color: #D46464; text-align: center; padding-top: 3px; padding-bottom: 3px;'\x3e${invalidUser}\x3c/div\x3e\x3cdiv style\x3d'margin: 0px; padding: 0px; height: 10px;'\x3e\x3c/div\x3e\x3cdiv class\x3d'dijitDialogPaneActionBar'\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' data-dojo-props\x3d'type:\"button\", \"class\":\"esriIdSubmit\"'\x3e${lblOk}\x3c/button\x3e\x3cbutton data-dojo-type\x3d'dijit.form.Button' data-dojo-props\x3d'type:\"button\", \"class\":\"esriIdCancel\"'\x3e${lblCancel}\x3c/button\x3e\x3c/div\x3e",
	setOAuthRedirectionHandler:function(p){this._oAuthRedirectFunc=p},oAuthSignIn:function(p,x,u,A){var m=this._oAuthDfd=new h;m.resUrl_=p;m.sinfo_=x;m.oinfo_=u;var v=!A||!1!==A.oAuthPopupConfirmation;if(!u.popup||!v)return this._doOAuthSignIn(p,x,u),m;this._nls||(this._nls=a.identity);this.oAuthDialog||(this.oAuthDialog=this._createOAuthDialog());p=this.oAuthDialog;u=A&&A.error;A=A&&A.token;y.hide(p.errMsg_);u&&403==u.code&&A&&(d.set(p.errMsg_,"innerHTML",this._nls.forbidden),y.show(p.errMsg_));d.set(p.serverLink_,
	{title:x.server,innerHTML:-1!==x.server.toLowerCase().indexOf("arcgis.com")?"ArcGIS Online":x.server});p.show();return m},setOAuthResponseHash:function(p){var x=this._oAuthDfd;this._oAuthDfd=null;if(x&&p)if(clearInterval(this._oAuthIntervalId),"#"===p.charAt(0)&&(p=p.substring(1)),p=c.queryToObject(p),p.error){var u="access_denied"===p.error;p=Error(u?"ABORTED":"OAuth: "+p.error+" - "+p.error_description);p.name=u?"identity-manager:user-aborted":"identity-manager:authentication-failed";p.code="IdentityManagerBase."+
	(u?2:3);p.log=!!k.isDebug;x.errback(p)}else{u=x.oinfo_._oAuthCred;var A=new C({userId:p.username,server:x.sinfo_.server,token:p.access_token,expires:(new Date).getTime()+1E3*Number(p.expires_in),ssl:"true"===p.ssl,_oAuthCred:u});u.storage=p.persist?t:g;u.token=A.token;u.expires=A.expires;u.userId=A.userId;u.ssl=A.ssl;u.save();x.callback(A)}},_createOAuthDialog:function(){var p=this._nls,x=b.substitute(p,this._oAuthDialogContent);x=b.substitute({server:"\x3cspan class\x3d'serverLink' style\x3d'word-wrap: break-word;'\x3e\x3c/span\x3e"},
	x);var u=new n({title:p.title,content:x,"class":"esriOAuthSignInDialog",style:"min-width: 18em;",esriIdMgr_:this,execute_:function(){var A=u.esriIdMgr_._oAuthDfd;u.hide_();u.esriIdMgr_._doOAuthSignIn(A.resUrl_,A.sinfo_,A.oinfo_)},cancel_:function(){var A=u.esriIdMgr_._oAuthDfd;u.esriIdMgr_._oAuthDfd=null;u.hide_();var m=Error("ABORTED");m.code="IdentityManager.2";m.log=!!k.isDebug;A.errback(m)},hide_:function(){y.hide(u.errMsg_);u.hide();n._DialogLevelManager.hide(u)}});p=u.domNode;u.btnSubmit_=l.byNode(f.query(".esriIdSubmit",
	p)[0]);u.btnCancel_=l.byNode(f.query(".esriIdCancel",p)[0]);u.serverLink_=f.query(".serverLink",p)[0];u.errMsg_=f.query(".esriErrorMsg",p)[0];u.connect(u.btnSubmit_,"onClick",u.execute_);u.connect(u.btnCancel_,"onClick",u.onCancel);u.connect(u,"onCancel",u.cancel_);return u},_doOAuthSignIn:function(p,x,u){var A=this,m={portalUrl:u.portalUrl};!u.popup&&u.preserveUrlHash&&window.location.hash&&(m.hash=window.location.hash);m={client_id:u.appId,response_type:"token",state:q.stringify(m),expiration:u.expiration,
	locale:u.locale,redirect_uri:u.popup?w.getAbsoluteUrl(u.popupCallbackUrl):window.location.href.replace(/#.*$/,"")};u.forceLogin&&(m.force_login=!0);!u.popup&&this._doPortalSignIn(p)&&(m.redirectToUserOrgUrl=!0);var v=u.portalUrl.replace(/^http:/i,"https:")+"/sharing/oauth2/authorize",r=v+"?"+c.objectToQuery(m);if(u.popup){if(7===e("ie")){var B=window.open(u.popupCallbackUrl,"esriJSAPIOAuth",u.popupWindowFeatures);B.location=r}else B=window.open(r,"esriJSAPIOAuth",u.popupWindowFeatures);B?(B.focus(),
	this._oAuthDfd.oAuthWin_=B,this._oAuthIntervalId=setInterval(function(){if(B.closed){clearInterval(A._oAuthIntervalId);var D=A._oAuthDfd;if(D){var G=Error("ABORTED");G.code="IdentityManager.2";G.log=!!k.isDebug;D.errback(G)}}},500)):(p=Error("ABORTED"),p.name="identity-manager:user-aborted",p.code="IdentityManager.2",p.log=!!k.isDebug,this._oAuthDfd.errback(p))}else this._rejectOnPersistedPageShow=!0,this._oAuthRedirectFunc?this._oAuthRedirectFunc({authorizeParams:m,authorizeUrl:v,resourceUrl:p,serverInfo:x,
	oAuthInfo:u}):window.location=r}}})},"esri/layers/graphics":function(){define(["./GraphicsLayer","../graphic","../renderer"],function(){return{}})},"esri/layers/agstiled":function(){define(["./agscommon","./ArcGISTiledMapServiceLayer"],function(){return{}})},"esri/layers/agscommon":function(){define("./ArcGISMapServiceLayer ./LayerInfo ./TimeInfo ./LayerTimeOptions ./TimeReference ./Field ./Domain ./RangeDomain ./CodedValueDomain ./InheritedDomain ./LayerSource ./LayerMapSource ./LayerDataSource ./DataSource ./TableDataSource ./QueryDataSource ./JoinDataSource ./RasterDataSource ./DynamicLayerInfo ./LayerDrawingOptions ../geometry ../utils".split(" "),
	function(){return{}})},"esri/layers/InheritedDomain":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel","./Domain"],function(C,y,b,w,n){C=C([n],{declaredClass:"esri.layers.InheritedDomain"});b("extend-esri")&&y.setObject("layers.InheritedDomain",C,w);return C})},"esri/layers/LayerSource":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(C,y,b,w){C=C(null,{declaredClass:"esri.layers.LayerSource",type:null,constructor:function(n){n&&
	y.mixin(this,n)},toJson:function(){}});b("extend-esri")&&y.setObject("layers.LayerSource",C,w);return C})},"esri/layers/LayerMapSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./LayerSource".split(" "),function(C,y,b,w,n,l){C=C(l,{declaredClass:"esri.layers.LayerMapSource",type:"mapLayer",toJson:function(){return n.fixJson({type:"mapLayer",mapLayerId:this.mapLayerId,gdbVersion:this.gdbVersion})}});b("extend-esri")&&y.setObject("layers.LayerMapSource",C,w);
	return C})},"esri/layers/LayerDataSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./LayerSource ./TableDataSource ./QueryDataSource ./JoinDataSource ./RasterDataSource".split(" "),function(C,y,b,w,n,l,k,h,f,d){C=C(l,{declaredClass:"esri.layers.LayerDataSource",type:"dataLayer",constructor:function(a){if(a&&a.dataSource){switch(a.dataSource.type){case "table":a=new k(a.dataSource);break;case "queryTable":a=new h(a.dataSource);break;case "joinTable":a=new f(a.dataSource);
	break;case "raster":a=new d(a.dataSource);break;default:a=a.dataSource}this.dataSource=a}},toJson:function(){var a={type:"dataLayer",dataSource:this.dataSource&&this.dataSource.toJson()};return n.fixJson(a)}});b("extend-esri")&&y.setObject("layers.LayerDataSource",C,w);return C})},"esri/layers/TableDataSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./DataSource".split(" "),function(C,y,b,w,n,l){C=C(l,{declaredClass:"esri.layers.TableDataSource",toJson:function(){return n.fixJson({type:"table",
	workspaceId:this.workspaceId,dataSourceName:this.dataSourceName,gdbVersion:this.gdbVersion})}});b("extend-esri")&&y.setObject("layers.TableDataSource",C,w);return C})},"esri/layers/DataSource":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(C,y,b,w){C=C(null,{declaredClass:"esri.layers.DataSource",constructor:function(n){n&&y.mixin(this,n)},toJson:function(){}});b("extend-esri")&&y.setObject("layers.DataSource",C,w);return C})},"esri/layers/QueryDataSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./DataSource ../SpatialReference".split(" "),
	function(C,y,b,w,n,l,k){C=C(l,{declaredClass:"esri.layers.QueryDataSource",constructor:function(h){h&&(h.oidFields&&y.isString(h.oidFields)&&(this.oidFields=h.oidFields.split(",")),h.spatialReference&&(this.spatialReference=new k(h.spatialReference)))},toJson:function(){var h={type:"queryTable",workspaceId:this.workspaceId,query:this.query,oidFields:this.oidFields&&this.oidFields.join(),spatialReference:this.spatialReference&&this.spatialReference.toJson()};if(this.geometryType){var f="point"===this.geometryType.toLowerCase()?
	"esriGeometryPoint":"multipoint"===this.geometryType.toLowerCase()?"esriGeometryMultipoint":"polyline"===this.geometryType.toLowerCase()?"esriGeometryPolyline":"polygon"===this.geometryType.toLowerCase()?"esriGeometryPolygon":this.geometryType;h.geometryType=f}return n.fixJson(h)}});b("extend-esri")&&y.setObject("layers.QueryDataSource",C,w);return C})},"esri/layers/JoinDataSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./DataSource ./LayerMapSource ./TableDataSource ./QueryDataSource ./RasterDataSource".split(" "),
	function(C,y,b,w,n,l,k,h,f,d){var a=C(l,{declaredClass:"esri.layers.JoinDataSource",constructor:function(c){c&&(c.leftTableSource&&(this.leftTableSource=this._createLayerSource(c.leftTableSource)),c.rightTableSource&&(this.rightTableSource=this._createLayerSource(c.rightTableSource)))},_createLayerSource:function(c){if("mapLayer"===c.type)var e=new k(c);else{e={type:"dataLayer"};switch(c.dataSource.type){case "table":var q=new h(c.dataSource);break;case "queryTable":q=new f(c.dataSource);break;case "joinTable":q=
	new a(c.dataSource);break;case "raster":q=new d(c.dataSource);break;default:q=c.dataSource}e.dataSource=q;e.toJson=function(){var t={type:"dataLayer",dataSource:q.toJson()};return n.fixJson(t)}}return e},toJson:function(){var c={type:"joinTable",leftTableSource:this.leftTableSource&&this.leftTableSource.toJson(),rightTableSource:this.rightTableSource&&this.rightTableSource.toJson(),leftTableKey:this.leftTableKey,rightTableKey:this.rightTableKey};var e="left-outer-join"===this.joinType.toLowerCase()?
	"esriLeftOuterJoin":"left-inner-join"===this.joinType.toLowerCase()?"esriLeftInnerJoin":this.joinType;c.joinType=e;return n.fixJson(c)}});b("extend-esri")&&y.setObject("layers.JoinDataSource",a,w);return a})},"esri/layers/RasterDataSource":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./DataSource".split(" "),function(C,y,b,w,n,l){C=C(l,{declaredClass:"esri.layers.RasterDataSource",toJson:function(){return n.fixJson({type:"raster",workspaceId:this.workspaceId,dataSourceName:this.dataSourceName})}});
	b("extend-esri")&&y.setObject("layers.RasterDataSource",C,w);return C})},"esri/layers/DynamicLayerInfo":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./LayerInfo ./LayerMapSource ./LayerDataSource".split(" "),function(C,y,b,w,n,l,k,h){C=C(l,{declaredClass:"esri.layers.DynamicLayerInfo",defaultVisibility:!0,parentLayerId:-1,maxScale:0,minScale:0,constructor:function(f){f&&(f.source?f="mapLayer"===f.source.type?new k(f.source):new h(f.source):(f=new k,f.mapLayerId=
	this.id),this.source=f)},toJson:function(){var f=this.inherited(arguments);f.source=this.source&&this.source.toJson();return n.fixJson(f)}});b("extend-esri")&&y.setObject("layers.DynamicLayerInfo",C,w);return C})},"esri/layers/LayerDrawingOptions":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../lang ../renderers/jsonUtils ./LabelClass".split(" "),function(C,y,b,w,n,l,k,h){C=C(null,{declaredClass:"esri.layers.LayerDrawingOptions",constructor:function(f){if(f&&
	(y.mixin(this,f),f.renderer&&(this.renderer=k.fromJson(f.renderer)),f.labelingInfo&&0<f.labelingInfo.length)){this.labelingInfo=[];var d;b.forEach(f.labelingInfo,function(a){d=new h(a);this.labelingInfo.push(d)},this)}},toJson:function(){var f={renderer:this.renderer&&this.renderer.toJson(),transparency:this.transparency,scaleSymbols:this.scaleSymbols,showLabels:this.showLabels};this.labelingInfo&&0<this.labelingInfo.length&&(f.labelingInfo=[],b.forEach(this.labelingInfo,function(d){f.labelingInfo.push(d.toJson())}));
	return l.fixJson(f)}});w("extend-esri")&&y.setObject("layers.LayerDrawingOptions",C,n);return C})},"esri/layers/LabelClass":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojox/gfx/_base ../kernel ../lang ../symbols/TextSymbol ../symbols/ShieldLabelSymbol".split(" "),function(C,y,b,w,n,l,k,h){var f=/__begin__/ig,d=/__end__/ig,a=/^__begin__/i,c=/__end__$/i;C=C(null,{declaredClass:"esri.layers.LabelClass",labelPlacement:null,labelExpression:null,format:null,fieldInfos:null,useCodedValues:null,
	symbol:null,maxScale:0,minScale:0,where:null,sizeInfo:null,_labelPlacementLookup:{"above-center":"esriServerPointLabelPlacementAboveCenter","above-left":"esriServerPointLabelPlacementAboveLeft","above-right":"esriServerPointLabelPlacementAboveRight","below-center":"esriServerPointLabelPlacementBelowCenter","below-left":"esriServerPointLabelPlacementBelowLeft","below-right":"esriServerPointLabelPlacementBelowRight","center-center":"esriServerPointLabelPlacementCenterCenter","center-left":"esriServerPointLabelPlacementCenterLeft",
	"center-right":"esriServerPointLabelPlacementCenterRight","above-after":"esriServerLinePlacementAboveAfter","above-along":"esriServerLinePlacementAboveAlong","above-before":"esriServerLinePlacementAboveBefore","above-start":"esriServerLinePlacementAboveStart","above-end":"esriServerLinePlacementAboveEnd","below-after":"esriServerLinePlacementBelowAfter","below-along":"esriServerLinePlacementBelowAlong","below-before":"esriServerLinePlacementBelowBefore","below-start":"esriServerLinePlacementBelowStart",
	"below-end":"esriServerLinePlacementBelowEnd","center-after":"esriServerLinePlacementCenterAfter","center-along":"esriServerLinePlacementCenterAlong","center-before":"esriServerLinePlacementCenterBefore","center-start":"esriServerLinePlacementCenterStart","center-end":"esriServerLinePlacementCenterEnd","always-horizontal":"esriServerPolygonPlacementAlwaysHorizontal"},constructor:function(e){e&&(y.mixin(this,e),this._labelPlacementLookup.hasOwnProperty(this.labelPlacement)||(this.labelPlacement=l.valueOf(this._labelPlacementLookup,
	e.labelPlacement)),e.format&&(this.format=e.format),e.fieldInfos&&(this.fieldInfos=e.fieldInfos),e.symbol&&(this.symbol="esriSHD"===e.symbol.type?new h(e.symbol):new k(e.symbol)),e=this.sizeInfo)&&(e.minSize&&(e.minSize=w.pt2px(e.minSize)),e.maxSize&&(e.maxSize=w.pt2px(e.maxSize)))},getSymbol:function(){return this.symbol},toJson:function(){var e=this.sizeInfo;e&&(e=y.mixin({},e),e.minSize&&(e.minSize=w.px2pt(e.minSize)),e.maxSize&&(e.maxSize=w.px2pt(e.maxSize)));var q=l.fixJson(this.labelExpressionInfo&&
	y.clone(this.labelExpressionInfo));this._processLabelExpressionInfo(q);e={name:this.name,labelExpression:this.labelExpression,labelExpressionInfo:q,format:this.format||void 0,fieldInfos:this.fieldInfos||void 0,useCodedValues:this.useCodedValues,maxScale:this.maxScale,minScale:this.minScale,where:this.where,sizeInfo:e||void 0,labelPlacement:this._labelPlacementLookup.hasOwnProperty(this.labelPlacement)?this._labelPlacementLookup[this.labelPlacement]:this.labelPlacement,symbol:this.symbol&&this.symbol.toJson()};
	return l.fixJson(e)},_processLabelExpressionInfo:function(e){e&&e.value&&(e.expression=this._convertTemplatedStringToArcade(e.value))},_convertTemplatedStringToArcade:function(e){if(e){var q=y.replace(e,function(t,g){return'__begin__$feature["'+g+'"]__end__'});q=a.test(q)?q.replace(a,""):'"'+q;q=c.test(q)?q.replace(c,""):q+'"';q=q.replace(f,'" + ').replace(d,' + "')}return q}});b("extend-esri")&&y.setObject("layers.LabelClass",C,n);return C})},"esri/symbols/ShieldLabelSymbol":function(){define("dojo/_base/declare dojo/_base/lang dojo/sniff dojox/gfx/_base ../kernel ../lang ../urlUtils ./MarkerSymbol ./Font".split(" "),
	function(C,y,b,w,n,l,k,h,f){var d={url:"",width:12,height:12,angle:0,xoffset:0,yoffset:0};C=C(h,{declaredClass:"esri.symbol.ShieldLabelSymbol",type:"shieldlabelsymbol",color:[255,255,255,1],width:32,height:32,font:w.defaultFont,constructor:function(a,c,e,q,t){a?y.isString(a)?(this.url=a,c&&(this.color=c),e&&(this.width=e),q&&(this.height=q),void 0!==t&&(this.font=t)):(this.width=w.pt2px(a.width),this.height=w.pt2px(a.height),c=a.imageData,9>b("ie")||!c||(e=this.url,this.url="data:"+(a.contentType||
	"image")+";base64,"+c,this.imageData=e)):y.mixin(this,d)},getStroke:function(){return null},getFill:function(){return this.color},setWidth:function(a){this.width=a;return this},setHeight:function(a){this.height=a;return this},setUrl:function(a){a!==this.url&&(delete this.imageData,delete this.contentType);this.url=a;return this},setFont:function(a){this.font=a;return this},setText:function(a){this.text=a;return this},getWidth:function(){return this.width},getHeight:function(){return this.height},
	getShapeDescriptors:function(){return{defaultShape:{type:"image",x:-Math.round(this.width/2),y:-Math.round(this.height/2),width:this.width,height:this.height,src:this.url||""},fill:null,stroke:null}},toJson:function(){var a=this.url,c=this.imageData;if(0===a.indexOf("data:")){var e=a;a=c;c=e.indexOf(";base64,")+8;c=e.substr(c)}a=k.getAbsoluteUrl(a);e=w.px2pt(this.width);e=isNaN(e)?void 0:e;var q=w.px2pt(this.height);q=isNaN(q)?void 0:q;a=l.fixJson(y.mixin(this.inherited("toJson",arguments),{type:"esriSHD",
	url:a,imageData:c,contentType:this.contentType,width:e,height:q}));this.font?(c=new f(this.font),a.font=c.toJson()):a.font=null;delete a.size;a.imageData||delete a.imageData;return a}});C.defaultProps=d;b("extend-esri")&&(y.setObject("symbol.ShieldLabelSymbol",C,n),n.symbol.defaultShieldLabelSymbol=d);return C})},"esri/layers/agsdynamic":function(){define(["./agscommon","./ArcGISDynamicMapServiceLayer","../_time"],function(){return{}})},"esri/layers/ArcGISDynamicMapServiceLayer":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/sniff dojo/io-query ../kernel ../config ../lang ../request ../urlUtils ../layerUtils ../geometry/scaleUtils ./DynamicMapServiceLayer ./ArcGISMapServiceLayer ./TimeInfo ./LayerTimeOptions ./ImageParameters ./DynamicLayerInfo ./LayerMapSource".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x,u,A){C=C([q,t],{declaredClass:"esri.layers.ArcGISDynamicMapServiceLayer",_eventMap:{"visible-layers-change":["visibleLayers"]},constructor:function(m,v,r){m=v&&v.imageParameters;var B=y.hitch;if(m){var D=m.layerDefinitions;D&&this.setLayerDefinitions(D);m.layerOption===x.LAYER_OPTION_SHOW&&(this.visibleLayers=[].concat(m.layerIds),this.onVisibleLayersChange(this.visibleLayers))}this._setIsPNG32=B(this,this._setIsPNG32);this.dpi=m&&m.dpi||96;this.imageFormat=
	m&&m.format||"png8";this.imageTransparency=m&&!1===m.transparent?!1:!0;this._setIsPNG32();this.gdbVersion=v&&v.gdbVersion;this._params.gdbVersion=this.gdbVersion;D=m&&m.layerDefinitions;y.mixin(this._params,this._url.query,{dpi:this.dpi,transparent:this.imageTransparency,format:this.imageFormat},m?m.toJson():{});D&&(this._params.layerDefs=D);this.getImageUrl=B(this,this.getImageUrl);this._initLayer=B(this,this._initLayer);this._load=B(this,this._load);this.useMapImage=v?v.useMapImage:!1;this._loadCallback=
	v&&v.loadCallback;(v=v&&v.resourceInfo)?this._initLayer(v):(void 0===r||!1===r)&&this._load();this.registerConnectEvents()},disableClientCaching:!1,layerDefinitions:null,_initLayer:function(m,v){this.inherited(arguments);m.timeInfo&&(this.timeInfo=new g(m.timeInfo));this.loaded=!0;this.onLoad(this);var r=this._loadCallback;r&&(delete this._loadCallback,r(this))},getImageUrl:function(m,v,r,B){var D=this._url.path+"/export",G=this._params,z=G.token=this._getToken(),E=m.spatialReference.wkid||w.toJson(m.spatialReference.toJson()),
	H=this._errorHandler;delete G._ts;y.mixin(G,{bbox:m.xmin+","+m.ymin+","+m.xmax+","+m.ymax,bboxSR:E,imageSR:E,size:v+","+r},this.disableClientCaching?{_ts:(new Date).getTime()}:{});G.layerDefs&&(m=c._serializeLayerDefinitions(G.layerDefs,10.5<=this.version),G=y.mixin({},G),delete G.layerDefs,G.layerDefs=m);m=a.addProxy(a.normalize(D)+"?"+l.objectToQuery(y.mixin({},G,{f:"image"})));m.length>h.defaults.io.postLength||this.useMapImage?this._jsonRequest=d({url:D,content:y.mixin(G,{f:"json"}),callbackParamName:"callback",
	load:function(I){I.imageData?I="data:"+(I.contentType||"image")+";base64,"+I.imageData:(I=I.href,z&&(I+=-1===I.indexOf("?")?"?token\x3d"+z:"\x26token\x3d"+z),I=a.addProxy(I));B(I)},error:H}):B(m)},_setIsPNG32:function(){var m=this.imageFormat.toLowerCase(),v=n("ie");this.isPNG32=v&&6===v&&("png32"===m||"png24"===m)&&this.imageTransparency},_setTime:function(m){var v=this.timeInfo;m=this._params.time=m?m.toJson().join(","):null;if(10.02>this.version&&v)if(m)this._params.layerTimeOptions=c._serializeTimeOptions(this.layerTimeOptions);
	else{var r=this.layerInfos;if(r){var B=this.layerTimeOptions,D=B?B.slice(0):[],G=[];b.forEach(r,function(z){z.subLayerIds||G.push(z.id)});G.length&&(b.forEach(G,function(z){if(!D[z]){var E=new p;E.useTime=!1;D[z]=E}}),this._params.layerTimeOptions=c._serializeTimeOptions(D,G))}}10.02<=this.version&&v&&!m&&!v.hasLiveData&&(this._params.time="null,null")},setDPI:function(m,v){this.dpi=this._params.dpi=m;v||this.refresh(!0)},setImageFormat:function(m,v){this.imageFormat=this._params.format=m;this._setIsPNG32();
	v||this.refresh(!0)},setImageTransparency:function(m,v){this.imageTransparency=this._params.transparent=m;this._setIsPNG32();v||this.refresh(!0)},setVisibleLayers:function(m,v){this.visibleLayers=m;this._params.layers=x.LAYER_OPTION_SHOW+":"+(m.length?m.join():"-1");this._updateDynamicLayers();v||this.refresh(!0);this.onVisibleLayersChange(this.visibleLayers)},onVisibleLayersChange:function(){},setDefaultVisibleLayers:function(m){this.visibleLayers=this._defaultVisibleLayers;this._params.layers=null;
	this._updateDynamicLayers();m||this.refresh(!0);this.onVisibleLayersChange(this.visibleLayers)},setLayerDefinitions:function(m,v){this.layerDefinitions=m;this._params.layerDefs=m;this._updateDynamicLayers();v||this.refresh(!0)},setDefaultLayerDefinitions:function(m){this.layerDefinitions=this._params.layerDefs=null;this._updateDynamicLayers();m||this.refresh(!0)},setDisableClientCaching:function(m){this.disableClientCaching=m},setLayerTimeOptions:function(m,v){this.layerTimeOptions=m;this._params.layerTimeOptions=
	c._serializeTimeOptions(m);this._updateDynamicLayers();v||this.refresh(!0)},refresh:function(m){if(!0===m)this.inherited(arguments);else{var v=this.disableClientCaching;this.disableClientCaching=!0;this.inherited(arguments);this.disableClientCaching=v}},setLayerDrawingOptions:function(m,v){this.layerDrawingOptions=m;this._updateDynamicLayers();v||this.refresh(!0)},setDynamicLayerInfos:function(m,v){m&&0<m.length?(this.dynamicLayerInfos=m,this.visibleLayers=c._getDefaultVisibleLayers(m),this.onVisibleLayersChange(this.visibleLayers)):
	this.dynamicLayerInfos=this.layerDrawingOptions=null;this._updateDynamicLayers();v||this.refresh(!0)},createDynamicLayerInfosFromLayerInfos:function(){var m=[],v;b.forEach(this.layerInfos,function(r){v=new u(r.toJson());v.source=new A({mapLayerId:r.id});m.push(v)});return m},_onDynamicLayersChange:function(){},_updateDynamicLayers:function(){if(this.dynamicLayerInfos&&0<this.dynamicLayerInfos.length||this.layerDrawingOptions&&0<this.layerDrawingOptions.length){this.dynamicLayerInfos&&0!==this.dynamicLayerInfos.length||
	(this.dynamicLayerInfos=this.createDynamicLayerInfosFromLayerInfos());var m=this._map&&e.getScale(this._map);m=this._getDynLayerObjs(m);m=w.toJson(m);this._params.dynamicLayers&&this._params.dynamicLayers.length===m.length&&this._params.dynamicLayers===m||(this._params.dynamicLayers=m,this._onDynamicLayersChange(this._params.dynamicLayers))}else this._params.dynamicLayers?(this._params.dynamicLayers=null,this._onDynamicLayersChange(null)):this._params.dynamicLayers=null},_getDynLayerObjs:function(m){var v=
	this.dynamicLayerInfos,r=[],B=this.visibleLayers,D=m?c._getLayersForScale(m,v):B;b.forEach(v,function(G){if(!G.subLayerIds){var z=G.id;if(-1!==b.indexOf(B,z)&&-1!==b.indexOf(D,z)){var E={id:z,name:G.name};E.source=G.source&&G.source.toJson();var H;this.layerDefinitions&&this.layerDefinitions[z]&&(H=this.layerDefinitions[z]);H&&(E.definitionExpression=H);var I;this.layerDrawingOptions&&this.layerDrawingOptions[z]&&(I=this.layerDrawingOptions[z]);I&&(H=I.toJson(),this._fixMarkerColor(H.renderer),E.drawingInfo=
	H);var O;this.layerTimeOptions&&this.layerTimeOptions[z]&&(O=this.layerTimeOptions[z]);O&&(E.layerTimeOptions=O.toJson());E.minScale=G.minScale||0;E.maxScale=G.maxScale||0;r.push(E)}}},this);return r},_fixMarkerColor:function(m){b.forEach(this._getAllSimpleMarkerSymbols(m),function(v){if(!v.color){var r=[0,0,0,0],B=v.outline&&v.outline.color;"esriSMSX"!==v.style&&"esriSMSCross"!==v.style||!B||(r=B.slice(0));v.color=r}})},_getAllSimpleMarkerSymbols:function(m){return b.filter(this._getAllSymbols(m),
	function(v){return"esriSMS"===v.type})},_getAllSymbols:function(m){var v=[];m&&(v.push(m.symbol),v.push(m.defaultSymbol),b.forEach(m.uniqueValueInfos||m.classBreakInfos,function(r){v.push(r.symbol)}),v=b.filter(v,f.isDefined));return v},_onExtentChangeHandler:function(m,v,r){r&&this._updateDynamicLayers();this.inherited(arguments)},_setMap:function(m,v,r){this._map=m;this._updateDynamicLayers();return this.inherited(arguments)},onGDBVersionChange:function(){},setGDBVersion:function(m,v){this.gdbVersion=
	m;this._params.gdbVersion=m;this.onGDBVersionChange();v||this.refresh(!0)},exportMapImage:function(m,v){var r=y.hitch(this,function(){var B=h.defaults.map,D=m&&m.layerDefinitions;m=m?m.toJson(this.normalization):{};D&&(m.layerDefs=D);m=y.mixin({size:B.width+","+B.height},this._params,m,{f:"json"});delete m._ts;m.layerDefs&&(B=c._serializeLayerDefinitions(m.layerDefs,10.5<=this.version),delete m.layerDefs,m.layerDefs=B);this._exportMapImage(this._url.path+"/export",m,v)});if(this.loaded)r();else this.on("load",
	r)}});n("extend-esri")&&y.setObject("layers.ArcGISDynamicMapServiceLayer",C,k);return C})},"esri/layers/DynamicMapServiceLayer":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/dom-construct dojo/dom-style dojox/gfx/matrix ../kernel ../config ../sniff ../request ../domUtils ./layer ./MapImage".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c,e){var q=h.defaults.map.zoomDuration;C=C(c,{declaredClass:"esri.layers.DynamicMapServiceLayer",_eventMap:{"map-image-export":["mapImage"]},
	constructor:function(t,g){this.useMapTime=g&&g.hasOwnProperty("useMapTime")?!!g.useMapTime:!0;this.extentProcessor=g&&g.extentProcessor;t=b.hitch;this._exportMapImageHandler=t(this,this._exportMapImageHandler);this._imgSrcFunc=t(this,this._imgSrcFunc);this._divAlphaImageFunc=t(this,this._divAlphaImageFunc);this._tileLoadHandler=t(this,this._tileLoadHandler);this._tileErrorHandler=t(this,this._tileErrorHandler);this.registerConnectEvents()},opacity:1,isPNG32:!1,_setMap:function(t,g,p){this.inherited(arguments);
	this._map=t;var x=this._div=w.create("div",null,g),u=k._css.names,A={position:"absolute",width:t.width+"px",height:t.height+"px",overflow:"visible",opacity:this.opacity},m=f("ie"),v=y.connect,r=t.__visibleDelta;8===m&&delete A.opacity;"css-transforms"===t.navigationMode?(this._isChildLayer||(A[u.transform]=k._css.translate(r.x,r.y),n.set(x,A)),this._left=r.x,this._top=r.y):(A.left="0px",A.top="0px",n.set(x,A),this._left=this._top=0);n.set(x,A);this._onResizeHandler_connect=v(t,"onResize",this,"_onResizeHandler");
	this._opacityChangeHandler_connect=v(this,"onOpacityChange",this,"_opacityChangeHandler");this._img_loading=null;this._dragOrigin={x:0,y:0};this.evaluateSuspension();if(this.suspended&&!t.loaded)var B=y.connect(t,"onLoad",this,function(){y.disconnect(B);B=null;this.evaluateSuspension()});this.extentProcessor&&(this._panEndEvalHandle=y.connect(t,"onPanEnd",this,this.evaluateSuspension),this._zoomEndEvalHandle=y.connect(t,"onZoomEnd",this,this.evaluateSuspension));return x},_unsetMap:function(t,g){this._img&&
	this._clearEventListeners(this._img);this._img_loading&&this._clearEventListeners(this._img_loading);w.destroy(this._div);this._map=this._div=this._img=this._img_loading=null;var p=y.disconnect;p(this._onResizeHandler_connect);p(this._opacityChangeHandler_connect);p(this._panEndEvalHandle);p(this._zoomEndEvalHandle);this._panEndEvalHandle=this._zoomEndEvalHandle=this._onResizeHandler_connect=this._opacityChangeHandler_connect=null;this._fireUpdateEnd();this._toggleTime();clearTimeout(this._wakeTimer);
	this._wakeTimer=null;this._disableDrawConnectors();this.inherited(arguments)},_onResizeHandler:function(t,g,p){n.set(this._div,{width:g+"px",height:p+"px"});this._onExtentChangeHandler(t)},onSuspend:function(){this.inherited(arguments);this._fireUpdateEnd();this._toggleTime();a.hide(this._div);clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors()},onResume:function(){this.inherited(arguments);var t=this._map;this._toggleTime();"css-transforms"===t.navigationMode&&(t=t.__visibleDelta,
	this._left=t.x,this._top=t.y,this._isChildLayer||n.set(this._div,k._css.names.transform,k._css.translate(this._left,this._top)));this._enableDrawConnectors();this._wakeTimer=this._wakeTimer||setTimeout(b.hitch(this,function(){this.suspended||this._onExtentChangeHandler(this._map.extent,null,!0)}),0)},canResume:function(){var t=this.inherited(arguments);if(t){var g=this._map.extent;this.extentProcessor&&g&&(t=!!this.extentProcessor({layer:this,extent:g,width:this._map.width}).extent)}return t},_enableDrawConnectors:function(){var t=
	y.connect,g=this._map;g&&(this._onPanHandler_connect=t(g,"onPan",this,"_onPanHandler"),this._onExtentChangeHandler_connect=t(g,"onExtentChange",this,"_onExtentChangeHandler"),"css-transforms"===g.navigationMode?this._onScaleHandler_connect=t(g,"onScale",this,this._onScaleHandler):this._onZoomHandler_connect=t(g,"onZoom",this,"_onZoomHandler"))},_disableDrawConnectors:function(){var t=y.disconnect;t(this._onPanHandler_connect);t(this._onExtentChangeHandler_connect);t(this._onZoomHandler_connect);t(this._onScaleHandler_connect);
	this._onPanHandler_connect=this._onExtentChangeHandler_connect=this._onZoomHandler_connect=this._onScaleHandler_connect=null},_toggleTime:function(){var t=this._map;this.timeInfo&&this.useMapTime&&t&&!this.suspended?(this._timeConnect||(this._timeConnect=y.connect(t,"onTimeExtentChange",this,this._onTimeExtentChangeHandler)),this._setTime(t.timeExtent)):(y.disconnect(this._timeConnect),this._timeConnect=null,this._setTime(null))},_setTime:function(t){this._params&&(this._params.time=t?t.toJson().join(","):
	null)},_onPanHandler:function(t,g){this._panDx=g.x;this._panDy=g.y;t=this._dragOrigin;var p=this._map.__visibleDelta,x=this._img;x&&("css-transforms"===this._map.navigationMode?(this._left=p.x+g.x,this._top=p.y+g.y,this._isChildLayer||n.set(this._div,k._css.names.transform,k._css.translate(this._left,this._top))):n.set(x,{left:t.x+g.x+"px",top:t.y+g.y+"px"}))},_onExtentChangeHandler:function(t,g,p){if(!this.suspended){clearTimeout(this._wakeTimer);this._wakeTimer=null;var x=this._map,u=this._img,
	A=u&&u.style,m=this._dragOrigin;!g||p||!u||g.x===this._panDx&&g.y===this._panDy||("css-transforms"===x.navigationMode?(g=x.__visibleDelta,this._left=g.x,this._top=g.y,this._isChildLayer||n.set(this._div,k._css.names.transform,k._css.translate(this._left,this._top))):n.set(u,{left:m.x+g.x+"px",top:m.y+g.y+"px"}));u?(m.x=parseInt(A.left,10),m.y=parseInt(A.top,10)):m.x=m.y=0;"css-transforms"===x.navigationMode&&p&&u&&(n.set(u,k._css.names.transition,"none"),u._multiply=u._multiply?l.multiply(u._matrix,
	u._multiply):u._matrix);this._fireUpdateStart();if(p=this._img_loading)if(this._clearEventListeners(p),w.destroy(p),this._img_loading=null,p=this._jsonRequest){try{p.cancel()}catch(E){}this._jsonRequest=null}var v=x.width;p=x.height;g=v;var r=0;10<=this.version&&x.wrapAround180&&(t=t._normalize(!0));this.extentProcessor&&(r=this.extentProcessor({layer:this,extent:t,width:g}),t=r.extent,g=r.width,r=r.marginLeft||0);if(this.isPNG32)u=this._img_loading=w.create("div"),u.id=x.id+"_"+this.id+"_"+(new Date).getTime(),
	n.set(u,{position:"absolute",left:"0px",top:"0px",width:g+"px",height:p+"px"}),x=u.appendChild(w.create("div")),n.set(x,{opacity:0,width:g+"px",height:p+"px"}),this.getImageUrl(t,g,p,this._divAlphaImageFunc),u=null;else{var B=this._img_loading=w.create("img"),D=k._css.names,G=f("ie"),z={position:"absolute",width:g+"px",height:p+"px"};B.setAttribute("decoding","sync");8===G&&(z.opacity=this.opacity);null!=r&&0!==r&&(z.marginLeft=r+"px");"css-transforms"===x.navigationMode?(z[D.transform]=k._css.translate(-this._left,
	-this._top),B._tdx=-this._left,B._tdy=-this._top,z[D.transition]=D.transformName+" "+q+"ms ease",this.extentProcessor&&(z[D.origin]=v/2-r+"px "+p/2+"px")):(z.left="0px",z.top="0px");B.id=x.id+"_"+this.id+"_"+(new Date).getTime();n.set(B,z);B._onload_connect=y.connect(B,"onload",this,"_onLoadHandler");B._onerror_connect=y.connect(B,"onerror",this,"_onErrorHandler");B._onabort_connect=y.connect(B,"onabort",this,"_onErrorHandler");this._startRect={left:m.x,top:m.y,width:u?parseInt(A.width,10):g,height:u?
	parseInt(A.height,10):p,marginLeft:u?parseInt(A.marginLeft||"0",10):r,zoom:A&&A.zoom?parseFloat(A.zoom):1};this.getImageUrl(t,g,p,this._imgSrcFunc);B=null}}},_onTimeExtentChangeHandler:function(t){this.suspended||(this._setTime(t),this.refresh(!0))},getImageUrl:function(t,g,p,x){},_imgSrcFunc:function(t){this._img_loading.src=t},_divAlphaImageFunc:function(t){n.set(this._img_loading,"filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d'"+t+"', sizingMethod\x3d'scale')");this._onLoadHandler({currentTarget:this._img_loading})},
	_onLoadHandler:function(t){t=t.currentTarget;var g=this._map;this._clearEventListeners(t);!g||g.__panning||g.__zooming?w.destroy(t):(this._img&&this._div.removeChild(this._img),this._img=t,g=t.style,this._startRect={left:0,top:0,width:parseInt(g.width,10),height:parseInt(g.height,10),marginLeft:parseInt(g.marginLeft||"0",10),zoom:1},this._div.appendChild(t),this.suspended||a.show(this._div),this._img_loading=null,t=this._dragOrigin,t.x=t.y=0,this.onUpdate());this._fireUpdateEnd()},_onErrorHandler:function(t){t=
	t.currentTarget;n.set(t,"visibility","hidden");this._clearEventListeners(t);t=Error("Unable to load image: "+t.src);this.onError(t);this._fireUpdateEnd(t)},_clearEventListeners:function(t){y.disconnect(t._onload_connect);y.disconnect(t._onerror_connect);y.disconnect(t._onabort_connect);t._onload_connect=t._onerror_connect=t._onabort_connect=null},setUseMapTime:function(t,g){this.useMapTime=t;this._toggleTime();g||this.refresh(!0)},refresh:function(){this._map&&this._onExtentChangeHandler(this._map.extent)},
	_onScaleHandler:function(t,g){var p={},x=k._css.names,u=this._img;if(u){n.set(u,x.transition,g?"none":x.transformName+" "+q+"ms ease");u._matrix=t;t=u._multiply?l.multiply(t,u._multiply):t;if(u._tdx||u._tdy)t=l.multiply(t,{xx:1,xy:0,yx:0,yy:1,dx:u._tdx,dy:u._tdy});p[x.transform]=k._css.matrix(t);n.set(u,p)}},_onZoomHandler:function(t,g,p){t=this._startRect;var x=t.width*g,u=t.height*g,A=t.marginLeft*g,m=this._img,v=f("ie");m&&(v&&8>v?n.set(m,{left:t.left-(x-t.width)*(p.x-t.left)/t.width+"px",top:t.top-
	(u-t.height)*(p.y-t.top)/t.height+"px",zoom:g*t.zoom}):n.set(m,{left:t.left-(x-t.width)*(p.x-t.left)/t.width+"px",top:t.top-(u-t.height)*(p.y-t.top)/t.height+"px",width:x+"px",height:u+"px"}),null!=A&&0!==A&&n.set(m,{marginLeft:A+"px"}))},_exportMapImage:function(t,g,p){var x=this._exportMapImageHandler;g.token=this._getToken();d({url:t,content:g,callbackParamName:"callback",load:function(u,A){x(u,A,p)},error:h.defaults.io.errorHandler})},_exportMapImageHandler:function(t,g,p){t=new e(t);this.onMapImageExport(t);
	p&&p(t)},onMapImageExport:function(){},setOpacity:function(t){if(this.opacity!=t)this.onOpacityChange(this.opacity=t)},onOpacityChange:function(){},_opacityChangeHandler:function(t){var g=8===f("ie")?this._img:this._div;n.set(g,"opacity",t)}});f("extend-esri")&&b.setObject("layers.DynamicMapServiceLayer",C,k);return C})},"esri/layers/MapImage":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/has ../kernel ../domUtils ../geometry/Extent".split(" "),function(C,y,b,w,n,l,k){C=
	C(null,{declaredClass:"esri.layers.MapImage",constructor:function(h){y.mixin(this,h);this.extent=new k(this.extent)},visible:!0,opacity:1,getLayer:function(){return this._layer},getNode:function(){return this._node},show:function(){if(!this.visible){this.visible=!0;var h=this._node,f=this._layer,d;if(h){if(d=f&&f._div)f.suspended||f._setPos(h,d._left,d._top),(f._active||d).appendChild(h);l.show(h)}}},hide:function(){if(this.visible){this.visible=!1;var h=this._node;h&&(l.hide(h),h.parentNode&&h.parentNode.removeChild(h))}},
	setOpacity:function(h){var f=this._node;this.opacity=h;f&&b.set(f,"opacity",h)}});w("extend-esri")&&y.setObject("layers.MapImage",C,n);return C})},"esri/layers/ImageParameters":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/json dojo/has ../kernel ../lang ../layerUtils".split(" "),function(C,y,b,w,n,l,k,h){y=y(null,{declaredClass:"esri.layers.ImageParameters",constructor:function(){this.layerDefinitions=[]},bbox:null,extent:null,width:null,height:null,dpi:null,
	format:null,imageSpatialReference:null,layerOption:null,layerIds:null,transparent:null,timeExtent:null,layerTimeOptions:null,toJson:function(f){this.bbox&&C.deprecated(this.declaredClass+" : Property 'bbox' deprecated. Use property 'extent'.");var d=this.bbox||this.extent;d=d&&f&&d._normalize(!0);f=this.layerOption;var a=d?d.spatialReference.wkid||w.toJson(d.spatialReference.toJson()):null,c=this.imageSpatialReference;d={dpi:this.dpi,format:this.format,transparent:this.transparent,size:null!==this.width&&
	null!==this.height?this.width+","+this.height:null,bbox:d?d.xmin+","+d.ymin+","+d.xmax+","+d.ymax:null,bboxSR:a,layers:f?f+":"+this.layerIds.join(","):null,imageSR:c?c.wkid||w.toJson(c.toJson()):a};d.layerDefs=h._serializeLayerDefinitions(this.layerDefinitions);f=this.timeExtent;d.time=f?f.toJson().join(","):null;d.layerTimeOptions=h._serializeTimeOptions(this.layerTimeOptions);return k.filter(d,function(e){if(null!==e)return!0})}});b.mixin(y,{LAYER_OPTION_SHOW:"show",LAYER_OPTION_HIDE:"hide",LAYER_OPTION_INCLUDE:"include",
	LAYER_OPTION_EXCLUDE:"exclude"});n("extend-esri")&&b.setObject("layers.ImageParameters",y,l);return y})},"esri/_time":function(){define(["./TimeExtent"],function(){return{}})},"esri/layers/FeatureLayer":function(){define("require module dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/json dojo/_base/Deferred dojo/date/locale dojo/io-query dojo/dom-construct dojo/i18n dojo/when dojo/global dojo/promise/all ../sniff ../kernel ../lang ../request ../config ../deferredUtils ../promiseList ../SpatialReference ../urlUtils ../symbols/SimpleMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../symbols/jsonUtils ../renderers/SimpleRenderer ../renderers/UniqueValueRenderer ../renderers/jsonUtils ../support/expressionUtils ../arcadeProfiles/labelingProfile ../tasks/QueryTask ../tasks/query ../tasks/FeatureSet ../tasks/StatisticDefinition ../geometry/Extent ../geometry/jsonUtils ../geometry/normalizeUtils ../geometry/scaleUtils ./GraphicsLayer ./Field ./TimeInfo ./TimeReference ./FeatureType ./FeatureTemplate ./FeatureSubtype ./FeatureEditResult ./LabelClass ./support/domainUtils ./SnapshotMode ./OnDemandMode ./SelectionMode ./StreamMode ./GridLayout ./TrackManager ./HeatmapManager ./clustering/ClusterManager dojo/i18n!../nls/jsapi dojo/has!extend-esri?./agscommon".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x,u,A,m,v,r,B,D,G,z,E,H,I,O,T,Z,ia,ca,W,ha,ma,xa,K,Y,la,L,R,da,ka,qa,va,Ea,ba,fa,pa,wa,ra,Oa,X,U,oa,sa,Fa){var Ta=A.defaults,Ya=!!g("esri-pbf"),bb=!!g("esri-featurelayer-pbf"),Ma=b(la,{declaredClass:"esri.layers.FeatureLayer",invalidParams:"query contains one or more unsupported parameters",reSQLCurrentTimestamp:/current_timestamp|current_date|current_time/i,reHostedFS:/(https?:)?\/\/services.*\.arcgis\.com/i,maxPointCountForAuto:4E3,maxRecordCountForAuto:2E3,
	maxVertexCountForAuto:25E4,generalizeForScale:4E3,_eventMap:{"add-attachment-complete":["result"],"before-apply-edits":["adds","updates","deletes"],"delete-attachments-complete":["results"],"edits-complete":["adds","updates","deletes"],"query-attachment-infos-complete":["results"],"query-count-complete":["count"],"query-features-complete":["featureSet"],"query-ids-complete":["objectIds"],"query-related-features-complete":["featureSets"],"selection-complete":["features","method"],"update-end":["error",
	"info"]},constructor:function(J,Q){this._preventInit||this._initFeatureLayer(J,Q)},_initFeatureLayer:function(J,Q){Q=Q||{};this._tileWidth=Q.tileWidth||512;this._tileHeight=Q.tileHeight||512;this.i18n=Fa;this._featureReduction=this._featureReduction||Q.featureReduction;this._featureReductionEnabled=null!=Q.featureReductionEnabled?Q.featureReductionEnabled:!0;this._featureUpdatesCheckEnabled=null!=Q.featureUpdatesCheckEnabled?Q.featureUpdatesCheckEnabled:!0;this.showLabels=null!=Q.showLabels?Q.showLabels:
	!0;this._outFields=Q.outFields;this._defnExpr=Q.definitionExpression;this._loadCallback=Q.loadCallback;this._trackIdField=Q.trackIdField;this.objectIdField=Q.objectIdField;var aa=null!=Q.resolution,N=null!=Q.maxAllowableOffset;this._maxOffset=this._optMaxOffset=aa||N?aa?Q.resolution:Q.maxAllowableOffset:this.maxAllowableOffset;this.quantize=null!=Q.quantize?Q.quantize:!0;this._optEditable=Q.editable;this._optAutoGen=Q.autoGeneralize;this.editSummaryCallback=Q.editSummaryCallback;this.userId=Q.userId;
	this.userIsAdmin=Q.userIsAdmin;this.useMapTime=Q.hasOwnProperty("useMapTime")?!!Q.useMapTime:!0;this.source=Q.source;this.gdbVersion=Q.gdbVersion;this.orderByFields=Q.orderByFields;this.maxPointCountForAuto=null!=Q.maxPointCountForAuto?Q.maxPointCountForAuto:this.maxPointCountForAuto;this.maxRecordCountForAuto=null!=Q.maxRecordCountForAuto?Q.maxRecordCountForAuto:this.maxRecordCountForAuto;this.maxVertexCountForAuto=null!=Q.maxVertexCountForAuto?Q.maxVertexCountForAuto:this.maxVertexCountForAuto;
	this.generalizeForScale=null!=Q.generalizeForScale?Q.generalizeForScale:this.generalizeForScale;this.queryPagination=this._optQueryPagination=null!=Q.queryPagination?Q.queryPagination:!0;this.multipatchOption=Q.multipatchOption;this.subtypeSublayerInfo=Q.subtypeSublayerInfo;this._selectedFeatures={};this._newFeatures=[];this._deletedFeatures={};this._ulid=this._getUniqueId();aa=x.isDefined(Q.mode)?Q.mode:Ma.MODE_ONDEMAND;this._isStream&&(aa=Ma.MODE_STREAM);this.mode=aa;switch(aa){case Ma.MODE_SNAPSHOT:this.currentMode=
	Ma.MODE_SNAPSHOT;this._mode=new pa(this);break;case Ma.MODE_ONDEMAND:case Ma.MODE_AUTO:this.currentMode=Ma.MODE_ONDEMAND;this._mode=new wa(this);this.latticeTiling=Q.latticeTiling;break;case Ma.MODE_SELECTION:this.currentMode=Ma.MODE_SELECTION;this._mode=new ra(this);this._isSelOnly=!0;break;case Ma.MODE_STREAM:this.currentMode=Ma.MODE_STREAM,this._mode=new Oa(this),this._isStream=!0}this._initLayer=n.hitch(this,this._initLayer);this._selectHandler=n.hitch(this,this._selectHandler);this._editable=
	!1;if(n.isObject(J)&&J.layerDefinition)return this._collection=!0,this.mode=this._isStream?Ma.MODE_STREAM:Ma.MODE_SNAPSHOT,this._isStream||this._outFields||(this._outFields=["*"]),this._initLayer(J),this;this.source&&(J={source:this.source.toJson()},this._url.query=n.mixin(this._url.query,{layer:k.toJson(J)}));this.gdbVersion&&(this._url.query=n.mixin(this._url.query,{gdbVersion:this.gdbVersion}));this._task=new ia(this.url,{source:this.source,gdbVersion:this.gdbVersion});J=this._url.path;this._fserver=
	!1;-1!==J.search(/\/FeatureServer\//i)&&(this._fserver=!0);this._checkFeatureLimit();(Q=Q.resourceInfo)?this._initLayer(Q):u({url:J,content:n.mixin({f:"json"},this._url.query),callbackParamName:"callback",load:this._initLayer,error:this._errorHandler});this.registerConnectEvents()},_initLayer:function(J,Q){if(J||Q){this._json=J;Q=this.subtypeSublayerInfo;this._findCredential();if(this.credential&&this.credential.ssl||J&&J._ssl)this._useSSL(),this._task._useSSL();this._collection&&(this._isStream||
	(this.currentMode=Ma.MODE_SNAPSHOT,this._mode=new pa(this)),this._featureSet=J.featureSet,this._nextId=J.nextObjectId,J=J.layerDefinition);this.version=J.currentVersion;this.version||(this.version="capabilities"in J||"drawingInfo"in J||"hasAttachments"in J||"htmlPopupType"in J||"relationships"in J||"timeInfo"in J||"typeIdField"in J||"types"in J?10:9.3);this.geometryType=J.geometryType;J.bandCount&&J.fields&&1<J.fields.length&&(this.geometryType="esriGeometryPolygon",this._isImageService=!0);"string"!==
	typeof this.multipatchOption&&"esriGeometryMultiPatch"===this.geometryType&&(this.multipatchOption="xyFootprint");if(J.hasOwnProperty("capabilities")){var aa=this.capabilities=J.capabilities;aa&&-1!==aa.toLowerCase().indexOf("editing")?this._editable=!0:this._editable=!1}else this._collection||(this._editable=this._fserver);x.isDefined(this._optEditable)?(this._editable=this._optEditable,delete this._optEditable):"esriGeometryMultiPatch"===this.geometryType&&(this._editable=!1);this._isImageService&&
	(this._editable=!1);this._json=k.toJson(this._json);this.isEditable()?this._setMaxOffset(null):this._canAutoGeneralize()&&(this._autoGeneralize=x.isDefined(this._optAutoGen)?this._optAutoGen:this.mode===Ma.MODE_ONDEMAND||this.mode===Ma.MODE_AUTO,delete this._optAutoGen);aa=J.effectiveMinScale||J.minScale;var N=J.effectiveMaxScale||J.maxScale;!this._hasMin&&aa&&this.setMinScale(aa);!this._hasMax&&N&&this.setMaxScale(N);this.layerId=J.id;this.name=Q&&Q.title||J.name;this.description=J.description;this.copyright=
	J.copyrightText;this.type=J.type;this.displayField=J.displayField;this.defaultDefinitionExpression=J.definitionExpression||(J.isView?J.viewDefinitionQuery:J.definitionQuery);this.fullExtent=new ma(J.extent);this.initialExtent=new ma(this.fullExtent.toJson());this.fullExtent.spatialReference&&(this.spatialReference=new r(this.fullExtent.spatialReference.toJson()));this.defaultVisibility=J.defaultVisibility;this.editingInfo=J.editingInfo;this.supportsLastEditDate=!(!this.editingInfo||null==this.editingInfo.lastEditDate);
	if("esriGeometryPoint"===this.geometryType||"esriGeometryMultipoint"===this.geometryType)this.latticeTiling=!1;this.hasM=J.hasM||!1;this.hasZ=J.hasZ||!1;this.indexedFields=J.indexedFields;this.indexes=J.indexes;this.maxRecordCount=J.maxRecordCount;this.canModifyLayer=J.canModifyLayer;this.supportsStatistics=J.supportsStatistics;this.supportsAdvancedQueries=this._collection?!1:J.supportsAdvancedQueries;this.supportsCalculate=J.supportsCalculate;this.supportsASyncCalculate=J.supportsASyncCalculate;
	this.supportsAttachmentsByUploadId=J.supportsAttachmentsByUploadId;this.supportsCoordinatesQuantization=J.supportsCoordinatesQuantization;this.supportsQuantizationEditMode=J.supportsQuantizationEditMode;this.supportsFieldDescription=J.supportsFieldDescriptionProperty;this.supportsFormatPBF=J.supportedQueryFormats?-1!==l.map(J.supportedQueryFormats.toLowerCase().split(","),n.trim).indexOf("pbf"):!1;this.quantize=this.quantize&&this.supportsCoordinatesQuantization;this.hasLabels=J.hasLabels;this.canScaleSymbols=
	J.canScaleSymbols;this.supportsRollbackOnFailureParameter=this.supportsRollbackOnFailure=J.supportsRollbackOnFailure;this.syncCanReturnChanges=J.syncCanReturnChanges;this.isDataVersioned=J.isDataVersioned;this.editFieldsInfo=J.editFieldsInfo;this.ownershipBasedAccessControlForFeatures=J.ownershipBasedAccessControlForFeatures;this.editFieldsInfo&&this.ownershipBasedAccessControlForFeatures&&(this.creatorField=this.editFieldsInfo.creatorField);this.relationships=J.relationships;this.allowGeometryUpdates=
	x.isDefined(J.allowGeometryUpdates)?J.allowGeometryUpdates:!0;this.allowUpdateWithoutMValues=!!J.allowUpdateWithoutMValues;this.enableZDefaults=!!J.enableZDefaults;this.zDefault=x.isDefined(J.zDefault)?J.zDefault:null;this.advancedQueryCapabilities=J.advancedQueryCapabilities||{supportsStatistics:this.supportsStatistics,supportsOrderBy:this.supportsAdvancedQueries,supportsDistinct:this.supportsAdvancedQueries};this.geometryProperties=J.hasGeometryProperties&&J.geometryProperties||null;this.url&&(this.advancedQueryCapabilities.supportsPagination=
	this.advancedQueryCapabilities.supportsPagination&&(this.reHostedFS.test(this.url)||10.3<this.version));this.queryPagination=this._optQueryPagination&&this.advancedQueryCapabilities.supportsPagination;this.useStandardizedQueries=J.useStandardizedQueries;this.tileMaxRecordCount=J.tileMaxRecordCount;this.standardMaxRecordCount=J.standardMaxRecordCount;if(aa=J.dateFieldsTimeReference)this.dateFieldsTimeReference=new da(aa);this._setMaxOffset(this._maxOffset,!0);this._isTable="Table"===this.type;N=J.fields;
	this._createFields(N);if(!this.objectIdField){this.objectIdField=J.objectIdField;if(!this.objectIdField)for(N=J.fields,aa=0;aa<N.length;aa++){var S=N[aa];if("esriFieldTypeOID"===S.type){this.objectIdField=S.name;break}}this.objectIdField||this._isStream||console.debug("esri.layers.FeatureLayer: "+x.substitute({url:this.url},"objectIdField is not set [url: ${url}]"))}if(!x.isDefined(this._nextId)){N=this.objectIdField;S=-1;if(this._collection&&N){var ea=(aa=this._featureSet)&&aa.features,na=ea?ea.length:
	0;for(aa=0;aa<na;aa++){var ua=(ua=ea[aa].attributes)&&ua[N];ua>S&&(S=ua)}}this._nextId=S+1}this.globalIdField=J.globalIdField;if(aa=this.typeIdField=J.typeIdField)if(aa=!this._getField(aa)&&this._getField(aa,!0))this.typeIdField=aa.name;this.visibilityField=J.visibilityField;if(N=J.defaultSymbol)this.defaultSymbol=E.fromJson(N);var Aa=this.types=[],Ba=J.types;S=(aa=this.editFieldsInfo)&&aa.creatorField;ea=aa&&aa.editorField;ua=S||ea;na=[];if(Ba)for(aa=0;aa<Ba.length;aa++){var Qa=new ka(Ba[aa]);var La=
	Qa.templates;ua&&La&&La.length&&(na=na.concat(La));Aa.push(Qa)}Ba=J.templates;Qa=this.templates=[];if(Ba)for(aa=0;aa<Ba.length;aa++)Aa=new qa(Ba[aa]),ua&&na.push(Aa),Qa.push(Aa);for(aa=0;aa<na.length;aa++)if(ua=n.getObject("prototype.attributes",!1,na[aa]))S&&delete ua[S],ea&&delete ua[ea];if(aa=J.subtypeField)this.subtypeField=(aa=this.getField(aa))?aa.name:null;this.defaultSubtypeCode=J.defaultSubtypeCode;this.subtypes=l.map(J.subtypes,function(cb){return new va(cb)});this._applySTSublayerInfo(Q);
	if(Q=J.timeInfo)this.timeInfo=new R(Q),this._startTimeField=Q.startTimeField,this._endTimeField=Q.endTimeField,this._startTimeField&&this._endTimeField&&(this._twoTimeFields=!0),this._trackIdField?Q.trackIdField=this._trackIdField:this._trackIdField=Q.trackIdField;this.hasAttachments=!this._collection&&J.hasAttachments?!0:!1;this.htmlPopupType=J.htmlPopupType;Q=J.drawingInfo;(aa=Q&&Q.labelingInfo)&&!this.labelingInfo&&(this.labelingInfo=l.map(aa,function(cb){return new ba(cb)}),this._fixLabelExpr());
	if(!this.renderer)if(Q&&Q.renderer){var Ia=Q.renderer;this.setRenderer(O.fromJson(Ia,{geometryType:this.geometryType}));"classBreaks"===Ia.type&&this.renderer.setMaxInclusive(!0);if(!this._collection){var Na=Ia.type;aa=[];Ia=this.renderer;switch(Na){case "simple":aa.push(Ia.symbol);break;case "uniqueValue":case "classBreaks":aa.push(Ia.defaultSymbol),aa=aa.concat(l.map(Ia.infos,function(cb){return cb.symbol}))}aa=l.filter(aa,x.isDefined);var eb=this._url.path+"/images/",ab=this._getToken();l.forEach(aa,
	function(cb){var kb=cb.url;kb&&(-1===kb.search(/https?:/)&&-1===kb.indexOf("data:")&&(cb.url=eb+kb),ab&&-1!==cb.url.search(/https?:/)&&(cb.url+="?token\x3d"+ab))})}}else if(N)Ba=this.types,0<Ba.length?(Ia=new I(this.defaultSymbol,this.typeIdField),l.forEach(Ba,function(cb){Ia.addValue(cb.id,cb.symbol)})):Ia=new H(this.defaultSymbol),this.setRenderer(Ia);else if(!this._isTable){switch(this.geometryType){case "esriGeometryPoint":case "esriGeometryMultipoint":Na=new D;break;case "esriGeometryPolyline":Na=
	new G;break;case "esriGeometryPolygon":Na=new z;break;default:this.hasXYFootprint()&&(Na=new z)}this.setRenderer(Na?new H(Na):null)}Na=Q&&Q.transparency||0;!this.hasOwnProperty("opacity")&&0<Na&&(this.opacity=1-Na/100);(g("ie")||7<=g("trident")||g("safari"))&&this.isEditable()&&10.02>this.version&&(this._ts=!0);this.statistics=J.statistics;this._fixRendererFields();this._updateRequiredFieldsFromLabelingInfo();this._checkFields();this._updateCaps();var gb=function(){null==this._maxOffset||this._isFractionalOffsetAllowed()||
	this._setMaxOffset(this._maxOffset);this.loaded=!0;this.setFeatureReduction(this.getFeatureReduction());this.currentMode!==Ma.MODE_SNAPSHOT&&(this.queryPagination=!1);this.onLoad(this);var cb=this._loadCallback;cb&&(delete this._loadCallback,cb(this))};J=[];this._collection?(Na=this._featureSet,this._featureSet=null,this._mode._drawFeatures(new W(Na)),this._fcAdded=!0):(J.push(this._forceIdentity()),this._limitPromise&&J.push(this._limitPromise));J.push(this._evalArcadeSupport());J.length?v(J).then(n.hitch(this,
	function(){gb.call(this)})):gb.call(this)}},_applySTSublayerInfo:function(J){J&&this.subtypeField&&(this.subtypeCode=J.subtypeCode,this._applySTSublayerDefinitionExpression(J),this._filterSubtypes(J),this._applySTTemplates(J),this._applySTFieldOverrides(J))},_applySTSublayerDefinitionExpression:function(J){var Q=[],aa=this.getDefinitionExpression();aa&&Q.push(aa);(J=J.layerDefinition&&J.layerDefinition.definitionExpression)&&Q.push(J);1<Q.length&&(Q=l.map(Q,function(N){return"("+N+")"}));this.setDefinitionExpression(Q.length?
	Q.join(" AND "):null)},_applySTTemplates:function(J){if(J=J.layerDefinition&&J.layerDefinition.templates)this.templates=l.map(J,function(Q){return new qa(Q)})},_filterSubtypes:function(){this.subtypes&&(this.subtypes=l.filter(this.subtypes,function(J){return J.code===this.subtypeCode},this))},_applySTFieldOverrides:function(J){var Q=J.layerDefinition&&J.layerDefinition.fieldOverrides;if(Q){this.fields=l.filter(this.fields,function(N){return l.some(Q,function(S){return S.name===N.name})});var aa=this.getSubtypeByCode(this.subtypeCode).domains;
	this.fields.forEach(function(N){var S=l.filter(Q,function(ea){return ea.name===N.name})[0];S.alias&&(N.alias=S.alias);if(!1===S.editable||N.name===this.subtypeField)N.editable=!1;aa&&(S=aa[N.name])&&"inherited"!==S.type&&(N.domain=fa.fromJson(S.toJson()))},this)}},setShowLabels:function(J){var Q=this.showLabels;this.showLabels=J;Q!==this.showLabels&&(this._evalSurfaceType(),this.onShowLabelsChange())},onShowLabelsChange:function(){},onRendererChange:function(J){this.inherited(arguments);var Q=this._map;
	this._ager=!!(J&&J.observationAger&&J.observationRenderer);J&&"colors"in J&&"blurRadius"in J&&"maxPixelIntensity"in J?(this._evalSurfaceType(!0),"esriGeometryPoint"==this.geometryType&&!this._heatmapManager&&Q&&(this._heatmapManager=new oa(this),this._heatmapManager.initialize(Q))):this.renderer&&this.renderer.getRendererInfo?l.some(this.renderer.rendererInfos,function(S){return S.renderer&&"colors"in S.renderer&&"blurRadius"in S.renderer})||(this._heatmapManager=null):this._heatmapManager=null;this.timeInfo&&
	Q&&(J&&(J.latestObservationRenderer||J.trackRenderer)?this._trackManager||(this._trackManager=new U(this),this._trackManager.initialize(Q),this._childLayer=this._trackManager.container,this._mode._applyTimeFilter()):this._trackManager&&!this._isStream&&(this._trackManager.destroy(),this._trackManager=null));if(J){var aa=[];Q=l.filter([J,J.observationRenderer,J.latestObservationRenderer,J.trackRenderer],x.isDefined);var N=function(S){return null!=S&&"function"!=typeof S&&S};l.forEach(Q,function(S){var ea=
	N(S.attributeField),na=N(S.attributeField2);S=N(S.attributeField3);!1!==ea&&aa.push(ea);!1!==na&&aa.push(na);!1!==S&&aa.push(S)});this._requiredFields=aa}else this._requiredFields=[];this.loaded&&(this._fixRendererFields(),this._checkFields(this._requiredFields),this._collection&&(this._typesDirty=!0))},setFeatureReduction:function(J){J&&(J=n.mixin({},J),null!=J.clusterSize&&null==J.clusterRadius&&(J.clusterRadius=J.clusterSize),delete J.clusterSize);this.loaded?this._isFeatureReductionSupported(J)?
	this._featureReduction=J:(this._featureReduction=null,J&&console.log("Clustering is not supported for this layer: "+this.url)):this._featureReduction=J;this._evalFeatureReduction(this._featureReduction)},hasFeatureReduction:function(){return!!this._featureReduction},getFeatureReduction:function(){var J=this._featureReduction;if(J){J=n.mixin({},J);var Q=this._clusterManager;if(Q=Q&&Q.aggregationInfo)J.clusterRadius=Q.clusterRadius,J.infoTemplate=Q.infoTemplate}return J},isFeatureReductionActive:function(){var J=
	this._clusterManager;return!!(J&&J.isClusteringEnabled()&&J.isClusteringActive())},isFeatureReductionEnabled:function(){return this._featureReductionEnabled},enableFeatureReduction:function(){this._featureReductionEnabled||(this._featureReductionEnabled=!0,this._evalFeatureReduction(this._featureReduction))},disableFeatureReduction:function(){this._featureReductionEnabled&&(this._featureReductionEnabled=!1,this._evalFeatureReduction(this._featureReduction))},isFeatureReductionApplied:function(){return this.hasFeatureReduction()&&
	this.isFeatureReductionEnabled()&&this._canCluster(this.getFeatureReduction())},getAggregateGraphics:function(){return this._clusterManager?this._clusterManager.getAggregateGraphics():[]},getChildGraphics:function(J){return this._clusterManager?this._clusterManager.getFeaturesInCluster(J):[]},getSingleGraphics:function(){return this._clusterManager?this._clusterManager.getSingleGraphics():[]},getFeatureReductionRenderer:function(){return this.isFeatureReductionActive()?this._clusterManager.getClusterRenderer():
	null},getFeatureReductionLayer:function(){return this._clusterManager?this._clusterManager.container:null},getFeatureReductionField:function(J){var Q,aa=this._clusterManager?this._clusterManager.getClusterFields():null;J=J?J.toLowerCase():"";l.some(aa,function(N){J===N.name.toLowerCase()&&(Q=N);return!!Q});return Q},_isFeatureReductionSupported:function(J){return J&&"cluster"===J.type&&"esriGeometryPoint"===this.geometryType&&(this._collection||this._isStream||this._optQueryPagination&&this.advancedQueryCapabilities.supportsPagination)},
	_isReductionCompatibleRenderer:function(J){J=J&&J.declaredClass||"";J=J.toLowerCase();return-1<J.indexOf("simplerenderer")||-1<J.indexOf("classbreaksrenderer")||-1<J.indexOf("uniquevaluerenderer")},_evalFeatureReduction:function(J){this.loaded&&this.getMap()&&(J=J||this.getFeatureReduction(),this._evalModeFromFReduction(J),J&&this.isFeatureReductionEnabled()?this._canCluster(J)?this._clusterManager?this._updateClusterManager(J):(this._clusterManager=this._createClusterManager(J),this.onFeatureReductionChange()):
	(console.log("Clustering is supported only for point layers where map spatial reference is WGS84 or Web Mercator"),this._destroyClusterManager()):this._destroyClusterManager())},_canCluster:function(J){var Q=this._map;if(!Q)return!1;Q=Q.spatialReference;return this._isFeatureReductionSupported(J)&&this._isReductionCompatibleRenderer(this.renderer)&&(Q.isWebMercator()||4326===Q.wkid)},_createClusterManager:function(J){J=new sa({layer:this,aggregationInfo:J});this._clusterHandles=[J.on("renderer-change",
	n.hitch(this,function(){this.onFeatureReductionRendererChange()}))];J.initialize(this._map);return J},_updateClusterManager:function(J){var Q=this._clusterManager;Q&&Q.setAggregationInfo(J)},_destroyClusterManager:function(J){l.forEach(this._clusterHandles,function(Q){Q.remove()});this._clusterHandles=null;this._clusterManager&&(this._clusterManager.destroy(J),this._clusterManager=null,this.onFeatureReductionChange())},redraw:function(){this.inherited(arguments);this._clusterManager&&this._clusterManager.redraw();
	this._trackManager&&this._trackManager.container&&this._trackManager.container.redraw()},_evalSDRenderer:function(J){this.inherited(arguments);var Q=this._getRenderer();this._ager=!!(Q&&Q.observationAger&&Q.observationRenderer);this._trackManager&&this._trackManager.container&&this._trackManager.container.setRenderer(Q&&Q.trackRenderer);J&&this._evalFeatureReduction()},_graphicVisibilityChanged:function(J){this._clusterManager?this._clusterManager.toggleFeatureVisibility(J):this._heatmapManager&&
	this._heatmapManager.redraw()},setWebGLFetchOptions:function(J){this._hasOnDemandDrillMode()&&(J=J||{},null!=J.maxDrillLevel&&(this._mode.maxDrillLevel=J.maxDrillLevel),null!=J.maxRecordCountFactor&&(this._mode.maxRecordCountFactor=J.maxRecordCountFactor),null!=J.enablePBFQuery&&(this._mode.enablePBFQuery=J.enablePBFQuery))},_isWebGLCompatible:function(){return this.loaded&&!this.isEditable()&&!this.isFeatureReductionApplied()&&(!this.labelingInfo||!1===this.showLabels)&&!this._isGeometryOperationsUsed()&&
	this._isRendererSupportedInWebGL()&&this.supportsCoordinatesQuantization&&("esriGeometryPolygon"!==this.geometryType||this.advancedQueryCapabilities.supportsReturningGeometryCentroid)&&this.currentMode===Ma.MODE_ONDEMAND&&(!this._preSurfaceChangeState||this._preSurfaceChangeState.currentMode===Ma.MODE_ONDEMAND)},_isRendererSupportedInWebGL:function(){if(!this.renderer)return!1;var J=this.renderer,Q=J.declaredClass?J.declaredClass.toLowerCase():"";return(-1<Q.indexOf("simplerenderer")||-1<Q.indexOf("classbreaksrenderer")||
	-1<Q.indexOf("uniquevaluerenderer"))&&this._hasWebGLCompatibleSymbols(J)&&this._hasWebGLCompatibleVVs(J)},_hasWebGLCompatibleSymbols:function(J){J=this._getAllSymbolsInRenderer(J);return!(this._hasSLSWithMarker(J)||this._hasIncompatibleSMSStyles(J)||this._hasGIFMarker(J))},_hasWebGLCompatibleVVs:function(J){return!l.some(J&&J.visualVariables,function(Q){var aa=Q.type;return("colorInfo"===aa||"opacityInfo"===aa)&&Q.stops&&8<Q.stops.length||"sizeInfo"===aa&&(Q.field||Q.valueExpression&&"$view.scale"!==
	Q.valueExpression||Q.expression&&"view.scale"!==Q.expression)&&Q.stops&&6<Q.stops.length?!0:!1})},_hasSLSWithMarker:function(J){return l.some(J,function(Q){return Q&&"simplelinesymbol"===Q.type&&!!Q.marker})},_hasIncompatibleSMSStyles:function(J){var Q=void 0===g("ie")&&7==g("trident");return l.some(J,function(aa){return aa&&"simplemarkersymbol"===aa.type&&("triangle"===aa.style||"path"===aa.style&&Q)})},_hasGIFMarker:function(J){var Q=/\.gif$/,aa=/^image\/gif$/;return l.some(J,function(N){return N&&
	"picturemarkersymbol"===N.type?Q.test(N.url)||aa.test(N.contentType):!1})},_getAllSymbolsInRenderer:function(J){var Q=[];J&&(Q.push(J.symbol),Q.push(J.defaultSymbol),l.forEach(J.infos,function(aa){Q.push(aa.symbol)}),Q=l.filter(Q,function(aa){return!!aa}));return Q},_setMap:function(J){var Q=this.inherited(arguments),aa=this._mode,N=this;aa&&J.loaded&&aa.initialize(J);this.geometryType&&this.attr("data-geometry-type",this.geometryType.replace(/esriGeometry/i,"").toLowerCase());this._addHandle=this.on("graphic-node-add",
	function(S){S=S.graphic.attributes;(S=N._selectedFeatures[S&&S[N.objectIdField]])&&S.attr("data-selected","")});return Q},_unsetMap:function(J){this._suspendImpl(!0);this._destroyClusterManager(!1);this._trackManager&&(this._trackManager.destroy(),this._trackManager=null);w.disconnect(this._zoomConnect);w.disconnect(this._addHandle);this._zoomConnect=this._addHandle=null;this.inherited("_unsetMap",arguments)},onAttach:function(){this._evalModeFromSurface()},onRefreshTick:function(){this.isFeatureUpdatesCheckActive()&&
	this._evalFeatureUpdates()},refresh:function(J){!this._needsRefresh&&J&&J.scheduled&&this.isFeatureUpdatesCheckActive()||(this._needsRefresh=!1,(J=this._mode)&&J.refresh())},setFeatureUpdatesCheckEnabled:function(J){this._featureUpdatesCheckEnabled=J},isFeatureUpdatesCheckEnabled:function(){return!!this._featureUpdatesCheckEnabled},isFeatureUpdatesCheckActive:function(){return this.supportsLastEditDate&&this.isFeatureUpdatesCheckEnabled()&&!!this.refreshInterval&&!!n.getObject("onFeatureUpdatesResult.after",
	!1,this)},hasFeatureUpdates:function(){var J=new h;if(!this.supportsLastEditDate)return J.reject(Error("FeatureLayer does not support supportsLastEditDate")),J.promise;if(!this._fetchMetadataPromise||this._fetchMetadataPromise.isFulfilled())this._fetchMetadataPromise=u({url:this._url.path,content:n.mixin({f:"json"},this._url.query),callbackParamName:"callback"}).then(n.hitch(this,function(Q){Q=Q.editingInfo.lastEditDate;var aa=this.editingInfo.lastEditDate!==Q;this.editingInfo.lastEditDate=Q;return aa}));
	this._fetchMetadataPromise.then(function(Q){J.isFulfilled()||J.resolve(Q)}).otherwise(function(Q){J.isFulfilled()||J.reject(Q)});return J.promise},hasXYFootprint:function(){return"esriGeometryMultiPatch"===this.geometryType&&"xyFootprint"===this.multipatchOption},getOutFields:function(){return l.filter(this._getOutFields(),function(J){return"*"===J||!!this._getField(J)},this)},getField:function(J){return this._getField(J,!0)},isOutField:function(J){J=this.getField(J);if(!J)return!1;var Q=this.getOutFields();
	return-1<l.indexOf(Q,"*")||-1<l.indexOf(Q,J.name)},getFieldLabel:function(J){var Q=this.infoTemplate;Q=Q&&Q.getFieldInfo&&Q.getFieldInfo(J);J=n.isFunction(J)?null:this.getField(J);var aa=Q||J,N="";aa&&(N=Q&&Q.label||J&&J.alias||aa.name||aa.fieldName);return N},getDomain:function(J,Q){var aa,N,S=(Q=Q&&Q.feature)&&this.typeIdField&&Q.attributes&&Q.attributes[this.typeIdField];null!=S&&l.some(this.types,function(ea){return ea.id==S?((aa=ea.domains&&ea.domains[J])&&"inherited"===aa.type&&(aa=this._getLayerDomain(J),
	N=!0),!0):!1},this);N||aa||(aa=this._getLayerDomain(J));return aa},_getLayerDomain:function(J){this._createFieldsIndex();var Q=this._fieldsIndex;if(Q)return Q=Q.caseSensitive,(Q=Q.get(J))?Q.domain:null;var aa;l.some(this.fields,function(N){N.name===J&&(aa=N.domain);return!!aa});return aa},getType:function(J){return this.getTypeById(J&&this.typeIdField&&J.attributes&&J.attributes[this.typeIdField])},getTypeById:function(J){var Q;l.some(this.types,function(aa){aa.id==J&&(Q=aa);return!!Q});return Q},
	getSubtypeByCode:function(J){var Q;l.some(this.subtypes,function(aa){aa.code==J&&(Q=aa);return!!Q});return Q},setEditable:function(J){if(!this._collection)return console.log("FeatureLayer:setEditable - this functionality is not yet supported for layer in a feature service"),this;if(this._isImageService)return this;if(!this.loaded)return this._optEditable=J,this;var Q=this._editable;this._editable=J;this._updateCaps();if(Q!==J)this.onCapabilitiesChange();return this},getEditCapabilities:function(J){var Q=
	{canCreate:!1,canUpdate:!1,canDelete:!1,canUpdateGeometry:!1};if(!this.loaded||!this.isEditable())return Q;var aa=J&&J.feature;J=J&&J.userId||this.getUserId();var N=l.map(this.capabilities?this.capabilities.toLowerCase().split(","):[],n.trim),S=(Q=-1<l.indexOf(N,"editing"))&&-1<l.indexOf(N,"create"),ea=Q&&-1<l.indexOf(N,"update");N=Q&&-1<l.indexOf(N,"delete");var na=this.ownershipBasedAccessControlForFeatures,ua=this.editFieldsInfo,Aa=ua&&ua.creatorField;ua=ua&&ua.realm;aa=(aa=aa&&aa.attributes)&&
	Aa?aa[Aa]:void 0;var Ba=!!this.userIsAdmin;Aa=!na||Ba||!(!na.allowOthersToUpdate&&!na.allowUpdateToOthers);var Qa=!na||Ba||!(!na.allowOthersToDelete&&!na.allowDeleteToOthers),La=!na||Ba||!na.hasOwnProperty("allowAnonymousToUpdate")||na.allowAnonymousToUpdate;na=!na||Ba||!na.hasOwnProperty("allowAnonymousToDelete")||na.allowAnonymousToDelete;J&&ua&&(J=J+"@"+ua);if(Ba||Q&&!(S||ea||N))S=ea=N=!0;Q={canCreate:S,canUpdate:ea,canDelete:N,canUpdateGeometry:Ba||this.allowGeometryUpdates};J||(Q.canUpdate=Q.canUpdate&&
	La,Q.canDelete=Q.canDelete&&na);null===aa?(Q.canUpdate=Q.canUpdate&&Aa,Q.canDelete=Q.canDelete&&Qa):""!==aa&&aa&&J.toLowerCase()!==aa.toLowerCase()&&(Q.canUpdate=Q.canUpdate&&Aa,Q.canDelete=Q.canDelete&&Qa);return Q},getUserId:function(){var J;this.loaded&&(J=this.credential&&this.credential.userId||this.userId||"");return J},setUserIsAdmin:function(J){this.userIsAdmin=J},setEditSummaryCallback:function(J){this.editSummaryCallback=J},getEditSummary:function(J,Q,aa){aa=x.isDefined(aa)?aa:(new Date).getTime();
	var N="";aa=this.getEditInfo(J,Q,aa);(Q=Q&&Q.callback||this.editSummaryCallback)&&(aa=Q(J,aa)||"");if(n.isString(aa))N=aa;else{if(aa){J=aa.action;Q=aa.userId;var S=aa.timeValue,ea=0;J&&ea++;Q&&ea++;x.isDefined(S)&&ea++;1<ea&&(N=("edit"===J?"edit":"create")+(Q?"User":"")+(x.isDefined(S)?aa.displayPattern:""))}N=N&&x.substitute(aa,this.i18n.layers.FeatureLayer[N])}return N},getEditInfo:function(J,Q,aa){if(this.loaded){aa=x.isDefined(aa)?aa:(new Date).getTime();Q=Q&&Q.action||"last";var N=this.editFieldsInfo,
	S=N&&N.creatorField,ea=N&&N.creationDateField,na=N&&N.editorField;N=N&&N.editDateField;na=(J=J&&J.attributes)&&na?J[na]:void 0;N=J&&N?J[N]:null;S=this._getEditData(J&&S?J[S]:void 0,J&&ea?J[ea]:null,aa);aa=this._getEditData(na,N,aa);switch(Q){case "creation":var ua=S;break;case "edit":ua=aa;break;case "last":ua=aa||S}ua&&(ua.action=ua===aa?"edit":"creation");return ua}},_getEditData:function(J,Q,aa){if(x.isDefined(Q)){var N=aa-Q;var S=0>N?"Full":6E4>N?"Seconds":12E4>N?"Minute":36E5>N?"Minutes":72E5>
	N?"Hour":864E5>N?"Hours":6048E5>N?"WeekDay":"Full"}if(void 0!==J||S){var ea=ea||{};ea.userId=J;S&&(J=f.format,aa=new Date(Q),ea.minutes=Math.floor(N/6E4),ea.hours=Math.floor(N/36E5),ea.weekDay=J(aa,{datePattern:"EEEE",selector:"date"}),ea.formattedDate=J(aa,{selector:"date"}),ea.formattedTime=J(aa,{selector:"time"}),ea.displayPattern=S,ea.timeValue=Q)}return ea},isEditable:function(){return!(!this._editable&&!this.userIsAdmin)},isQueryable:function(){var J=l.map(this.capabilities?this.capabilities.toLowerCase().split(","):
	[],n.trim);return this._isStream||this.userIsAdmin||this._collection||-1!==l.indexOf(J,"query")||-1!==l.indexOf(J,"catalog")},setResolution:function(J){return this.setMaxAllowableOffset(J)},setMaxAllowableOffset:function(J){this.isEditable()||(this._optMaxOffset=J,this._setMaxOffset(J,!0));return this},_resetMaxAllowableOffset:function(){this.setMaxAllowableOffset(this._optMaxOffset);this._prevScale=null;this._refreshMaxAllowableOffset()},_refreshMaxAllowableOffset:function(){this._calcMaxOffsetForAutoSnapshot();
	this._updateMaxOffset();this._needsRefresh=!1},getResolution:function(){return this.getMaxAllowableOffset()},getMaxAllowableOffset:function(){var J=this._quantizationParameters?this._quantizationParameters.tolerance:void 0;return null!=this._maxOffset?this._maxOffset:J},_setMaxOffset:function(J,Q){if(null==J)return delete this._maxOffset,delete this._quantizationParameters,this;this.quantize&&this.supportsCoordinatesQuantization?("esriGeometryPolyline"===this.geometryType?this._maxOffset=J:delete this._maxOffset,
	this._quantizationParameters=J?{mode:"view",originPosition:"upperLeft",tolerance:J,extent:this.fullExtent}:null):(this._isFractionalOffsetAllowed()&&Q||(J=Math.floor(J)),isNaN(J)||0===J?delete this._maxOffset:this._maxOffset=J,delete this._quantizationParameters);return this},_isFractionalOffsetAllowed:function(){return null==this.version||10.1<=this.version||navigator.languages&&this._isLangWithDot(navigator.languages[0])},_isLangWithDot:function(J){J=(J=J&&J.split("-"))&&J[0]&&J[0].toLowerCase();
	return-1!==l.indexOf(this._langsWithDot,J)},_langsWithDot:"ar en et fr he ja ko th vi zh".split(" "),setAutoGeneralize:function(J){this.loaded?this._canAutoGeneralize()&&((this._autoGeneralize=J)?(this._isAutoSnapshotMode()&&(this._prevScale=null),this._updateMaxOffset()):this._setMaxOffset(null)):this._optAutoGen=J;return this},_canAutoGeneralize:function(){return!this.isEditable()&&this.mode!==Ma.MODE_SNAPSHOT},setGDBVersion:function(J){this._collection||J===this.gdbVersion||!J&&!this.gdbVersion||
	(this.gdbVersion=J,this._task.gdbVersion=J,this._url.query=n.mixin(this._url.query,{gdbVersion:J}),this.loaded&&(this.clearSelection(),this._map&&this.refresh()),this.onGDBVersionChange());return this},hasAllFeatures:function(){return this._mode?this._mode.hasAllFeatures():!0},hasUpdateError:function(){return this._mode?this._mode.hasUpdateError():!1},setDefinitionExpression:function(J){this._defnExpr=J;this._hasPendingLimitQuery()||((J=this._checkFeatureLimit())?this._evalModeAndApplyDefnExpr(J):
	this._applyDefnExpr());return this},_applyDefnExpr:function(){var J=this._mode;J&&J.propertyChangeHandler(1)},_evalModeAndApplyDefnExpr:function(J){J.then(n.hitch(this,function(Q){Q&&(Q instanceof Error||!Q.modeChanged)&&this._applyDefnExpr()}))},getDefinitionExpression:function(){return this._defnExpr},hasDefinitionExpressionWithCurrentTimestamp:function(){return this.reSQLCurrentTimestamp.test(this.getDefinitionExpression())},setTimeDefinition:function(J){this._isSnapshotMode()?(this._timeDefn=
	J,(J=this._mode)&&J.propertyChangeHandler(2)):console.log("FeatureLayer.setTimeDefinition: layer in on-demand or selection mode does not support time definitions. Layer id \x3d "+this.id+", Layer URL \x3d "+this.url);return this},getTimeDefinition:function(){return this._timeDefn},setTimeOffset:function(J,Q){this._timeOffset=J;this._timeOffsetUnits=Q;(J=this._mode)&&J.propertyChangeHandler(0);return this},setUseMapTime:function(J){this.useMapTime=J;this._toggleTime(!this.suspended);(J=this._mode)&&
	J.propertyChangeHandler(0)},selectFeatures:function(J,Q,aa,N){Q=Q||Ma.SELECTION_NEW;this._hasSelectionError=this._hasPartialSelectedFeatures=!1;J=this._getShallowClone(J);var S=this._map,ea=this,na=m._fixDfd(new h(m._dfdCanceller));J.outFields=this.getOutFields();J.returnGeometry=!0;J.multipatchOption=this.multipatchOption;S&&(J.outSpatialReference=new r(S.spatialReference.toJson()));if(!this._applyQueryFilters(J,!0)){var ua={features:[]};this._selectHandler(ua,Q,aa,N,na);return na}if(S=this._canDoClientSideQuery(J))na._pendingDfd=
	e(this._doQuery(J,S)),na._pendingDfd.then(function(Ba){ua={features:Ba};ea._selectHandler(ua,Q,aa,N,na)});else{if(this._collection)return this._resolve([Error("FeatureLayer::selectFeatures - "+this.invalidParams)],null,N,na,!0),na;if(this.loaded&&!this.isQueryable())return this._resolve([Error("Layer does not support query capability.")],null,N,na,!0),na;var Aa=this;this._ts&&(J._ts=(new Date).getTime());S=this._canFetchPBFForQuery(J);this._enableEditModeQuantization(J,S);(na._pendingDfd=this._task.execute(J,
	null,null,S?{format:"pbf"}:null)).addCallbacks(function(Ba){Aa._selectHandler(Ba,Q,aa,N,na)},function(Ba){Aa._hasPartialSelectedFeatures=!0;Aa._hasSelectionError=!0;Aa._resolve([Ba],null,N,na,!0)})}return na},getSelectedFeatures:function(){var J=this._selectedFeatures,Q=[],aa;for(aa in J)J.hasOwnProperty(aa)&&Q.push(J[aa]);return Q},clearSelection:function(J){var Q=this._selectedFeatures,aa=this._mode,N;for(N in Q)Q.hasOwnProperty(N)&&(this._unSelectFeatureIIf(N,aa),aa._removeFeatureIIf(N));this._selectedFeatures=
	{};this._isSelOnly&&aa._applyTimeFilter(!0);if(!J)this.onSelectionClear();return this},setSelectionSymbol:function(J){if(this._selectionSymbol=J){var Q=this._selectedFeatures,aa;for(aa in Q)Q.hasOwnProperty(aa)&&Q[aa].setSymbol(J)}return this},getSelectionSymbol:function(){return this._selectionSymbol},setLabelingInfo:function(J){J?(this.labelingInfo=J,this._fixLabelExpr()):delete this.labelingInfo;this._collection&&(this._typesDirty=!0);this._evalSurfaceType();this.onLabelingInfoChange()},_fixLabelExpr:function(){var J=
	/\[([^\[\]]+)\]/ig,Q,aa=this,N=function(S,ea){S=aa._getField(ea,!0);return"["+(S&&S.name||ea)+"]"};l.forEach(this.labelingInfo,function(S){if(Q=S.labelExpression)S.labelExpression=Q.replace(J,N)})},_updateRequiredFieldsFromLabelingInfo:function(){var J=[];l.forEach(this.labelingInfo,function(Q){var aa=Q.labelExpressionInfo;if(Q.labelExpression){var N=/[\[\]]/ig;Q=Q.labelExpression.match(/\[[^\[\]]+\]/ig);(Q=l.map(Q,function(ea){return ea.replace(N,"")}))&&(J=J.concat(Q))}if(aa){if(aa.value){var S=
	/[\{\}]/ig;Q=aa.value.match(/\{[^\{\}]+\}/ig);(Q=l.map(Q,function(ea){return ea.replace(S,"")}))&&(J=J.concat(Q))}aa.expression&&(J=J.concat(T.extractFieldNames(aa.expression)))}});J=l.map(J,function(Q){var aa=this.getField(Q);return aa?aa.name:Q},this);this._requiredFields&&(this._requiredFields=this._requiredFields.concat(J))},__msigns:[{n:"applyEdits",c:5,a:[{i:0},{i:1}],e:4,f:1}],applyEdits:function(J,Q,aa,N,S,ea){var na=ea.assembly,ua=ea.dfd;this._applyNormalized(J,na&&na[0]);this._applyNormalized(Q,
	na&&na[1]);this.onBeforeApplyEdits(J,Q,aa);var Aa={},Ba=this.objectIdField;na={f:"json"};var Qa=!1;if(this._collection)ea={},ea.addResults=J?l.map(J,function(){Qa=!0;return{objectId:this._nextId++,success:!0}},this):null,ea.updateResults=Q?l.map(Q,function(Na){Qa=!0;var eb=Na.attributes[Ba];Aa[eb]=Na;return{objectId:eb,success:!0}},this):null,ea.deleteResults=aa?l.map(aa,function(Na){Qa=!0;return{objectId:Na.attributes[Ba],success:!0}},this):null,Qa?this._editHandler(ea,J,Aa,N,S,ua):this._resolve([ea.addResults,
	ea.updateResults,ea.deleteResults],null,N,ua);else{J&&0<J.length&&(na.adds=this._convertFeaturesToJson(J,0,1),Qa=!0);if(Q&&0<Q.length){for(ea=0;ea<Q.length;ea++){var La=Q[ea];Aa[La.attributes[Ba]]=La}na.updates=this._convertFeaturesToJson(Q,0,0,1);Qa=!0}if(aa&&0<aa.length){Q=[];for(ea=0;ea<aa.length;ea++)Q.push(aa[ea].attributes[Ba]);na.deletes=Q.join(",");Qa=!0}if(Qa){var Ia=this;return u({url:this._url.path+"/applyEdits",content:n.mixin(na,this._url.query),callbackParamName:"callback",load:function(Na){Ia._editHandler(Na,
	J,Aa,N,S,ua)},error:function(Na){Ia._resolve([Na],null,S,ua,!0)}},{usePost:!0})}this._resolve([],null,N,ua)}},queryFeatures:function(J,Q,aa,N){return this._query("execute","onQueryFeaturesComplete",J,Q,aa,N)},queryRelatedFeatures:function(J,Q,aa){return this._query("executeRelationshipQuery","onQueryRelatedFeaturesComplete",J,Q,aa)},queryIds:function(J,Q,aa,N){return this._query("executeForIds","onQueryIdsComplete",J,Q,aa,N)},queryCount:function(J,Q,aa,N){return this._query("executeForCount","onQueryCountComplete",
	J,Q,aa,N)},queryExtent:function(J,Q,aa,N){return this._query("executeForExtent","onQueryExtentComplete",J,Q,aa,N)},queryAttachmentInfos:function(J,Q,aa){var N=this._url.path+"/"+J+"/attachments",S=new h(m._dfdCanceller),ea=this;N=B.normalize(N);S._pendingDfd=u({url:N,content:n.mixin({f:"json"},this._url.query),callbackParamName:"callback",load:function(na){na=na.attachmentInfos;var ua;l.forEach(na,function(Aa){ua=d.objectToQuery({gdbVersion:ea._url.query&&ea._url.query.gdbVersion,layer:ea._url.query&&
	ea._url.query.layer,token:ea._getToken()});Aa.url=N+"/"+Aa.id+(ua?"?"+ua:"");Aa.objectId=J});ea._resolve([na],"onQueryAttachmentInfosComplete",Q,S)},error:function(na){ea._resolve([na],null,aa,S,!0)}});return S},addAttachment:function(J,Q,aa,N){return this._sendAttachment("add",J,Q,aa,N)},updateAttachment:function(J,Q,aa,N,S){aa.appendChild(a.create("input",{type:"hidden",name:"attachmentId",value:Q}));return this._sendAttachment("update",J,aa,N,S)},deleteAttachments:function(J,Q,aa,N){var S=this._url.path+
	"/"+J+"/deleteAttachments",ea=new h(m._dfdCanceller),na=this;Q={f:"json",attachmentIds:Q.join(",")};ea._pendingDfd=u({url:S,content:n.mixin(Q,this._url.query),callbackParamName:"callback",load:n.hitch(this,function(ua){ua=ua.deleteAttachmentResults;ua=l.map(ua,function(Aa){Aa=new Ea(Aa);Aa.attachmentId=Aa.objectId;Aa.objectId=J;return Aa});na._resolve([ua],"onDeleteAttachmentsComplete",aa,ea)}),error:function(ua){na._resolve([ua],null,N,ea,!0)}},{usePost:!0});return ea},addType:function(J){var Q=
	this.types;if(Q){if(l.some(Q,function(aa){return aa.id==J.id?!0:!1}))return!1;Q.push(J)}else this.types=[J];return this._typesDirty=!0},deleteType:function(J){if(this._collection){var Q=this.types;if(Q){var aa=-1;l.some(Q,function(N,S){return N.id==J?(aa=S,!0):!1});if(-1<aa)return this._typesDirty=!0,Q.splice(aa,1)[0]}}},toJson:function(){var J=this._cloneJson();if(J){J=J.layerDefinition?J:{layerDefinition:J};var Q=J.layerDefinition,aa=this._collection;this._updateLayerDefinition(Q);var N=null;if(!aa||
	this._fcAdded)N={geometryType:Q.geometryType,features:this._convertFeaturesToJson(this.graphics,!0)};J.featureSet=n.mixin({},J.featureSet||{},N);if(J.featureSet.transform){var S=J.featureSet.transform;delete J.featureSet.transform;N=new W(J.featureSet);N.quantize(S);J.featureSet=N.toJson()}aa&&(J.nextObjectId=this._nextId,Q.capabilities=this.capabilities);return J}},getLayerDefinition:function(){var J=this._cloneJson();(J=J?J.layerDefinition||J:null)&&this._updateLayerDefinition(J);return J},getFeatureCollectionLayer:function(J){var Q=
	new h,aa=this.getLayerDefinition();if(!aa)return Q.reject(Error("layerDefinition not available")),Q.promise;J=J||[];var N=new Ma({layerDefinition:aa,featureSet:{geometryType:aa.geometryType,features:l.map(J,function(na){return na.toJson()})}}),S=N.on("load",function(){S.remove();ea.remove();Q.resolve(N)}),ea=N.on("error",function(){N.loaded||(S.remove(),ea.remove(),Q.reject(N.loadError))});return Q.promise},onSelectionComplete:function(){},onSelectionClear:function(){},onBeforeApplyEdits:function(){},
	onEditsComplete:function(){},onQueryFeaturesComplete:function(){},onQueryRelatedFeaturesComplete:function(){},onQueryIdsComplete:function(){},onQueryCountComplete:function(){},onQueryExtentComplete:function(){},onQueryAttachmentInfosComplete:function(){},onAddAttachmentComplete:function(){},onUpdateAttachmentComplete:function(){},onDeleteAttachmentsComplete:function(){},onCapabilitiesChange:function(){},onGDBVersionChange:function(){},onQueryLimitExceeded:function(){},onLabelingInfoChange:function(){},
	onFeatureReductionRendererChange:function(){},onFeatureReductionChange:function(){},onFeatureUpdatesResult:function(){},_cloneJson:function(){var J=this._json;return n.isString(J)?k.fromJson(J):n.clone(J)},_updateLayerDefinition:function(J){if(this._collection&&this._typesDirty){J.types=l.map(this.types||[],function(S){return S.toJson()});var Q=this.renderer,aa=this.labelingInfo,N=J.drawingInfo;!Q&&!aa||N||(N=J.drawingInfo={});N&&Q&&-1===Q.declaredClass.indexOf("TemporalRenderer")&&(N.renderer=Q.toJson());
	aa&&(N.labelingInfo=l.map(aa,function(S){return S.toJson()}))}},_evalFeatureUpdates:function(){if(!this._featureUpdatesPromise||this._featureUpdatesPromise.isFulfilled())this._featureUpdatesPromise=this.hasFeatureUpdates().otherwise(function(J){return!(J&&"cancel"===J.dojoType)}).always(n.hitch(this,function(J){this._featureUpdatesPromise=null;this.onFeatureUpdatesResult({hasUpdates:J})}))},_evalRefresh:function(J){(J.hasUpdates||this.hasDefinitionExpressionWithCurrentTimestamp())&&this.refresh()},
	_evalArcadeSupport:function(){var J=new h;setTimeout(n.hitch(this,function(){this._initializeArcadeEngine().always(function(){J.resolve()})}),0);return J.promise},_initializeArcadeEngine:function(){var J=[],Q=this.infoTemplate;Q&&Q.initializeArcadeEngine&&J.push(Q.initializeArcadeEngine());(Q=this.renderer)&&Q.initializeArcadeEngine&&J.push(Q.initializeArcadeEngine());var aa=[];l.forEach(this.labelingInfo,function(N){(N=N.labelExpressionInfo)&&N.expression&&aa.push(N.expression)});J.push(Z.initialize(aa));
	return v(J)},_isGeometryOperationsUsed:function(){var J=this.infoTemplate,Q=this.renderer,aa=this.labelingInfo;return J&&J.hasGeometryOperations&&J.hasGeometryOperations()||Q&&Q.hasGeometryOperations&&Q.hasGeometryOperations()||l.some(aa,function(N){return T.hasGeometryOperations(N.labelExpressionInfo&&N.labelExpressionInfo.expression)})?!0:!1},_forceIdentity:function(){var J=new h,Q=this,aa=this._url&&this._url.path;var N=aa&&aa.toLowerCase().indexOf("/rest/services");var S=this.editFieldsInfo;S=
	S&&(S.creatorField||S.editorField);(this.userIsAdmin||S)&&!this._getToken()&&-1<N&&p.id?(N=aa.substring(0,N)+"/rest/info",u({url:N,content:{f:"json"},handleAs:"json",callbackParamName:"callback"}).then(function(ea){if(ea.owningSystemUrl)return p.id.checkSignInStatus(ea.owningSystemUrl+"/sharing")}).then(function(ea){if(ea)return p.id.getCredential(aa)}).then(function(ea){ea&&Q._findCredential()}).always(function(){J.resolve()})):J.resolve();return J.promise},_isSnapshotMode:function(){return this._mode?
	this._mode.isInstanceOf(pa):!1},_isOnDemandMode:function(){return this._mode?this._mode.isInstanceOf(wa):!1},_isAutoSnapshotMode:function(){return this._isAutoModeEnabled()&&this.currentMode===Ma.MODE_SNAPSHOT},_getMaxFeaturesForAutoSnapshotMode:function(){var J=this.geometryType;if("esriGeometryPolyline"===J||"esriGeometryPolygon"===J||"esriGeometryMultipoint"===J||this.hasXYFootprint())var Q=this.maxRecordCountForAuto;else"esriGeometryPoint"===J&&(Q=this.maxPointCountForAuto);return Q},getLastExceedsLimitResult:function(){return this._lastExceedsLimitResult},
	_canUseSnapshotMode:function(J){this._lastExceedsLimitResult=J=(J=J&&J.features&&J.features[0])&&J.attributes&&J.attributes.exceedslimit;return!(this.mode!==Ma.MODE_AUTO||this.isEditable()||0!==J||!(this._isPaginationAllowed()||this.maxRecordCount>=this._getMaxFeaturesForAutoSnapshotMode()))},_evalModeFromFLimit:function(J){this._canUseSnapshotMode(J)?this._enableAutoSnapshotMode():this._enableAutoOnDemandMode()},_enableAutoSnapshotMode:function(){var J=Ma.MODE_SNAPSHOT;this.isFeatureReductionApplied()?
	this._updatePreFReductionState(J):this._preSurfaceChangeState?(this._updatePreSurfaceChangeState(J),this._evalSurfaceType(!0)):this.currentMode!==J&&this._setFetchMode(Ma.MODE_AUTO,J)},_enableAutoOnDemandMode:function(){var J=Ma.MODE_ONDEMAND;this.isFeatureReductionApplied()?this._updatePreFReductionState(J):this._preSurfaceChangeState?this._updatePreSurfaceChangeState(J):this.currentMode!==J&&(this._setFetchMode(Ma.MODE_AUTO,J),this._evalSurfaceType())},_evalModeFromFReduction:function(J){this.loaded&&
	(J&&this.isFeatureReductionEnabled()&&this._canCluster(J)?this._enableFReductionMode():this._disableFReductionMode())},_enableFReductionMode:function(){this._evalSurfaceType(!0);if(!this._preFReductionState){var J=this.currentMode;J!==Ma.MODE_SNAPSHOT&&J!==Ma.MODE_STREAM&&J!==Ma.MODE_SELECTION&&(this._preFReductionState={mode:this.mode,currentMode:this.currentMode},this._setFetchMode(this.mode===Ma.MODE_AUTO?Ma.MODE_AUTO:Ma.MODE_SNAPSHOT,Ma.MODE_SNAPSHOT))}},_disableFReductionMode:function(){var J=
	this._preFReductionState;this._preFReductionState=null;!J||J.mode===this.mode&&J.currentMode===this.currentMode||(this._setFetchMode(J.mode,J.currentMode),this._evalSurfaceType())},_updatePreFReductionState:function(J){this._preFReductionState=this._preFReductionState||{};this._preFReductionState.mode=Ma.MODE_AUTO;this._preFReductionState.currentMode=J},_evalModeFromSurface:function(){this.hasWebGLSurface()?this._enableWebGLSurfaceMode():this._disableWebGLSurfaceMode()},_enableWebGLSurfaceMode:function(){this._preSurfaceChangeState||
	(this._preSurfaceChangeState={mode:this.mode,currentMode:this.currentMode},this._setFetchMode(this.mode===Ma.MODE_AUTO?Ma.MODE_AUTO:Ma.MODE_ONDEMAND,Ma.MODE_ONDEMAND,this.webglDeps.OnDemandDrillMode))},_disableWebGLSurfaceMode:function(){var J=this._preSurfaceChangeState;J&&(this._preSurfaceChangeState=null,this._setFetchMode(J.mode,J.currentMode))},_updatePreSurfaceChangeState:function(J){this._preSurfaceChangeState=this._preSurfaceChangeState||{};this._preSurfaceChangeState.mode=Ma.MODE_AUTO;this._preSurfaceChangeState.currentMode=
	J},_setFetchMode:function(J,Q,aa){this.clearSelection();this._mode.suspend();this._mode.destroy();this.mode=J;this.currentMode=Q;aa=aa||this._getModeConstructor(Q);this._mode=new aa(this);this.queryPagination=Q===Ma.MODE_ONDEMAND&&-1===aa.prototype.declaredClass.toLowerCase().indexOf("ondemanddrillmode")?!1:this._isPaginationAllowed();(J=this.getMap())&&J.loaded&&(this._resetMaxAllowableOffset(),this._mode.initialize(J),this._mode.startup())},_isPaginationAllowed:function(){return!(!this._optQueryPagination||
	this.loaded&&!this.advancedQueryCapabilities.supportsPagination)},_getModeConstructor:function(J){var Q;J===Ma.MODE_SNAPSHOT?Q=pa:J===Ma.MODE_ONDEMAND&&(Q=wa);return Q},_hasOnDemandDrillMode:function(){var J=this._mode;J=J&&J.declaredClass;return!!(J&&-1<J.toLowerCase().indexOf("ondemanddrillmode"))},_checkFeatureLimit:function(){this._limitPromise&&(this._limitPromise.cancel(),this._limitPromise=null);var J=this._queryLimit();J&&(this._lastExceedsLimitResult=null,this._limitPromise=J.then(n.hitch(this,
	function(Q){var aa=this.currentMode;this._evalModeFromFLimit(Q);return{modeChanged:this.currentMode!==aa}})).always(n.hitch(this,function(Q){this._limitPromise=null;return Q})));return this._limitPromise},_hasPendingLimitQuery:function(){return!!this._exceedsLimitTimer},_queryLimit:function(){if(this._isAutoModeEnabled()){var J,Q,aa=new h(function(){clearTimeout(J);J=null;Q&&!Q.isFulfilled()&&Q.cancel();Q=null});this._exceedsLimitTimer=J=setTimeout(n.hitch(this,function(){this._exceedsLimitTimer=
	null;var N=new ca,S=new ha;S.statisticType="exceedslimit";S.maxPointCount=this.maxPointCountForAuto;S.maxRecordCount=this.maxRecordCountForAuto;S.maxVertexCount=this.maxVertexCountForAuto;S.outStatisticFieldName="exceedslimit";N.outStatistics=[S];Q=this.queryFeatures(N).promise.then(function(ea){aa.resolve(ea)}).otherwise(function(ea){aa.reject(ea)})}),0);return aa.promise}},_isAutoModeEnabled:function(){return this.mode===Ma.MODE_AUTO&&this.reHostedFS.test(this.url)},_updateCaps:function(){var J=
	this._editable,Q=n.trim(this.capabilities||""),aa=l.map(Q?Q.split(","):[],n.trim),N=l.map(Q?Q.toLowerCase().split(","):[],n.trim);Q=l.indexOf(N,"editing");var S;N={Create:l.indexOf(N,"create"),Update:l.indexOf(N,"update"),Delete:l.indexOf(N,"delete")};if(J&&-1===Q)aa.push("Editing");else if(!J&&-1<Q){J=[Q];for(S in N)-1<N[S]&&J.push(N[S]);J.sort();for(S=J.length-1;0<=S;S--)aa.splice(J[S],1)}this.capabilities=aa.join(",")},_counter:{value:0},_getUniqueId:function(){return this._counter.value++},onSuspend:function(){this.inherited(arguments);
	this._suspendImpl()},_suspendImpl:function(J){this._toggleTime(!1);this._refreshHandle&&(this._refreshHandle.remove(),this._refreshHandle=null);var Q=this._mode;Q&&(Q.suspend(),J&&Q.destroy())},onResume:function(J){this.inherited(arguments);this._toggleTime(!0);this._refreshHandle=this.on("feature-updates-result",n.hitch(this,this._evalRefresh));var Q=this._map,aa=this._getRenderer();if(J.firstOccurrence){if(this._fixRendererFields(),this._updateRequiredFieldsFromLabelingInfo(),this._checkFields(),
	this.clearSelection(),this._evalFeatureReduction(),this.timeInfo&&!this._trackManager&&(this._trackIdField||aa&&(aa.latestObservationRenderer||aa.trackRenderer))&&(this._trackManager=new U(this),this._trackManager.initialize(Q),this._childLayer=this._trackManager.container),aa&&"colors"in aa&&"blurRadius"in aa&&"maxPixelIntensity"in aa&&"esriGeometryPoint"==this.geometryType&&!this._heatmapManager&&(this._heatmapManager=new oa(this),this._heatmapManager.initialize(Q)),this._zoomConnect=w.connect(Q,
	"onZoomEnd",this,this._zoomEndHandler),this._refreshMaxAllowableOffset(),aa=this._mode)aa._init||aa.initialize(Q),aa.startup()}else this._zoomEndHandler(),this._mode&&this._mode.resume()},_zoomEndHandler:function(){var J=this._map;this._updateMaxOffset();this._prevScale=J.getScale();!this.suspended&&this._needsRefresh&&this.refresh()},_updateMaxOffset:function(){var J=this._map;J&&J.loaded&&this._autoGeneralize&&(this._isAutoSnapshotMode()?(J=this.getMaxAllowableOffset(),this._setMaxOffset(this._getMaxOffsetForScale(),
	!0),this._needsRefresh||(this._needsRefresh=J!=this.getMaxAllowableOffset())):this._setMaxOffset(J.extent.getWidth()/J.width,!J.extent.spatialReference.isWebMercator()))},_getMaxOffsetForScale:function(){if(this._map){var J=this._map.getScale(),Q=this._calculatedScale,aa=this._calcMaxOffset,N=this._prevScale;return J>=Q&&(null==N||N<Q)?aa:J<Q&&(null==N||N>=Q)?null:this.getMaxAllowableOffset()}},_calcMaxOffsetForAutoSnapshot:function(){var J=this._map;if(J&&this._canAutoGeneralize()&&this._isAutoSnapshotMode()&&
	this._autoGeneralize&&null==this.getMaxAllowableOffset()){var Q=this.generalizeForScale;this._calculatedScale=Q=this.maxScale?this.maxScale:this.minScale?Math.min(Q,this.minScale):Math.min(Q,Y.getScale(J,this.initialExtent));this._calcMaxOffset=J.extent.getWidth()/J.width/J.getScale()*Q}else this._calculatedScale=this._calcMaxOffset=void 0},_toggleTime:function(J){var Q=this._map;J&&this.timeInfo&&this.useMapTime&&Q?(this._mapTimeExtent=Q.timeExtent,this._timeConnect||(this._timeConnect=w.connect(Q,
	"onTimeExtentChange",this,this._timeChangeHandler))):(this._mapTimeExtent=null,w.disconnect(this._timeConnect),this._timeConnect=null)},_timeChangeHandler:function(J){this._mapTimeExtent=J;(J=this._mode)&&J.propertyChangeHandler(0)},_getOffsettedTE:function(J){var Q=this._timeOffset,aa=this._timeOffsetUnits;return J&&Q&&aa?J.offset(-1*Q,aa):J},_getTimeOverlap:function(J,Q){return J&&Q?J.intersection(Q):J||Q},_getTimeFilter:function(J){var Q=this.getTimeDefinition();if(Q){var aa=this._getTimeOverlap(Q,
	null);if(!aa)return[!1]}if(J){if(J=aa?this._getTimeOverlap(J,aa):J,!J)return[!1]}else J=aa;return[!0,J]},_getAttributeFilter:function(J){var Q=[],aa=this.getDefinitionExpression();aa&&Q.push(aa);J&&Q.push(J);this.subtypeField&&this.subtypeCode&&Q.push(this.subtypeField+" \x3d "+this.subtypeCode);1<Q.length&&(Q=l.map(Q,function(N){return"("+N+")"}));return Q.length?Q.join(" AND "):null},_applyQueryFilters:function(J,Q){J.where=this._getAttributeFilter(J.where);J.returnGeometry&&null==J.maxAllowableOffset&&
	!J.quantizationParameters&&(J.maxAllowableOffset=this._maxOffset,J.quantizationParameters=this._quantizationParameters);Q&&this.supportsAdvancedQueries&&(J.orderByFields=J.orderByFields||this.getOrderByFields());if(this.timeInfo)if(Q=this._getTimeFilter(J.timeExtent),Q[0])J.timeExtent=Q[1];else return!1;return!0},_add:function(J){var Q=this._selectionSymbol,aa=J.attributes,N=this.visibilityField;Q&&this._isSelOnly&&J.setSymbol(Q);if(N&&aa&&aa.hasOwnProperty(N))J[aa[N]?"show":"hide"]();return this.add.apply(this,
	arguments)},_remove:function(){return this.remove.apply(this,arguments)},_canDoClientSideQuery:function(J,Q){var aa=[],N=this._map,S;if((this._collection||!this._isTable&&N)&&!(J.text||J.where&&J.where!==this.getDefinitionExpression()||J.orderByFields&&J.orderByFields.length&&(S=this.getOrderByFields()||[])&&J.orderByFields.join()!==S.join()||J.outStatistics||J.returnDistinctValues)){S=this._isSnapshotMode();var ea=this._isSelOnly;Q=S?null:Q?this._getExtentOfTiles(N.extent):N.extent;if(N=J.geometry){if(ea||
	J.spatialRelationship!==ca.SPATIAL_REL_INTERSECTS||"extent"!==N.type||!S&&!Q.contains(N))return;aa.push(1)}if(Q=J.objectIds)if(S)aa.push(2);else{N=Q.length;var na=this._mode,ua=0,Aa;for(Aa=0;Aa<N;Aa++)na._getFeature(Q[Aa])&&ua++;if(ua===N)aa.push(2);else return}if(this.timeInfo)if(J=J.timeExtent,Q=this._mapTimeExtent,S)J&&aa.push(3);else if(ea){if(J)return}else if(Q)if(-1!==l.indexOf(aa,2))J&&aa.push(3);else if(-1!==l.indexOf(aa,1))J==Q&&aa.push(3);else return;else if(0<aa.length)J&&aa.push(3);else if(J)return;
	return 0<aa.length?aa:null}},_getAbsMid:function(J){return C.toAbsMid?C.toAbsMid(J):y.id.replace(/\/[^\/]*$/ig,"/")+J},_doQuery:function(J,Q,aa){var N=[],S=this.objectIdField,ea=this,na=new h,ua=new h,Aa=this.graphics;if(-1!==l.indexOf(Q,1)){var Ba=this.spatialIndex||this._map&&this._map.spatialIndex,Qa,La=J.geometry._normalize(null,!0);null==Ba&&Ta.autoSpatialIndexing?Qa=(this._map||this).addPlugin(this._getAbsMid("../plugins/spatialIndex")).then(n.hitch(this,n.partial(this._getFromIndex,La,Ba)),
	function(Ia){ua.resolve(n.hitch(this,n.partial(this._filterByExtent,Aa,La)))}):Ba&&(Qa=this._getFromIndex(La,Ba));Qa?Qa.then(function(Ia){for(var Na=0;Na<Ia.length;Na++)Ia[Na].results&&(N=N.concat(Ia[Na].results));ua.resolve(N)}).otherwise(function(Ia){ua.reject(Ia)}):ua.resolve(this._filterByExtent(Aa,La))}else ua.resolve(Aa);ua.then(function(Ia){N=Ia;if(-1!==l.indexOf(Q,2)){var Na=J.objectIds;N=l.filter(N,function(eb){return-1<l.indexOf(Na,eb.attributes[S])})}-1!==l.indexOf(Q,3)&&ea.timeInfo&&(Ia=
	J.timeExtent,N=ea._filterByTime(N,Ia.startTime,Ia.endTime).match);aa&&(N=l.map(N,function(eb){return eb.attributes[S]},this));na.resolve(N)});return na},_getFromIndex:function(J,Q){Q=Q||this.spatialIndex||this._map.spatialIndex;J instanceof Array||(J=[J]);var aa=this.id;return t(l.map(J,function(N){return Q.intersects(N,aa)}))},_filterByExtent:function(J,Q){for(var aa=[],N=0,S=J.length;N<S;N++){var ea=J[N],na=ea.geometry;na&&(this.normalization&&Q.length?(Q[0].intersects(na)||Q[1].intersects(na))&&
	aa.push(ea):Q.intersects(na)&&aa.push(ea))}return aa},_filterByTime:function(J,Q,aa){var N=this._startTimeField,S=this._endTimeField,ea;this._twoTimeFields||(ea=N||S);var na=x.isDefined,ua=[],Aa=[],Ba,Qa=J.length;Q=Q?Q.getTime():-Infinity;aa=aa?aa.getTime():Infinity;if(ea)for(Ba=0;Ba<Qa;Ba++){var La=J[Ba];var Ia=La.attributes;N=Ia[ea];N>=Q&&N<=aa?ua.push(La):Aa.push(La)}else for(Ba=0;Ba<Qa;Ba++)La=J[Ba],Ia=La.attributes,ea=Ia[N],Ia=Ia[S],ea=na(ea)?ea:-Infinity,Ia=na(Ia)?Ia:Infinity,ea>=Q&&ea<=aa||
	Ia>=Q&&Ia<=aa||Q>=ea&&aa<=Ia?ua.push(La):Aa.push(La);return{match:ua,noMatch:Aa}},_getSizeVariables:function(J){return J&&l.filter(J.getVisualVariablesForType("sizeInfo",!1),function(Q){return!(!Q.field&&!Q.valueExpression)})},_needClientSideSorting:function(J){return this._collection?!(!J||!J.length):l.some(J,function(Q){return!!Q.valueExpression})},_sortFeatures:function(J){var Q=this.renderer,aa=this._getSizeVariables(Q);if(J&&1<J.length&&this._needClientSideSorting(aa)){var N=aa[0],S=this;J.sort(function(ea,
	na){ea._layer||(ea._layer=S);na._layer||(na._layer=S);ea=Q._getDataValue(ea,N,"sizeInfo");na=Q._getDataValue(na,N,"sizeInfo");return null==ea?-1:null==na?1:na-ea})}return J},_resolve:function(J,Q,aa,N,S){Q&&this[Q].apply(this,J);aa&&aa.apply(null,J);N&&m._resDfd(N,J,S)},_getShallowClone:function(J){var Q=new ca,aa;for(aa in J)J.hasOwnProperty(aa)&&(Q[aa]=J[aa]);return Q},_canFetchPBF:function(){return!!(Ya&&bb&&this.supportsFormatPBF)},_canFetchPBFForQuery:function(J){return!(!this._canFetchPBF()||
	!this._isCacheHintEnabled(J)&&this._isAutoSnapshotMode()||!(J.quantizationParameters||!this.isEditable()&&this.supportsQuantizationEditMode)||J.outStatistics)},_enableEditModeQuantization:function(J,Q){J&&Q&&!J.quantizationParameters&&(J.quantizationParameters={mode:"edit"})},_enableCacheHint:function(J,Q){var aa=this.advancedQueryCapabilities;aa&&aa.supportsQueryWithCacheHint?null==J.cacheHint&&(J.cacheHint=!0):aa&&aa.supportsQueryWithResultType&&this.reHostedFS.test(this.url)&&!J.resultType&&(J.resultType=
	Q||"coherent")},_isCacheHintSupported:function(){var J=this.advancedQueryCapabilities;return J?!!(J.supportsQueryWithCacheHint||J.supportsQueryWithResultType&&this.reHostedFS.test(this.url)):!1},_isCacheHintEnabled:function(J){var Q=this.advancedQueryCapabilities;return J&&Q?!!(Q.supportsQueryWithCacheHint&&J.cacheHint||Q.supportsQueryWithResultType&&this.reHostedFS.test(this.url)&&("coherent"===J.resultType||"tile"===J.resultType)):!1},_query:function(J,Q,aa,N,S,ea){var na=this,ua=this._map;ea=ea&&
	ea.snapToTiles;var Aa=new h(m._dfdCanceller),Ba=aa,Qa,La,Ia;if("executeRelationshipQuery"!==J){Ba=this._getShallowClone(aa);var Na=this.getOutFields();Ba.outFields||(Ba.outFields=Na);Ba.outFields&&Ba.outFields.length&&(La=-1<l.indexOf(Na,"*")?!1:!l.every(Ba.outFields,function(ab){return-1<l.indexOf(Na,ab)}));Ba.returnGeometry=aa.hasOwnProperty("returnGeometry")?aa.returnGeometry:!aa.outStatistics;Ba.returnGeometry&&(Ba.multipatchOption=this.multipatchOption,null!=Ba.maxAllowableOffset||Ba.quantizationParameters)&&
	(aa=null!=Ba.maxAllowableOffset?Ba.maxAllowableOffset:Ba.quantizationParameters.tolerance,null!=aa&&aa!==this.getMaxAllowableOffset()&&(Ia=!0));ua&&(ua=ua&&ua.spatialReference,(aa=Ba.outSpatialReference)?Qa=!aa.equals(ua):Ba.outSpatialReference=new r(ua.toJson()));ea&&(ua=Ba.geometry)&&"extent"===ua.type&&(Ba.geometry=this._getExtentOfTiles(ua),ua!==Ba.geometry&&this._enableCacheHint(Ba));if(!this._applyQueryFilters(Ba,"execute"===J&&!Ba.outStatistics)){switch(J){case "execute":var eb=new W({features:[]});
	break;case "executeForIds":eb=[];break;case "executeForCount":eb=0;break;case "executeForExtent":eb={}}this._resolve([eb],Q,N,Aa);return Aa}if(ea="executeForExtent"!==J&&!Qa&&!La&&!Ia&&this._canDoClientSideQuery(Ba,ea))return Aa._pendingDfd=e(this._doQuery(Ba,ea,"executeForIds"===J||"executeForCount"===J)),Aa._pendingDfd.then(function(ab){switch(J){case "execute":eb=new W;eb.features=ab;break;case "executeForIds":eb=ab;break;case "executeForCount":eb=ab.length}na._resolve([eb],Q,N,Aa)}),Aa}if(this._collection)return this._resolve([Error("FeatureLayer::_query - "+
	this.invalidParams)],null,S,Aa,!0),Aa;if(this.loaded&&!this.isQueryable())return this._resolve([Error("Layer does not support query capability.")],null,S,Aa,!0),Aa;this._ts&&(Ba._ts=(new Date).getTime());ea="execute"===J&&this._canFetchPBFForQuery(Ba);this._enableEditModeQuantization(Ba,ea);(Aa._pendingDfd=this._task[J](Ba,null,null,ea?{format:"pbf"}:null)).addCallbacks(function(ab){var gb=!!Ba.outStatistics||Qa||La||Ia;if("execute"===J||"executeRelationshipQuery"===J)if("execute"===J){var cb=ab.features;
	var kb=cb.length;for(--kb;0<=kb;kb--)if(cb[kb]._layer=na,!gb&&!na._isTable){var ub=na._mode._getFeature(cb[kb].attributes[na.objectIdField]);ub&&cb.splice(kb,1,ub)}}else for(ub in ab)if(ab.hasOwnProperty(ub))for(cb=ab[ub].features,kb=cb.length,--kb;0<=kb;kb--)cb[kb]._layer=na;na._resolve([ab],Q,N,Aa)},function(ab){na._resolve([ab],null,S,Aa,!0)});return Aa},_getExtentOfTiles:function(J){var Q=this._isOnDemandMode()&&this._mode._gridLayer||X.createFromFeatureLayer({layer:this}),aa=this.getMap();aa=
	aa&&aa.getTargetExtent(J);return Q&&aa&&Q.getExtentOfIntersectingCells(aa)||J},_convertFeaturesToJson:function(J,Q,aa,N){var S=[],ea=this._selectionSymbol,na=this.visibilityField,ua,Aa=this.objectIdField;this.loaded&&(aa||N)&&(ua=l.filter(this.fields,function(eb){return!1===eb.editable&&(!N||eb.name!==Aa)}));for(aa=0;aa<J.length;aa++){var Ba=J[aa],Qa={},La=Ba.geometry,Ia=Ba.attributes,Na=Ba.symbol;!La||N&&this.loaded&&!this.allowGeometryUpdates||(Qa.geometry=La.toJson());na?(Qa.attributes=Ia=n.mixin({},
	Ia),Ia[na]=Ba.visible?1:0):Ia&&(Qa.attributes=n.mixin({},Ia));Qa.attributes&&ua&&ua.length&&l.forEach(ua,function(eb){delete Qa.attributes[eb.name]});Na&&Na!==ea&&(Qa.symbol=Na.toJson());S.push(Qa)}return Q?S:k.toJson(S)},_selectHandler:function(J,Q,aa,N,S){switch(Q){case Ma.SELECTION_NEW:this.clearSelection(!0);var ea=!0;break;case Ma.SELECTION_ADD:ea=!0;break;case Ma.SELECTION_SUBTRACT:ea=!1}N=J.features;var na=this._mode,ua=[],Aa=this.objectIdField;if(ea)for(ea=0;ea<N.length;ea++){var Ba=N[ea];
	var Qa=Ba.attributes[Aa];Ba=na._addFeatureIIf(Qa,Ba);ua.push(Ba);this._selectFeatureIIf(Qa,Ba,na)}else for(ea=0;ea<N.length;ea++)Ba=N[ea],Qa=Ba.attributes[Aa],this._unSelectFeatureIIf(Qa,na),Qa=na._removeFeatureIIf(Qa),ua.push(Qa||Ba);this._isSelOnly&&na._applyTimeFilter(!0);this._isImageService&&10.7>this.version&&void 0===J.exceededTransferLimit&&(J.exceededTransferLimit=N.length===this.maxRecordCount);this._hasPartialSelectedFeatures=!!J.exceededTransferLimit;this._resolve([ua,Q,J.exceededTransferLimit?
	{queryLimitExceeded:!0}:null],"onSelectionComplete",aa,S);if(J.exceededTransferLimit)this.onQueryLimitExceeded()},_selectFeatureIIf:function(J,Q,aa){var N=this._selectedFeatures,S=N[J];S||(aa._incRefCount(J),N[J]=Q,this._isTable||(this._setSelectSymbol(Q),Q.attr("data-selected","")));return S||Q},_unSelectFeatureIIf:function(J,Q){var aa=this._selectedFeatures[J];aa&&(Q._decRefCount(J),delete this._selectedFeatures[J],this._isTable||(this._setUnSelectSymbol(aa),aa.attr("data-selected")));return aa},
	_setSelectSymbol:function(J){var Q=this._selectionSymbol;Q&&!this._isSelOnly&&J.setSymbol(Q)},_setUnSelectSymbol:function(J){var Q=this._selectionSymbol;Q&&!this._isSelOnly&&Q===J.symbol&&J.setSymbol(null,!0)},_getOutFields:function(){var J=[this.objectIdField,this.typeIdField,this.creatorField,this._startTimeField,this._endTimeField,this._trackIdField].concat(this._requiredFields).concat(this.dataAttributes);J=l.filter(J,function(aa,N,S){return!!aa&&l.indexOf(S,aa)===N});var Q=n.clone(this._outFields);
	if(Q){if(-1!==l.indexOf(Q,"*"))return Q;l.forEach(J,function(aa){-1===l.indexOf(Q,aa)&&Q.push(aa)});return Q}return J},_checkFields:function(J){var Q=J||this._getOutFields();l.forEach(Q,function(aa){"*"!==aa&&(this._getField(aa)||console.debug("esri.layers.FeatureLayer: "+x.substitute({url:this.url,field:aa},"unable to find '${field}' field in the layer 'fields' information [url: ${url}]")))},this);J||this._isTable||this._fserver||this._collection||this._isStream||l.some(this.fields,function(aa){return aa&&
	"esriFieldTypeGeometry"===aa.type?!0:!1})||console.debug("esri.layers.FeatureLayer: "+x.substitute({url:this.url},"unable to find a field of type 'esriFieldTypeGeometry' in the layer 'fields' information. If you are using a map service layer, features will not have geometry [url: ${url}]"))},_fixFieldCase:function(J,Q,aa){var N=J&&J[Q],S;if(N&&!n.isFunction(N)){if(S=!this._getField(N)&&this._getField(N,!0))N=J[Q]=S.name;aa&&aa.push(N)}return N},_fixRendererFields:function(){var J=this.renderer;this._orderBy=
	null;this._requiredFields=[];if(J&&0<this.fields.length){var Q=[],aa;J=l.filter([J,J.observationRenderer,J.latestObservationRenderer,J.trackRenderer],x.isDefined);var N=[].concat(J);l.forEach(J,function(S){l.forEach(S.rendererInfos,function(ea){ea.renderer&&N.push(ea.renderer)})});l.forEach(N,function(S){this._fixFieldCase(S,"attributeField",Q);this._fixFieldCase(S,"attributeField2",Q);this._fixFieldCase(S,"attributeField3",Q);this._fixFieldCase(S.rotationInfo,"field",Q);(aa=this._fixFieldCase(S.sizeInfo,
	"field",Q))&&!this._orderBy&&(this._orderBy=[aa+" DESC"]);this._fixFieldCase(S.sizeInfo,"normalizationField",Q);this._fixFieldCase(S.colorInfo,"field",Q);this._fixFieldCase(S.colorInfo,"normalizationField",Q);this._fixFieldCase(S.field,"field",Q);this._fixFieldCase(S.opacityInfo,"field",Q);this._fixFieldCase(S.opacityInfo,"normalizationField",Q);l.forEach(S.visualVariables,function(na){aa=this._fixFieldCase(na,"field",Q);"sizeInfo"===na.type&&aa&&!this._orderBy&&(this._orderBy=[aa+" DESC"]);this._fixFieldCase(na,
	"normalizationField",Q)},this);var ea=l.map(S.getFieldsUsedInExpressions(),function(na){var ua=this.getField(na);return ua?ua.name:na},this);Q=Q.concat(ea);this._orderBy||!S.addBreak||n.isFunction(S.attributeField)||!S.backgroundFillSymbol&&!this._hasSizeDiff(S)||(this._orderBy=[S.attributeField+" DESC"])},this);this._requiredFields=l.filter(Q,x.isDefined)}},_hasSizeDiff:function(J){var Q=Number.MAX_VALUE,aa=-Number.MAX_VALUE,N,S;l.forEach(J.infos,function(ea){if(S=ea.symbol){N=0;switch(S.type){case "simplemarkersymbol":N=
	S.size;break;case "picturemarkersymbol":N=(S.width+S.height)/2;break;case "simplelinesymbol":case "cartographiclinesymbol":N=S.width;break;case "simplefillsymbol":case "picturefillsymbol":N=S.outline&&S.outline.width}N&&(Q=Math.min(Q,N),aa=Math.max(aa,N))}});return Q!==Number.MAX_VALUE&&aa!==-Number.MAX_VALUE&&1<Math.abs(aa-Q)},getOrderByFields:function(){var J=this.orderByFields||this._orderBy;return this.supportsAdvancedQueries&&J?l.filter(J,function(Q){Q=Q.split(" ")[0];return!!this._getField(Q,
	!0)},this):null},_createFields:function(J){var Q=J?J.length:0,aa,N=[];for(aa=0;aa<Q;aa++)N.push(new L(J[aa]));this.fields=N},_createFieldsIndex:function(){if(this._fieldsIndexDirty){var J=this.fields,Q=J?J.length:0;if(50<Q&&this._canUseFieldsIndex()){var aa=new Map;for(var N=new Map,S=0;S<Q;S++){var ea=J[S];aa.set(ea.name,ea);N.set(ea.name.toLowerCase(),ea)}aa={caseSensitive:aa,caseInsensitive:N}}this._fieldsIndex=aa;this._fieldsIndexDirty=!1}},_canUseFieldsIndex:function(){var J=q.Map;return!("function"!==
	typeof q.Proxy||"function"!==typeof q.Proxy.revocable||"function"!==typeof J||!J.prototype||"function"!==typeof J.prototype.set)},_getField:function(J,Q){var aa=this.fields;if(!aa||0===aa.length)return null;Q&&(J=J.toLowerCase());this._createFieldsIndex();var N=this._fieldsIndex;if(N)return N=Q?N.caseInsensitive:N.caseSensitive,N.get(J);var S;l.some(aa,function(ea){var na=!1;(na=Q?ea&&ea.name.toLowerCase()===J?!0:!1:ea&&ea.name===J?!0:!1)&&(S=ea);return na});return S},_getDateOpts:function(){this._dtOpts||
	(this._dtOpts={properties:l.map(l.filter(this.fields,function(J){return!(!J||"esriFieldTypeDate"!==J.type)}),function(J){return J.name})});return this._dtOpts},_applyNormalized:function(J,Q){J&&Q&&l.forEach(J,function(aa,N){aa&&Q[N]&&aa.setGeometry(Q[N])})},_editHandler:function(J,Q,aa,N,S,ea){S=J.addResults;var na=J.updateResults;J=J.deleteResults;var ua,Aa=this.objectIdField,Ba=this._mode,Qa=this._isTable;var La=this.editFieldsInfo;var Ia=this.getOutFields()||[];var Na=La&&La.creatorField,eb=La&&
	La.creationDateField,ab=La&&La.editorField,gb=La&&La.editDateField;La=La&&La.realm;-1===l.indexOf(Ia,"*")&&(Na&&-1===l.indexOf(Ia,Na)&&(Na=null),eb&&-1===l.indexOf(Ia,eb)&&(eb=null),ab&&-1===l.indexOf(Ia,ab)&&(ab=null),gb&&-1===l.indexOf(Ia,gb)&&(gb=null));var cb=eb||gb?(new Date).getTime():null,kb=Na||ab?this.getUserId():void 0;kb&&La&&(kb=kb+"@"+La);if(S){var ub=this.globalIdField;for(La=0;La<S.length;La++)if(S[La]=new Ea(S[La]),!Qa){var ob=S[La];if(ob.success){var db=ob.objectId;Ia=Q[La];(ua=Ia._graphicsLayer)&&
	ua!==this&&ua.remove(Ia);ua=Ia.attributes||{};ua[Aa]=db;db=ob.globalId;ub&&db&&(ua[ub]=db);Na&&(ua[Na]=kb);ab&&(ua[ab]=kb);eb&&(ua[eb]=cb);gb&&(ua[gb]=cb);Ia.setAttributes(ua);Ba._init&&Ba.drawFeature(Ia)}}}if(na)for(La=0;La<na.length;La++)if(na[La]=new Ea(na[La]),!Qa&&(ob=na[La],ob.success)){db=ob.objectId;Ia=aa[db];if(Q=Ba._getFeature(db))Q.geometry!==Ia.geometry&&Ia.geometry&&Q.setGeometry(xa.fromJson(Ia.geometry.toJson())),Q.attributes!==Ia.attributes&&Ia.attributes&&Q.setAttributes(n.mixin(Q.attributes,
	Ia.attributes)),this._repaint(Q,db);Ia=Q||Ia;ua=Ia.attributes||{};ab&&(ua[ab]=kb);gb&&(ua[gb]=cb);Ia.setAttributes(ua)}if(J){aa=[];for(La=0;La<J.length;La++)if(J[La]=new Ea(J[La]),!Qa&&(ob=J[La],ob.success&&(db=ob.objectId,Ia=Ba._getFeature(db))))this._unSelectFeatureIIf(db,Ba)&&aa.push(Ia),Ia._count=0,Ba._removeFeatureIIf(db);if(0<aa.length)this.onSelectionComplete(aa,Ma.SELECTION_SUBTRACT)}this._resolve([S,na,J],"onEditsComplete",N,ea)},_sendAttachment:function(J,Q,aa,N,S){var ea=this;return u({url:this._url.path+
	"/"+Q+"/"+("add"===J?"addAttachment":"updateAttachment"),form:aa,content:n.mixin(this._url.query,{f:"json",token:this._getToken()||void 0}),callbackParamName:"callback.html",handleAs:"json"}).addCallback(function(na){var ua="add"===J?"onAddAttachmentComplete":"onUpdateAttachmentComplete";na=new Ea(na["add"===J?"addAttachmentResult":"updateAttachmentResult"]);na.attachmentId=na.objectId;na.objectId=Q;ea._resolve([na],ua,N);return na}).addErrback(function(na){ea._resolve([na],null,S,null,!0)})},_repaint:function(J,
	Q,aa){Q=x.isDefined(Q)?Q:J.attributes[this.objectIdField];Q in this._selectedFeatures&&this._selectionSymbol||J.setSymbol(J.symbol,aa)},_getKind:function(J){var Q=this._trackManager;return Q?Q.isLatestObservation(J)?1:0:0}});n.mixin(Ma,{MODE_SNAPSHOT:0,MODE_ONDEMAND:1,MODE_SELECTION:2,SELECTION_NEW:3,SELECTION_ADD:4,SELECTION_SUBTRACT:5,MODE_AUTO:6,MODE_STREAM:7,POPUP_NONE:"esriServerHTMLPopupTypeNone",POPUP_HTML_TEXT:"esriServerHTMLPopupTypeAsHTMLText",POPUP_URL:"esriServerHTMLPopupTypeAsURL"});
	K._createWrappers(Ma);Object.defineProperty(Ma.prototype,"graphics",{get:function(){return this._hasOnDemandDrillMode()?this._mode.graphics:this._graphicsVal},set:function(J){this._graphicsVal=J}});Object.defineProperty(Ma.prototype,"name",{get:function(){return this.arcgisProps&&this.arcgisProps.title?this.arcgisProps.title:this._name},set:function(J){this._name=J;this.loaded&&this.arcgisProps&&(this.arcgisProps.title=null)}});Object.defineProperty(Ma.prototype,"fields",{get:function(){return this._fields},
	set:function(J){J&&this._canUseFieldsIndex()&&(J=new Proxy(J,{set:n.hitch(this,function(Q,aa,N){if(aa)if("length"===aa)this._fieldsIndexDirty=!0;else{var S=Number(aa);"number"!==typeof S||isNaN(S)||(this._fieldsIndexDirty=!0)}Q[aa]=N;return!0})}));this._fields=J;this._fieldsIndexDirty=!0}});g("extend-esri")&&n.setObject("layers.FeatureLayer",Ma,p);return Ma})},"esri/arcadeProfiles/labelingProfile":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../promiseList ../arcade/Feature ../support/expressionUtils ./utils".split(" "),
	function(C,y,b,w,n,l,k,h){C=new (C(null,{declaredClass:"esri.arcadeProfiles.LabelingProfile",defaults:{context:{vars:{$feature:"any"}}},initialize:function(f){var d=[];h.hasGeometryOperations(f)&&d.push(k.enableGeometryOperations());return n(d)},isAsync:function(f){return!1},parse:function(f){return k.createSyntaxTree(f.expression)},compile:function(f){var d=y.clone(this.defaults.context);return f.syntaxTree?k.createFunction(f.syntaxTree,d):null},getEvalOptions:function(f){var d=f.feature;return{context:{vars:{$feature:d&&
	f.expression.hasVariable("$feature")?l.createFromGraphicLikeObject(d.geometry,d.attributes,f.layer):null},spatialReference:f.spatialReference}}}}));b("extend-esri")&&y.setObject("arcadeProfiles.labelingProfile",C,w);return C})},"esri/tasks/QueryTask":function(){define("require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/Deferred dojo/_base/json dojo/DeferredList ../kernel ../sniff ../request ../deferredUtils ../geometry/Extent ../geometry/normalizeUtils ./Task ./FeatureSet".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t){var g=f("esri-pbf"),p=y(null,{url:null,query:null,requestOptions:null,pagination:null,pageSize:null,_fetchDfd:null,_startPage:null,_result:null,constructor:function(u){this._handleSuccess=b.hitch(this,this._handleSuccess);this._handleError=b.hitch(this,this._handleError);b.mixin(this,u);null==this.pagination&&(this.pagination=!1);null==this.pageSize&&(this.pageSize=1E3)},execute:function(){var u=new n(this._canceler);this._fetchDfd=u;this._result=null;this._sendRequest();
	return u.promise},_canceler:function(u){var A=u._pendingRequest;if(!u.isFulfilled()&&A&&!A.isFulfilled()){A.cancel();var m=A.results&&A.results[1]}u._pendingRequest=null;return m},_sendRequest:function(u){var A=this.query;this.pagination&&(this._startPage=A.resultOffset=null==u?0:u,A.resultRecordCount=this.pageSize);u=this.requestOptions;this._fetchDfd._pendingRequest=d({url:this.url,content:A,handleAs:"pbf"===A.f?"arraybuffer":"json",callbackParamName:"callback",timeout:u&&u.timeout},u);this._fetchDfd._pendingRequest.then(this._handleSuccess).otherwise(this._handleError)},
	_handleSuccess:function(u){this.pagination?(u.exceededTransferLimit&&this._sendRequest(this._startPage+this.pageSize),this._result?this._result.features=this._result.features.concat(u.features):this._result=u,this._fetchDfd.progress(u),u.exceededTransferLimit||this._fetchDfd.resolve(this._result)):(this._fetchDfd.progress(u),this._fetchDfd.resolve(u))},_handleError:function(u){this._fetchDfd.reject(u)}}),x=y(q,{declaredClass:"esri.tasks.QueryTask",_eventMap:{complete:["featureSet"],"execute-for-count-complete":["count"],
	"execute-for-ids-complete":["objectIds"],"execute-relationship-query-complete":["featureSets"]},constructor:function(u,A){this._handler=b.hitch(this,this._handler);this._relationshipQueryHandler=b.hitch(this,this._relationshipQueryHandler);this._executeForIdsHandler=b.hitch(this,this._executeForIdsHandler);this._countHandler=b.hitch(this,this._countHandler);this._extentHandler=b.hitch(this,this._extentHandler);this.source=A&&A.source;this.gdbVersion=A&&A.gdbVersion;this.registerConnectEvents()},__msigns:[{n:"execute",
	c:4,a:[{i:0,p:["geometry"]}],e:2},{n:"rawExecute",c:2,a:[{i:0,p:["geometry"]}],e:2},{n:"executeForIds",c:3,a:[{i:0,p:["geometry"]}],e:2},{n:"executeForCount",c:3,a:[{i:0,p:["geometry"]}],e:2},{n:"executeForExtent",c:3,a:[{i:0,p:["geometry"]}],e:2}],onComplete:function(){},onRawExecuteComplete:function(){},onExecuteRelationshipQueryComplete:function(){},onExecuteForIdsComplete:function(){},onExecuteForCountComplete:function(){},onExecuteForExtentComplete:function(){},execute:function(u,A,m,v,r){var B=
	r.assembly;u=this._encode(b.mixin({},this._url.query,{f:v&&v.format||"json"},u.toJson(B&&B[0])));var D=this._handler,G=this._errorHandler;this.source&&(v={source:this.source.toJson()},u.layer=l.toJson(v));this.gdbVersion&&(u.gdbVersion=this.gdbVersion);var z="pbf"===u.f;if(z){var E;g||(E="QueryTask.execute: 'pbf' format is not supported in your browser.");if(E)return u=new n,u.addErrback(function(H){G(H,m,r.dfd)}),u.reject(Error(E)),u}E=this.requestOptions;E=d({url:this._url.path+"/query",content:u,
	callbackParamName:"callback",handleAs:z?"arraybuffer":"json",timeout:E&&E.timeout},E);u=[E];z&&u.push(x.loadPBFReader());(new k(u)).then(function(H){r.dfd.isFulfilled()||(H=H[0],H[0]?D(H[1],z,A,m,r.dfd):G(H[1],m,r.dfd))});return E},rawExecute:function(u,A,m){A=A||{};u=this._encode(b.mixin({},this._url.query,{f:A.format||"json"},u.toJson(m.assembly&&m.assembly[0])));this.source&&(u.layer=l.toJson({source:this.source.toJson()}));this.gdbVersion&&(u.gdbVersion=this.gdbVersion);return(new p({url:this._url.path+
	"/query",query:u,requestOptions:this.requestOptions,pagination:A.pagination,pageSize:A.pageSize})).execute().then(null,null,function(v){m.dfd.progress(v)}).then(b.hitch(this,function(v){this._successHandler([v],"onRawExecuteComplete",null,m.dfd)})).otherwise(b.hitch(this,function(v){this._errorHandler(v,null,m.dfd)}))},executeRelationshipQuery:function(u,A,m){u=this._encode(b.mixin({},this._url.query,{f:"json"},u.toJson()));var v=this._relationshipQueryHandler,r=this._errorHandler;this.gdbVersion&&
	(u.gdbVersion=this.gdbVersion);var B=new n(a._dfdCanceller),D=this.requestOptions,G=this._url.path;this.source&&void 0!==this.source.mapLayerId&&null!==this.source.mapLayerId&&G.endsWith("/dynamicLayer")&&(G=G.slice(0,-13),G=G+"/"+this.source.mapLayerId);B._pendingDfd=d({url:G+"/queryRelatedRecords",content:u,callbackParamName:"callback",timeout:D&&D.timeout,load:function(z,E){v(z,E,A,m,B)},error:function(z){r(z,m,B)}},D);return B},executeForIds:function(u,A,m,v){var r=v.assembly;u=this._encode(b.mixin({},
	this._url.query,{f:"json",returnIdsOnly:!0},u.toJson(r&&r[0])));var B=this._executeForIdsHandler,D=this._errorHandler;this.source&&(r={source:this.source.toJson()},u.layer=l.toJson(r));this.gdbVersion&&(u.gdbVersion=this.gdbVersion);r=this.requestOptions;return d({url:this._url.path+"/query",content:u,callbackParamName:"callback",timeout:r&&r.timeout,load:function(G,z){B(G,z,A,m,v.dfd)},error:function(G){D(G,m,v.dfd)}},r)},executeForCount:function(u,A,m,v){var r=v.assembly;u=this._encode(b.mixin({},
	this._url.query,{f:"json",returnIdsOnly:!0,returnCountOnly:!0},u.toJson(r&&r[0])));var B=this._countHandler,D=this._errorHandler;this.source&&(r={source:this.source.toJson()},u.layer=l.toJson(r));this.gdbVersion&&(u.gdbVersion=this.gdbVersion);r=this.requestOptions;return d({url:this._url.path+"/query",content:u,callbackParamName:"callback",timeout:r&&r.timeout,load:function(G,z){B(G,z,A,m,v.dfd)},error:function(G){D(G,m,v.dfd)}},r)},executeForExtent:function(u,A,m,v){var r=v.assembly;u=this._encode(b.mixin({},
	this._url.query,{f:"json",returnExtentOnly:!0,returnCountOnly:!0},u.toJson(r&&r[0])));var B=this._extentHandler,D=this._errorHandler;this.source&&(r={source:this.source.toJson()},u.layer=l.toJson(r));this.gdbVersion&&(u.gdbVersion=this.gdbVersion);r=this.requestOptions;return d({url:this._url.path+"/query",content:u,callbackParamName:"callback",timeout:r&&r.timeout,load:function(G,z){B(G,z,A,m,v.dfd)},error:function(G){D(G,m,v.dfd)}},r)},_handler:function(u,A,m,v,r){try{u&&A&&(u=x.pbfDeps.optimizedFeatures.convertToFeatureSet(x.pbfDeps.pbfQueryUtils.parsePBFFeatureQuery(u)));
	var B=new t(u);this._successHandler([B],"onComplete",m,r)}catch(D){this._errorHandler(D,v,r)}},_relationshipQueryHandler:function(u,A,m,v,r){try{var B=u.geometryType,D=u.spatialReference,G={};w.forEach(u.relatedRecordGroups,function(z){var E={};E.geometryType=B;E.spatialReference=D;E.features=z.relatedRecords;E=new t(E);if(null!=z.objectId)G[z.objectId]=E;else for(var H in z)z.hasOwnProperty(H)&&"relatedRecords"!==H&&(G[z[H]]=E)});this._successHandler([G],"onExecuteRelationshipQueryComplete",m,r)}catch(z){this._errorHandler(z,
	v,r)}},_executeForIdsHandler:function(u,A,m,v,r){try{this._successHandler([u.objectIds],"onExecuteForIdsComplete",m,r)}catch(B){this._errorHandler(B,v,r)}},_countHandler:function(u,A,m,v,r){try{var B=u.features,D=u.objectIds;if(D)var G=D.length;else{if(B)throw Error("Unable to perform query. Please check your parameters.");G=u.count}this._successHandler([G],"onExecuteForCountComplete",m,r)}catch(z){this._errorHandler(z,v,r)}},_extentHandler:function(u,A,m,v,r){try{u.extent&&(u.extent=new c(u.extent)),
	this._successHandler([u],"onExecuteForExtentComplete",m,r)}catch(B){this._errorHandler(B,v,r)}}});x.loadPBFReader=function(){var u=new n;x.pbfDeps?u.resolve():C(["./support/pbfDeps"],function(A){x.pbfDeps=A;u.isFulfilled()||u.resolve()});return u.promise};e._createWrappers(x);f("extend-esri")&&b.setObject("tasks.QueryTask",x,h);return x})},"dojo/DeferredList":function(){define(["./_base/kernel","./_base/Deferred","./_base/array"],function(C,y,b){C.DeferredList=function(w,n,l,k,h){var f=[];y.call(this);
	var d=this;0!==w.length||n||this.resolve([0,[]]);var a=0;b.forEach(w,function(c,e){function q(t,g){f[e]=[t,g];a++;a===w.length&&d.resolve(f)}c.then(function(t){n?d.resolve([e,t]):q(!0,t)},function(t){l?d.reject(t):q(!1,t);if(k)return null;throw t;})})};C.DeferredList.prototype=new y;C.DeferredList.prototype.gatherResults=function(w){w=new C.DeferredList(w,!1,!0,!1);w.addCallback(function(n){var l=[];b.forEach(n,function(k){l.push(k[1])});return l});return w};return C.DeferredList})},"esri/tasks/Task":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/json dojo/has ../kernel ../deferredUtils ../urlUtils ../Evented".split(" "),
	function(C,y,b,w,n,l,k,h){C=C(h,{declaredClass:"esri.tasks._Task",_eventMap:{error:["error"],complete:["result"]},constructor:function(f,d){f&&y.isString(f)&&(this._url=k.urlToObject(this.url=f));d&&d.requestOptions&&(this.requestOptions=d.requestOptions);this.normalization=!0;this._errorHandler=y.hitch(this,this._errorHandler);this.registerConnectEvents()},_useSSL:function(){var f=this._url,d=/^http:/i;this.url&&(this.url=this.url.replace(d,"https:"));f&&f.path&&(f.path=f.path.replace(d,"https:"))},
	_encode:function(f,d,a){var c={},e;for(e in f)if("declaredClass"!==e){var q=f[e];var t=typeof q;if(null!==q&&void 0!==q&&"function"!==t)if(y.isArray(q)){c[e]=[];var g=q.length;for(t=0;t<g;t++)c[e][t]=this._encode(q[t])}else"object"===t?q.toJson&&(t=q.toJson(a&&a[e]),"esri.tasks.FeatureSet"===q.declaredClass&&t.spatialReference&&(t.sr=t.spatialReference,delete t.spatialReference),c[e]=d?t:b.toJson(t)):c[e]=q}return c},_successHandler:function(f,d,a,c){d&&this[d].apply(this,f);a&&a.apply(null,f);c&&
	l._resDfd(c,f)},_errorHandler:function(f,d,a){this.onError(f);d&&d(f);a&&a.errback(f)},setNormalization:function(f){this.normalization=f},onError:function(){}});w("extend-esri")&&(n.Task=C);return C})},"esri/tasks/FeatureSet":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../lang ../graphic ../SpatialReference ../graphicsUtils ../geometry/Polygon ../geometry/jsonUtils ../symbols/jsonUtils".split(" "),function(C,y,b,w,n,l,k,h,f,d,a,c){C=C(null,{declaredClass:"esri.tasks.FeatureSet",
	constructor:function(e,q){if(e){y.mixin(this,e);var t=this.features=this.features||[],g=e.spatialReference;g=this.spatialReference=a.createInstance(h.simpleConstructor,g);var p=a.getGeometryType(e.geometryType);this.geometryType=e.geometryType;e.fields&&(this.fields=e.fields);e=a.supportsLazyUnquantization(this.geometryType);var x=a.unquantizeFunction(this.geometryType,this.transform),u=!!(q&&e&&x),A=p&&(u?p.accessorConstructor:p.simpleConstructor);b.forEach(t,function(m,v){var r=a.createInstance(k.simpleConstructor),
	B=m.geometry;if(p&&B){var D=r.geometry=a.createInstance(A,u?null:B);D.setSpatialReference(B.spatialReference?a.createInstance(h.simpleConstructor,B.spatialReference):g);u&&D.setupLazyUnquantization(x,B)}r.symbol=m.symbol?c.fromJson(m.symbol):null;r.attributes=m.attributes;t[v]=r});u||this._hydrate()}else this.features=[]},displayFieldName:null,geometryType:null,spatialReference:null,fieldAliases:null,toJson:function(e){var q={};this.displayFieldName&&(q.displayFieldName=this.displayFieldName);this.fields&&
	(q.fields=this.fields);this.spatialReference?q.spatialReference=this.spatialReference.toJson():this.features[0]&&this.features[0].geometry&&(q.spatialReference=this.features[0].geometry.spatialReference.toJson());this.features[0]&&(this.features[0].geometry&&(q.geometryType=a.getJsonType(this.features[0].geometry)),q.features=f._encodeGraphics(this.features,e));q.geometryType=q.geometryType||this.geometryType;q.exceededTransferLimit=this.exceededTransferLimit;q.transform=this.transform;return l.fixJson(q)},
	_hydrate:function(){a.unquantize(this.features,this.geometryType,this.transform);this.transform=null},quantize:function(e){if(!this.geometryType)return this.transform=null,this;var q=e.translate[0],t=e.translate[1],g=e.scale[0],p=e.scale[1],x=this.features,u=function(r,B,D){var G,z=[];var E=0;for(G=r.length;E<G;E++){var H=r[E];if(0<E){var I=B(H[0]);H=D(H[1]);if(I!==O||H!==T){z.push([I-O,H-T]);var O=I;var T=H}}else O=B(H[0]),T=D(H[1]),z.push([O,T])}return 0<z.length?z:null},A=function(r,B,D){if("esriGeometryPoint"===
	r)return function(G){G.x=B(G.x);G.y=D(G.y);return G};if("esriGeometryPolyline"===r||"esriGeometryPolygon"===r)return function(G){var z;var E=G.rings||G.paths;var H=[];var I=0;for(z=E.length;I<z;I++){var O=E[I];(O=u(O,B,D))&&H.push(O)}return 0<H.length?(G.rings?G.rings=H:G.paths=H,G):null};if("esriGeometryMultipoint"===r)return function(G){var z=u(G.points,B,D);return 0<z.length?(G.points=z,G):null};if("esriGeometryEnvelope"===r)return function(G){return G}}(this.geometryType,function(r){return Math.round((r-
	q)/g)},function(r){return Math.round((t-r)/p)}),m;var v=0;for(m=x.length;v<m;v++)x[v].geometry&&(A(x[v].geometry)||x[v].setGeometry(null));this.transform=e;return this}});C.createGraphics=function(e){var q=e.geometryType,t=a.createInstance(h.simpleConstructor,e.spatialReference),g=a.getGeometryType(q).accessorConstructor,p=a.unquantizeFunction(q,e.transform);return b.map(e.features,function(x,u){u=a.createInstance(k.simpleConstructor);var A=x.geometry;if(A){var m=u.geometry=a.createInstance(g);m.setSpatialReference(t);
	m.setupLazyUnquantization(p,A)}u.attributes=x.attributes;return u})};C.createPolygon=function(e,q,t){if(e){var g=a.createInstance(d.accessorConstructor);g.setSpatialReference(q);q=a.unquantizeFunction("esriGeometryPolygon",t);g.setupLazyUnquantization(q,e)}return g};w("extend-esri")&&y.setObject("tasks.FeatureSet",C,n);return C})},"esri/tasks/StatisticDefinition":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(C,y,b,w){C=C(null,{declaredClass:"esri.tasks.StatisticDefinition",
	toJson:function(){return{statisticType:this.statisticType,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount}}});b("extend-esri")&&y.setObject("tasks.StatisticDefinition",C,w);return C})},"esri/layers/FeatureType":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../lang ../symbols/jsonUtils ./FeatureTemplate ./support/domainUtils".split(" "),
	function(C,y,b,w,n,l,k,h,f){C=C(null,{declaredClass:"esri.layers.FeatureType",constructor:function(d){if(d&&y.isObject(d)){this.id=d.id;this.name=d.name;var a=d.symbol;a&&(this.symbol=k.fromJson(a));a=d.domains;var c=this.domains={};for(e in a)a.hasOwnProperty(e)&&(c[e]=f.fromJson(a[e]));if(d=d.templates){var e=this.templates=[];for(a=0;a<d.length;a++)e.push(new h(d[a]))}}},toJson:function(){var d={id:this.id,name:this.name,symbol:this.symbol&&this.symbol.toJson()},a,c=this.domains,e=this.templates,
	q=l.fixJson;if(c){var t=d.domains={};for(a in c)c.hasOwnProperty(a)&&(t[a]=c[a]&&c[a].toJson());q(t)}e&&(d.templates=b.map(e,function(g){return g.toJson()}));return q(d)}});w("extend-esri")&&y.setObject("layers.FeatureType",C,n);return C})},"esri/layers/FeatureTemplate":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ../graphic".split(" "),function(C,y,b,w,n,l){C=C(null,{declaredClass:"esri.layers.FeatureTemplate",constructor:function(k){k&&y.isObject(k)&&(this.name=
	k.name,this.description=k.description,this.drawingTool=k.drawingTool,this.thumbnail=k.thumbnail,k=k.prototype,this.prototype=new l(k.geometry,null,k.attributes))},toJson:function(){return n.fixJson({name:this.name,description:this.description,drawingTool:this.drawingTool,thumbnail:n.fixJson(y.clone(this.thumbnail)),prototype:this.prototype&&this.prototype.toJson()})}});y.mixin(C,{TOOL_AUTO_COMPLETE_POLYGON:"esriFeatureEditToolAutoCompletePolygon",TOOL_CIRCLE:"esriFeatureEditToolCircle",TOOL_ELLIPSE:"esriFeatureEditToolEllipse",
	TOOL_FREEHAND:"esriFeatureEditToolFreehand",TOOL_LINE:"esriFeatureEditToolLine",TOOL_NONE:"esriFeatureEditToolNone",TOOL_POINT:"esriFeatureEditToolPoint",TOOL_POLYGON:"esriFeatureEditToolPolygon",TOOL_RECTANGLE:"esriFeatureEditToolRectangle",TOOL_ARROW:"esriFeatureEditToolArrow",TOOL_TRIANGLE:"esriFeatureEditToolTriangle",TOOL_LEFT_ARROW:"esriFeatureEditToolLeftArrow",TOOL_RIGHT_ARROW:"esriFeatureEditToolRightArrow",TOOL_UP_ARROW:"esriFeatureEditToolUpArrow",TOOL_DOWN_ARROW:"esriFeatureEditToolDownArrow"});
	b("extend-esri")&&y.setObject("layers.FeatureTemplate",C,w);return C})},"esri/layers/support/domainUtils":function(){define("dojo/_base/lang dojo/has ../../kernel ../RangeDomain ../CodedValueDomain ../InheritedDomain".split(" "),function(C,y,b,w,n,l){var k={fromJson:function(h){if(h)switch(h.type){case "range":var f=new w(h);break;case "codedValue":f=new n(h);break;case "inherited":f=new l(h)}return f}};y("extend-esri")&&C.setObject("layers.support.domainUtils",k,b);return k})},"esri/layers/FeatureSubtype":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../lang ./support/domainUtils".split(" "),
	function(C,y,b,w,n,l){C=C(null,{declaredClass:"esri.layers.FeatureSubtype",constructor:function(k){if(k&&y.isObject(k)){this.code=k.code;this.name=k.name;this.defaultValues=k.defaultValues;k=k.domains;var h=this.domains={},f;for(f in k)k.hasOwnProperty(f)&&(h[f]=l.fromJson(k[f]))}},toJson:function(){var k=n.fixJson,h={code:this.code,name:this.name,defaultValues:k(y.clone(this.defaultValues))},f=this.domains;if(f){var d=h.domains={},a;for(a in f)f.hasOwnProperty(a)&&(d[a]=f[a]&&f[a].toJson());k(d)}return k(h)}});
	b("extend-esri")&&y.setObject("layers.FeatureSubtype",C,w);return C})},"esri/layers/FeatureEditResult":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","../kernel"],function(C,y,b,w){C=C(null,{declaredClass:"esri.layers.FeatureEditResult",constructor:function(n){n&&y.isObject(n)&&(this.objectId=n.objectId,this.globalId=n.globalId,this.success=n.success,n.success||(n=n.error,this.error=Error(),this.error.code=n.code,this.error.message=n.description))}});b("extend-esri")&&y.setObject("layers.FeatureEditResult",
	C,w);return C})},"esri/layers/SnapshotMode":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../SpatialReference ../srUtils ../tasks/query ./RenderMode ./support/ParallelSnapshot".split(" "),function(C,y,b,w,n,l,k,h,f){C=C([h],{declaredClass:"esri.layers._SnapshotMode",maxFeatures:5E4,maxRecordCountFactor:1,scaleToTileFactor:1,_isSuspendedAtStartup:!1,_pendingRefresh:!1,constructor:function(d){this.featureLayer=d;this._featureMap={};this._hasUpdateError=this._hasPartialFeatures=
	!1;this._drawFeatures=y.hitch(this,this._drawFeatures);this._queryErrorHandler=y.hitch(this,this._queryErrorHandler);this._handleSuccess=y.hitch(this,this._handleSuccess);this._handleError=y.hitch(this,this._handleError);this._handleProgress=y.hitch(this,this._handleProgress)},startup:function(){if(!this._started||this._isSuspendedAtStartup){this.inherited(arguments);var d=this.featureLayer,a=d.reHostedFS.test(d.url);this.pagination=d.queryPagination&&null!=d.maxRecordCount;this._cacheHintSupported=
	d._isCacheHintSupported();this.scaleToTileFactor=this._getScaleToTileFactor();a&&this.pagination&&(this._parallelSnapshot=new f({layer:d,mode:this,queryTask:d._task}));this._isSuspendedAtStartup=d.suspended;this._startup()}},propertyChangeHandler:function(d){this._init&&(d?this.featureLayer._collection?console.log("FeatureLayer: layer created by value (from a feature collection) does not support definition expressions and time definitions. Layer id \x3d "+this.featureLayer.id):this._fetchAll():this._applyTimeFilter())},
	destroy:function(){this._isSuspendedAtStartup=this._pendingRefresh=!1;this._cancelPendingRequest(this._pendingRequest);this._parallelSnapshot&&this._parallelSnapshot.destroy();this.inherited(arguments)},drawFeature:function(d){var a=d.attributes[this.featureLayer.objectIdField];this._addFeatureIIf(a,d);this._incRefCount(a)},resume:function(){this._isSuspendedAtStartup||this._pendingRefresh?(this._isSuspendedAtStartup=!1,this._startup()):this.propertyChangeHandler(0)},refresh:function(){var d=this.featureLayer;
	d._collection?(d._fireUpdateStart(),d._refresh(!0),d._fireUpdateEnd()):this._fetchAll()},hasAllFeatures:function(){return!this._hasPartialFeatures},hasUpdateError:function(){return this._hasUpdateError},canFetchPBF:function(d){return this.inherited(arguments)&&this.featureLayer._canFetchPBFForQuery(d)},_startup:function(){this.featureLayer._collection?this._applyTimeFilter():this._fetchAll()},_fetchAll:function(){var d=this.featureLayer;d._collection||d.suspended||!d.isQueryable()?this._pendingRefresh=
	d.suspended:(this._pendingRefresh=!1,d._fireUpdateStart(),this._clearIIf(),this._hasUpdateError=this._hasPartialFeatures=!1,this._parallelSnapshot?this._parallelSnapshot.fetch().then(this._handleSuccess,this._handleError,this._handleProgress):this._sendRequest())},_handleSuccess:function(d){this._hasPartialFeatures=d.hasPartialFeatures;this._hasUpdateError=d.hasUpdateError;this.featureLayer._fireUpdateEnd(null)},_handleError:function(d){this._queryErrorHandler(d)},_handleProgress:function(d){d.isError?
	this.featureLayer._errorHandler(d.error):this._addFeatures(d.features)},_getScaleToTileFactor:function(){var d=this.featureLayer.tileMaxRecordCount,a=this.featureLayer.maxRecordCount,c=1;null!=d&&null!=a&&(c=Number((d/a).toFixed(2)));return c},_getPageSize:function(d){var a=this.featureLayer.tileMaxRecordCount;a="tile"===d.resultType&&a?a:this.featureLayer.maxRecordCount;d.maxRecordCountFactor&&(a=Math.floor(a*d.maxRecordCountFactor));return a},_sendRequest:function(d){var a=this.featureLayer,c=this._createQueryInfo(),
	e=c.query;this.pagination&&(this._pageSize=this._getPageSize(e),this._start=e.start=null==d?0:d,e.num=this._pageSize);this._pendingRequest&&this._cancelPendingRequest(this._pendingRequest);this._pendingRequest=a._task.execute(e,this._drawFeatures,this._queryErrorHandler,c.pbf?{format:"pbf"}:null)},_drawFeatures:function(d){this._pendingRequest=null;this.featureLayer._isImageService&&10.7>this.featureLayer.version&&void 0===d.exceededTransferLimit&&(d.exceededTransferLimit=d.features.length===this.featureLayer.maxRecordCount);
	var a=this.featureLayer,c=d.exceededTransferLimit,e=c&&!a._collection;d=this._checkMaxLimit(d.features);var q=d.maxLimitReached;this._addFeatures(d.features);this.pagination&&e&&!q||(this._hasPartialFeatures=!!c,a._fireUpdateEnd(null,c?{queryLimitExceeded:!0}:null));e&&(this.pagination&&!q&&this._sendRequest(this._start+this._pageSize),a.onQueryLimitExceeded())},_queryErrorHandler:function(d){this._pendingRequest=null;this._hasUpdateError=this._hasPartialFeatures=!0;var a=this.featureLayer;a._errorHandler(d);
	a._fireUpdateEnd(d)},_checkMaxLimit:function(d){var a=d?d.length:0,c=this.featureLayer.graphics.length+a,e=c>=this.maxFeatures;if(e){var q=c-this.maxFeatures;q&&d.splice(a-q,q)}return{maxLimitReached:e,featuresDiscarded:c>this.maxFeatures,features:d}},_createQueryInfo:function(){var d=this.featureLayer,a=new k;a.outFields=d.getOutFields();a.where=d._getAttributeFilter()||"1\x3d1";a.returnGeometry=!0;a.outSpatialReference=l.createSpatialReference(this.map.spatialReference.toJson());a.timeExtent=d.getTimeDefinition();
	a.maxAllowableOffset=d._maxOffset;a.quantizationParameters=d._quantizationParameters;a.orderByFields=d.supportsAdvancedQueries?d.getOrderByFields():null;a.multipatchOption=d.multipatchOption;d._ts&&(a._ts=(new Date).getTime());this._cacheHintSupported&&d._enableCacheHint(a);var c=this.canFetchPBF(a);d._enableEditModeQuantization(a,c);this._applyMaxRecordCountFactor(a,c);return{query:a,pbf:c}},_applyMaxRecordCountFactor:function(d,a){var c=this.featureLayer.advancedQueryCapabilities;this.featureLayer._isCacheHintEnabled(d)&&
	c&&c.supportsMaxRecordCountFactor&&("tile"!==d.resultType&&1<this.scaleToTileFactor&&(d.maxRecordCountFactor=this.scaleToTileFactor),a&&1<this.maxRecordCountFactor&&(d.maxRecordCountFactor=this.maxRecordCountFactor),5<d.maxRecordCountFactor&&(d.maxRecordCountFactor=5))},_addFeatures:function(d){var a=this.featureLayer,c=a.objectIdField,e=d.length,q=a._selectedFeatures,t=a.mode===a.constructor.MODE_AUTO;a._fireUpdateStart();a._sortFeatures(d);for(a=0;a<e;a++){var g=d[a];var p=g.attributes[c];var x=
	this._addFeatureIIf(p,g);this._incRefCount(p);t&&x!==g&&q[p]&&(x.setGeometry(g.geometry),x.setAttributes(g.attributes))}this._applyTimeFilter(!0)}});b("extend-esri")&&y.setObject("layers._SnapshotMode",C,w);return C})},"esri/layers/RenderMode":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","../sniff","../kernel"],function(C,y,b,w,n){var l=!!w("esri-pbf"),k=!!w("esri-featurelayer-pbf");C=C(null,{declaredClass:"esri.layers._RenderMode",enablePBFQuery:l&&k,initialize:function(h){this.map=
	h;this._init=!0},startup:function(){this._started=!0},propertyChangeHandler:function(h){},destroy:function(){this._init=this._started=!1},drawFeature:function(h){},suspend:function(){},resume:function(){},refresh:function(){},hasAllFeatures:function(){return!0},hasUpdateError:function(){return!1},canFetchPBF:function(h){return!(!this.featureLayer._canFetchPBF()||!this.enablePBFQuery)},_incRefCount:function(h){(h=this._featureMap[h])&&h._count++},_decRefCount:function(h){(h=this._featureMap[h])&&h._count--},
	_getFeature:function(h){return this._featureMap[h]},_addFeatureIIf:function(h,f){var d=this._featureMap,a=d[h],c=this.featureLayer;a||(d[h]=f,c._add(f),f._count=0);return a||f},_removeFeatureIIf:function(h){var f=this._featureMap[h],d=this.featureLayer;if(f){if(f._count)return;delete this._featureMap[h];d._remove(f)}return f},_registerFeature:function(h,f){var d=this._featureMap,a=d[h];a?(a.attributes=f.attributes,a.geometry=f.geometry):(d[h]=f,f._count=0,f._layer=f._graphicsLayer=f._sourceLayer=
	this.featureLayer);return a||f},_unregisterFeature:function(h){var f=this._featureMap,d=f[h];d&&!d._count&&(delete f[h],d._graphicsLayer=null)},_clearIIf:function(){var h=this.featureLayer;var f=h.graphics,d=h._selectedFeatures,a=h.getSelectedFeatures().length,c=h.objectIdField;if(a)for(h=f.length-1;0<=h;h--){a=f[h];var e=a.attributes[c];e in d?a._count=1:(a._count=0,this._removeFeatureIIf(e))}else h.clear(),this._featureMap={}},_cancelPendingRequest:function(h){if(h)try{h.cancel()}catch(f){}},_toggleVisibility:function(h){var f=
	this.featureLayer,d=f.graphics,a=h?"show":"hide",c,e=d.length;h=h&&f._ager;for(c=0;c<e;c++){var q=d[c];q[a]();h&&f._repaint(q)}},_applyTimeFilter:function(h){var f=this.featureLayer;if(f.timeInfo&&!f.suspended){h||f._fireUpdateStart();var d=f._trackManager;d&&d.clearTracks();var a=f.getTimeDefinition(),c=f._getOffsettedTE(f._mapTimeExtent);c?(c=f._getTimeOverlap(a,c))?(a=f._filterByTime(f.graphics,c.startTime,c.endTime),d&&d.addFeatures(a.match),b.forEach(a.match,function(e){var q=e._shape;e.visible||
	(e.show(),(q=e._shape)&&q._moveToFront());f._ager&&q&&f._repaint(e)}),b.forEach(a.noMatch,function(e){e.visible&&e.hide()})):this._toggleVisibility(!1):(d&&d.addFeatures(f.graphics),this._toggleVisibility(!0));d&&(d.moveLatestToFront(),d.drawTracks());h||f._fireUpdateEnd()}}});w("extend-esri")&&y.setObject("layers._RenderMode",C,n);return C})},"esri/layers/support/ParallelSnapshot":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has dojo/Deferred ../../kernel".split(" "),
	function(C,y,b,w,n,l){C=C(null,{declaredClass:"esri.layers.support.ParallelSnapshot",layer:null,mode:null,queryTask:null,batchSize:5,_queryInfo:null,_fetchDfd:null,_startPage:null,_lastPage:null,_pageSize:null,_maxPages:null,_requests:null,constructor:function(k){y.mixin(this,k);this._requests={}},destroy:function(){this.cancel()},fetch:function(){var k=new n;this.cancel(!0);this._queryInfo=this.mode._createQueryInfo();this._pageSize=this.mode._getPageSize(this._queryInfo.query);this._maxPages=Math.ceil(this._getFeatureCount()/
	this._pageSize);this._fetchDfd=k;this._sendRequests();return k.promise},cancel:function(k){this._cancelPendingRequests(k);this._reset()},_reset:function(){this._startPage=this._lastPage=null;this._requests={}},_getFeatureCount:function(){return this.layer.mode===this.layer.constructor.MODE_AUTO&&0===this.layer.getLastExceedsLimitResult()?this.layer._getMaxFeaturesForAutoSnapshotMode():this.mode.maxFeatures},_sendRequests:function(k){var h=this._queryInfo.query,f=this.queryTask,d=this._requests;k=
	null==k?1:k;var a=k+this.batchSize-1;a>this._maxPages&&(a=this._maxPages);if(!(k>a))for(this._startPage=k,this._lastPage=a;k<=a;k++)h.start=(k-1)*this._pageSize,h.num=this._pageSize,d[k]=f.execute(h,null,null,this._queryInfo.pbf?{format:"pbf"}:null),d[k].then(y.hitch(this,this._handleSuccess,k)).otherwise(y.hitch(this,this._handleError,k))},_evalNextBatch:function(k){k===this._lastPage&&this._sendRequests(this._lastPage+1)},_handleSuccess:function(k,h){h.exceededTransferLimit||this._cancelLaterRequests(k,
	!0);var f=this.mode._checkMaxLimit(h.features);this._fetchDfd.progress({features:f.features,isError:!1});f.maxLimitReached?((k=f.featuresDiscarded||this._hasRejectedRequests())||(k=!!this._getResult(this._getLastSuccessfulRequest()).exceededTransferLimit),this._resolveFetch(k)):(h.exceededTransferLimit&&this._evalNextBatch(k),this._evalResolution())},_handleError:function(k,h){var f=this._requests;f&&f[k]&&(1===k?this._rejectFetch(h):(this._evalNextBatch(k),this._fetchDfd.progress({error:h,isError:!0}),
	this._evalResolution()))},_evalResolution:function(){this._hasPendingRequests()||this._resolveFetch(this._hasRejectedRequests())},_resolveFetch:function(k){var h=this._hasRejectedRequests();this.cancel(!0);this._fetchDfd.resolve({hasPartialFeatures:k,hasUpdateError:h})},_rejectFetch:function(k){this.cancel(!0);this._fetchDfd.reject(k)},_getResult:function(k){return k&&k.dfd.results[0]},_hasPendingRequests:function(){return!!this._getPendingRequests().length},_getPendingRequests:function(){var k=this._requests,
	h,f=[];for(h in k){var d=k[h];d.isFulfilled()||f.push({pageId:Number(h),dfd:d})}return f},_getLastSuccessfulRequest:function(){var k=this._getResolvedRequests(),h=-Infinity,f;k=b.filter(k,function(d){return!!this._getResult(d).features.length||1===d.pageId},this);b.forEach(k,function(d){d.pageId>h&&(h=d.pageId,f=d)});return f},_getResolvedRequests:function(){var k=this._requests,h,f=[];for(h in k){var d=k[h];d.isResolved()&&f.push({pageId:Number(h),dfd:d})}return f},_hasRejectedRequests:function(){var k=
	this._getRejectedRequests(),h=this._getLastSuccessfulRequest(),f=this._getResult(h);f&&!f.exceededTransferLimit&&(k=b.filter(k,function(d){return d.pageId<=h.pageId}));return!!k.length},_getRejectedRequests:function(){var k=this._requests,h,f=[];for(h in k){var d=k[h];d.isRejected()&&f.push({pageId:Number(h),dfd:d})}return f},_cancelPendingRequests:function(k){this._cancelRequests(this._getPendingRequests(),k)},_cancelLaterRequests:function(k,h){var f=b.filter(this._getPendingRequests(),function(d){return d.pageId>
	k});this._cancelRequests(f,h)},_cancelRequests:function(k,h){var f=this.mode,d=this._requests;b.forEach(k,function(a){h&&delete d[a.pageId];f._cancelPendingRequest(a.dfd)})}});w("extend-esri")&&y.setObject("layers.support.ParallelSnapshot",C,l);return C})},"esri/layers/OnDemandMode":function(){define("dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/has ../kernel ../geometry/Point ../tasks/query ./RenderMode ./GridLayout".split(" "),function(C,y,b,w,n,l,k,h,f,d){C=C([f],
	{declaredClass:"esri.layers._OnDemandMode",constructor:function(a){this.featureLayer=a;this._featureMap={}},initialize:function(a){this.inherited(arguments);this._cellMap={};this._gridLayer=d.createFromFeatureLayer({layer:this.featureLayer,map:a})},startup:function(){if(!this._started||this._isSuspendedAtStartup)this.inherited(arguments),this._ioQueue=[],this._isSuspendedAtStartup=this.featureLayer.suspended,this.featureLayer.suspended||(this._zoomHandler(),this._enableConnectors())},propertyChangeHandler:function(a){this._init&&
	(2>a?this._zoomHandler():console.log("FeatureLayer: layer in on-demand mode does not support time definitions. Layer id \x3d "+this.featureLayer.id+", Layer URL \x3d "+this.featureLayer.url))},destroy:function(){this._disableConnectors();this._processIOQueue(!0);this.inherited(arguments)},drawFeature:function(a){var c=a.geometry,e=[];if(c){e=this._gridLayer.getCellsInExtent("point"===c.type?{xmin:c.x,ymin:c.y,xmax:c.x,ymax:c.y}:c.getExtent(),!1).cells;c=this._cellMap;var q,t=a.attributes[this.featureLayer.objectIdField];
	for(q=0;q<e.length;q++){var g=e[q];var p=g.latticeID;var x=g.row;var u=g.col;p?g=c[p]=c[p]||g:(c[x]=c[x]||{},g=c[x][u]=c[x][u]||g);g.features=g.features||[];g.features.push(a);this._addFeatureIIf(t,a);this._incRefCount(t)}}},suspend:function(){this._init&&this._disableConnectors()},resume:function(){this._init&&(this._enableConnectors(),this._zoomHandler())},refresh:function(){this._zoomHandler()},hasAllFeatures:function(){var a=!1,c=this._getCurrentCells(),e;for(e=0;e<c.length;e++)if(c[e].hasPartialFeatures){a=
	!0;break}return!a},hasUpdateError:function(){var a=!1,c=this._getCurrentCells(),e;for(e=0;e<c.length;e++)if(c[e].hasUpdateError){a=!0;break}return a},canFetchPBF:function(a){return this.inherited(arguments)&&this.featureLayer._canFetchPBFForQuery(a)},_enableConnectors:function(){var a=this.map;this._zoomConnect=y.connect(a,"onZoomEnd",this,this._zoomHandler);this._panConnect=y.connect(a,"onPanEnd",this,this._panHandler);this._resizeConnect=y.connect(a,"onResize",this,this._panHandler)},_disableConnectors:function(){y.disconnect(this._zoomConnect);
	y.disconnect(this._panConnect);y.disconnect(this._resizeConnect)},_zoomHandler:function(){this._processIOQueue(!0);var a=this.featureLayer,c=this.map;!a.suspended&&a.isQueryable()&&(a._fireUpdateStart(),this._clearIIf(),(a=a._trackManager)&&a.clearTracks(),this._cellMap={},this._gridLayer.setResolution(c.extent),this._sendRequest())},_panHandler:function(a){if(this.featureLayer.isQueryable()){this.featureLayer._fireUpdateStart();var c=this.featureLayer._resized;a=c?a:null;c&&this._gridLayer.setMapState(a,
	this.map.width,this.map.height);this._sendRequest(a)}},_sendRequest:function(a){this._exceeds=!1;var c=this.featureLayer,e=this.map;a=a||e.extent;e=this._gridLayer.getCellsInExtent(a,c.latticeTiling).cells;if(!c.isEditable()){var q=this._cellMap;e=w.filter(e,function(x){if(x.lattice){if(q[x.latticeID])return!1}else if(q[x.row]&&q[x.row][x.col])return!1;return!0})}this._pending=this._pending||0;var t;for(t=0;t<e.length;t++){var g=e[t],p=this._createQueryInfo(g);this._pending++;this._ioQueue.push(c._task.execute(p.query,
	b.hitch(this,this._drawFeatures,g),b.hitch(this,this._queryErrorHandler,g),p.pbf?{format:"pbf"}:null))}this._removeOldCells(a);this._endCheck()},_drawFeatures:function(a,c){this.featureLayer._isImageService&&10.7>this.featureLayer.version&&void 0===c.exceededTransferLimit&&(c.exceededTransferLimit=c.features.length===this.featureLayer.maxRecordCount);a.hasPartialFeatures=!!c.exceededTransferLimit;a.hasUpdateError=!1;this._exceeds=this._exceeds||c.exceededTransferLimit;this._finalizeIO();var e=this.featureLayer,
	q=this.map.extent,t=a.extent,g=a.row,p=a.col,x=e.objectIdField;c=c.features;var u=this._gridLayer,A=this._cellMap,m=a.latticeID;A=m?A[m]:A[g]&&A[g][p];if(a.resolution==u.resolution&&(m?m===u.getLatticeID(q):u.intersects(t,q)))if(A)e._sortFeatures(c),this._updateCell(A,c);else for(e._sortFeatures(c),a.features=c,this._addCellToCellMap(a),e=c.length,a=0;a<e;a++)q=c[a],t=q.attributes[x],this._addFeatureIIf(t,q),this._incRefCount(t);else A&&this._removeCell(g,p,m);this._endCheck()},_queryErrorHandler:function(a,
	c){this._finalizeIO();a.hasPartialFeatures=!0;a.hasUpdateError=!0;this._addCellToCellMap(a);this.featureLayer._errorHandler(c);this._endCheck(c)},_finalizeIO:function(){this._pending--},_endCheck:function(a){if(0===this._pending){this._processIOQueue();var c=this.featureLayer,e=c._trackManager;e&&(e.clearTracks(),e.addFeatures(c.graphics),c._ager&&w.forEach(c.graphics,function(q){q._shape&&c._repaint(q)}),e.moveLatestToFront(),e.drawTracks());this.featureLayer._fireUpdateEnd(!!a&&Error("FeatureLayer: "+
	(a.message||"an error occurred while updating the layer.")),this._exceeds?{queryLimitExceeded:!0}:null);if(this._exceeds)c.onQueryLimitExceeded()}},_processIOQueue:function(a){this._ioQueue=w.filter(this._ioQueue,function(c){return-1<c.fired?!1:!0});a&&w.forEach(this._ioQueue,this._cancelPendingRequest)},_createQueryInfo:function(a){var c=this.featureLayer,e=new h;e.outFields=c.getOutFields();e.where=c._getAttributeFilter();e.returnGeometry=!0;e.geometry=a.extent||a.lattice;c.latticeTiling&&a.extent&&
	(e.spatialRelationship=h.SPATIAL_REL_CONTAINS);e.timeExtent=c._getOffsettedTE(c._mapTimeExtent);e.maxAllowableOffset=c._maxOffset;e.quantizationParameters=c._quantizationParameters;e.orderByFields=c.supportsAdvancedQueries?c.getOrderByFields():null;e.multipatchOption=c.multipatchOption;c._ts&&(e._ts=(new Date).getTime());(a=c.advancedQueryCapabilities)&&a.supportsQueryWithResultType&&(e.resultType="tile");a=this.canFetchPBF(e);c._enableEditModeQuantization(e,a);return{query:e,pbf:a}},_getCurrentCells:function(a){var c=
	[];a=a||this._cellMap;for(var e in a)if(a.hasOwnProperty(e)){var q=a[e];q&&(q.hasOwnProperty("row")||q.hasOwnProperty("latticeID")?c.push(q):"object"===typeof q&&c.push.apply(c,this._getCurrentCells(q)))}return c},_addCellToCellMap:function(a){var c=this._cellMap;if(a.latticeID)c[a.latticeID]=a;else{var e=a.row,q=a.col;c[e]=c[e]||{};c[e][q]=a}},_removeOldCells:function(a){var c=this._cellMap,e=this._gridLayer,q,t;for(q in c)if(c[q]){var g=c[q],p=g.latticeID,x=0,u=0;if(p)x++,p!==e.getLatticeID(a)&&
	(this._removeCell(null,null,p),u++);else for(t in g)g[t]&&(x++,e.intersects(g[t].extent,a)||(this._removeCell(q,t),u++));u===x&&delete c[q]}},_updateCell:function(a,c){var e=this.featureLayer,q=e.objectIdField;e=e._selectedFeatures;var t,g=c.length;a.features=a.features||[];for(t=0;t<g;t++){var p=c[t],x=p.attributes[q],u=this._addFeatureIIf(x,p);u===p?(this._incRefCount(x),a.features.push(u)):x in e||(u.setGeometry(p.geometry),u.setAttributes(p.attributes))}},_removeCell:function(a,c,e){var q=this._cellMap,
	t=this.featureLayer,g=t.objectIdField,p=e?q[e]:q[a]&&q[a][c];if(p&&(e?delete q[e]:delete q[a][c],a=p.features))for(c=0;c<a.length;c++)e=a[c].attributes[g],this._decRefCount(e),e in t._selectedFeatures||this._removeFeatureIIf(e)}});n("extend-esri")&&b.setObject("layers._OnDemandMode",C,l);return C})},"esri/layers/GridLayout":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../kernel ../geometry/Point ../geometry/Extent ../geometry/Polyline ../geometry/Polygon ../geometry/normalizeUtils ../srUtils".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a){var c=C(null,{declaredClass:"esri.layers._GridLayout",constructor:function(e,q,t,g){this.origin=e;this.cellWidth=q.width;this.cellHeight=q.height;this.mapWidth=t.width;this.mapHeight=t.height;this.srInfo=g},setResolution:function(e){this.resolution=(e.xmax-e.xmin)/this.mapWidth;this.srInfo&&(e=Math.round(Math.round(2*this.srInfo.valid[1]/this.resolution)/this.cellWidth),this._frameStats=[e,0,e-1])},setMapState:function(e,q,t){this.mapWidth=q;this.mapHeight=t;this.setResolution(e)},
	getCellCoordinates:function(e){var q=this.resolution,t=this.origin;return{row:Math.floor((t.y-e.y)/(this.cellHeight*q)),col:Math.floor((e.x-t.x)/(this.cellWidth*q))}},normalize:function(e){var q=this._frameStats;if(q){var t=q[0],g=q[1];q=q[2];e<g?(e%=t,e=e<g?e+t:e):e>q&&(e%=t)}return e},intersects:function(e,q){var t=this.srInfo;return t?b.some(q._getParts(t),function(g){return e.intersects(g.extent)}):e.intersects(q)},getCellExtent:function(e,q){var t=this.resolution,g=this.origin,p=this.cellWidth,
	x=this.cellHeight;return new k(q*p*t+g.x,g.y-(e+1)*x*t,(q+1)*p*t+g.x,g.y-e*x*t,a.createSpatialReference(g.spatialReference.toJson()))},getLatticeID:function(e){var q=this.getCellCoordinates({x:e.xmin,y:e.ymax}),t=this.getCellCoordinates({x:e.xmax,y:e.ymin});e=q.row;var g=t.row;q=this.normalize(q.col);t=this.normalize(t.col);return e+"_"+g+"_"+q+"_"+t},sorter:function(e,q){return e<q?-1:1},getCellsInExtent:function(e,q){var t=this.getCellCoordinates({x:e.xmin,y:e.ymax}),g=this.getCellCoordinates({x:e.xmax,
	y:e.ymin}),p=t.row,x=g.row;t=t.col;g=g.col;var u=[],A,m,v=[],r=[],B=[];for(A=p;A<=x;A++)for(m=t;m<=g;m++){var D=this.normalize(m);e=this.getCellExtent(A,D);b.some(u,function(E){return E.row===A&&E.col===D})||u.push({row:A,col:D,extent:e,resolution:this.resolution});q&&(v.push(e.xmin,e.xmax),r.push(e.ymin,e.ymax))}t=this.normalize(t);g=this.normalize(g);v.sort(this.sorter);r.sort(this.sorter);q=v.length;for(A=q-1;0<=A;A--)A<q-1&&v[A]===v[A+1]&&v.splice(A,1);q=r.length;for(A=q-1;0<=A;A--)A<q-1&&r[A]===
	r[A+1]&&r.splice(A,1);if(v.length&&r.length){e=v[0];m=v[v.length-1];var G=r[0];var z=r[r.length-1];q=v.length;for(A=0;A<q;A++)B.push([[v[A],z],[v[A],G]]);q=r.length;for(A=0;A<q;A++)B.push([[e,r[A]],[m,r[A]]]);v=new h({paths:B,spatialReference:this.origin.spatialReference.toJson()});u.push({latticeID:p+"_"+x+"_"+t+"_"+g,lattice:v,resolution:this.resolution})}return{minRow:p,maxRow:x,minCol:t,maxCol:g,topRow:p,bottomRow:x,leftCol:t,rightCol:g,cells:u}},_findCell:function(e,q,t){var g;b.some(e,function(p){p.row===
	q&&p.col===t&&(g=p);return!!g});return g},getExtentOfIntersectingCells:function(e){var q=this.getCellsInExtent(e),t=q&&q.cells;if(t&&t.length){var g=q.topRow,p=q.leftCol,x=0;b.forEach(t,function(v){v.row===g&&x++});var u=this._findCell(t,g,p).extent,A=this.srInfo;if(!A||x!==this._frameStats[0]&&p!==q.rightCol){var m=u.xmin;A=m+x*u.getWidth()}else m=A.valid[0],A=A.valid[1];q=this._findCell(t,q.bottomRow,p).extent.ymin;(e=(new k(m,q,A,u.ymax,e.spatialReference))._normalize(!1,!1))&&e.rings&&(e=new f(e),
	e=d.getDenormalizedExtent(e));return e}}});c.createFromFeatureLayer=function(e){var q=e.layer;e=q.getMap()||e.map;var t=q._srInfo;(q=e&&e.loaded?new c(new l(t?t.valid[0]:e.extent.xmin,t?t.valid[1]:e.extent.ymax,e.spatialReference),{width:q._tileWidth,height:q._tileHeight},{width:e.width,height:e.height},t):null)&&q.setResolution(e.extent);return q};w("extend-esri")&&y.setObject("layers._GridLayout",c,n);return c})},"esri/layers/SelectionMode":function(){define(["dojo/_base/declare","dojo/_base/lang",
	"dojo/has","../kernel","./RenderMode"],function(C,y,b,w,n){C=C([n],{declaredClass:"esri.layers._SelectionMode",constructor:function(l){this.featureLayer=l;this._featureMap={}},propertyChangeHandler:function(l){this._init&&0===l&&this._applyTimeFilter()},resume:function(){this.propertyChangeHandler(0)},hasAllFeatures:function(){return!this.featureLayer._hasPartialSelectedFeatures},hasUpdateError:function(){return this.featureLayer._hasSelectionError}});b("extend-esri")&&y.setObject("layers._SelectionMode",
	C,w);return C})},"esri/layers/StreamMode":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/Deferred dojo/has ../kernel ../SpatialReference ../tasks/query ../tasks/QueryTask ../geometry/jsonUtils ./RenderMode".split(" "),function(C,y,b,w,n,l,k,h,f,d,a){C=C([a],{declaredClass:"esri.layers._StreamMode",constructor:function(c,e){this.featureLayer=c;this._featureMap={};this._setRefreshRate();this._drawBuffer={adds:[],updates:[]};this._timeoutId=null;this._flushDrawBuffer=y.hitch(this,
	this._flushDrawBuffer);this._featuresByTime={};this._lastEndTimeCheck=null;this._maxFeatureAge=0;c.purgeOptions&&c.purgeOptions.age&&"number"===typeof c.purgeOptions.age&&(this._maxFeatureAge=1E3*Math.ceil(60*c.purgeOptions.age));this._drawFeatures=y.hitch(this,this._drawFeatures);this._queryErrorHandler=y.hitch(this,this._queryErrorHandler)},startup:function(){this._started||this.inherited(arguments)},propertyChangeHandler:function(c){this._init&&(0===c?this._applyTimeFilter():3===c?this._redrawAllTracks():
	console.debug("StreamLayer: Stream Layer only supports changing map time or maximumTrackPoints. Layer id \x3d "+this.featureLayer.id))},destroy:function(){this.inherited(arguments);clearTimeout(this._timeoutId);this._featuresByTime=this._drawBuffer=this._featureMap=null},drawFeature:function(c){var e=this.featureLayer,q=e.objectIdField;this._timeoutId||(this._timeoutId=setTimeout(this._flushDrawBuffer,this._refreshRate));e._joinField&&this._getFeature(c.attributes[q])?this._drawBuffer.updates.push({oid:c.attributes[q],
	updates:c}):this._drawBuffer.adds.push(c)},resume:function(){this.propertyChangeHandler(0)},refresh:function(){this._pendingRequest&&this._cancelPendingRequest(this._pendingRequest);var c=this.featureLayer;c&&(c._relatedUrl||c._keepLatestUrl?(c._fireUpdateStart(),c._refreshing=!0,c.disconnect(),c.clear(),c._relatedQueried=!1,c._keepLatestQueried=!1,c.connect()):(c._fireUpdateStart(),c.clear(),c._fireUpdateEnd()))},_drawFeatures:function(c,e){var q=this.featureLayer;q._create(c.features||[]);q._fireUpdateEnd(null,
	e)},_applyTimeFilter:function(c){this.inherited(arguments);this._redrawAllTracks()},_removeFeatures:function(c){var e=this.featureLayer,q=e.objectIdField;c&&b.forEach(c,function(t){t=t.attributes[q];e._unSelectFeatureIIf(t,this);this._decRefCount(t);this._removeFeatureIIf(t)},this)},_addFeatures:function(c){var e=this.featureLayer,q=e._endTimeField,t=e._startTimeField,g,p=[],x=[],u=[];var A=e._trackManager;var m=e.objectIdField;if(A)for(g in c=A.addFeatures(c),c)c.hasOwnProperty(g)&&(p.push(g),c[g].adds&&
	(x=x.concat(c[g].adds)),c[g].deletes&&(u=u.concat(c[g].deletes)));else x=c;b.forEach(x,function(v){var r=v.attributes[m];var B=q&&v.attributes[q];!B&&this._maxFeatureAge&&(B=t&&v.attributes[t]?v.attributes[t]+this._maxFeatureAge:Date.now()+this._maxFeatureAge);B&&(B=1E3*Math.ceil(B/1E3),this._featuresByTime[B]?this._featuresByTime[B].push(r):this._featuresByTime[B]=[r]);this._addFeatureIIf(r,v);this._incRefCount(r)},this);u.length&&this._removeFeatures(u);A&&A.refreshTracks(p)},_updateFeatures:function(c){var e=
	this.featureLayer,q=[];var t=e._trackManager;var g=e._trackIdField;b.forEach(c,function(p){var x=p.updates;p=this._getFeature(p.oid);var u;if(p){x.geometry&&p.setGeometry(x.geometry);x=x.attributes||{};for(u in x)x.hasOwnProperty(u)&&(p.attributes[u]=x[u]);p.setAttributes(p.attributes);p.visible=this._checkFeatureTimeIntersects(p);t&&p.attributes[g]?q.push(p.attributes[g]):e._repaint(p,null,!0)}},this);q.length&&t.refreshTracks(q)},_redrawAllTracks:function(){var c=this.featureLayer._trackManager,
	e;c&&(e=c.trimTracks())&&0<e.length&&(this._removeFeatures(e),c.refreshTracks())},_flushDrawBuffer:function(){clearTimeout(this._timeoutId);var c=this._drawBuffer,e=c.adds.splice(0,c.adds.length),q=c.updates.splice(0,c.updates.length);c=this.featureLayer;if(!c)return!1;c.updating||c._fireUpdateStart();this._addFeatures(e);this._updateFeatures(q);(e=this._getExpiredFeatures())&&e.length&&(this._removeFeatures(e),c._trackManager&&c._trackManager.removeFeatures(e));c._purge();c._fireUpdateEnd();this._timeoutId=
	null},_clearDrawBuffer:function(){var c=this._timeoutId,e=this._drawBuffer,q=e.adds;e=e.updates;c&&clearTimeout(c);q.splice(0,q.length);e.splice(0,e.length);this._timeoutId=null},_clearTimeBin:function(){this._featuresByTime={};this._lastEndTimeCheck=1E3*Math.ceil(Date.now()/1E3)},_clearFeatureMap:function(){this._featureMap={}},_setRefreshRate:function(c){c=c||0===c?c:200;0>c&&(c=200);this._refreshRate=c},_checkFeatureTimeIntersects:function(c){var e=this.featureLayer,q=e.getMap();return(q=q?q.timeExtent:
	null)&&e.timeInfo&&(e.timeInfo.startTimeField||e.timeInfo.endTimeField)?0<e._filterByTime([c],q.startTime,q.endTime).match.length:!0},_fetchArchive:function(c){var e=new w,q=this.featureLayer;this._pendingRequest&&this._cancelPendingRequest(this._pendingRequest);q._fireUpdateStart();if(c&&this.map){c=new f(c);var t=new h;var g=this.map;var p=q.getFilter()||{};var x=p.where||"1\x3d1";var u=p.geometry?d.fromJson(p.geometry):null;p=p.outFields?p.outFields.split(","):["*"];t.geometry=u;t.where=x;t.outFields=
	p;t.returnGeometry=!0;t.outSpatialReference=new k(g.spatialReference.toJson());this._pendingRequest=c.execute(t).then(function(A){this._pendingRequest=null;var m=this._fixFieldNameCasing(q,A);A.features=m;this._drawFeatures(A);q._fireUpdateEnd();e.resolve()}.bind(this)).otherwise(function(A){this._pendingRequest=null;q._errorHandler(A);q._fireUpdateEnd(A);e.reject(A)}.bind(this))}else e.resolve();return e.promise},_queryErrorHandler:function(c){var e=this.featureLayer;e._errorHandler(c);e._fireUpdateEnd(c)},
	_fixFieldNameCasing:function(c,e){var q=e.features||[],t=e.fields;if(!t||!q.length)return q;c=this._mapFieldNameDifferences(c.fields,t);t=[];for(var g,p=0,x=e.features.length;p<x;p++)e=q[p],g=this._swizzleResponseAttributes(e.attributes,c),t.push({geometry:e.geometry,attributes:g});return t},_mapFieldNameDifferences:function(c,e){var q=[],t={},g;var p=0;for(g=e.length;p<g;p++)q.push(e[p].name);p=0;for(g=c.length;p<g;p++){e=c[p].name;var x=this._checkForStreamFieldName(e,q);x&&(t[x]=e)}return t},_checkForStreamFieldName:function(c,
	e){c=c.toLowerCase();for(var q,t=0,g=e.length;t<g;t++)if(e[t].toLowerCase()===c){q=e[t];break}return q},_swizzleResponseAttributes:function(c,e){var q={},t;for(t in c)if(c.hasOwnProperty(t)){var g=c[t];e.hasOwnProperty(t)?q[e[t]]=g:q[t]=g}return q},_getExpiredFeatures:function(){var c,e,q=[],t=[];if(!this.featureLayer._endTimeField&&!this._maxFeatureAge)return t;var g=1E3*Math.floor(this._lastEndTimeCheck/1E3);this._lastEndTimeCheck=c=1E3*Math.ceil(Date.now()/1E3);if(g&&g!==c)for(e=this._featuresByTime;g<=
	c;g+=1E3)e[g]&&(q=q.concat(e[g]),delete e[g]);b.forEach(q,function(p){(p=this._getFeature(p))&&t.push(p)},this);return t}});n("extend-esri")&&y.setObject("layers._StreamMode",C,l);return C})},"esri/layers/TrackManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has dojo/dom-construct dojox/gfx ../kernel ../graphic ../geometry/Polyline ./GraphicsLayer".split(" "),function(C,y,b,w,n,l,k,h,f,d){var a=-1!==l.renderer.toLowerCase().indexOf("canvas");C=C(null,{declaredClass:"esri.layers._TrackManager",
	constructor:function(c){this.layer=c;this.trackMap={};this.trackLineMap={}},initialize:function(c){this.map=c;c=this.layer;this.createTracklineContainer()&&(this._handles=[c.on("visibility-change",y.hitch(this,function(e){this.container.setVisibility(e.visible);this.container.evaluateSuspension()})),c.on("scale-range-change",y.hitch(this,function(){this.container.setScaleRange(this.layer.minScale,this.layer.maxScale)}))])},createTracklineContainer:function(){var c=this.layer;if("esriGeometryPoint"!==
	c.geometryType)return null;var e=this.map,q=c._getRenderer();q=q&&q.trackRenderer;var t=this.container=new d._GraphicsLayer({id:c.id+"_tracks",_child:!0,visible:c.visible,minScale:c.minScale,maxScale:c.maxScale});t.loaded=!0;t.onLoad(t);t._setMap(e,c._div);a||(e=t._div.getNode(),c=c._div.getNode(),e&&c&&n.place(e,c,"first"));t.setRenderer(q);return t},addFeatures:function(c){var e=this.trackMap,q=this.layer,t=q._trackIdField,g=[];b.forEach(c,function(A){var m=A.attributes[t];(e[m]=e[m]||[]).push(A);
	-1===b.indexOf(g,m)&&g.push(m)});var p=q._startTimeField,x=q.objectIdField,u=function(A,m){var v=A.attributes[p],r=m.attributes[p];return v===r?A.attributes[x]<m.attributes[x]?-1:1:v<r?-1:1};b.forEach(g,function(A){e[A].sort(u)})},trimTracks:function(c){function e(x){for(x=q[x]||[];x.length>t;)g.push(x.shift())}var q=this.trackMap,t=this.layer.maximumTrackPoints||0,g=[],p;if(!t)return g;if(c)b.forEach(c,function(x){e(x)});else for(p in q)q.hasOwnProperty(p)&&e(p);return g},drawTracks:function(c){function e(A){var m=
	p[A],v,r;var B=q.trackLineMap[A];t.remove(B);delete q.trackLineMap[A];B=null;if(!m||2>m.length)return!1;B=[];for(v=m.length-1;0<=v;v--)(r=m[v].geometry)&&B.push([r.x,r.y]);m={};m[u]=A;1<B.length&&(B=new h(new f({paths:[B],spatialReference:x}),null,m),t.add(B),q.trackLineMap[A]=B)}var q=this,t=this.container,g;if(t){var p=this.trackMap;var x=this.map.spatialReference;var u=this.layer._trackIdField;if(c)b.forEach(c,function(A){e(A)});else for(g in p)p.hasOwnProperty(g)&&e(g)}},refreshTracks:function(c){function e(u){var A;
	q.drawTracks([u]);if(p&&p.latestObservationRenderer){u=t[u]||[];var m=u.length;for(A=0;A<m;A++)g._repaint(u[A],null,!0)}}var q=this,t=this.trackMap,g=this.layer,p=g._getRenderer(),x;if(c)b.forEach(c,function(u){e(u)});else for(x in t)t.hasOwnProperty(x)&&e(x);this.moveLatestToFront()},moveLatestToFront:function(c){b.forEach(this.getLatestObservations(c),function(e){var q=e._shape;q&&q._moveToFront();this._repaint(e,null,!0)},this.layer)},getLatestObservations:function(c){function e(x){x=g[x];return x[x.length-
	1]}var q=[],t=this.layer._getRenderer(),g=this.trackMap,p;if(!t.latestObservationRenderer)return q;if(c)b.forEach(c,function(x){q.push(e(x))});else for(p in g)g.hasOwnProperty(p)&&q.push(e(p));return q},clearTracks:function(c){var e=this.getLatestObservations(c),q=this.container,t=this.trackMap,g;if(c)b.forEach(c,function(x){delete this.trackMap[x];q&&(p=this.trackLineMap[x],q.remove(p),delete this.trackLineMap[x])},this);else{if(q)for(g in t){var p=this.trackLineMap[g];q.remove(p)}this.trackMap=
	{};this.trackLineMap={}}b.forEach(e,function(x){this._repaint(x,null,!0)},this.layer)},isLatestObservation:function(c){var e=this.trackMap[c.attributes[this.layer._trackIdField]];return e?e[e.length-1]===c:!1},destroy:function(){b.forEach(this._handles,function(e){e.remove()});var c=this.container;c&&(c.clear(),c._unsetMap(this.map,this.layer._div));this.map=this.layer=this.trackMap=this.container=null}});w("extend-esri")&&y.setObject("layers._TrackManager",C,k);return C})},"esri/layers/HeatmapManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/_base/array require ../kernel ../sniff ../geometry/Point ../geometry/webMercatorUtils ./MapImage ../renderers/HeatmapRenderer ../tasks/query dojo/_base/fx".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e){function q(){}function t(g){var p=g.layer;return{geometry:g.geometry,attributes:g.attributes,getLayer:function(){return p}}}C=C(null,{declaredClass:"esri.layers.HeatmapManager",heatmapRenderer:null,sourceLayer:null,imageLayer:null,useTiles:!0,useWorker:!1,map:null,constructor:function(g){this.sourceLayer=g;this._hndls=[]},initialize:function(g){this.map=g;var p=this.sourceLayer,x=p.renderer;p.setDrawMode(!1);this.imageLayer=g._getMapImageLyr();var u=this;this.heatmapRenderer=
	x instanceof a?x:(x.getRendererInfoByZoom(g.getZoom())||x.getRendererInfoByScale(g.getScale())).renderer;this.redraw=this.redraw.bind(this);this.recalculateHeatmap=this.recalculateHeatmap.bind(this);this._removeRenderer=this._removeRenderer.bind(this);this._handleRendererChange=this._handleRendererChange.bind(this);this._rendererChangeHandle=this.sourceLayer.on("renderer-change",this._handleRendererChange);this._handleOpacityChange=this._handleOpacityChange.bind(this);this._reprojectFeature=this._reprojectFeature.bind(this);
	n(["../workers/heatmapCalculator"],function(A){u._calculator=new A(y.mixin({width:u.map.width,height:u.map.height},u._getOptions()));u._setupRenderer();u.heatmapRenderer.getStats=A.calculateStats;u.heatmapRenderer.getHistogramData=A.getHistogramData})},destroy:function(){this._removeHandlers();this._rendererChangeHandle&&this._rendererChangeHandle.remove();this._rendererChangeHandle=this.sourceLayer=this.imageLayer=this.map=this.heatmapRenderer=this._hndls=null},_handleRendererChange:function(g){var p=
	g.renderer,x=p instanceof a;this.heatmapRenderer?x?this.heatmapRenderer=p:this._removeRenderer(g):x&&(this.heatmapRenderer=p,this.sourceLayer&&this.map&&this._setupRenderer())},_handleOpacityChange:function(g){g=g.opacity;var p=this._getImageBySourceId(this.sourceLayer.id);p&&p.setOpacity(g)},_setupRenderer:function(){var g=this._hndls,p=this.sourceLayer,x=this.map,u=this;p._originalDraw=p._draw;p._draw=q;p._div.clear();clearTimeout(this._resetTimer);this._resetTimer=setTimeout(this._resetGraphics.bind(this),
	250);g.push(p.on("update-end",this.redraw));g.push(p.on("suspend",function(A){(A=u._getImageBySourceId(u.sourceLayer.id))&&A.hide()}));g.push(p.on("resume",function(A){(A=u._getImageBySourceId(u.sourceLayer.id))&&A.show()}));g.push(b.after(p,"redraw",this.redraw));g.push(x.on("layer-remove",function(A){A.layer==p&&((A=u._getImageBySourceId(u.sourceLayer.id))&&u.imageLayer.removeImage(A),u._removeRenderer({target:p}))}));p._collection&&g.push(p.on("graphic-add",function(A){u._reprojectFeature(A.graphic);
	u.redraw()}));1!==p.mode&&(g.push(x.on("resize, pan-end",this.redraw)),g.push(x.on("zoom-end",this.redraw)));g.push(p.on("opacity-change",this._handleOpacityChange));this.imageLayer.suspended&&this.imageLayer.resume();p.graphics&&p.graphics.length&&(p.graphics[0].geometry&&!x.spatialReference.equals(p.graphics[0].geometry.spatialReference)&&w.forEach(p.graphics,function(A){this._reprojectFeature(A)}.bind(this)),this.redraw())},redraw:function(){if(!this._drawTimer){var g=this;this._drawTimer=setTimeout(function(){clearTimeout(g._drawTimer);
	g._drawTimer=null;g.sourceLayer._getRenderer().isInstanceOf(a)&&g.recalculateHeatmap()},16)}},_removeRenderer:function(g){var p=g.target;p._draw=p._originalDraw;delete p._originalDraw;p.setDrawMode(!0);this._removeHandlers();this._hndls=[];var x=this._getImageBySourceId(this.sourceLayer.id);x&&this.imageLayer.removeImage(x);clearTimeout(this._drawTimer);clearTimeout(this._resetTimer);this._drawTimer=this._resetTimer=null;p.renderer!=g.renderer&&p.renderer.getRendererInfo?this.heatmapRenderer=null:
	(this.destroy(),p.renderer&&p.renderer.getRendererInfo&&p.redraw())},recalculateHeatmap:function(){this._calculator?this._doMainCalculation():this._calculatorClient&&this._doWorkerCalculation()},_reprojectFeature:function(g){if(g&&g.geometry){var p=g.geometry,x=this.map.spatialReference;x.equals(p.spatialReference)||(p=f.project(p,x),null==p?console.log("Unable to reproject features to map's spatial reference. Please convert feature geometry before adding to layer"):g.geometry=p)}},_doWorkerCalculation:function(){},
	_doMainCalculation:function(){var g=this.sourceLayer,p=this.map,x=this.heatmapRenderer,u=this.map.extent,A=this.map.width,m=this.map.height,v=this._calculator,r=this,B=function(G){G=r._getScreenPoints(G.features,p,g);G=v.calculateImageData(y.mixin({screenPoints:G,mapinfo:{extent:[u.xmin,u.ymin,u.xmax,u.ymax],resolution:p.getResolution()},width:A,height:m},r._getOptions()));G=x.getSymbol(t({geometry:p.extent,attributes:{size:[A,m],imageData:G},layer:g}));G=new d({extent:p.extent,href:G.url,opacity:0,
	sourceId:g.id});r._swapMapImages(G,r._getImageBySourceId(g.id));g.suspended&&G.hide()},D={geometry:p.extent,timeExtent:g.useMapTime?p.timeExtent:void 0,spatialRelationship:c.SPATIAL_REL_INTERSECTS};null!=g._canDoClientSideQuery(D)?g.queryFeatures(D,B):B({features:g.graphics})},_getScreenPoints:function(g,p,x){var u=[],A=g.length,m=0,v=0,r=new h(p.extent.xmin,p.extent.ymax,p.spatialReference),B=p.toScreen(r),D=B.x;B=B.y;var G=p.getResolution(),z;for((v=p.extent.getCacheValue("_parts"))&&(z=w.map(v,
	function(H){return x._intersects(p,H.extent)[0]}));A--;)if(v=g[A],v.geometry&&v.visible){var E={x:Math.ceil((v.geometry.x-r.x)/G+D),y:Math.floor((r.y-v.geometry.y)/G-B),attributes:v.attributes};z&&(v=1<z.length&&E.x<-z[0]?z[1]:z[0],E.x+=v);u[m++]=E}return u},_getImageBySourceId:function(g){var p=this.imageLayer.getImages();p=w.filter(p,function(x){return x.sourceId==g});if(p.length)return p[p.length-1]},_swapMapImages:function(g,p){function x(){u.removeImage(p)}var u=this.imageLayer,A=this.sourceLayer.opacity;
	u.addImage(g);e.anim(g._node,{opacity:A},null,null,function(){g.opacity=A});null!=p&&e.anim(p._node,{opacity:0},null,null,x)},_removeHandlers:function(){if(null!=this._hndls)for(var g=this._hndls.length;g--;)this._hndls[g].remove()},_getOptions:function(){var g=this.heatmapRenderer;return{blurRadius:g.blurRadius,gradient:g.gradient,maxPixelIntensity:g.maxPixelIntensity,minPixelIntensity:g.minPixelIntensity,field:g.field,fieldOffset:g.fieldOffset}},_resetGraphics:function(){clearTimeout(this._resetTimer);
	this._resetTimer=null;for(var g=this.sourceLayer.graphics,p=g.length,x;p--;)x=g[p],x._shape=x._offsets=void 0}});k("extend-esri")&&y.setObject("layers.HeatmapManager",C,l);return C})},"esri/layers/clustering/ClusterManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/has ../../kernel ../../Evented ../../graphic ../../lang ../../Color ../../graphicsUtils ../../dijit/PopupTemplate ../../dijit/Legend/utils ../../renderers/ClassBreaksRenderer ../../symbols/SimpleMarkerSymbol ../support/attributeUtils ../GraphicsLayer ../Field ./GeohashAggregation ./statUtils dojo/i18n!../../nls/jsapi".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x,u,A){var m=A.layers.clusters,v=A.widgets.popup,r=m.numFeatures,B=Math.pow(2,53)-1;C=C(l,{declaredClass:"esri.layers.clustering.ClusterManager",layer:null,aggregationInfo:null,container:null,defaults:{clusterRadius:80,markerSymbol:{color:[77,77,77,255],size:6,angle:0,xoffset:0,yoffset:0,type:"esriSMS",style:"esriSMSCircle",outline:{color:[255,255,255,255],width:.75,type:"esriSLS",style:"esriSLSSolid"}}},_initialized:!1,_map:null,_eventHandles:null,_clusterRadius:null,
	_renderer:null,_statisticInfos:null,_fields:null,_infoTemplate:null,_clusterGenerator:null,_singleGraphics:null,constructor:function(D){this._eventHandles=[];this.layer=D.layer;this.setAggregationInfo(D.aggregationInfo)},initialize:function(D){this._initialized=!0;this._map=D;this._removeFromPopup(this.layer);this.container=this._createContainer();this._clusterGenerator=this._createClusterGenerator();this._initClusterGenerator();this._createLayerEventListeners();this._createMapEventListeners();this._createPopupEventListeners()},
	destroy:function(D){this._clearSingleGraphics();this._removeClusterBoundary();this._destroyEventListeners();this._removeFromPopup(this.container);this._removeFromPopup(this.layer);this._resetClusterNav();this._destroyClusterGenerator(D);this._destroyContainer();this.layer=this.aggregationInfo=this._map=null},setAggregationInfo:function(D){this.aggregationInfo=D?y.mixin({},D):null;this._applyAggregationInfo()},getClusterRenderer:function(){return this._renderer},getClusterFields:function(){return this._fields||
	[]},getFeaturesInCluster:function(D){D=D&&D.getAggregationInfo();return this._clusterGenerator?this._clusterGenerator.getFeaturesInCluster(D):[]},getAggregateGraphics:function(){return this.container?this.container.graphics.slice(0):[]},getSingleGraphics:function(){return this._singleGraphics?this._singleGraphics.slice(0):[]},redraw:function(){this.container&&this.container.redraw()},isClusteringEnabled:function(){return!(!this._clusterGenerator||!this._clusterGenerator.clustersEnabled)},isClusteringActive:function(){return!!(this._clusterGenerator&&
	0<this._clusterGenerator.getNumFeatures())},toggleFeatureVisibility:function(D){this._clusterGenerator&&this._clusterGenerator.toggleFeatureVisibility(D)},_createContainer:function(){var D=this.layer,G=new g._GraphicsLayer({_child:!0,id:D.id+"_clusters",visible:D.visible,minScale:D.minScale,maxScale:D.maxScale,infoTemplate:this._infoTemplate});G.fields=this._fields;G.setRenderer(this._renderer);G.loaded=!0;G.onLoad(G);G._setMap(this._map,D._div);return D._childLayer=G},_destroyContainer:function(){var D=
	this.container;D&&(D.clear(),D._unsetMap(this._map,this.layer._div),this.layer._childLayer=null);this.container=null},_createClusterGenerator:function(){return new x({map:this._map,layer:this.layer,clusterRadius:this._clusterRadius,statisticInfos:this._statisticInfos})},_initClusterGenerator:function(){var D=this._clusterGenerator;D.loaded?this._awaitClusterGenerator():this._eventHandles.push(D.on("load",y.hitch(this,function(){this._awaitClusterGenerator()})),D.on("load-error",y.hitch(this,function(G){console.log(G.error)})))},
	_destroyClusterGenerator:function(D){this._clusterGenerator&&this._clusterGenerator.destroy(D);this._clusterGenerator=null},_awaitClusterGenerator:function(){var D=this._clusterGenerator;D.started?(this._applyRenderer(),this._initClusterUpdates()):this._eventHandles.push(D.on("start",y.hitch(this,function(){this._applyRenderer();this._initClusterUpdates()})))},_applyAggregationInfo:function(){this._applyClusterRadius();this._applyRenderer();this._clusterGenerator&&!this._clusterGenerator.isUpdateScheduled()&&
	this.redraw()},_applyClusterRadius:function(){var D=this.aggregationInfo;this._clusterRadius=D&&D.clusterRadius||this.defaults.clusterRadius;this._clusterGenerator&&this._clusterGenerator.setClusterRadius(this._clusterRadius);this._computeClusterRadius()},_computeClusterRadius:function(){var D=this.aggregationInfo||{};D.clusterRadius=this._clusterRadius;this.aggregationInfo=D},_applyRenderer:function(){var D=this.container,G=this._getClusterRendererInfo(),z=this._compareStatInfos(this._statisticInfos,
	G.statisticInfos);z&&(this._statisticInfos=G.statisticInfos,this._clusterGenerator&&(this._clusterGenerator.setStatisticInfos(b.map(this._statisticInfos,function(E){return{attributeInfo:E.attributeInfo,statisticType:E.statisticType}})),D&&b.forEach(D.graphics,function(E){this._applyClusterAttributes(E,E.getAggregationInfo())},this)));this._renderer=G.renderer;this._applyFields();this._applyInfoTemplate(!!z&&this._initialized);D&&(D.setRenderer(this._renderer),this.emit("renderer-change"))},_applyFields:function(){this._fields=
	this._getFields(this._statisticInfos);this.container&&(this.container.fields=this._fields)},_applyInfoTemplate:function(D){var G=this.aggregationInfo,z=G&&G.disablePopup;this.layer.infoTemplate&&!z?(G=G&&G.infoTemplate||this._infoTemplate,D=D||!G?this._createInfoTemplate():this._updateInfoTemplate(G)):D=null;this._infoTemplate=D;this.container&&this.container.setInfoTemplate(this._infoTemplate);this._computeInfoTemplate()},_computeInfoTemplate:function(){var D=this.aggregationInfo||{};D.infoTemplate=
	this._infoTemplate;this.aggregationInfo=D},_getClusterRendererInfo:function(){var D=this.layer&&this.layer.renderer;return D?this._createClusterRenderer(D):this._getDefaultClusterRenderer()},_getDefaultClusterRenderer:function(){var D=this._createContinuousCountRenderer();this._addSizeByCountVariable(D);return{renderer:D,statisticInfos:[]}},_createContinuousCountRenderer:function(D){var G=new e(null,"cluster_count");G.addBreak({minValue:-B,maxValue:B,symbol:D?new D.constructor(D.toJson()):new q(y.clone(this.defaults.markerSymbol))});
	return G},_createClusterRenderer:function(D){if(!this._isSupportedRenderer(D))return this._getDefaultClusterRenderer();var G=[];if(this._isSimpleRenderer(D))var z=this._createContinuousCountRenderer(D.symbol);else{z=new D.constructor(D.toJson());var E=this._getRendererAttributeInfo(D);if(this._isCBRenderer(z)){var H=u.getClusterField(E,"avg");G.push(this._getStatInfo(E,"avg"));z.normalizationType=null;z.normalizationField=null;z.normalizationTotal=null}else this._isUVRenderer(z)&&(H=u.getClusterField(E,
	"type"),G.push(this._getStatInfo(E,"type")));z.attributeField=H;z.setValueExpression(null);z.valueExpressionTitle=null;z.setVisualVariables(null);this._setRendererTitle(z,D)}D=this._getSupportedVariables(D);E=this._createClusterVariables(D.allVars,G);z.setVisualVariables(E);D.sizeVars.length||this._isCBSizeRenderer(z)||this._addSizeByCountVariable(z);return{renderer:z,statisticInfos:G}},_isSupportedRenderer:function(D){if(this._isSimpleRenderer(D))return!0;if(this._isCBRenderer(D)){var G=D.normalizationType;
	return"function"===typeof D.attributeField||G&&"field"!==G?!1:!0}return this._isUVRenderer(D)?"function"===typeof D.attributeField||D.attributeField2?!1:!0:!1},_isSimpleRenderer:function(D){return-1<D.declaredClass.toLowerCase().indexOf("simplerenderer")},_isCBRenderer:function(D){return-1<D.declaredClass.toLowerCase().indexOf("classbreaksrenderer")},_isUVRenderer:function(D){return-1<D.declaredClass.toLowerCase().indexOf("uniquevaluerenderer")},_isCBSizeRenderer:function(D){var G=D.infos;if(!this._isCBRenderer(D)||
	!G||2>G.length)return!1;var z=Infinity,E=-Infinity;b.forEach(G,function(H){if(H=H.symbol){var I=0;switch(H.type){case "simplemarkersymbol":I=H.size;break;case "picturemarkersymbol":I=(H.width+H.height)/2}z=Math.min(z,I);E=Math.max(E,I)}});return Infinity!==z&&-Infinity!==E&&z!==E},_getRendererAttributeInfo:function(D){var G=D.attributeField,z=G?this.layer.getField(G):null;return{field:G,attributeType:z&&"esriFieldTypeDate"===z.type?"date":null,rotationType:null,valueExpression:D.valueExpression,valueExpressionTitle:D.valueExpressionTitle,
	normalizationField:D.normalizationField}},_setRendererTitle:function(D,G){D.legendOptions=y.clone(G.legendOptions);D.legendOptions&&D.legendOptions.title||(D.legendOptions=D.legendOptions||{},D.legendOptions.title=c.getRendererTitle(G,this.layer))},_getSupportedVariables:function(D){var G=D.getVisualVariablesForType("colorInfo",!1)||[],z=D.getVisualVariablesForType("sizeInfo",!1)||[],E=D.getVisualVariablesForType("opacityInfo",!1)||[];D=D.getVisualVariablesForType("rotationInfo",!1)||[];G=b.filter(G,
	this._variableFilter);z=b.filter(z,this._variableFilter);E=b.filter(E,this._variableFilter);D=b.filter(D,this._variableFilter);return{sizeVars:z,allVars:G.concat(z).concat(E).concat(D)}},_variableFilter:function(D){return"function"!==typeof D.field&&!t.viewScaleRE.test(D.valueExpression)},_createClusterVariables:function(D,G){return b.map(D,function(z){return this._createVarForAvg(z,G)},this)},_createVarForAvg:function(D,G){var z=y.clone(D),E=this._getVariableAttributeInfo(D);z.field=u.getClusterField(E,
	"avg");z.normalizationField=null;z.valueExpression=null;z.valueExpressionTitle=null;E=this._getStatInfo(E,"avg");this._addStatInfo(G,E);this._setVariableTitle(z,D);return z},_getVariableAttributeInfo:function(D){var G="rotationInfo"===D.type,z=G?"angle":null;G=G?D.rotationType:null;var E=D.legendOptions&&D.legendOptions.title,H=D.field,I=H?this.layer.getField(H):null;I&&"esriFieldTypeDate"===I.type&&(z="date");return{field:H,attributeType:z,rotationType:G,valueExpression:D.valueExpression,valueExpressionTitle:D.valueExpressionTitle||
	D.valueExpression&&E,normalizationField:D.normalizationField}},_setVariableTitle:function(D,G){D.legendOptions&&D.legendOptions.title||(D.legendOptions=D.legendOptions||{},D.legendOptions.title=c.getVisualVariableTitle(G,this.layer))},_getStatInfo:function(D,G){return{statisticHash:u.getStatisticHash(D,G),attributeInfo:D,statisticType:G}},_addStatInfo:function(D,G){var z=this._findStatInfo(D,G);z?z.attributeInfo.valueExpressionTitle||(z.attributeInfo.valueExpressionTitle=G.attributeInfo.valueExpressionTitle):
	D.push(G)},_findStatInfo:function(D,G){var z;b.some(D,function(E){E.statisticHash===G.statisticHash&&(z=E);return!!z});return z},_compareStatInfos:function(D,G){var z=b.filter(D,function(H){return!this._findStatInfo(G,H)},this),E=b.filter(G,function(H){return!this._findStatInfo(D,H)},this);return E.length||z.length?{added:E,removed:z}:null},_addSizeByCountVariable:function(D){var G=this._createSizeByCountVariable();G&&this._addVariable(D,G)},_getSizeByCountVariable:function(D){D=D.getVisualVariablesForType("sizeInfo",
	!1)||[];return b.filter(D,function(G){return"cluster_count"===G.field})[0]},_updateSizeByCountVariable:function(){var D=this._renderer,G=this._getSizeByCountVariable(D);if(G){var z=this._createSizeByCountVariable();z&&this._replaceVariable(D,G,z)}},_createSizeByCountVariable:function(){var D=this._clusterGenerator;if(D){var G=D.getCurrentLodStats();if(G){var z=D.getNumFeatures();D=D.clusters;var E=G.min,H=G.max;1===G.count&&E===z||1===D.length&&D[0].count===z?(E=1,H=z):E&&E===H&&(H=2*E);z={type:"sizeInfo",
	field:"cluster_count",valueUnit:"unknown",minSize:12,maxSize:50,minDataValue:E,maxDataValue:H,legendOptions:{title:r}}}}return z},_addVariable:function(D,G){var z=D.visualVariables||[];z.push(G);D.setVisualVariables(z)},_replaceVariable:function(D,G,z){var E=D.visualVariables;G=b.indexOf(E,G);-1<G&&E.splice(G,1);E.push(z);D.setVisualVariables(E)},_getFields:function(D){var G=[new p({name:"cluster_count",type:"esriFieldTypeInteger"})];b.forEach(D,function(z){var E=z.statisticType;z=z.attributeInfo;
	var H;"avg"===E?H="date"===z.attributeType?"esriFieldTypeDate":"esriFieldTypeDouble":"type"===E&&(H=z.field?this.layer.getField(z.field).type:"esriFieldTypeString");G.push(new p({name:u.getClusterField(z,E),type:H}))},this);return G},_createInfoTemplate:function(){var D=this._statisticInfos,G=this._renderer,z=[{fieldName:"cluster_count",label:r,visible:!0,format:{digitSeparator:!0,places:0}}],E=[],H=[h.substitute({count:"{cluster_count}"},m.countSummary)],I=this._isUVRenderer(G)?G.infos:[];b.forEach(D,
	function(O){var T=O.statisticType,Z=O.attributeInfo,ia=u.getClusterField(Z,T),ca=this._getFieldLabel(O);if("avg"===T){var W={fieldName:ia,label:ca,visible:!0,format:"date"===Z.attributeType?{dateFormat:"shortDateShortTime"}:{digitSeparator:!0,places:1}};var ha=this._getFieldSummary(O,ia)}else"type"===T&&(ha="expression/"+ia,W={fieldName:ha,visible:!0},E.push({name:ia,title:ca,returnType:"string",expression:this._getExpression(I,ia)}),ha=this._getFieldSummary(O,ha));W&&z.push(W);ha&&H.push(ha)},this);
	return new a({fieldInfos:z,expressionInfos:E,description:H.join("\x3cbr/\x3e\x3cbr/\x3e")})},_updateInfoTemplate:function(D){var G=D.toJson(),z=this._isUVRenderer(this._renderer)?this._renderer.infos:[];b.forEach(this._statisticInfos,function(E){var H=E.statisticType;E=u.getClusterField(E.attributeInfo,H);"type"===H&&(H=this._findExpressionInfo(E,G))&&(H.expression=this._getExpression(z,E))},this);return new a(G)},_findExpressionInfo:function(D,G){var z;b.some(G.expressionInfos,function(E){E.name===
	D&&(z=E);return!!z});return z},_escapeDoubleQuotes:function(D){return D?D.replace(/"/g,'\\"'):""},_getExpression:function(D,G){return["var uvInfos \x3d ["+this._getObjects(D).join(", ")+"];",'var predominantType \x3d Text($feature["'+G+'"]);','var label \x3d "'+this._escapeDoubleQuotes(m.predominantNoneValue)+'";',"for (var i \x3d 0; i \x3c Count(uvInfos); i++) {\nif (uvInfos[i].value \x3d\x3d predominantType) {\nlabel \x3d uvInfos[i].label;\nbreak;\n}\n}\nreturn label;"].join("\n")},_getObjects:function(D){return b.map(D,
	function(G){return'{"value": "'+String(G.value)+'","label": "'+this._escapeDoubleQuotes(String(G.label))+'"}'},this)},_getFieldLabel:function(D){var G=D.statisticType,z=D.attributeInfo,E=z.field;D=z.normalizationField;var H="";if("avg"===G)var I=D?m.avgNormFieldLabel:m.avgFieldLabel;else"type"===G&&(I=m.predominantFieldLabel);I&&(G=z.valueExpression?z.valueExpressionTitle:this.layer.getFieldLabel(E),D=D&&this.layer.getFieldLabel(D),H=h.substitute({fieldLabel:G||"",normFieldLabel:D||""},I));return H},
	_getFieldSummary:function(D,G){var z=D.statisticType,E=D.attributeInfo,H=E.field;D=E.normalizationField;var I="";if("avg"===z)var O=D?m.avgNormFieldSummary:m.avgFieldSummary;else"type"===z&&(O=m.predominantFieldSummary);O&&(z=E.valueExpression?E.valueExpressionTitle:this.layer.getFieldLabel(H),D=D&&this.layer.getFieldLabel(D),I=h.substitute({fieldLabel:z||"",normFieldLabel:D||"",fieldValue:"{"+G+"}"},O));return I},_removeFromPopup:function(D){var G=this._map.infoWindow,z=G.features;if(z&&z.length){var E=
	b.filter(z,function(H){return H.getLayer()!==D});E.length<z.length&&(E.length?G.setFeatures(E):(G.clearFeatures(),G.hide()))}},_resetClusterNav:function(){this._resetClusterNavPartial();this._popupClusterGraphic=null},_resetClusterNavPartial:function(){this._map.infoWindow.removeActions(this._popupActions);this._hideSingleGraphic(this._popupSingleGraphic);this._popupSingleGraphic=null},_addClusterBoundary:function(D,G){(G=G.clusterFillSymbol)&&(G=new G.constructor(G.toJson()));D=new k(D,G);this._map.graphics.add(D);
	this._clusterBoundary=D},_removeClusterBoundary:function(){this._map.graphics.remove(this._clusterBoundary);this._clusterBoundary=null},_createBrowseFeaturesAction:function(){return this._map.infoWindow.addActions([{title:v.NLS_browseFeatures,className:"browseFeatures",callback:y.hitch(this,function(D){D.preventDefault();D=this._map.infoWindow;var G=D.getSelectedFeature(),z=G.getChildGraphics(),E=D.getCurrentAnchor();D.setFeatures(z,{anchor:E});if(z=d.graphicsExtent(z))this._addClusterBoundary(z,
	D),D.show(this._getPopupLocation(z,E));this._popupClusterGraphic=G})}])[0]},_getPopupLocation:function(D,G){var z=D.getCenter();G=G.toLowerCase();-1<G.indexOf("top")?z.update(z.x,D.ymax):-1<G.indexOf("bottom")?z.update(z.x,D.ymin):-1<G.indexOf("left")?z.update(D.xmin,z.y):z.update(D.xmax,z.y);return z},_createViewSummaryAction:function(){return this._map.infoWindow.addActions([{title:v.NLS_viewSummary,className:"viewSummary",callback:y.hitch(this,function(D){D.preventDefault();D=this._popupClusterGraphic;
	var G=this._map.infoWindow;G.setFeatures([D]);G.show(D.geometry);this._popupClusterGraphic=null})}])[0]},_initClusterUpdates:function(){this._updateSizeVariable();this._updateClusterGraphics();this._eventHandles.push(this._clusterGenerator.on("update-end",y.hitch(this,function(D){(D.mapLevelChange||D.indexChange)&&this._updateSizeVariable();this._updateClusterGraphics()})),this._clusterGenerator.on("index-complete",y.hitch(this,function(){this._updateSizeVariable()})))},_updateClusterGraphics:function(){this._hideSingleGraphics();
	var D=[],G=[];b.forEach(this._clusterGenerator.clusters,function(z){var E=new k(z.centroid);E.setAggregationSourceLayer(this.layer);E.setAggregationInfo(z);this._applyClusterAttributes(E,z);1===z.count?(z=this._getSingleGraphic(E),G.push(z)):D.push(E)},this);this._showSingleGraphics(G);this._addGraphics(D)},_addGraphics:function(D){var G=this.container;G.clear();b.forEach(D,function(z){G.add(z)})},_getSingleGraphic:function(D){var G=this._clusterGenerator.getCell(D.getAggregationInfo().primary).features[0],
	z=this.layer.renderer;z=z&&z.getSymbol(G);var E=this._getSizeByCountVariable(this._renderer);z&&E&&(D=E?this._renderer.getSize(D,{sizeInfo:E,shape:z.style,resolution:this._map.getResolutionInMeters(),scale:this._map.getScale()}):null,G.setSize(D));return G},_showSingleGraphics:function(D){b.forEach(D,this._showSingleGraphic);this._singleGraphics=D},_hideSingleGraphics:function(){b.forEach(this._singleGraphics,function(D){D.setSize(null);this._hideSingleGraphic(D)},this);this._singleGraphics=null},
	_clearSingleGraphics:function(){b.forEach(this._singleGraphics,function(D){D.setSize(null)});this._singleGraphics=null},_showSingleGraphic:function(D){D&&D._resume()},_hideSingleGraphic:function(D){D&&D._suspend()},_updateSizeVariable:function(){this.isClusteringEnabled()&&(this._updateSizeByCountVariable(),this.emit("renderer-change"))},_applyClusterAttributes:function(D,G){D.setAttributes(G.attributes)},_createLayerEventListeners:function(){var D=this.layer;this._eventHandles.push(D.on("visibility-change",
	y.hitch(this,function(G){this.container.setVisibility(G.visible)})),D.on("scale-range-change",y.hitch(this,function(){this.container.setScaleRange(this.layer.minScale,this.layer.maxScale)})),D.on("renderer-change",y.hitch(this,function(){this._applyRenderer()})),D.on("info-template-change",y.hitch(this,function(){this._applyInfoTemplate()})))},_createMapEventListeners:function(){this._eventHandles.push(this._map.on("zoom-start",y.hitch(this,function(){this._removeClusterBoundary();this._removeFromPopup(this.container);
	this._removeFromPopup(this.layer);this._resetClusterNav();this.container.clear();this._hideSingleGraphics()})))},_createPopupEventListeners:function(){var D=this._map.infoWindow;this._eventHandles.push(D.on("selection-change",y.hitch(this,function(){this._resetClusterNavPartial();var G=this._map.infoWindow.getSelectedFeature(),z=G&&G.getLayer();if(z){if(z===this.container){this._removeClusterBoundary();var E=this._createBrowseFeaturesAction()}else z===this.layer&&G._isSuspended()?(E=this._createViewSummaryAction(),
	this._popupSingleGraphic=G,this._showSingleGraphic(this._popupSingleGraphic)):this._removeClusterBoundary();this._popupActions=E?[E]:null}})),D.on("clear-features",y.hitch(this,function(G){this._resetClusterNav();G.isIntermediate||this._removeClusterBoundary()})),D.on("hide",y.hitch(this,function(){this._popupSingleGraphic&&this._popupSingleGraphic._suspend();this._clusterBoundary&&this._clusterBoundary.hide()})),D.on("show",y.hitch(this,function(){this._popupSingleGraphic&&this._popupSingleGraphic._resume();
	this._clusterBoundary&&this._clusterBoundary.show()})))},_destroyEventListeners:function(){b.forEach(this._eventHandles,function(D){D.remove()})}});w("extend-esri")&&y.setObject("layers.clustering.ClusterManager",C,n);return C})},"esri/dijit/PopupTemplate":function(){define("dojo/_base/declare dojo/_base/lang dojo/has dojo/dom-construct ../kernel ../InfoTemplate ../PopupInfo ./PopupRenderer".split(" "),function(C,y,b,w,n,l,k,h){C=C([l,k],{declaredClass:"esri.dijit.PopupTemplate","-chains-":{constructor:"manual"},
	chartTheme:null,constructor:function(f,d){y.mixin(this,d);this.initialize(f,d)},getTitle:function(f){var d;this.info&&(d=this.titleHasRelatedFields||this.titleHasAsyncExpressions?"":this._getPopupValues(f,this._fetchAttributes(f,null,this.getExpressionFieldsInTitle()),!0).title);return d||""},getContent:function(f){return this.info?(new h({template:this,graphic:f,chartTheme:this.chartTheme},w.create("div"))).domNode:""}});b("extend-esri")&&y.setObject("dijit.PopupTemplate",C,n);return C})},"esri/PopupInfo":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/i18n dojo/has dojo/Deferred dojo/sniff dojo/promise/all dojox/html/entities ./lang ./kernel ./request ./promiseList ./ArcadeExpression ./tasks/query ./tasks/QueryTask ./tasks/RelationshipQuery ./tasks/StatisticDefinition ./arcadeProfiles/popupProfile ./layers/support/attributeUtils dojo/i18n!dojo/cldr/nls/number".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x,u,A,m,v){C=C(null,{declaredClass:"esri.PopupInfo",_reNewline:/(\n)/ig,_reExprField:/^\s*expression\//i,_reExprFieldPattern:/\{expression\/([^\}]+)\}/ig,_exprPrefix:"expression/",_relatedFieldPrefix:"relationships/",_aggregatedFeaturesVariable:"$aggregatedfeatures",initialize:function(r,B){if(r){y.mixin(this,B);this.info=r;this.title=this.getTitle;this.content=this.getContent;this._exprCache=this._compileExpressions(this.info.expressionInfos);var D=this._fieldLabels=
	{},G=this._fieldsMap={};this.info.fieldInfos&&b.forEach(this.info.fieldInfos,function(z){var E=z.fieldName.toLowerCase(),H=this._isExpressionField(E)?this.getExpressionInfo(E):null;D[E]=H?H.title:z.label;G[E]=z},this);this.titleHasRelatedFields=!(!this.info.title||-1===this.info.title.indexOf("{"+this._relatedFieldPrefix));this.titleHasAsyncExpressions=this._titleHasAsyncExpressions();this.contentHasAsyncExpressions=this._contentHasAyncExpressions()}},toJson:function(){return w.fromJson(w.toJson(this.info))},
	getTitle:function(){},getContent:function(){},getFieldInfo:function(r){var B;b.some(this.info&&this.info.fieldInfos,function(D){D.fieldName===r&&(B=D);return!!B});return B},getExpressionInfo:function(r){if(r=this._getExprField(r)){r=r.toLowerCase();var B;b.some(this.info.expressionInfos,function(D){D.name.toLowerCase()===r&&(B=D);return!!B});return B}},getExpressionFieldsInTitle:function(){return this._getExprFieldsFromTemplatedString(this.info.title)},getExpressionFieldsInContent:function(){var r=
	this._collectExprFieldsFromTemplatedString(this.info.description,[]);this.info.description||b.forEach(this.info.fieldInfos,function(B){B.visible&&this._collectExprField(B.fieldName,r)},this);b.forEach(this.info.mediaInfos,function(B){this._collectExprFieldsFromTemplatedString(B.title,r);this._collectExprFieldsFromTemplatedString(B.caption,r);if(B=B.value)this._collectExprFieldsFromTemplatedString(B.linkURL,r),this._collectExprFieldsFromTemplatedString(B.sourceURL,r),b.forEach(B.fields,function(D){this._collectExprField(D,
	r)},this),this._collectExprField(B.normalizeField,r),this._collectExprField(B.tooltipField,r)},this);return r},getRequiredExpressionFields:function(){return this.getExpressionFieldsInTitle().concat(this.getExpressionFieldsInContent())},hasGeometryOperations:function(){return b.some(this._getArcadeExpressions(),function(r){return r.hasGeometryOperations()})},hasAsyncExpressions:function(){return b.some(this._getArcadeExpressions(),function(r){return r.async})},initializeArcadeEngine:function(){return A.initialize(this._getArcadeExpressions())},
	getComponents:function(r,B){var D=this.info,G={initArcadeEngine:this.initializeArcadeEngine()};D.fieldInfos&&(D=b.filter(D.fieldInfos,function(z){return-1!==z.fieldName.indexOf(this._relatedFieldPrefix)},this))&&0<D.length&&(G.relatedInfo=this._getRelatedRecords({graphic:r,fieldsInfo:D}));this._needFullResolutionFeature(r)&&(G.fullResolutionFeature=this._getFullResolutionFeature(r));this._needAggregatedFeaturesLayer(r)&&(G.aggregatedFeaturesLayer=this._getAggregatedFeaturesLayer(r));return q(G).then(y.hitch(this,
	function(z){var E=z.fullResolutionFeature,H=B&&B.evaluateAllExpressions,I=H?null:this.getRequiredExpressionFields();z=(H?this.hasAsyncExpressions():this._hasAsyncExpressions(I))?this._fetchAttributesAsync(r,E,I,z.aggregatedFeaturesLayer):this._fetchAttributes(r,E,I);return q([z]).then(y.hitch(this,function(O){return this._getPopupValues(r,O[0])}))}))},getAttachments:function(r){var B=r.getSourceLayer();r=r.attributes;if(this.info.showAttachments&&B&&B.hasAttachments&&B.objectIdField&&(r=r&&r[B.objectIdField]))return B.queryAttachmentInfos(r)},
	_needAggregatedFeaturesLayer:function(r){return r.isAggregate()?b.some(this._getArcadeExpressions(),function(B){return B.hasVariable(this._aggregatedFeaturesVariable)},this):!1},_getAggregatedFeaturesLayer:function(r){return r.getAggregationSourceLayer().getFeatureCollectionLayer(r.getChildGraphics()).always(function(B){return B instanceof Error?null:B})},_needFullResolutionFeature:function(r){return(r=r.getSourceLayer())?"function"===typeof r.getMaxAllowableOffset&&0<r.getMaxAllowableOffset()&&this.hasGeometryOperations():
	!1},_getFullResolutionFeature:function(r){var B=r.getSourceLayer(),D=B.objectIdField;r=(r=r.attributes)&&D&&r[D];if(null==r)return null;var G=new g;G.where=D+"\x3d"+r;G.maxAllowableOffset=0;G.outFields=[D];B._enableCacheHint(G);return B.queryFeatures(G).then(function(z){return z.features&&z.features[0]})},_isExpressionField:function(r){return this._reExprField.test(r)},_getExprField:function(r){return this._isExpressionField(r)?r.replace(this._reExprField,""):null},_collectExprField:function(r,B){(r=
	this._getExprField(r))&&B.push(r);return B},_collectExprFieldsFromTemplatedString:function(r,B){r=this._getExprFieldsFromTemplatedString(r);r.length&&Array.prototype.push.apply(B,r);return B},_getExprFieldsFromTemplatedString:function(r){r=r?r.match(this._reExprFieldPattern):null;return b.map(r,function(B){return B.replace(this._reExprFieldPattern,"$1")},this)},_titleHasAsyncExpressions:function(){return this._hasAsyncExpressions(this.getExpressionFieldsInTitle())},_contentHasAyncExpressions:function(){return this._hasAsyncExpressions(this.getExpressionFieldsInContent())},
	_hasAsyncExpressions:function(r){return b.some(r,function(B){B=this._exprCache[B];return!(!B||!B.async)},this)},_compileExpressions:function(r){var B={};b.forEach(r,function(D){var G=D.returnType&&D.returnType.toLowerCase();B[D.name]=new t({expression:D.expression,returnType:"number"===G?"number":"string",profile:A})});return B},_getArcadeExpressions:function(){var r=[],B;for(B in this._exprCache)r.push(this._exprCache[B]);return r},_fetchAttributesAsync:function(r,B,D,G){var z=this._fetchAttributes(r,
	B,D,G);r={};for(var E in z)(B=z[E])&&B.then&&(r[E]=B);return q(r).then(y.hitch(this,function(H){for(var I in H){var O=H[I];z[I]=O instanceof Error?null:this._processArcadeResult(O)}return z}))},_processArcadeResult:function(r){"string"===typeof r&&(r=d.encode(r));return r},_fetchAttributes:function(r,B,D,G){var z=y.clone(r.attributes)||{},E=B&&B.geometry,H=this._exprPrefix,I=this._exprCache;D=D||b.map(this.info.expressionInfos,function(O){return O.name});b.forEach(D,function(O){var T=H+O;O=(O=I[O])?
	r.evaluateExpression(O,this._getEvalOptions(O,r,E,G)):null;z[T]=this._processArcadeResult(O)},this);return z},_getEvalOptions:function(r,B,D,G){var z=r.hasGeometryOperations(),E=B.getSourceLayer(),H=E&&(E.getMap()||E.parentLayer&&E.parentLayer.getMap());G&&(G._map=H);r=A.getEvalOptions({expression:r,feature:B,layer:E,aggregatedFeaturesLayer:G,map:H,spatialReference:H&&H.spatialReference});B=r.context.vars.$feature;z=!(!z||!D);B&&z&&(B._geometry=D);r.skipCache=z;return r},_getPopupValues:function(r,
	B,D){B=B||this._fetchAttributes(r);var G=this.info,z=r.getSourceLayer(),E=y.clone(B),H="",I="",O,T,Z=z&&z._getDateOpts&&z._getDateOpts().properties;Z=Z&&Z.slice(0);var ia={dateFormat:{properties:Z,formatter:"DateFormat"+this._insertOffset(this._dateFormats.shortDateShortTime)},format:null};if(this._relatedInfo)for(ha in this._relatedInfo)if(this._relatedInfo.hasOwnProperty(ha)){var ca=this._relatedInfo[ha],W=this._relatedLayersInfo[ha];ca&&(b.forEach(ca.relatedFeatures,function(la){for(T in la.attributes)if(la.attributes.hasOwnProperty(T)&&
	"esriRelCardinalityOneToOne"===W.relation.cardinality){var L=this._toRelatedFieldName([W.relation.id,T]);B[L]=E[L]=la.attributes[T]}},this),b.forEach(ca.relatedStatsFeatures,function(la){for(T in la.attributes)if(la.attributes.hasOwnProperty(T)){var L=this._toRelatedFieldName([W.relation.id,T]);B[L]=E[L]=la.attributes[T]}},this))}for(O in E){var ha=this._fieldsMap[O.toLowerCase()];ca=this._getLayerFieldInfo(z,O);ha&&ca&&(ha.fieldName=ca.name);E[O]=this._formatValue(E[O],O,ia);Z&&ha&&ha.format&&ha.format.dateFormat&&
	(ha=b.indexOf(Z,O),-1<ha&&Z.splice(ha,1))}if(z)for(O in Z=z.typeIdField,B)if(B.hasOwnProperty(O)&&-1===O.indexOf(this._relatedFieldPrefix)){var ma=B[O];a.isDefined(ma)&&(ha=this._getDomainName(z,r,O,ma),a.isDefined(ha)?E[O]=ha:O===Z&&(ha=this._getTypeName(z,r,ma),a.isDefined(ha)&&(E[O]=ha)))}G.title&&(H=this._processFieldsInLinks(this._fixTokens(G.title,z),B),H=y.trim(this._removeEmptyHref(a.substitute(E,H,ia)||"")));if(D)return{title:H};G.description&&(I=this._processFieldsInLinks(this._fixTokens(G.description,
	z),B),I=y.trim(this._removeEmptyHref(a.substitute(E,I,ia)||"")));if(G.fieldInfos){var xa=[];b.forEach(G.fieldInfos,function(la){(O=la.fieldName)&&la.visible&&xa.push([this._fieldLabels[O.toLowerCase()]||O,a.substitute(E,"${"+O+"}",ia)||""])},this)}var K;if(G.mediaInfos){var Y=[];b.forEach(G.mediaInfos,function(la){K=0;ma=la.value;switch(la.type){case "image":var L=ma.sourceURL;L=L&&y.trim(this._removeEmptyHref(a.substitute(B,this._fixTokens(L,z))));K=!!L;break;case "piechart":case "linechart":case "columnchart":case "barchart":L=
	ma.normalizeField;ma.fields=b.map(ma.fields,function(va){return(R=this._getLayerFieldInfo(z,va))?R.name:va},this);if(L){var R=this._getLayerFieldInfo(z,L);ma.normalizeField=R?R.name:L}K=b.some(ma.fields,function(va){return a.isDefined(B[va])||-1!==va.indexOf(this._relatedFieldPrefix)&&this._relatedInfo},this);break;default:return}if(K){la=y.clone(la);ma=la.value;L=la.title?this._processFieldsInLinks(this._fixTokens(la.title,z),B):"";var da=la.caption?this._processFieldsInLinks(this._fixTokens(la.caption,
	z),B):"";la.title=L?y.trim(this._removeEmptyHref(a.substitute(E,L,ia)||"")):"";la.caption=da?y.trim(this._removeEmptyHref(a.substitute(E,da,ia)||"")):"";if("image"===la.type)ma.sourceURL=a.substitute(B,this._fixTokens(ma.sourceURL,z)),ma.linkURL&&(ma.linkURL=y.trim(a.substitute(B,this._fixTokens(ma.linkURL,z))||""));else{var ka,qa;b.forEach(ma.fields,function(va,Ea){if(-1!==va.indexOf(this._relatedFieldPrefix))qa=this._getRelatedChartInfos(va,ma,B,ia),qa instanceof Array?ma.fields=qa:ma.fields[Ea]=
	qa;else{var ba=B[va];ba=void 0===ba?null:ba;ka=B[ma.normalizeField]||0;ba&&ka&&(ba/=ka);ma.fields[Ea]={y:ba,tooltip:(this._fieldLabels[va.toLowerCase()]||va)+":\x3cbr/\x3e"+this._formatValue(ba,va,ia,!!ka)}}},this)}Y.push(la)}},this)}return{title:H,description:I,hasDescription:!!G.description,fields:xa&&xa.length?xa:null,mediaInfos:Y&&Y.length?Y:null,formatted:E,editSummary:!1!==G.showLastEditInfo&&z&&z.getEditSummary?z.getEditSummary(r):""}},_getRelatedChartInfos:function(r,B,D,G){var z,E;var H=
	[];var I=this._fromRelatedFieldName(r);var O=I[0];var T=this._relatedInfo[O];O=this._relatedLayersInfo[O];T&&b.forEach(T.relatedFeatures,function(Z){Z=Z.attributes;var ia;for(ia in Z)if(Z.hasOwnProperty(ia)&&ia===I[1]){var ca={};E=Z[ia];B.normalizeField&&(z=-1!==B.normalizeField.indexOf(this._relatedFieldPrefix)?Z[this._fromRelatedFieldName(B.normalizeField)[1]]:D[B.normalizeField]);E&&z&&(E/=z);if(B.tooltipField)if(-1!==B.tooltipField.indexOf(this._relatedFieldPrefix)){var W=this._fromRelatedFieldName(B.tooltipField)[1],
	ha=a.isDefined(Z[W])?this._formatValue(Z[W],B.tooltipField,G,!!z):W;ca.tooltip=ha+":\x3cbr/\x3e"+this._formatValue(E,W,G,!!z)}else ca.tooltip=(this._fieldLabels[r.toLowerCase()]||r)+":\x3cbr/\x3e"+this._formatValue(E,B.tooltipField,G,!!z);else ca.tooltip=E;ca.y=E;H.push(ca)}},this);return"esriRelCardinalityOneToMany"===O.relation.cardinality||"esriRelCardinalityManyToMany"===O.relation.cardinality?H:H[0]},_dateFormats:{shortDate:"(datePattern: 'M/d/y', selector: 'date')",shortDateShortTime:"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')",
	shortDateShortTime24:"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')",shortDateLongTime:"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')",shortDateLongTime24:"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')",shortDateLE:"(datePattern: 'd/M/y', selector: 'date')",shortDateLEShortTime:"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')",shortDateLEShortTime24:"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')",
	shortDateLELongTime:"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')",shortDateLELongTime24:"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')",longMonthDayYear:"(datePattern: 'MMMM d, y', selector: 'date')",longMonthDayYearShortTime:"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')",longMonthDayYearShortTime24:"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",longMonthDayYearLongTime:"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')",
	longMonthDayYearLongTime24:"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')",dayShortMonthYear:"(datePattern: 'd MMM y', selector: 'date')",dayShortMonthYearShortTime:"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')",dayShortMonthYearShortTime24:"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')",dayShortMonthYearLongTime:"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')",dayShortMonthYearLongTime24:"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')",
	longDate:"(datePattern: 'EEEE, MMMM d, y', selector: 'date')",longDateShortTime:"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')",longDateShortTime24:"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",longDateLongTime:"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')",longDateLongTime24:"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')",longMonthYear:"(datePattern: 'MMMM y', selector: 'date')",
	shortMonthYear:"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"},_dateFormatsJson:{shortDate:{datePattern:"M/d/y",selector:"date"},shortDateShortTime:{datePattern:"M/d/y",timePattern:"h:mm a",selector:"date and time"},shortDateShortTime24:{datePattern:"M/d/y",timePattern:"H:mm",selector:"date and time"},shortDateLongTime:{datePattern:"M/d/y",timePattern:"h:mm:ss a",selector:"date and time"},shortDateLongTime24:{datePattern:"M/d/y",timePattern:"H:mm:ss",selector:"date and time"},
	shortDateLE:{datePattern:"d/M/y",selector:"date"},shortDateLEShortTime:{datePattern:"d/M/y",timePattern:"h:mm a",selector:"date and time"},shortDateLEShortTime24:{datePattern:"d/M/y",timePattern:"H:mm",selector:"date and time"},shortDateLELongTime:{datePattern:"d/M/y",timePattern:"h:mm:ss a",selector:"date and time"},shortDateLELongTime24:{datePattern:"d/M/y",timePattern:"H:mm:ss",selector:"date and time"},longMonthDayYear:{datePattern:"MMMM d, y",selector:"date"},longMonthDayYearShortTime:{datePattern:"MMMM d, y",
	timePattern:"h:mm a",selector:"date and time"},longMonthDayYearShortTime24:{datePattern:"MMMM d, y",timePattern:"H:mm",selector:"date and time"},longMonthDayYearLongTime:{datePattern:"MMMM d, y",timePattern:"h:mm:ss a",selector:"date and time"},longMonthDayYearLongTime24:{datePattern:"MMMM d, y",timePattern:"H:mm:ss",selector:"date and time"},dayShortMonthYear:{datePattern:"d MMM y",selector:"date"},dayShortMonthYearShortTime:{datePattern:"d MMM y",timePattern:"h:mm a",selector:"date and time"},dayShortMonthYearShortTime24:{datePattern:"d MMM y",
	timePattern:"H:mm",selector:"date and time"},dayShortMonthYearLongTime:{datePattern:"d MMM y",timePattern:"h:mm:ss a",selector:"date and time"},dayShortMonthYearLongTime24:{datePattern:"d MMM y",timePattern:"H:mm:ss",selector:"date and time"},longDate:{datePattern:"EEEE, MMMM d, y",selector:"date"},longDateShortTime:{datePattern:"EEEE, MMMM d, y",timePattern:"h:mm a",selector:"date and time"},longDateShortTime24:{datePattern:"EEEE, MMMM d, y",timePattern:"H:mm",selector:"date and time"},longDateLongTime:{datePattern:"EEEE, MMMM d, y",
	timePattern:"h:mm:ss a",selector:"date and time"},longDateLongTime24:{datePattern:"EEEE, MMMM d, y",timePattern:"H:mm:ss",selector:"date and time"},longMonthYear:{datePattern:"MMMM y",selector:"date"},shortMonthYear:{datePattern:"MMM y",selector:"date"},year:{datePattern:"y",selector:"date"}},_reHref:/href\s*=\s*(")([^"]+)"/ig,_reHrefApos:/href\s*=\s*(')([^']+)'/ig,_fixTokens:function(r,B){var D=this;return r.replace(/(\{([^\{\r\n]+)\})/g,function(G,z,E){G=D._getLayerFieldInfo(B,E);return"$"+(G?"{"+
	G.name+"}":z)})},_encodeAttributes:function(r,B){r=y.clone(r)||{};var D,G;for(D in r)(G=r[D])&&"string"===typeof G&&(G=B?G:encodeURIComponent(G),G=G.replace(/'/g,"\x26apos;"),r[D]=G);return r},_processFieldsInLinks:function(r,B){var D=this._encodeAttributes(B),G=this._encodeAttributes(B,!0);B=y.hitch(this,this._addValuesToHref,B,D,G);r&&(r=r.replace(this._reHref,B).replace(this._reHrefApos,B));return r},_addValuesToHref:function(r,B,D,G,z,E){E=E&&y.trim(E);return G=a.substitute(E&&0===E.indexOf("${")?
	"'"===z?D:r:B,G)},_getLayerFieldInfo:function(r,B){return r&&r.getField?r.getField(B):null},_formatValue:function(r,B,D,G){var z=this._fieldsMap[B.toLowerCase()],E=z&&z.format;B=-1!==b.indexOf(D.dateFormat.properties,B);var H="number"===typeof r&&!B&&(!E||!E.dateFormat);if(!a.isDefined(r)||!z||!a.isDefined(E))return this._applyFormatting(r,H);z=E.hasOwnProperty("places")||E.hasOwnProperty("digitSeparator");var I=E.hasOwnProperty("digitSeparator")?E.digitSeparator:!0;if(z&&!B)var O={formatType:"NumberFormat",
	places:a.isDefined(E.places)&&(!G||0<E.places)?Number(E.places):Infinity};else if(E.dateFormat)O=y.mixin({formatType:"DateFormat",utcOffset:this.utcOffset},this._dateFormatsJson[E.dateFormat]||this._dateFormatsJson.shortDateShortTime);else return this._applyFormatting(r,H);var T=this._applyFormatFunctions(r,O,D);z&&-1<r.constructor.toString().indexOf("Array")&&(T="",b.forEach(r,y.hitch(this,function(Z,ia){ia&&(T+=" ");T+=this._applyFormatFunctions(Z,O,D)})));z&&!I&&v.group&&(T=T.replace(new RegExp("\\"+
	v.group,"g"),""));B&&(T='\x3cspan class\x3d"esriDateValue"\x3e'+T+"\x3c/span\x3e");return this._applyFormatting(T,H)},_applyFormatFunctions:function(r,B,D){B&&D&&(D.format={myKey:B});r=a.substitute({myKey:r},"${myKey}",D)||"";B&&D&&(D.format=null);return r},_applyFormatting:function(r,B){return B?this._forceLTR(r):this._applyPreWrap(r)},_forceLTR:function(r){var B=h("ie");return B&&10>=B?r:"\x3cspan class\x3d'esriNumericValue'\x3e"+r+"\x3c/span\x3e"},_applyPreWrap:function(r){return"string"===typeof r?
	r.replace(this._reNewline,"\x3cspan class\x3d'charNewLine'\x3e$1\x3c/span\x3e"):r},_insertOffset:function(r){r&&(r=a.isDefined(this.utcOffset)?r.replace(/\)\s*$/,", utcOffset:"+this.utcOffset+")"):r);return r},_getDomainName:function(r,B,D,G){return(r=r.getDomain&&r.getDomain(D,{feature:B}))&&r.codedValues?r.getName(G):null},_getTypeName:function(r,B,D){return(r=r.getType&&r.getType(B))&&r.name},_getRelatedRecords:function(r){var B=r.graphic,D;this._relatedLayersInfoPromise||(this._relatedLayersInfoPromise=
	this._getRelatedLayersInfo(r).then(y.hitch(this,function(G){for(D in G)G.hasOwnProperty(D)&&G[D]&&(this._relatedLayersInfo[D].relatedLayerInfo=G[D])})));return this._relatedLayersInfoPromise.then(y.hitch(this,function(){return this._queryRelatedLayers(B)})).then(y.hitch(this,function(G){this._setRelatedRecords(B,G);return G}))},_getRelatedLayersInfo:function(r){var B=r.fieldsInfo,D,G={};var z=r.graphic.getSourceLayer();this._relatedLayersInfo||(this._relatedLayersInfo={});b.forEach(B,function(E){var H;
	var I=this._fromRelatedFieldName(E.fieldName);var O=I[0];I=I[1];if(O&&(!this._relatedLayersInfo[O]&&z&&z.relationships&&(b.some(z.relationships,function(Z){if(Z.id==O)return H=Z,!0}),H&&(this._relatedLayersInfo[O]={relation:H,relatedFields:[],outStatistics:[]})),this._relatedLayersInfo[O]&&(this._relatedLayersInfo[O].relatedFields.push(I),E.statisticType))){var T=new u;T.statisticType=E.statisticType;T.onStatisticField=I;T.outStatisticFieldName=I;this._relatedLayersInfo[O].outStatistics.push(T)}},
	this);for(D in this._relatedLayersInfo)this._relatedLayersInfo.hasOwnProperty(D)&&this._relatedLayersInfo[D]&&(r=this._relatedLayersInfo[D].relation,r=z.url.replace(/[0-9]+$/,r.relatedTableId),this._relatedLayersInfo[D].relatedLayerUrl=r,G[D]=e({url:r,content:{f:"json"},callbackParamName:"callback"}));return f(G)},_queryRelatedLayers:function(r){var B={},D;for(D in this._relatedLayersInfo)this._relatedLayersInfo.hasOwnProperty(D)&&(B[D]=this._queryRelatedLayer({graphic:r,relatedInfo:this._relatedLayersInfo[D]}));
	return f(B)},_queryRelatedLayer:function(r){var B,D;var G=r.graphic;var z=G.getSourceLayer();var E=z.url.match(/[0-9]+$/g)[0];var H=r.relatedInfo;var I=H.relatedLayerInfo;var O=H.relatedLayerUrl;var T=H.relation;r=b.filter(I.relationships,function(ma){return ma.relatedTableId===parseInt(E,10)});1===r.length?B=r[0]:1<r.length&&b.some(r,function(ma){ma.id===T.id&&(B=ma);return!!B});if(B){var Z=new g;b.some(I.fields,function(ma){if(ma.name===B.keyField)return D=-1!==b.indexOf(["esriFieldTypeSmallInteger",
	"esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble"],ma.type)?"number":"string",!0});if(B.relationshipTableId&&B.keyFieldInRelationshipTable){var ia=new k;this._queryRelatedRecords(G,B).then(y.hitch(this,function(ma){var xa;(xa=ma[G.attributes[z.objectIdField]])?(ma=b.map(xa.features,function(K){return K.attributes[I.objectIdField]},this),H.outStatistics&&0<H.outStatistics.length&&I.supportsStatistics&&(W=new g,W.where=this._chunkWhereInClause(I.objectIdField,ma,1E3),W.outFields=Z.outFields,
	W.outStatistics=H.outStatistics),W&&(ha=new p(O),ha.execute(W).then(y.hitch(this,function(K){var Y=[];Y.push(xa);Y.push(K);ia.resolve(Y)})))):ia.resolve()}))}else{var ca="string"===D?B.keyField+"\x3d'"+G.attributes[T.keyField]+"'":B.keyField+"\x3d"+G.attributes[T.keyField];Z.where=ca;Z.outFields=H.relatedFields;if(H.outStatistics&&0<H.outStatistics.length&&I.supportsStatistics){var W=new g;W.where=Z.where;W.outFields=Z.outFields;W.outStatistics=H.outStatistics}var ha=new p(O);ca=[];ca.push(ha.execute(Z));
	W&&ca.push(ha.execute(W))}}return ca?f(ca):ia?ia.promise:void 0},_setRelatedRecords:function(r,B){this._relatedInfo=[];for(var D in B)B.hasOwnProperty(D)&&B[D]&&(r=B[D],this._relatedInfo[D]={},this._relatedInfo[D].relatedFeatures=r[0].features,a.isDefined(r[1])&&(this._relatedInfo[D].relatedStatsFeatures=r[1].features))},_handlerErrorResponse:function(r,B){r.reject(B)},_fromRelatedFieldName:function(r){var B=[];-1!==r.indexOf(this._relatedFieldPrefix)&&(r=r.split("/"),B=r.slice(1));return B},_toRelatedFieldName:function(r){var B=
	"";r&&0<r.length&&(B=this._relatedFieldPrefix+r[0]+"/"+r[1]);return B},_queryRelatedRecords:function(r,B){var D=r.getSourceLayer(),G=new x;G.outFields=["*"];G.relationshipId=B.id;G.objectIds=[r.attributes[D.objectIdField]];return D.queryRelatedFeatures(G)},_removeEmptyHref:function(r){return r.replace(/href=(""|'')/gi,"")},_chunkWhereInClause:function(r,B,D){for(var G=0,z=[];G<B.length;)z.push(r+" IN ("+B.slice(G,D+G)+")"),G+=D;return z.join(" OR ")}});l("extend-esri")&&(c.PopupInfo=c.PopupInfoTemplate=
	C);return C})},"dojox/html/entities":function(){define(["dojo/_base/lang"],function(C){var y=C.getObject("dojox.html.entities",!0),b=function(n,l){if(l._encCache&&l._encCache.regexp&&l._encCache.mapper&&l.length==l._encCache.length){var k=l._encCache.mapper;var h=l._encCache.regexp}else{k={};h=["["];var f;for(f=0;f<l.length;f++)k[l[f][0]]="\x26"+l[f][1]+";",h.push(l[f][0]);h.push("]");h=new RegExp(h.join(""),"g");l._encCache={mapper:k,regexp:h,length:l.length}}return n=n.replace(h,function(d){return k[d]})},
	w=function(n,l){if(l._decCache&&l._decCache.regexp&&l._decCache.mapper&&l.length==l._decCache.length){var k=l._decCache.mapper;var h=l._decCache.regexp}else{k={};h=["("];var f;for(f=0;f<l.length;f++){var d="\x26"+l[f][1]+";";f&&h.push("|");k[d]=l[f][0];h.push(d)}h.push(")");h=new RegExp(h.join(""),"g");l._decCache={mapper:k,regexp:h,length:l.length}}return n=n.replace(h,function(a){return k[a]})};y.html=[["\x26","amp"],['"',"quot"],["\x3c","lt"],["\x3e","gt"],["\u00a0","nbsp"]];y.latin=[["\u00a1",
	"iexcl"],["\u00a2","cent"],["\u00a3","pound"],["\u20ac","euro"],["\u00a4","curren"],["\u00a5","yen"],["\u00a6","brvbar"],["\u00a7","sect"],["\u00a8","uml"],["\u00a9","copy"],["\u00aa","ordf"],["\u00ab","laquo"],["\u00ac","not"],["\u00ad","shy"],["\u00ae","reg"],["\u00af","macr"],["\u00b0","deg"],["\u00b1","plusmn"],["\u00b2","sup2"],["\u00b3","sup3"],["\u00b4","acute"],["\u00b5","micro"],["\u00b6","para"],["\u00b7","middot"],["\u00b8","cedil"],["\u00b9","sup1"],["\u00ba","ordm"],["\u00bb","raquo"],
	["\u00bc","frac14"],["\u00bd","frac12"],["\u00be","frac34"],["\u00bf","iquest"],["\u00c0","Agrave"],["\u00c1","Aacute"],["\u00c2","Acirc"],["\u00c3","Atilde"],["\u00c4","Auml"],["\u00c5","Aring"],["\u00c6","AElig"],["\u00c7","Ccedil"],["\u00c8","Egrave"],["\u00c9","Eacute"],["\u00ca","Ecirc"],["\u00cb","Euml"],["\u00cc","Igrave"],["\u00cd","Iacute"],["\u00ce","Icirc"],["\u00cf","Iuml"],["\u00d0","ETH"],["\u00d1","Ntilde"],["\u00d2","Ograve"],["\u00d3","Oacute"],["\u00d4","Ocirc"],["\u00d5","Otilde"],
	["\u00d6","Ouml"],["\u00d7","times"],["\u00d8","Oslash"],["\u00d9","Ugrave"],["\u00da","Uacute"],["\u00db","Ucirc"],["\u00dc","Uuml"],["\u00dd","Yacute"],["\u00de","THORN"],["\u00df","szlig"],["\u00e0","agrave"],["\u00e1","aacute"],["\u00e2","acirc"],["\u00e3","atilde"],["\u00e4","auml"],["\u00e5","aring"],["\u00e6","aelig"],["\u00e7","ccedil"],["\u00e8","egrave"],["\u00e9","eacute"],["\u00ea","ecirc"],["\u00eb","euml"],["\u00ec","igrave"],["\u00ed","iacute"],["\u00ee","icirc"],["\u00ef","iuml"],
	["\u00f0","eth"],["\u00f1","ntilde"],["\u00f2","ograve"],["\u00f3","oacute"],["\u00f4","ocirc"],["\u00f5","otilde"],["\u00f6","ouml"],["\u00f7","divide"],["\u00f8","oslash"],["\u00f9","ugrave"],["\u00fa","uacute"],["\u00fb","ucirc"],["\u00fc","uuml"],["\u00fd","yacute"],["\u00fe","thorn"],["\u00ff","yuml"],["\u0192","fnof"],["\u0391","Alpha"],["\u0392","Beta"],["\u0393","Gamma"],["\u0394","Delta"],["\u0395","Epsilon"],["\u0396","Zeta"],["\u0397","Eta"],["\u0398","Theta"],["\u0399","Iota"],["\u039a",
	"Kappa"],["\u039b","Lambda"],["\u039c","Mu"],["\u039d","Nu"],["\u039e","Xi"],["\u039f","Omicron"],["\u03a0","Pi"],["\u03a1","Rho"],["\u03a3","Sigma"],["\u03a4","Tau"],["\u03a5","Upsilon"],["\u03a6","Phi"],["\u03a7","Chi"],["\u03a8","Psi"],["\u03a9","Omega"],["\u03b1","alpha"],["\u03b2","beta"],["\u03b3","gamma"],["\u03b4","delta"],["\u03b5","epsilon"],["\u03b6","zeta"],["\u03b7","eta"],["\u03b8","theta"],["\u03b9","iota"],["\u03ba","kappa"],["\u03bb","lambda"],["\u03bc","mu"],["\u03bd","nu"],["\u03be",
	"xi"],["\u03bf","omicron"],["\u03c0","pi"],["\u03c1","rho"],["\u03c2","sigmaf"],["\u03c3","sigma"],["\u03c4","tau"],["\u03c5","upsilon"],["\u03c6","phi"],["\u03c7","chi"],["\u03c8","psi"],["\u03c9","omega"],["\u03d1","thetasym"],["\u03d2","upsih"],["\u03d6","piv"],["\u2022","bull"],["\u2026","hellip"],["\u2032","prime"],["\u2033","Prime"],["\u203e","oline"],["\u2044","frasl"],["\u2118","weierp"],["\u2111","image"],["\u211c","real"],["\u2122","trade"],["\u2135","alefsym"],["\u2190","larr"],["\u2191",
	"uarr"],["\u2192","rarr"],["\u2193","darr"],["\u2194","harr"],["\u21b5","crarr"],["\u21d0","lArr"],["\u21d1","uArr"],["\u21d2","rArr"],["\u21d3","dArr"],["\u21d4","hArr"],["\u2200","forall"],["\u2202","part"],["\u2203","exist"],["\u2205","empty"],["\u2207","nabla"],["\u2208","isin"],["\u2209","notin"],["\u220b","ni"],["\u220f","prod"],["\u2211","sum"],["\u2212","minus"],["\u2217","lowast"],["\u221a","radic"],["\u221d","prop"],["\u221e","infin"],["\u2220","ang"],["\u2227","and"],["\u2228","or"],["\u2229",
	"cap"],["\u222a","cup"],["\u222b","int"],["\u2234","there4"],["\u223c","sim"],["\u2245","cong"],["\u2248","asymp"],["\u2260","ne"],["\u2261","equiv"],["\u2264","le"],["\u2265","ge"],["\u2282","sub"],["\u2283","sup"],["\u2284","nsub"],["\u2286","sube"],["\u2287","supe"],["\u2295","oplus"],["\u2297","otimes"],["\u22a5","perp"],["\u22c5","sdot"],["\u2308","lceil"],["\u2309","rceil"],["\u230a","lfloor"],["\u230b","rfloor"],["\u2329","lang"],["\u232a","rang"],["\u25ca","loz"],["\u2660","spades"],["\u2663",
	"clubs"],["\u2665","hearts"],["\u2666","diams"],["\u0152","OElig"],["\u0153","oelig"],["\u0160","Scaron"],["\u0161","scaron"],["\u0178","Yuml"],["\u02c6","circ"],["\u02dc","tilde"],["\u2002","ensp"],["\u2003","emsp"],["\u2009","thinsp"],["\u200c","zwnj"],["\u200d","zwj"],["\u200e","lrm"],["\u200f","rlm"],["\u2013","ndash"],["\u2014","mdash"],["\u2018","lsquo"],["\u2019","rsquo"],["\u201a","sbquo"],["\u201c","ldquo"],["\u201d","rdquo"],["\u201e","bdquo"],["\u2020","dagger"],["\u2021","Dagger"],["\u2030",
	"permil"],["\u2039","lsaquo"],["\u203a","rsaquo"]];y.encode=function(n,l){n&&(l?n=b(n,l):(n=b(n,y.html),n=b(n,y.latin)));return n};y.decode=function(n,l){n&&(l?n=w(n,l):(n=w(n,y.html),n=w(n,y.latin)));return n};return y})},"esri/ArcadeExpression":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ./kernel ./layers/support/attributeUtils ./support/expressionUtils".split(" "),function(C,y,b,w,n,l){C=C(null,{declaredClass:"esri.ArcadeExpression",expression:null,profile:null,returnType:null,
	async:null,id:null,syntaxTree:null,_traits:null,_attributeDef:null,_attributeCache:null,_compiled:!1,constructor:function(k){y.mixin(this,k);this.returnType=this.returnType||"string";this.id=n.getAttributeId(this.expression);this._setSyntaxTree(this.profile.parse(this));this.async=this.async||this.profile.isAsync(this)},hasGeometryOperations:function(){var k=this._traits.geometryOperations;void 0===k&&(k=this._traits.geometryOperations=l.hasGeometryOperations(this.syntaxTree));return k},hasFeatureSetOperations:function(){var k=
	this._traits.featureSetOperations;void 0===k&&(k=this._traits.featureSetOperations=l.hasFeatureSetOperations(this.syntaxTree));return k},hasVariable:function(k){var h=this._traits.variables;void 0===h[k]&&(h[k]=l.hasVariable(this.syntaxTree,k));return h[k]},hasFunction:function(k){var h=this._traits.functions;void 0===h[k]&&(h[k]=l.hasFunction(this.syntaxTree,k));return h[k]},evaluate:function(k){this._compile();var h=this._attributeCache.compiledFunc;return this.async?l.executeAsyncFunction(h,k):
	l.executeFunction(h,k)},_setSyntaxTree:function(k){this.syntaxTree=k;this._compiled=!1;this._traits={variables:{},functions:{}};this._createLegacyValueObjects()},_createLegacyValueObjects:function(){this._attributeDef={valueExpression:this.expression};this._attributeCache={attributeInfo:this._attributeDef,isNumeric:"number"===this.returnType,idSource:this.expression,id:this.id,hasExpr:!0,compiledFunc:null,syntaxTree:this.syntaxTree,isScaleDriven:!1,dependsOnView:this.hasVariable("$view"),dependsOnGeometry:this.hasGeometryOperations(),
	isJSFunc:!1}},_compile:function(){this._compiled||(this._attributeCache.compiledFunc=this.profile.compile(this),this._compiled=!0)}});b("extend-esri")&&(w.ArcadeExpression=C);return C})},"esri/tasks/RelationshipQuery":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/json","dojo/has","../kernel"],function(C,y,b,w,n){C=C(null,{declaredClass:"esri.tasks.RelationshipQuery",definitionExpression:"",relationshipId:null,returnGeometry:!1,objectIds:null,outSpatialReference:null,outFields:null,
	orderByFields:null,toJson:function(){var l={definitionExpression:this.definitionExpression,relationshipId:this.relationshipId,returnGeometry:this.returnGeometry,maxAllowableOffset:this.maxAllowableOffset,geometryPrecision:this.geometryPrecision},k=this.objectIds,h=this.outFields,f=this.outSpatialReference,d=this.orderByFields;k&&(l.objectIds=k.join(","));h&&(l.outFields=h.join(","));f&&(l.outSR=f.wkid||b.toJson(f.toJson()));d&&(l.orderByFields=d.join(","));l._ts=this._ts;return l}});w("extend-esri")&&
	y.setObject("tasks.RelationshipQuery",C,n);return C})},"esri/arcadeProfiles/popupProfile":function(){define("dojo/_base/declare dojo/_base/lang dojo/has ../kernel ../promiseList ../arcade/Feature ../support/expressionUtils ./utils".split(" "),function(C,y,b,w,n,l,k,h){C=new (C(null,{declaredClass:"esri.arcadeProfiles.PopupProfile",defaults:{globals:{featureSet:["$layer","$datastore","$map","$aggregatedfeatures"],async:["$layer","$datastore","$map","$aggregatedfeatures"]},context:{vars:{$feature:"any",
	$layer:"any",$datastore:"any",$map:"any",$aggregatedfeatures:"any"}}},initialize:function(f){var d=[];h.hasGeometryOperations(f)&&d.push(k.enableGeometryOperations());(h.hasFeatureSetOperations(f)||h.hasVariables(f,this.defaults.globals.featureSet))&&d.push(k.enableFeatureSetOperations());h.isAsync(f)&&d.push(k.enableAsyncOperations());return n(d)},isAsync:function(f){f=[f];return h.hasFeatureSetOperations(f)||h.hasVariables(f,this.defaults.globals.async)},parse:function(f){return k.createSyntaxTree(f.expression)},
	compile:function(f){var d=y.clone(this.defaults.context);d.useAsync=f.async;return f.syntaxTree?k.createFunction(f.syntaxTree,d):null},getEvalOptions:function(f){var d=f.expression,a=f.feature,c=f.layer,e=f.aggregatedFeaturesLayer,q=f.map;f=f.spatialReference;a=a&&d.hasVariable("$feature")?l.createFromGraphicLikeObject(a.geometry,a.attributes,c):null;var t,g;if(c){var p={spatialReference:f};d.hasVariable("$layer")&&(t=c.getMap()?k.createFeatureSetFromLayer(c,p):k.createFeatureSetFromLayerUrl(c.url,
	p));if(d.hasVariable("$datastore"))var x=(x=h.getServiceUrl(c.url))?k.createFeatureSetCollectionFromServiceUrl(x,p):null;d.hasVariable("$aggregatedfeatures")&&e&&(g=e.getMap()?k.createFeatureSetFromLayer(e,p):null)}d=q&&d.hasVariable("$map")?k.createFeatureSetCollectionFromMap(q):null;return{context:{vars:{$feature:a,$layer:t,$datastore:x,$map:d,$aggregatedfeatures:g},spatialReference:f}}}}));b("extend-esri")&&y.setObject("arcadeProfiles.popupProfile",C,w);return C})},"esri/dijit/PopupRenderer":function(){define("require dojo/_base/declare dojo/_base/connect dojo/_base/lang dojo/_base/array dojo/_base/kernel dojo/sniff dojo/query dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-style dojox/html/entities dijit/_Widget dijit/_Templated ../kernel ../lang ../urlUtils ./_EventedWidget dojo/i18n!../nls/jsapi dojo/NodeList-dom".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x,u,A,m){var v=0,r=m.widgets.popup,B=m.widgets.templatePicker;y=y([A,t,g],{declaredClass:"esri.dijit._PopupRenderer",constructor:function(){this._nls=w.mixin({},r)},templateString:"\x3cdiv class\x3d'esriViewPopup'\x3e\x3cdiv class\x3d'statusSection hidden' dojoAttachPoint\x3d'_status'\x3e\x3c/div\x3e\x3cdiv class\x3d'mainSection'\x3e\x3cdiv class\x3d'header' dojoAttachPoint\x3d'_title'\x3e\x3c/div\x3e\x3cdiv class\x3d'hzLine'\x3e\x3c/div\x3e\x3cdiv dojoAttachPoint\x3d'_description'\x3e\x3c/div\x3e\x3cdiv class\x3d'break'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'attachmentsSection hidden'\x3e\x3cdiv\x3e${_nls.NLS_attach}:\x3c/div\x3e\x3cul dojoAttachPoint\x3d'_attachmentsList'\x3e\x3c/ul\x3e\x3cdiv class\x3d'break'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'mediaSection hidden'\x3e\x3cdiv class\x3d'header' dojoAttachPoint\x3d'_mediaTitle'\x3e\x3c/div\x3e\x3cdiv class\x3d'hzLine'\x3e\x3c/div\x3e\x3cdiv class\x3d'caption' dojoAttachPoint\x3d'_mediaCaption'\x3e\x3c/div\x3e\x3cdiv class\x3d'gallery' dojoAttachPoint\x3d'_gallery'\x3e\x3cdiv class\x3d'mediaHandle prev' dojoAttachPoint\x3d'_prevMedia' dojoAttachEvent\x3d'onclick: _goToPrevMedia'\x3e\x3c/div\x3e\x3cdiv class\x3d'mediaHandle next' dojoAttachPoint\x3d'_nextMedia' dojoAttachEvent\x3d'onclick: _goToNextMedia'\x3e\x3c/div\x3e\x3cul class\x3d'summary'\x3e\x3cli class\x3d'image mediaCount hidden' dojoAttachPoint\x3d'_imageCount'\x3e0\x3c/li\x3e\x3cli class\x3d'image mediaIcon hidden'\x3e\x3c/li\x3e\x3cli class\x3d'chart mediaCount hidden' dojoAttachPoint\x3d'_chartCount'\x3e0\x3c/li\x3e\x3cli class\x3d'chart mediaIcon hidden'\x3e\x3c/li\x3e\x3c/ul\x3e\x3cdiv class\x3d'frame' dojoAttachPoint\x3d'_mediaFrame'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'editSummarySection hidden' dojoAttachPoint\x3d'_editSummarySection'\x3e\x3cdiv class\x3d'break'\x3e\x3c/div\x3e\x3cdiv class\x3d'break hidden' dojoAttachPoint\x3d'_mediaBreak'\x3e\x3c/div\x3e\x3cdiv class\x3d'editSummary' dojoAttachPoint\x3d'_editSummary'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e",
	showTitle:!0,startup:function(){this.inherited(arguments);this._showStatus(B.loading);this._contentDfd=this.template.getComponents(this.graphic).then(w.hitch(this,this._handleComponentsSuccess)).otherwise(w.hitch(this,this._handleComponentsError))},destroy:function(){this._contentDfd&&this._contentDfd.cancel();this._attachmentsDfd&&this._attachmentsDfd.cancel();this._destroyFrame();this.template=this.graphic=this._nls=this._mediaInfos=this._mediaPtr=this._contentDfd=this._attachmentsDfd=null;this.inherited(arguments)},
	_goToPrevMedia:function(){0>this._mediaPtr-1||(this._mediaPtr--,this._updateUI(),this._displayMedia())},_goToNextMedia:function(){this._mediaPtr+1!==this._mediaInfos.length&&(this._mediaPtr++,this._updateUI(),this._displayMedia())},_updateUI:function(){var D=this._mediaInfos,G=D.length,z=this.domNode,E=this._prevMedia,H=this._nextMedia;if(1<G){var I=0,O=0;n.forEach(D,function(T){"image"===T.type?I++:-1!==T.type.indexOf("chart")&&O++});I&&(d.set(this._imageCount,"innerHTML",I),l.query(".summary .image",
	z).removeClass("hidden"));O&&(d.set(this._chartCount,"innerHTML",O),l.query(".summary .chart",z).removeClass("hidden"))}else l.query(".summary",z).addClass("hidden"),a.add(E,"hidden"),a.add(H,"hidden");D=this._mediaPtr;0===D?a.add(E,"hidden"):a.remove(E,"hidden");D===G-1?a.add(H,"hidden"):a.remove(H,"hidden");this._destroyFrame()},_displayMedia:function(){var D=this._mediaInfos[this._mediaPtr],G=D.title,z=D.caption,E=l.query(".mediaSection .hzLine",this.domNode)[0];d.set(this._mediaTitle,"innerHTML",
	G);a[G?"remove":"add"](this._mediaTitle,"hidden");d.set(this._mediaCaption,"innerHTML",z);a[z?"remove":"add"](this._mediaCaption,"hidden");a[G&&z?"remove":"add"](E,"hidden");this._rid=null;if("image"===D.type)this._showImage(D);else{var H=this;G=["dojox/charting/Chart2D","dojox/charting/action2d/Tooltip"];z=D.value.theme||this.chartTheme;w.isString(z)&&(z=z.replace(/\./gi,"/"),-1===z.indexOf("/")&&(z="dojox/charting/themes/"+z));z||(z="./Rainbow");G.push(z);try{var I=this._rid=v++;C(G,function(O,
	T,Z){I===H._rid&&(H._rid=null,H._showChart(D.type,D.value,O,T,Z))})}catch(O){console.log("PopupRenderer: error loading modules")}}},_preventNewTab:function(D){return(D=D&&w.trim(D).toLowerCase())&&(0===D.indexOf("mailto:")||0===D.indexOf("tel:"))},_showImage:function(D){a.add(this._mediaFrame,"image");var G=e.get(this._gallery,"height"),z=D.value,E=q.decode(z.linkURL);z=q.decode(z.sourceURL);var H;E&&(H=c.create("a",{href:E,target:this._preventNewTab(E)?"":"_blank"},this._mediaFrame));E=D.refreshInterval?
	this._addURLParameter(z,"timestamp",Date.now()):z;c.create("img",{className:"esriPopupMediaImage",src:E},H||this._mediaFrame);var I=l.query(".esriPopupMediaImage",this._mediaFrame)[0];this._imageLoadHandle=b.connect(I,"onload",this,function(){this._clearImageHandles();this._imageLoaded(I,G);this._initImageRefresh(D)})},_addURLParameter:function(D,G,z){var E=-1===D.indexOf("?")?"?":"\x26";return D+E+G+"\x3d"+z},_initImageRefresh:function(D){if(D.refreshInterval){var G=6E4*D.refreshInterval;this._imageRefreshHandle=
	setTimeout(w.hitch(this,function(){this._destroyFrame();this._showImage(D)}),G)}},_clearImageHandles:function(){b.disconnect(this._imageLoadHandle);this._imageLoadHandle=null;clearTimeout(this._imageRefreshHandle);this._imageRefreshHandle=null},_showChart:function(D,G,z,E,H){a.remove(this._mediaFrame,"image");z=this._chart=new z(c.create("div",{"class":"chart"},this._mediaFrame),{margins:{l:4,t:4,r:4,b:4}});H&&z.setTheme(H);switch(D){case "piechart":z.addPlot("default",{type:"Pie",labels:!1});z.addSeries("Series A",
	G.fields);break;case "linechart":z.addPlot("default",{type:"Markers"});z.addAxis("x",{min:0,majorTicks:!1,minorTicks:!1,majorLabels:!1,minorLabels:!1});z.addAxis("y",{includeZero:!0,vertical:!0,fixUpper:"minor"});n.forEach(G.fields,function(I,O){I.x=O+1});z.addSeries("Series A",G.fields);break;case "columnchart":z.addPlot("default",{type:"Columns",gap:3});z.addAxis("y",{includeZero:!0,vertical:!0,fixUpper:"minor"});z.addSeries("Series A",G.fields);break;case "barchart":z.addPlot("default",{type:"Bars",
	gap:3}),z.addAxis("x",{includeZero:!0,fixUpper:"minor",minorLabels:!1}),z.addAxis("y",{vertical:!0,majorTicks:!1,minorTicks:!1,majorLabels:!1,minorLabels:!1}),z.addSeries("Series A",G.fields)}this._action=new E(z);z.render()},_destroyFrame:function(){this._rid=null;this._clearImageHandles();this._chart&&(this._chart.destroy(),this._chart=null);this._action&&(this._action.destroy(),this._action=null);d.set(this._mediaFrame,"innerHTML","")},_imageLoaded:function(D,G){var z=D.height;z<G&&e.set(D,"marginTop",
	Math.round((G-z)/2)+"px")},_attListHandler:function(D,G){if(D===this._attachmentsDfd){this._attachmentsDfd=null;var z="";G instanceof Error||!G||!G.length||n.forEach(G,function(E){z+="\x3cli\x3e";z+="\x3ca href\x3d'"+u.addProxy(E.url)+"' target\x3d'_blank'\x3e"+(E.name||"[No name]")+"\x3c/a\x3e";z+="\x3c/li\x3e"});d.set(this._attachmentsList,"innerHTML",z||"\x3cli\x3e"+this._nls.NLS_noAttach+"\x3c/li\x3e")}},_createLinkIfURI:function(D,G){var z=u.getURIInfo(D);if(z){var E=D.match(z.pattern);D=E&&
	E[2];E=q.decode(E[1]);c.create("a",{target:"_blank",href:E,title:E,innerHTML:x.substitute({appName:z.appName,hierPart:D},z.label)},G)}else d.set(G,"innerHTML",D)},_showStatus:function(D){d.set(this._status,"innerHTML",D);a.remove(this._status,"hidden");l.query(".mainSection",this.domNode).addClass("hidden")},_hideStatus:function(){d.set(this._status,"innerHTML","");a.add(this._status,"hidden");l.query(".mainSection",this.domNode).removeClass("hidden")},_handleComponentsSuccess:function(D){if(D){this._hideStatus();
	var G=this.showTitle?D.title:"",z=D.description,E=D.fields,H=D.mediaInfos,I=this.domNode,O=this._nls,T=this,Z=this.template,ia=this.graphic;this._prevMedia.title=O.NLS_prevMedia;this._nextMedia.title=O.NLS_nextMedia;d.set(this._title,"innerHTML",G);G||a.add(this._title,"hidden");if(!D.hasDescription&&E&&(z="",E=n.map(E,function(W){var ha=c.create("tr",{vAlign:"top"});c.create("td",{className:"attrName",innerHTML:q.encode(W[0])},ha);var ma=c.create("td",{className:"attrValue"},ha);this._createLinkIfURI(W[1],
	ma);return ha},this),E.length)){var ca=c.create("table",{className:"attrTable",cellPadding:"0px",cellSpacing:"0px"});n.forEach(E,function(W){ca.appendChild(W)})}ca?(this._description.appendChild(ca),z=!0):d.set(this._description,"innerHTML",z);z||a.add(this._description,"hidden");l.query("a",this._description).forEach(function(W){T._preventNewTab(W.href)?"_blank"===W.target&&d.remove(W,"target"):d.set(W,"target","_blank")});G&&z?l.query(".mainSection .hzLine",I).removeClass("hidden"):G||z?l.query(".mainSection .hzLine",
	I).addClass("hidden"):l.query(".mainSection",I).addClass("hidden");if(G=this._attachmentsDfd=Z.getAttachments(ia))G.addBoth(w.hitch(this,this._attListHandler,G)),d.set(this._attachmentsList,"innerHTML","\x3cli\x3e"+O.NLS_searching+"...\x3c/li\x3e"),l.query(".attachmentsSection",I).removeClass("hidden");H&&H.length&&(l.query(".mediaSection",I).removeClass("hidden"),f.setSelectable(this._mediaFrame,!1),this._mediaInfos=H,this._mediaPtr=0,this._updateUI(),this._displayMedia());D.editSummary&&(d.set(this._editSummary,
	"innerHTML",D.editSummary),H&&H.length&&a.remove(this._mediaBreak,"hidden"),a.remove(this._editSummarySection,"hidden"));this.emit("content-update")}else this._showStatus(r.NLS_noInfo)},_handleComponentsError:function(D){D&&"cancel"===D.dojoType||(console.log("PopupRenderer: error loading template",D),this._showStatus(r.NLS_noInfo))}});k("extend-esri")&&w.setObject("dijit._PopupRenderer",y,p);return y})},"dijit/_Templated":function(){define("./_WidgetBase ./_TemplatedMixin ./_WidgetsInTemplateMixin dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/kernel".split(" "),
	function(C,y,b,w,n,l,k){l.extend(C,{waiRole:"",waiState:""});return n("dijit._Templated",[y,b],{constructor:function(){k.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0")},_processNode:function(h,f){var d=this.inherited(arguments),a=f(h,"waiRole");a&&h.setAttribute("role",a);(a=f(h,"waiState"))&&w.forEach(a.split(/\s*,\s*/),function(c){-1!=c.indexOf("-")&&(c=c.split("-"),h.setAttribute("aria-"+c[0],c[1]))});
	return d}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(C,y,b,w,n){return b("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,contextRequire:null,_beforeFillContent:function(){if(/dojoType|data-dojo-type/i.test(this.domNode.innerHTML)){var l=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);n.parse(l,{noStart:!this._earlyTemplatedStartup,
	template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(w.hitch(this,function(k){this._startupWidgets=k;for(var h=0;h<k.length;h++)this._processTemplateNode(k[h],function(f,d){return f[d]},function(f,d,a){return d in f?f.connect(f,d,a):f.on(d,a,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");
	}},_processTemplateNode:function(l,k,h){return k(l,"dojoType")||k(l,"data-dojo-type")?!0:this.inherited(arguments)},startup:function(){C.forEach(this._startupWidgets,function(l){l&&!l._started&&l.startup&&l.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"esri/dijit/_EventedWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/on ../Evented dijit/_WidgetBase".split(" "),function(C,y,b,w,n,l){return C([l,n],{_onMap:function(k){var h=this.constructor._onMap;
	h&&h.FINAL||(delete this.constructor._onMap,h=this.registerConnectEvents(),h.FINAL=!0);k=k.toLowerCase();if(h[k])var f=this[h[k].method];else k=this._onCamelCase(k),this[k]&&(f=k);return f},on:function(k,h){var f=this._onMap(k),d=k.replace(/\-/g,""),a="on"+d in this.domNode;return f||!a?this.inherited(arguments):this.own(w(this.domNode,d,h))[0]},emit:function(k,h,f){var d,a=k.toLowerCase(),c=this.constructor._onMap||this.registerConnectEvents();var e=this[this._onMap(a)];h=h||{};h.target||(h.target=
	this);if(e&&c&&c[a]){this._onObj2Arr(function(){d=Array.prototype.slice.call(arguments)},c[a].argKeys)(h);var q=y.mixin({},arguments);q[2]=d;q[0]=c[a].name.replace(/^on/,"")}return this.inherited(q||arguments)}})})},"esri/dijit/Legend/utils":function(){define(["dojo/_base/lang","../../lang","dojo/i18n!../../nls/jsapi"],function(C,y,b){var w=b.widgets.legend;return{getVisualVariableTitle:function(n,l){var k=n.field,h=n.normalizationField,f=!1,d=!1,a=!1;k=C.isFunction(k)?null:k;h=C.isFunction(h)?null:
	h;if(n.legendOptions&&n.legendOptions.title)var c=n.legendOptions.title;else if(n.valueExpressionTitle)c=n.valueExpressionTitle;else{if(l.renderer&&l.renderer.authoringInfo&&l.renderer.authoringInfo.visualVariables){var e=l.renderer.authoringInfo.visualVariables;for(n=0;n<e.length;n++){var q=e[n];if("colorInfo"===q.type&&"ratio"===q.style){f=!0;break}else if("colorInfo"===q.type&&"percent"===q.style){d=!0;break}else if("colorInfo"===q.type&&"percentTotal"===q.style){a=!0;break}}}(f=a&&"showRatioPercentTotal"||
	d&&"showRatioPercent"||f&&"showRatio"||h&&"showNormField"||k&&"showField"||null)&&(c=y.substitute({field:k&&l.getFieldLabel(k),normField:h&&l.getFieldLabel(h)},"showField"===f?"${field}":w[f]))}return c},getRendererTitle:function(n,l){if(n){if("esri.renderer.ClassBreaksRenderer"===n.declaredClass){var k=n.attributeField;var h=n.normalizationField;var f="percent-of-total"===n.normalizationType}k=C.isFunction(k)?null:k;h=C.isFunction(h)?null:h;if(n.legendOptions&&n.legendOptions.title)var d=n.legendOptions.title;
	else n.valueExpressionTitle?d=n.valueExpressionTitle:(n=h&&"showNormField"||(f?"showNormPct":null)||k&&"showField"||null)&&(d=y.substitute({field:k&&l.getFieldLabel(k),normField:h&&l.getFieldLabel(h)},"showField"===n?"${field}":w[n]))}return d}}})},"esri/layers/clustering/GeohashAggregation":function(){define("dojo/has dojo/_base/declare dojo/_base/lang dojo/_base/array ../../kernel ../../Evented ../../geometry/Point ../../geometry/Extent ../../geometry/mathUtils ../../support/expressionUtils ../../core/timerUtils ../support/attributeUtils ./geohashUtils ./statUtils".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q){y=y(l,{loaded:!1,started:!1,map:null,layer:null,lod:null,tolerance:null,clusterMode:null,clusterRadius:null,sortEnabled:!0,filterEnabled:!0,bufferEnabled:!0,updateEnabled:!0,clusters:null,clustersEnabled:!0,statisticInfos:null,defaults:{lod:1,tolerance:0,clusterMode:"auto",clusterRadius:80,sortEnabled:!0,filterEnabled:!0,bufferEnabled:!0,updateEnabled:!0},_eventHandles:null,_updateHandle:null,_indexHandle:null,_cellIndex:null,_globalIndex:null,_perfProfile:null,
	_indexUpdated:!1,_cellSizeScaleFactor:1.5,_extentScaleFactor:1.25,_maxGeohashLength:12,_minClusterRadius:15,_levelChange:!0,_clusterFieldPrefix:"cluster_",_mapLevelChange:!1,constructor:function(t){this._update=b.hitch(this,this._update);this._indexFeatures=b.hitch(this,this._indexFeatures);this._eventHandles=[];this._globalIndex={numFeatures:null,fullExtent:null,lodStats:null};this._perfProfile={lastIndex:{total:null,numFeatures:0},lastUpdate:{cells:null,clusters:null,total:null}};this.clusters=
	[];this.map=t.map;this.layer=t.layer;this.setLod(t.lod);this.setTolerance(t.tolerance);this.setClusterMode(t.clusterMode);this.setClusterRadius(t.clusterRadius);this.setSortEnabled(t.sortEnabled);this.setFilterEnabled(t.filterEnabled);this.setBufferEnabled(t.bufferEnabled);this.setUpdateEnabled(t.updateEnabled);this.setStatisticInfos(t.statisticInfos);this._load();this.loaded?this._startup():this._eventHandles.push(this.on("load",b.hitch(this,this._startup)))},destroy:function(t){this._displayFeatures(!0,
	t);w.forEach(this._eventHandles,function(g){g.remove()});a.clearTimeout(this._updateHandle);a.clearTimeout(this._indexHandle);this._cellIndex=this._globalIndex=this._eventHandles=this._updateHandle=this._indexHandle=this.map=this.layer=this.clusters=null},setLod:function(t){var g=this.lod;this.lod=t||this.defaults.lod;g!==this.lod&&this.update()},setTolerance:function(t){var g=this.tolerance;this.tolerance=t||this.defaults.tolerance;g!==this.tolerance&&this.update()},setClusterMode:function(t){var g=
	this.clusterMode;this.clusterMode=t||this.defaults.clusterMode;this._evalClusterParams();g!==this.clusterMode&&this.update()},setClusterRadius:function(t){var g=this.clusterRadius;this.clusterRadius=null!=t?t:this.defaults.clusterRadius;this._evalClusterParams();g!==this.clusterRadius&&this.update()},setSortEnabled:function(t){var g=this.sortEnabled;this.sortEnabled=null!=t?!!t:this.defaults.sortEnabled;g!==this.sortEnabled&&this.update()},setFilterEnabled:function(t){var g=this.filterEnabled;this.filterEnabled=
	null!=t?!!t:this.defaults.filterEnabled;g!==this.filterEnabled&&this.update()},setBufferEnabled:function(t){var g=this.bufferEnabled;this.bufferEnabled=null!=t?!!t:this.defaults.bufferEnabled;g!==this.bufferEnabled&&this.update()},setUpdateEnabled:function(t){var g=this.updateEnabled;(this.updateEnabled=null!=t?!!t:this.defaults.updateEnabled)&&g!==this.updateEnabled&&(this._mapLevelChange=!0,this.update())},setStatisticInfos:function(t){this.statisticInfos=t||[];this.loaded&&this._applyStatInfos(this.statisticInfos)},
	update:function(){this.loaded&&null==this._updateHandle&&(this._updateHandle=a.setTimeout(this._update,a.priority.HIGH))},isUpdateScheduled:function(){return null!=this._updateHandle},index:function(){this.loaded&&null==this._indexHandle&&(this._indexHandle=a.setTimeout(this._indexFeatures,a.priority.HIGH))},getCell:function(t){return this._cellIndex[t.length][t]},getCluster:function(t){var g;w.some(this.clusters,function(p){-1<w.indexOf(p.geohashes,t)&&(g=p);return!!g});return g},getCellsInCluster:function(t){var g=
	[];w.forEach(t&&t.geohashes,function(p){(p=this.getCell(p))&&g.push(p)},this);return g},getFeaturesInCluster:function(t){var g=[];t=this.getCellsInCluster(t);w.forEach(t,function(p){Array.prototype.push.apply(g,p.features)});return g},toggleFeatureVisibility:function(t){this.index()},getCurrentLodStats:function(){var t=this._globalIndex.lodStats;return t&&t[this.lod]},getNumFeatures:function(){return this._globalIndex.numFeatures},getFullExtent:function(){var t=this._globalIndex.fullExtent;return t&&
	Infinity!==t.xmin?new h(t):null},_load:function(){this._displayFeatures(!1);this._checkLoadStatus();this.map.loaded||this._eventHandles.push(this.map.on("load",b.hitch(this,this._checkLoadStatus)));this.layer.loaded||this._eventHandles.push(this.layer.on("load",b.hitch(this,this._checkLoadStatus)))},_checkLoadStatus:function(){if(this.map.loaded&&this.layer.loaded){if("esriGeometryPoint"!==this.layer.geometryType)var t=Error("GeohashAggregation is supported only for points");else{var g=this.map.spatialReference;
	g.isWebMercator()||4326===g.wkid||(t=Error("GeohashAggregation is supported only when map spatial reference is WGS84 or WebMercator"))}t?(this.loadError=t,this.emit("load-error",{error:t})):(this.loaded=!0,this.emit("load"))}},_startup:function(){this._evalUpdateStatus();this.index();this._processExtentChange();this._eventHandles.push(this.layer.on("update-end",b.hitch(this,this.index)),this.layer.on("edits-complete",b.hitch(this,this.index)),this.layer.on("graphics-clear",b.hitch(this,this.index)),
	this.layer.on("suspend",b.hitch(this,this._evalUpdateStatus)),this.layer.on("resume",b.hitch(this,this._evalUpdateStatus)),this.map.on("extent-change",b.hitch(this,this._processExtentChange)))},_evalUpdateStatus:function(){this.setUpdateEnabled(!this.layer.suspended)},_processExtentChange:function(t){this._mapLevelChange=!(!t||!t.levelChange);this._evalClusterParams();this.update()},_update:function(){this._updateHandle=null;if(this.updateEnabled){this.emit("update-start");if(this.clustersEnabled){var t=
	this.map.geographicExtent;if(t){var g=this._getIntersectingCells(t);t=this._getClusters(g.cells,t);this.clusters=t.clusters;this._applyStatInfosToClusters();g=g.profile;t=t.profile;var p=g.total+t.total;g.total=this._getElapsedTime(g.total);t.total=this._getElapsedTime(t.total);var x=this._perfProfile.lastUpdate={};x.cells=g;x.clusters=t;x.total=this._getElapsedTime(p)}}else this.clusters=[],this._perfProfile.lastUpdate=null;g=this._indexUpdated;this._indexUpdated=!1;t=this._mapLevelChange;this._mapLevelChange=
	!1;this.emit("update-end",{levelChange:this._levelChange,mapLevelChange:t,indexChange:g})}},_displayFeatures:function(t,g){var p=this.layer;t=!t;p.suspendGraphics(t);!1!==g&&(t?p.clearNodes():p.redraw())},_indexFeatures:function(){this._indexHandle=null;var t=this._getTime();this._initializeIndexing();var g=0,p=this._globalIndex.fullExtent;w.forEach(this.layer.graphics,function(A){if(A.visible){var m=A.geometry,v=this._getLngLat(m);if(v){var r=m.getCacheValue("_geohash");void 0===r&&(r=e.pointToGeohash(v),
	m.setCacheValue("_geohash",r||null))}r&&(this._addGeohashToIndex(r,A,v),g++,this._updateExtent(p,v))}},this);this._applyStatInfosToIndex();this._globalIndex.numFeatures=g;for(var x=this._globalIndex.lodStats,u=1;u<=this._maxGeohashLength;u++)x[u]=this._getLODStats(u,g);this._perfProfile.lastIndex.total=this._getElapsedTime(t,this._getTime());this._perfProfile.lastIndex.numFeatures=g;this._indexUpdated=!0;this.emit("index-complete");this.started||(this.started=!0,this.emit("start"));this.update()},
	_initializeIndexing:function(){this._globalIndex={numFeatures:0,fullExtent:{xmin:Infinity,ymin:Infinity,xmax:-Infinity,ymax:-Infinity},lodStats:{}};for(var t=this._cellIndex=[],g=1;g<=this._maxGeohashLength;g++)t[g]={}},_getLngLat:function(t){if(t){var g=t.getLongitude();t=t.getLatitude();t=null!=g&&null!=t?{x:g,y:t}:null}return t},_addGeohashToIndex:function(t,g,p){for(var x=this._cellIndex,u="",A=0;A<this._maxGeohashLength;A++){u+=t[A];var m=x[u.length],v=m[u];v||(v=m[u]={count:0,centroid:{x:null,
	y:null},extent:{xmin:Infinity,ymin:Infinity,xmax:-Infinity,ymax:-Infinity},features:[],geohash:u,statistics:null});this._updateItem(v,1,p,!0);v.features.push(g)}},_getLODStats:function(t,g){var p=this._cellIndex[t],x=0,u=Infinity,A=-Infinity,m=null,v;for(v in p){var r=p[v];x++;r.count<u&&(u=r.count);r.count>A&&(A=r.count)}0<x&&(m=Number((g/x).toFixed(2)));return{lod:t,count:x,min:Infinity===u?null:u,max:-Infinity===A?null:A,avg:m}},_evalClusterParams:function(){if(this.loaded&&"auto"===this.clusterMode){var t=
	this._getClusterParams(this.map.getResolutionInMeters(),this.clusterRadius,this._minClusterRadius);this._levelChange=this.lod!==t.lod;this.lod=t.lod;this.tolerance=t.tolerance}},_getClusterParams:function(t,g,p){g<p&&(g=p);t=Math.ceil(t*g);g=this._getClosestLODRange(t).max;do p=this._getCellSize(g),(p=t>=this._cellSizeScaleFactor*p||1===p)||(g+=1);while(!p);p=t/this._getCellSize(g);return{lod:g,tolerance:t,multiplier:Number(p.toFixed(2))}},_getClosestLODRange:function(t){for(var g,p=this._maxGeohashLength;1<=
	p;p--)if(this._getCellSize(p)>=t){g=p;break}null==g&&(g=1);t=g+1;t>this._maxGeohashLength&&(t=this._maxGeohashLength);return{min:g,max:t}},_getCellSize:function(t){t=e.getCellSizeInMeters(t);return Math.ceil(Math.min(t.width,t.height))},_sorter:function(t,g){var p=t.centroid,x=g.centroid;return t.count>g.count?-1:t.count<g.count?1:p.x>x.x?-1:p.x<x.x?1:0},_getIntersectingCells:function(t){var g=this._getTime();this.bufferEnabled&&(t=t.expand(this._extentScaleFactor));var p=e.getIntersecting(t,this.lod,
	this.bufferEnabled?this.tolerance:0);t=this._getTime();var x=[],u=this.tolerance,A=this.sortEnabled;w.forEach(p,function(m){(m=this.getCell(m))&&x.push(m)},this);u&&A&&x.sort(this._sorter);p=this._getTime();return{cells:x,profile:{findCells:this._getElapsedTime(g,t),scanAndSortCells:this._getElapsedTime(t,p),total:p-g}}},_getClusters:function(t,g){var p=this._getTime(),x=[],u={},A={findCells:0};w.forEach(t,function(m,v){(m=this._createCluster(m,u,A))&&x.push(m)},this);this._markIntersecting(x,g);
	this.filterEnabled&&(x=this._getIntersectingClusters(x));t=this._getTime();return{clusters:x,profile:{findCellsInCluster:this._getElapsedTime(A.findCells),total:t-p}}},_markIntersecting:function(t,g){var p=g.normalize();w.forEach(t,function(x){var u=x.centroid.x,A=x.centroid.y;x.isIntersecting=w.some(p,function(m){return u>=m.xmin&&u<=m.xmax&&A>=m.ymin&&A<=m.ymax})})},_getIntersectingClusters:function(t){return w.filter(t,function(g){return g.isIntersecting})},_createCluster:function(t,g,p){if(!g[t.geohash]){var x=
	[{cell:t,distance:0}];if(this.tolerance){var u=this._getTime(),A=e.getNeighborsWithinDistance(t.centroid,this.lod,this.tolerance);p.findCells+=this._getTime()-u;w.forEach(A,function(m){if(m!==t.geohash&&(m=this.getCell(m))){var v=this._calculateDistance(t.centroid,m.centroid);v<=this.tolerance&&x.push({cell:m,distance:v})}},this)}return this._mergeCells(x,g)}},_calculateDistance:function(t,g){return f.getLength(e.geographicToWebMercator(t),e.geographicToWebMercator(g))},_mergeCells:function(t,g){var p=
	this._initializeCluster({},t[0].cell.geohash);w.forEach(t,function(x){var u=x.cell,A=u.geohash;x=x.distance;var m=g[A];if(m)if(x<m.distance)this._removeCellFromCluster(A,g);else return;g[A]={cluster:p,distance:x};this._updateItem(p,u.count,u.centroid);p.geohashes.push(A)},this);return p},_removeCellFromCluster:function(t,g){var p=g[t].cluster;delete g[t];t=w.indexOf(p.geohashes,t);-1<t&&p.geohashes.splice(t,1);this._reevaluateCluster(p)},_reevaluateCluster:function(t){var g=t.geohashes;t=this._initializeCluster(t,
	t.primary);w.forEach(g,function(p){var x=this.getCell(p);x&&(this._updateItem(t,x.count,x.centroid),t.geohashes.push(p))},this)},_initializeCluster:function(t,g){t.count=0;t.centroid=new k(null,null);t.geohashes=[];t.primary=g;t.statistics=null;return t},_applyStatInfos:function(t){t=this._getValidStatInfos(t);this._applyStatInfosToIndex(t);this._applyStatInfosToClusters(t)},_getValidStatInfos:function(t){var g=[];w.forEach(t,function(p){var x=p.attributeInfo;p=p.statisticType;var u="angle"===x.attributeType;
	if(q.isSupportedStatisticType(p)&&(!u||"avg"===p)){var A="arithmetic"===x.rotationType;g.push({attributeCache:c.createAttributeCache(x,"type"===p),identifier:q.getStatisticId(x,p),statFunctions:q.getStatisticFunctions(p),isAngular:u,isDate:"date"===x.attributeType,isArithmetic:A})}});return g},_applyStatInfosToIndex:function(t){t=t||this._getValidStatInfos(this.statisticInfos);var g=this._cellIndex;if(g)for(var p=1;p<=this._maxGeohashLength;p++){var x=g[p],u;for(u in x)this._applyStatInfosToCell(x[u],
	t)}},_applyStatInfosToCell:function(t,g){var p=this._initializeStats(t,g);w.forEach(t.features,function(x){this._calcFeatureStats(x,g,p)},this);this._summarizeStats(t,p,g)},_calcFeatureStats:function(t,g,p){t.attributes&&w.forEach(g,function(x){var u=p[x.identifier],A=x.attributeCache;A=A?t._getDataValue(A.attributeInfo,A,d):null;x.statFunctions.updateCellStat(u,A,x)})},_applyStatInfosToClusters:function(t){t=t||this._getValidStatInfos(this.statisticInfos);var g=this._clusterFieldPrefix;w.forEach(this.clusters,
	function(p){var x=this._initializeStats(p,t);w.forEach(this.getCellsInCluster(p),function(u){this._calcCellStats(u,t,x)},this);this._summarizeStats(p,x,t,g);p.attributes[g+"id"]=p.primary},this)},_calcCellStats:function(t,g,p){var x=t.statistics;w.forEach(g,function(u){var A=u.identifier;u.statFunctions.updateClusterStat(p[A],x[A],u)})},_initializeStats:function(t,g){var p=t.statistics={};w.forEach(g,function(x){p[x.identifier]=x.statFunctions.initialize(x)});return p},_summarizeStats:function(t,
	g,p,x){var u=t.attributes={};x=x||"";u[x+"count"]=t.count;w.forEach(p,function(A){var m=this._getStatFieldName(A,x);u[m]=A.statFunctions.summarize(g[A.identifier],A)},this)},_getStatFieldName:function(t,g){return(g||"")+t.identifier},_updateItem:function(t,g,p,x){var u=p.y,A=t.centroid,m=t.count;A.x=(m*A.x+g*p.x)/(m+g);A.y=(m*A.y+g*u)/(m+g);t.count+=g;x&&this._updateExtent(t.extent,p)},_updateExtent:function(t,g){var p=g.x;g=g.y;p<t.xmin&&(t.xmin=p);p>t.xmax&&(t.xmax=p);g<t.ymin&&(t.ymin=g);g>t.ymax&&
	(t.ymax=g)},_getTime:function(){return window.performance?window.performance.now():(new Date).getTime()},_getElapsedTime:function(t,g){t=null!=t&&null!=g?g-t:t;if(null!=t){var p="millisecond";1E3<=t&&(t/=1E3,p="second",60<=t&&(t/=60,p="minute"));p={value:Number(t.toFixed(2)),unit:p}}return p}});C("extend-esri")&&b.setObject("layers.clustering.GeohashAggregation",y,n);return y})},"esri/core/timerUtils":function(){define([],function(){function C(l){var k,h=l.length;for(k=0;k<h;k++)l[k]()}var y={LOW:1,
	HIGH:2},b,w={};w[y.LOW]=[];w[y.HIGH]=[];var n=function(){clearTimeout(b);b=null;var l=w[y.HIGH];w[y.HIGH]=[];C(l);l=w[y.LOW];w[y.LOW]=[];C(l)};return{priority:y,callbackQueue:w,setTimeout:function(l,k){l=[k,w[k].push(l)-1];b||(b=setTimeout(n,0));return l},clearTimeout:function(l){l&&w[l[0]].splice(l[1],1)}}})},"esri/layers/clustering/geohashUtils":function(){define("dojo/has dojo/string dojo/_base/lang dojo/_base/array ../../kernel ../../geometry/Point ../../geometry/Extent ../../SpatialReference ../../geometry/webMercatorUtils".split(" "),
	function(C,y,b,w,n,l,k,h,f){function d(I){var O=I.spatialReference;if(!O)return{x:I.x,y:I.y};var T=O.isWebMercator(),Z;4326===O.wkid?Z={x:I.x,y:I.y}:T&&(Z={x:I.getLongitude(),y:I.getLatitude()});return Z}function a(I){var O=I.spatialReference,T=!(!O||!O.isWebMercator()),Z;O&&4326===O.wkid?Z=new k(I.toJson()):T&&(Z=f.webMercatorToGeographic(I,!0));return Z}function c(I,O){O.x=l.prototype._normalizeX(I.x,h.prototype._info[4326]);O.y=I.y;return O}function e(I){I=E.decimals[I].toString(2);return y.pad(I,
	E.bitsPerBase32Char,"0")}function q(I,O){O=O.slice();O.splice(1,0,0);for(var T=O[0],Z=O[2],ia=0;ia<I.length;ia++){Number(I[ia])?O[0]=O[1]:O[2]=O[1];var ca=O[1]=(O[0]+O[2])/2;T=O[0];Z=O[2]}return{value:ca,min:T,max:Z}}function t(I,O,T){var Z=[];O=O.slice();O.splice(1,0,0);for(var ia=O[0],ca=O[2],W=0;W<T;W++)I>=O[1]?(O[0]=O[1],ia=1):(O[2]=O[1],ia=0),O[1]=(O[0]+O[2])/2,Z.push(ia),ia=O[0],ca=O[2];return{value:Z.join(""),min:ia,max:ca}}function g(I){var O=I*E.bitsPerBase32Char;0===O%2?I=O/=2:(I=(O+1)/
	2,O-=I);return{lon:I,lat:O}}function p(I){var O=0;I=I.split("").reverse().join("");for(var T=0;T<I.length;T++)O+=Number(I[T])*Math.pow(2,T);return E.base32[O]}function x(I,O){var T={x:I.xmin,y:I.ymax},Z={x:I.xmax,y:I.ymin},ia={x:I.xmax,y:I.ymax};return{sw:H.pointToGeohash({x:I.xmin,y:I.ymin},O),nw:H.pointToGeohash(T,O),se:H.pointToGeohash(Z,O),ne:H.pointToGeohash(ia,O)}}function u(I,O,T,Z,ia){var ca=I;do ia[ca]||(ia[ca]=!0,Z.push(ca)),(I=ca===O)||(ca=z(ca,T));while(!I)}function A(I,O,T,Z){var ia=
	x(I,O);I=[];u(ia.sw,ia.nw,"n",I,{});O=[];u(ia.se,ia.ne,"n",O,{});for(ia=0;ia<I.length;ia++)u(I[ia],O[ia],"e",T,Z)}function m(I){return w.filter(I,function(O){return 180===O.xmax?!0:!1})[0]}function v(I){return w.filter(I,function(O){return-180===O.xmin?!0:!1})[0]}function r(I,O,T,Z){var ia=H.geographicToWebMercator(I);I={x:ia.x-O,y:ia.y-O};O=H.webMercatorToGeographic({x:ia.x+O,y:ia.y+O},!0);I=H.webMercatorToGeographic(I,!0);return new k(null!=T?T:I.x,I.y,null!=Z?Z:O.x,O.y)}function B(I,O,T,Z){I=x(I,
	O);var ia,ca;"min"===Z?ca=180:"max"===Z&&(ia=-180);var W=ia;Z=ca;var ha=H.geohashToCell(I.sw).extent;O=H.geohashToCell(I.ne).extent;I=null!=W?W:ha.xmin;ha=ha.ymin;Z=null!=Z?Z:O.xmax;O=O.ymax;I=r({x:I,y:ha},T,ia,ca);T=r({x:Z,y:O},T,ia,ca);return new k(I.xmin,I.ymin,T.xmax,T.ymax)}function D(I,O,T){var Z=I,ia=0;do ia++,(I=Z===O)||(Z=z(Z,T));while(!I);return ia}function G(I,O){I=x(I,O);O=D(I.nw,I.ne,"e");return{rows:D(I.nw,I.sw,"s"),cols:O}}function z(I,O){var T=I.length%2,Z=I.slice(-1),ia=E.decimals[Z];
	I=I.slice(0,-1);-1!=E.borders[O][T].indexOf(Z)&&I&&(I=z(I,O));return I+E.neighbors[O][T][ia]}var E={base32:"0123456789bcdefghjkmnpqrstuvwxyz",decimals:function(){for(var I={},O=0;32>O;O++)I["0123456789bcdefghjkmnpqrstuvwxyz"[O]]=O;return I}(),neighbors:{n:[null,"238967debc01fg45kmstqrwxuvhjyznp"],s:[null,"bc01fg45238967deuvhjyznpkmstqrwx"],e:[null,"14365h7k9dcfesgujnmqp0r2twvyx8zb"],w:[null,"p0r21436x8zb9dcf5h7kjnmqesgutwvy"]},borders:{n:[null,"bcfguvyz"],s:[null,"0145hjnp"],e:[null,"prxz"],w:[null,
	"028b"]},bitsPerBase32Char:5,maxGeohashLength:12,longitudeRange:[-180,180],latitudeRange:[-90,90]};E.neighbors.n[0]="14365h7k9dcfesgujnmqp0r2twvyx8zb";E.neighbors.s[0]="p0r21436x8zb9dcf5h7kjnmqesgutwvy";E.neighbors.e[0]="238967debc01fg45kmstqrwxuvhjyznp";E.neighbors.w[0]="bc01fg45238967deuvhjyznpkmstqrwx";E.borders.n[0]="prxz";E.borders.s[0]="028b";E.borders.e[0]="bcfguvyz";E.borders.w[0]="0145hjnp";var H={geographicToWebMercator:function(I){I=l.lngLatToXY(I.x,I.y);return{x:I[0],y:I[1]}},webMercatorToGeographic:function(I,
	O){I=l.xyToLngLat(I.x,I.y,O);return{x:I[0],y:I[1]}},geohashToCell:function(I){var O;var T=[];for(O=0;O<I.length;O++)T.push(e(I[O]));T=T.join("");O=[];for(var Z=[],ia=0;ia<T.length;ia++)0===ia%2?O.push(T[ia]):Z.push(T[ia]);O=O.join("");Z=Z.join("");O=[O,Z];T=q(O[0],E.longitudeRange);Z=q(O[1],E.latitudeRange);O=T.value;return{point:{x:O,y:Z.value},extent:{xmin:T.min,xmax:T.max,ymin:Z.min,ymax:Z.max},geohash:I}},pointToCell:function(I,O){O=O||E.maxGeohashLength;if(I=d(I)){I=c(I,I);var T=g(O);O=t(I.x,
	E.longitudeRange,T.lon);var Z=t(I.y,E.latitudeRange,T.lat);T=O.value;var ia=Z.value;O={xmin:O.min,xmax:O.max,ymin:Z.min,ymax:Z.max};Z=[];for(var ca=Math.ceil((T.length+ia.length)/E.bitsPerBase32Char),W=0,ha=0,ma=0;ma<ca*E.bitsPerBase32Char;ma++){var xa=0===ma%2?T[W++]:ia[ha++];null==xa&&(xa=0);Z.push(xa)}T=Z.join("");ia=E.bitsPerBase32Char;Z=T.length/ia;ca=[];for(W=0;W<Z;W++)ha=T.substr(W*ia,ia),ca.push(p(ha));T=ca.join("");return{point:I,extent:O,geohash:T}}},geohashToPoint:function(I){return H.geohashToCell(I).point},
	pointToGeohash:function(I,O){return(I=H.pointToCell(I,O))&&I.geohash},getCells:function(I){return w.map(I,function(O){return H.geohashToCell(O)})},getCellSize:function(I){var O=E.longitudeRange,T=E.latitudeRange;O=Math.abs(O[1]-O[0]);T=Math.abs(T[1]-T[0]);I=g(I||1);return{width:O/Math.pow(2,I.lon),height:T/Math.pow(2,I.lat)}},getCellSizeInMeters:function(I){I=H.getCellSize(I);var O=f.metersPerDegree;I.width*=O;I.height*=O;return I},getIntersecting:function(I,O,T){O=O||1;T=T||0;var Z=[],ia=a(I);if(ia){T&&
	(ia=H.expandExtent(I,O,T));I=ia.normalize();var ca={};w.forEach(I,function(W){A(W,O,Z,ca)})}return Z},countIntersecting:function(I,O,T){O=O||1;T=T||0;var Z=0,ia=a(I);if(ia){T&&(ia=H.expandExtent(I,O,T));I=ia.normalize();if(2===I.length){Z=m(I);ia=v(I);T=G(Z,O);var ca=G(ia,O);I=T.rows;T=T.cols+ca.cols;Z={x:Z.xmin,y:Z.ymax};ia={x:ia.xmax,y:ia.ymax};Z=c(Z,{});ia=c(ia,{});Z=H.pointToGeohash(Z,O);O=H.pointToGeohash(ia,O);Z===O&&T--;O={rows:I,cols:T}}else O=G(I[0],O);Z=O.cols*O.rows}return Z},getChildren:function(I){I=
	I||"";var O=[],T;for(T in E.decimals)O.push(I+T);return O},getNeighbors:function(I){var O=z(I,"n"),T=z(I,"s");return[O,z(O,"e"),z(O,"w"),T,z(T,"e"),z(T,"w"),z(I,"e"),z(I,"w")]},getExtentFromDistance:function(I,O){O=O||1E3;var T;(I=d(I))&&(T=r(I,O));return T},expandExtent:function(I,O,T){O=O||1;T=T||0;if(I=a(I)){if(T){I=I.normalize();if(2===I.length){var Z=T;T=m(I);I=v(I);T=B(T,O,Z,"min");I=B(I,O,Z,"max");360<=T.getWidth()+I.getWidth()?(O=-180,I=180):(O=T.xmin,I=I.xmax);return new k(O,T.ymin,I,T.ymax)}return B(I[0],
	O,T)}return I}},getNeighborsWithinDistance:function(I,O,T){T=T||1E3;O=O||1;var Z=[];if(I=d(I)){T=r(I,T).normalize();var ia={};w.forEach(T,function(ca){A(ca,O,Z,ia)})}return Z}};C("extend-esri")&&b.setObject("layers.clustering.geohashUtils",H,n);return H})},"esri/layers/clustering/statUtils":function(){define(["dojo/_base/lang","../support/attributeUtils"],function(C,y){function b(l){return"number"===typeof l&&!isNaN(l)&&Infinity!==l&&-Infinity!==l}var w={sum:{initialize:function(){return{count:0,
	sum:null}},updateCellStat:function(l,k){b(k)&&(l.count++,l.sum+=k)},updateClusterStat:function(l,k){k.count&&(l.count+=k.count,l.sum+=k.sum)},summarize:function(l){return l.sum}},avg:{initialize:function(l){return{count:0,sum:null,avg:null,sum_cosine:null,sum_sine:null}},updateCellStat:function(l,k,h){b(k)&&(l.count++,h.isAngular?(h.isArithmetic||(k=-1*k+90),l.sum_cosine+=Math.cos(k*Math.PI/180),l.sum_sine+=Math.sin(k*Math.PI/180)):l.sum+=k)},updateClusterStat:function(l,k,h){k.count&&(l.count+=k.count,
	h.isAngular?(l.sum_cosine+=k.sum_cosine,l.sum_sine+=k.sum_sine):l.sum+=k.sum)},summarize:function(l,k){if(0<l.count){var h=l.count;k.isAngular?(h=180*Math.atan2(l.sum_sine/h,l.sum_cosine/h)/Math.PI,k.isArithmetic||(h=-1*(h-90)),l.avg=0>h?h+360:h):(l.avg=l.sum/h,k.isDate&&(l.avg=Math.ceil(l.avg)))}return l.avg}},type:{initialize:function(){return{uvInfos:{}}},updateCellStat:function(l,k){if(null==k||""===k||"string"===typeof k&&""===C.trim(k))k=null;l=l.uvInfos;null==l[k]?l[k]={count:1,value:k}:l[k].count++},
	updateClusterStat:function(l,k){l=l.uvInfos;k=k.uvInfos;for(var h in k){var f=k[h];null==l[h]?l[h]={count:f.count,value:f.value}:l[h].count+=f.count}},summarize:function(l){l=l.uvInfos;var k,h=-Infinity;for(k in l){var f=l[k];if(f.count>h){h=f.count;var d=f.value}else f.count===h&&(d=null)}return d}}},n={isSupportedStatisticType:function(l){return w.hasOwnProperty(l)},getStatisticFunctions:function(l){return w[l]},getStatisticId:function(l,k){var h=y.getAttributeIdSource(l);l=h&&y.getAttributeId(h)||
	l.field;return k+"_"+l},getClusterField:function(l,k){return"cluster_"+n.getStatisticId(l,k)},getStatisticHash:function(l,k){k=[n.getStatisticId(l,k)];l.attributeType&&k.push(l.attributeType.toLowerCase());l.rotationType&&k.push(l.rotationType.toLowerCase());return k.join("_")}};return n})},"esri/dijit/Attribution":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/kernel dojo/has dojo/query dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-style dojo/dom-class dojo/dom-geometry ../kernel ../lang ../SpatialReference ../geometry/webMercatorUtils ../geometry/Extent".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x){C=C(null,{declaredClass:"esri.dijit.Attribution",itemDelimiter:" | ",listClass:"esriAttributionList",itemClass:"esriAttributionItem",lastItemClass:"esriAttributionLastItem",delimiterClass:"esriAttributionDelim",constructor:function(u,A){try{y.mixin(this,u);this._attributions={};this._pendingDfds={};this._activeLayers=[];this._sharedLayers=[];this._layerHandles={};var m=this.domNode=h.byId(A),v=this.map,r="\x3cspan class\x3d'"+this.listClass+"'\x3e\x3c/span\x3e";
	m&&(f.set(m,"innerHTML",r),this.listNode=n.query(".esriAttributionList",m)[0],this.itemNodes={});this._eventConnections=[w.connect(v,"onLayerAdd",this,this._onLayerAdd),w.connect(v,"onLayerRemove",this,this._onLayerRemove),w.connect(v,"onLayerSuspend",this,this._onLayerSuspend),w.connect(v,"onLayerResume",this,this._onLayerResume),w.connect(v,"onResize",this,this._adjustFocus),w.connect(v,"onExtentChange",this,this._onExtentChange)];if(v.loaded){var B=v.layerIds.concat(v.graphicsLayerIds),D,G=B.length;
	for(D=0;D<G;D++){var z=v.getLayer(B[D]);z.loaded&&this._onLayerAdd(z)}}}catch(E){}},startup:function(){},destroy:function(){b.forEach(this._eventConnections,w.disconnect);d.destroy(this.listNode);var u=this._layerHandles,A;for(A in u)u[A]&&u[A].remove();this.map=this.domNode=this._eventConnections=this.listNode=this._attributions=this._pendingDfds=this.itemNodes=this._activeLayers=this._lastItem=this._sharedLayers=this._layerHandles=null},_onLayerAdd:function(u){try{var A=this._attributions,m=u.id;
	if(!t.isDefined(A[m])&&u.showAttribution){if(u.hasAttributionData){var v=u.getAttributionData();this._pendingDfds[m]=1;A[m]=v;v.addBoth(y.partial(this._onAttributionLoad,this,u))}else A[m]=u.copyright||u.copyrightText||"",A[m]?(u.suspended||this._activeLayers.push(m),this._createNode(m)):this._onLayerRemove(u);-1<u.declaredClass.toLowerCase().indexOf("vetiledlayer")&&(this._layerHandles[m]=u.on("map-style-change",y.hitch(this,function(){this._onLayerRemove(u);this._onLayerAdd(u)})))}}catch(r){}},
	_onAttributionLoad:function(u,A,m){var v=u._attributions,r=u._pendingDfds,B=A.id;if(r&&r[B]){delete r[B];if(!m||m instanceof Error)m="";v[B]=m?u._createIndexByLevel(m,-1!==A.declaredClass.toLowerCase().indexOf("vetiledlayer")):A.copyright||A.copyrightText||"";v[B]?(A.suspended||u._activeLayers.push(B),u._createNode(B)):u._onLayerRemove(A)}},_onLayerRemove:function(u){try{var A=u.id,m=this.itemNodes,v=-1;this._onLayerSuspend(u);this._layerHandles[A]&&this._layerHandles[A].remove();delete this._attributions[A];
	delete this._pendingDfds[A];delete this._layerHandles[A];var r=this._getGroupIndex(A);-1!==r&&(v=b.indexOf(this._sharedLayers[r],A),-1!==v&&(this._sharedLayers[r].splice(v,1),1>=this._sharedLayers[r].length&&this._sharedLayers.splice(r,1)));m[A]&&-1===v&&d.destroy(m[A]);delete m[A];this._updateLastItem()}catch(B){}},_onLayerSuspend:function(u){try{var A=u.id;if(this._attributions[A]){var m=b.indexOf(this._activeLayers,A),v=this.itemNodes[A];-1!==m&&this._activeLayers.splice(m,1);v&&this._toggleItem(v,
	!1,this._getGroupIndex(A))}}catch(r){}},_adjustFocus:function(){var u=this.domNode.scrollWidth>this.domNode.clientWidth,A=c.contains(this.domNode,"esriAttributionOpen");f.set(this.domNode,"tabIndex",u||A?"0":"")},_onLayerResume:function(u){try{var A=u.id,m=this._attributions[A],v=this.itemNodes[A];if(m&&(-1===b.indexOf(this._activeLayers,A)&&this._activeLayers.push(A),v)){var r=y.isString(m)?m:this._getContributorsList(m,this.map.extent,this.map.getLevel());y.isString(m)||f.set(v,"innerHTML",r?r+
	this._getDelimiter():"");r&&this._toggleItem(v,!0,this._getGroupIndex(A))}}catch(B){}},_onExtentChange:function(u,A,m,v){try{var r=this._activeLayers,B=this._attributions,D=this.itemNodes,G,z,E=r.length||0;for(z=0;z<E;z++){var H=r[z];var I=B[H];if((G=D[H])&&!y.isString(I)){var O=this._getContributorsList(I,u,v?v.level:-1);f.set(G,"innerHTML",O?O+this._getDelimiter():"");this._toggleItem(G,!!O,-1)}}}catch(T){}this._adjustCursorStyle()},_createNode:function(u){if(this.domNode){var A=this._checkShareInfo(u),
	m=A&&A.sharedWith;m=m&&this.itemNodes[m];var v=this.map,r=this._attributions[u];r=y.isString(r)?r:this._getContributorsList(r,v.extent,v.getLevel());v=!!r&&!v.getLayer(u).suspended;m?(this.itemNodes[u]=m,this._toggleItem(m,v,A.index)):(u=this.itemNodes[u]=d.create("span",{"class":this.itemClass,innerHTML:r?r+this._getDelimiter():"",style:{display:v?"inline":"none"}},this.listNode),v&&this._setLastItem(u));this._adjustCursorStyle()}},_checkShareInfo:function(u){var A=this._attributions,m,v=-1,r=A[u];
	if(r&&y.isString(r)){for(m in A){var B=A[m];if(m!==u&&B&&y.isString(B)&&B.length===r.length&&B.toLowerCase()===r.toLowerCase()){var D=m;break}}A=this._sharedLayers;B=A.length;if(D){for(m=0;m<B;m++)if(r=A[m],-1!==b.indexOf(r,D)){v=m;r.push(u);break}-1===v&&(v=A.push([D,u])-1)}}return-1<v?{index:v,sharedWith:D}:null},_getGroupIndex:function(u){var A=this._sharedLayers,m,v=A.length,r=-1;for(m=0;m<v;m++)if(-1!==b.indexOf(A[m],u)){r=m;break}return r},_getDelimiter:function(){var u=this.itemDelimiter;return u?
	"\x3cspan class\x3d'"+this.delimiterClass+"'\x3e"+u+"\x3c/span\x3e":""},_toggleItem:function(u,A,m){if(-1<m&&!A){m=this._sharedLayers[m];var v,r=m.length,B=this._activeLayers;for(v=0;v<r;v++)if(-1!==b.indexOf(B,m[v]))return}a.set(u,"display",A?"inline":"none");this._updateLastItem()},_updateLastItem:function(){var u=this.listNode.childNodes;var A=u.length;if(A)for(--A;0<=A;A--){var m=u[A];if("none"!==a.get(m,"display")){this._setLastItem(m);break}}this._adjustCursorStyle()},_setLastItem:function(u){var A=
	this.itemClass,m=this.lastItemClass;this._lastItem&&c.replace(this._lastItem,A,m);u&&(c.replace(u,m,A),this._lastItem=u)},_createIndexByLevel:function(u,A){u=u.contributors;var m,v,r=u?u.length:0,B,D=new g(4326),G={};for(v=0;v<r;v++){var z=u[v];var E=(m=z.coverageAreas)?m.length:0;for(B=0;B<E;B++){var H=m[B];var I=H.bbox;I={extent:p.geographicToWebMercator(new x(I[1],I[0],I[3],I[2],D)),attribution:z.attribution||"",zoomMin:H.zoomMin-(A&&H.zoomMin?1:0),zoomMax:H.zoomMax-(A&&H.zoomMax?1:0),score:t.isDefined(H.score)?
	H.score:100,objectId:v};for(H=I.zoomMin;H<=I.zoomMax;H++)G[H]=G[H]||[],G[H].push(I)}}return G},_getContributorsList:function(u,A,m){var v="";if(A&&t.isDefined(m)&&-1<m){u=u[m];m=A.getCenter().normalize();var r=u?u.length:0,B=[],D={};for(v=0;v<r;v++)A=u[v],!D[A.objectId]&&A.extent.contains(m)&&(D[A.objectId]=1,B.push(A));B.sort(function(G,z){return z.score-G.score||G.objectId-z.objectId});r=B.length;for(v=0;v<r;v++)B[v]=B[v].attribution;v=B.join(", ")}return v},_adjustCursorStyle:function(){var u=
	e.position(this.listNode.parentNode,!0).h;c.contains(this.listNode.parentNode,"esriAttributionOpen")?(c.remove(this.listNode.parentNode,"esriAttributionOpen"),u>e.position(this.listNode.parentNode,!0).h?(a.set(this.listNode.parentNode,"cursor","pointer"),c.add(this.listNode.parentNode,"esriAttributionOpen")):a.set(this.listNode.parentNode,"cursor","default")):(c.add(this.listNode.parentNode,"esriAttributionOpen"),u<e.position(this.listNode.parentNode,!0).h?a.set(this.listNode.parentNode,"cursor",
	"pointer"):a.set(this.listNode.parentNode,"cursor","default"),c.remove(this.listNode.parentNode,"esriAttributionOpen"));this._adjustFocus()}});l("extend-esri")&&y.setObject("dijit.Attribution",C,q);return C})},"esri/arcgis/utils":function(){define("require dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/Deferred dojo/_base/json dojo/_base/url dojo/on dojo/DeferredList dojo/dom-construct dojo/sniff dojox/gfx/_base ../kernel ../config ../Color ../lang ../request ../SpatialReference ../map ../urlUtils ../geometry/Point ../geometry/ScreenPoint ../geometry/Extent ../geometry/webMercatorUtils ../symbols/jsonUtils ../renderers/jsonUtils ../dijit/PopupTemplate ../dijit/Popup ../tasks/query ../tasks/GeometryService ../layers/ArcGISTiledMapServiceLayer ../layers/FeatureLayer dojo/i18n!../nls/jsapi".split(" "),
	function(C,y,b,w,n,l,k,h,f,d,a,c,e,q,t,g,p,x,u,A,m,v,r,B,D,G,z,E,H,I,O,T,Z){function ia(P){return!(!P||"BingMapsAerial"!==P.layerType&&"BingMapsAerial"!==P.type)}function ca(P){return!(!P||"BingMapsRoad"!==P.layerType&&"BingMapsRoad"!==P.type)}function W(P){return ia(P)||ca(P)||!(!P||"BingMapsHybrid"!==P.layerType&&"BingMapsHybrid"!==P.type)}function ha(P){return!(!P||"OpenStreetMap"!==P.layerType&&"OpenStreetMap"!==P.type)}function ma(P){return!!(P&&P.url&&(-1<"ArcGISFeatureLayer ArcGISImageServiceLayer ArcGISImageServiceVectorLayer ArcGISMapServiceLayer ArcGISStreamLayer ArcGISTiledImageServiceLayer ArcGISTiledMapServiceLayer".split(" ").indexOf(P.layerType)||
	!P.layerType&&!P.type))}function xa(P){return p({url:rb.arcgisUrl+"/"+P.itemId+"/data",content:{f:"json"},callbackParamName:"callback"},{disableIdentityLookup:!0,_preLookup:!0})}function K(P,Ca){var za={f:"json"};Ca&&(za.token=Ca);return p({url:P,content:za,callbackParamName:"callback"},{disableIdentityLookup:!0})}function Y(P){!P.layerDefinition||P.layerDefinition.drawingInfo&&P.layerDefinition.drawingInfo.labelingInfo||(P.showLabels=!1);P.itemProperties.layerDefinition&&(P.layerDefinition?(P.layerDefinition.drawingInfo||
	(P.layerDefinition.drawingInfo=P.itemProperties.layerDefinition.drawingInfo),g.isDefined(P.layerDefinition.definitionExpression)||(P.layerDefinition.definitionExpression=P.itemProperties.layerDefinition.definitionExpression),g.isDefined(P.layerDefinition.minScale)||(P.layerDefinition.minScale=P.itemProperties.layerDefinition.minScale),g.isDefined(P.layerDefinition.maxScale)||(P.layerDefinition.maxScale=P.itemProperties.layerDefinition.maxScale)):P.layerDefinition=P.itemProperties.layerDefinition);
	!P.itemProperties.popupInfo||P.popupInfo||P.disablePopup||(P.popupInfo=P.itemProperties.popupInfo);g.isDefined(P.itemProperties.showLabels)&&!g.isDefined(P.showLabels)&&(P.showLabels=P.itemProperties.showLabels);g.isDefined(P.itemProperties.showLegend)&&!g.isDefined(P.showLegend)&&(P.showLegend=P.itemProperties.showLegend);g.isDefined(P.itemProperties.refreshInterval)&&!g.isDefined(P.refreshInterval)&&(P.refreshInterval=P.itemProperties.refreshInterval)}function la(P){Y(P);P.itemProperties.layerDefinition&&
	P.layerDefinition&&(!g.isDefined(P.layerDefinition.maximumTrackPoints)&&g.isDefined(P.itemProperties.layerDefinition.maximumTrackPoints)&&(P.layerDefinition.maximumTrackPoints=P.itemProperties.layerDefinition.maximumTrackPoints),!P.layerDefinition.definitionGeometry&&P.itemProperties.layerDefinition.definitionGeometry&&(P.layerDefinition.definitionGeometry=P.itemProperties.layerDefinition.definitionGeometry));P.itemProperties.purgeOptions&&!P.purgeOptions&&(P.purgeOptions=P.itemProperties.purgeOptions)}
	function L(P,Ca){var za=new n;Ca=P.itemData;var ta=[],ya=[];b.forEach(Ca.operationalLayers,function(Ha){if(Ha.itemId&&ma(Ha)){var Da=Ha.url.toLowerCase();-1<Da.indexOf("/featureserver")||-1<Da.indexOf("/mapserver/")?(ya.push(Ha),ta.push(xa(Ha))):-1<Da.indexOf("/mapserver")&&-1===Da.indexOf("/mapserver/")&&(!Ha.layers||!g.isDefined(Ha.minScale)&&!g.isDefined(Ha.maxScale))?(ya.push(Ha),ta.push(xa(Ha))):-1<Da.indexOf("/imageserver")?(ya.push(Ha),ta.push(xa(Ha))):-1<Da.indexOf("/streamserver")&&(ya.push(Ha),
	ta.push(xa(Ha)))}});Ca.baseMap&&Ca.baseMap.baseMapLayers&&b.forEach(Ca.baseMap.baseMapLayers,function(Ha){Ha.itemId&&"VectorTileLayer"!==Ha.layerType&&(ya.push(Ha),ta.push(xa(Ha)))});if(0<ta.length){var Ja={};(new f(ta)).addCallback(function(Ha){b.forEach(ya,function(Da,Ka){if((Ka=Ha[Ka][1])&&!(Ka instanceof Error)&&(Ja[Da.itemId]=Ka,ma(Da))){var Ra=Da.url.toLowerCase();(-1<Ra.indexOf("/featureserver")||-1<Ra.indexOf("/mapserver/"))&&Ka.layers?b.forEach(Ka.layers,function(Va){var Za="/featureserver/"+
	Va.id;(Za=Ra.match(Za+"$")==Za)||(Za="/mapserver/"+Va.id,Za=Ra.match(Za+"$")==Za);Za&&(Da.itemProperties=Va,Y(Da))}):-1<Ra.indexOf("/streamserver")?(Da.itemProperties=Ka,la(Da)):-1<Ra.indexOf("/mapserver")?(Ka.layers&&!Da.layers&&(Da.layers=Ka.layers),g.isDefined(Ka.minScale)&&!g.isDefined(Da.minScale)&&(Da.minScale=Ka.minScale),g.isDefined(Ka.maxScale)&&!g.isDefined(Da.maxScale)&&(Da.maxScale=Ka.maxScale),g.isDefined(Ka.refreshInterval)&&!g.isDefined(Da.refreshInterval)&&(Da.refreshInterval=Ka.refreshInterval),
	Ka.visibleLayers&&!Da.visibleLayers&&(Da.visibleLayers=Ka.visibleLayers)):-1<Ra.indexOf("/imageserver")&&(g.isDefined(Ka.minScale)&&!g.isDefined(Da.minScale)&&(Da.minScale=Ka.minScale),g.isDefined(Ka.maxScale)&&!g.isDefined(Da.maxScale)&&(Da.maxScale=Ka.maxScale),g.isDefined(Ka.refreshInterval)&&!g.isDefined(Da.refreshInterval)&&(Da.refreshInterval=Ka.refreshInterval),!Ka.popupInfo||Da.popupInfo||Da.disablePopup||(Da.popupInfo=Ka.popupInfo),Ka.renderingRule&&!Da.renderingRule&&(Da.renderingRule=Ka.renderingRule,
	Ka.renderingRule.functionName&&(Da.renderingRule.rasterFunction=Ka.renderingRule.functionName)),Ka.bandIds&&!Da.bandIds&&(Da.bandIds=Ka.bandIds),Ka.mosaicRule&&!Da.mosaicRule&&(Da.mosaicRule=Ka.mosaicRule),Ka.format&&!Da.format&&(Da.format=Ka.format),g.isDefined(Ka.compressionQuality)&&!g.isDefined(Da.compressionQuality)&&(Da.compressionQuality=Ka.compressionQuality),!Ka.layerDefinition||!Ka.layerDefinition.definitionExpression||g.isDefined(Da.layerDefinition)&&g.isDefined(Da.layerDefinition.definitionExpression)||
	(Da.layerDefinition=Da.layerDefinition||{},Da.layerDefinition.definitionExpression=Ka.layerDefinition.definitionExpression),Ka=y.getObject("layerDefinition.drawingInfo.renderer",!1,Ka),null==y.getObject("layerDefinition.drawingInfo.renderer",!1,Da)&&null!=Ka&&(Da.layerDefinition=Da.layerDefinition||{},Da.layerDefinition.drawingInfo=Da.layerDefinition.drawingInfo||{},Da.layerDefinition.drawingInfo.renderer=Ka))}});P.relatedItemsData=Ja;za.callback(P)})}else za.callback(P);return za}function R(P,Ca){var za=
	new n,ta=P.itemData,ya=ta.baseMap.baseMapLayers[0];if(W(ya))if(ya.portalUrl&&e.id)delete Ca.bingMapsKey,e.id.checkSignInStatus(A.urlToObject(rb.arcgisUrl).path).then(y.hitch(null,function(Ha,Da,Ka,Ra,Va){K(ya.portalUrl,Va.token).then(y.hitch(null,ka,Ha,Da,Ka,Ra),y.hitch(null,qa,Ha,Da,Ka,Ra))},P,Ca,ta,za),y.hitch(null,function(Ha,Da,Ka,Ra,Va){K(ya.portalUrl).then(y.hitch(null,ka,Ha,Da,Ka,Ra),y.hitch(null,qa,Ha,Da,Ka,Ra))},P,Ca,ta,za));else if(Ca.bingMapsKey){var Ja=new Eb({bingMapsKey:Ca.bingMapsKey,
	mapStyle:Eb.MAP_STYLE_AERIAL});w.connect(Ja,"onLoad",y.hitch(this,function(){za.callback([P,Ca])}));w.connect(Ja,"onError",function(Ha){delete Ca.bingMapsKey;P.itemData=va(ta);ya=P.itemData.baseMap.baseMapLayers[0];ya.errors=[];ya.errors.push({message:"The owner of the application has not provided a valid Bing Key for the Bing Map it includes. Switching to Esri layers."});za.callback([P,Ca])})}else P.itemData=va(ta),ya=P.itemData.baseMap.baseMapLayers[0],ya.errors=[],ya.errors.push({message:"The owner of the application has not provided a Bing Key for the Bing Map it includes. Switching to Esri layers."}),
	za.callback([P,Ca]);else za.callback([P,Ca]);return za}function da(P){var Ca=new n;P=P.itemData;var za=P.baseMap&&P.baseMap.baseMapLayers;if(bc&&!bc.supported())for(P=0;P<za.length;P++){var ta=za[P];if(!ta.isReference){if("VectorTileLayer"===ta.layerType){var ya=ta.itemId;var Ja=P}break}}ya?db(ya,!1).addBoth(function(Ha){var Da=/^https?:\/\/basemaps(dev)?\.arcgis\.com\/arcgis\/rest\/services\/World_Basemap\/VectorTileServer/i;Ha&&Ha.item&&Da.test(Ha.item.url)&&(za[Ja]={id:"FB_"+ta.id,layerType:"ArcGISTiledMapServiceLayer",
	opacity:"opacity"in ta?ta.opacity:1,visibility:"visibility"in ta?ta.visibility:!0,url:"https://services.arcgisonline.com/arcgis/rest/services/World_Street_Map/MapServer"});Ca.resolve()}):Ca.resolve();return Ca}function ka(P,Ca,za,ta,ya){ya.bingKey?(Ca.bingMapsKey=ya.bingKey,ya=new Eb({bingMapsKey:Ca.bingMapsKey,mapStyle:Eb.MAP_STYLE_AERIAL}),w.connect(ya,"onLoad",y.hitch(this,function(){ta.callback([P,Ca])})),w.connect(ya,"onError",function(Ja){delete Ca.bingMapsKey;P.itemData=va(za);Ja=P.itemData.baseMap.baseMapLayers[0];
	Ja.errors=[];Ja.errors.push({message:"The owner of the map has not provided a valid Bing Key for the Bing Map it includes. Switching to Esri layers."});ta.callback([P,Ca])})):qa(P,Ca,za,ta)}function qa(P,Ca,za,ta){delete Ca.bingMapsKey;P.itemData=va(za);za=P.itemData.baseMap.baseMapLayers[0];za.errors=[];za.errors.push({message:"The owner of the map has not provided a Bing Key for the Bing Map it includes. Switching to Esri layers."});ta.callback([P,Ca])}function va(P){ia(P.baseMap.baseMapLayers[0])?
	P.baseMap={title:"Imagery",baseMapLayers:[{id:"World_Imagery_2017",visibility:!0,opacity:1,url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}]}:ca(P.baseMap.baseMapLayers[0])?P.baseMap={title:"Streets",baseMapLayers:[{id:"World_Street_Map_8421",opacity:1,visibility:!0,url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer"}]}:P.baseMap={title:"Imagery with Labels",baseMapLayers:[{id:"World_Imagery_6611",opacity:1,visibility:!0,url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"},
	{id:"World_Boundaries_and_Places_1145",isReference:!0,opacity:1,visibility:!0,url:"https://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer"}]};return P}function Ea(P,Ca,za,ta){var ya=P.dynamicLayerInfos||P.layerInfos,Ja=Ca.layers;if(Ja&&ya)if(ta.usePopupManager){var Ha;b.forEach(ya,function(Xa){var $a=Xa.id;if(!Xa.subLayerIds)for(Xa=0;Xa<Ja.length;Xa++){var fb=Ja[Xa];if(fb.id===$a&&fb.popupInfo&&!fb.disablePopup){Ha||(Ha={});Ha[$a]={infoTemplate:new za(fb.popupInfo),
	layerUrl:fb.layerUrl};break}}});Ha&&P.setInfoTemplates(Ha)}else{var Da=[],Ka=[],Ra=[],Va=[],Za=[],Sa=[];b.forEach(ya,function(Xa){var $a=Xa.id;if(!Xa.subLayerIds&&-1!==b.indexOf(P.visibleLayers,$a))for(Xa=0;Xa<Ja.length;Xa++){var fb=Ja[Xa];if(fb.id===$a){Ka.push($a);Da.push(fb.popupInfo);Ra.push(fb.layerUrl||"");fb.layerDefinition&&fb.layerDefinition.definitionExpression?Va.push(fb.layerDefinition.definitionExpression):Va.push("");Za.push(g.isDefined(fb.minScale)?fb.minScale:null);Sa.push(g.isDefined(fb.maxScale)?
	fb.maxScale:null);break}}});Da.length&&(P.__popups=Da,P.__popupIds=Ka,P.__popupUrls=Ra,P.__popupWhereClauses=Va,P.__popupMinScales=Za,P.__popupMaxScales=Sa,P.__resourceInfo=Ca.resourceInfo)}}function ba(P){if(!P)return!1;var Ca=(new k(rb.arcgisUrl)).authority;return-1!==P.indexOf(".arcgis.com/")||-1!==P.indexOf(Ca)}function fa(P){return P?-1!==P.indexOf("/services.arcgisonline.com/")||-1!==P.indexOf("/server.arcgisonline.com/"):!1}function pa(P){"https:"===location.protocol&&(ba(P)||fa(P))&&(P=P.replace("http:",
	"https:"));return P}function wa(P,Ca,za){var ta=[];P.displayLevels||(ta=b.map(P.resourceInfo.tileInfo.lods,function(Ha){return Ha.level}));if(P.exclusionAreas){var ya=y.clone(P.exclusionAreas);ya=b.map(ya,function(Ha){Ha.geometry=new r(Ha.geometry);return Ha})}var Ja=P.resourceInfo&&"Raster"===P.resourceInfo.cacheType;Ja?(ta=P.layerDefinition&&P.layerDefinition.drawingInfo&&P.layerDefinition.drawingInfo.renderer,ta=new ac(pa(P.url),{resourceInfo:P.resourceInfo,opacity:P.opacity,visible:P.visibility,
	id:P.id,minScale:P.minScale,maxScale:P.maxScale,refreshInterval:P.refreshInterval,multidimensionalDefinition:P.multidimensionalDefinition,bandIds:P.bandIds,renderer:ta||null})):ta=new O(pa(P.url),{resourceInfo:P.resourceInfo,opacity:P.opacity,visible:P.visibility,displayLevels:P.displayLevels||ta,id:P.id,minScale:P.minScale,maxScale:P.maxScale,refreshInterval:P.refreshInterval,exclusionAreas:ya});za.ignorePopups||(Ja&&P.popupInfo&&!P.disablePopup?ta.setInfoTemplate(new Ca(P.popupInfo)):Ea(ta,P,Ca,
	za));return ta}function ra(P,Ca){if(!P||!Ca||0===Ca.length)return[];Ca=","+Ca+",";var za=[],ta,ya=",";for(ta=0;ta<P.length;ta++)if(null!==P[ta].subLayerIds){if(-1===Ca.indexOf(","+P[ta].id+",")||-1<ya.indexOf(","+P[ta].id+","))ya+=P[ta].subLayerIds.toString()+","}else-1<Ca.indexOf(","+P[ta].id+",")&&-1===ya.indexOf(","+P[ta].id+",")&&za.push(P[ta].id);return za}function Oa(P,Ca,za){var ta=new zb;ta.format="png24";P.resourceInfo&&P.resourceInfo.supportedImageFormatTypes&&-1<P.resourceInfo.supportedImageFormatTypes.indexOf("PNG32")&&
	(ta.format="png32");ta=new jb(pa(P.url),{resourceInfo:P.resourceInfo,opacity:P.opacity,visible:P.visibility,id:P.id,imageParameters:ta,minScale:P.minScale,maxScale:P.maxScale,refreshInterval:P.refreshInterval});var ya=P.visibleLayers;if(!P.visibleLayers){var Ja="";b.forEach(ta.layerInfos,function(Sa){Sa.defaultVisibility&&(Ja+=(0<Ja.length?",":"")+Sa.id)});ya=Ja}if(P.layers&&0<P.layers.length){var Ha=[],Da=[],Ka,Ra=[],Va,Za;b.forEach(P.layers,function(Sa){var Xa=Sa.layerDefinition;Xa&&Xa.definitionExpression&&
	(Ha[Sa.id]=Xa.definitionExpression);if(Xa&&Xa.source){Ka=null;Za=Xa.source;if("mapLayer"===Za.type){var $a=b.filter(P.resourceInfo.layers,function(fb){return fb.id===Za.mapLayerId});$a.length&&(Ka=y.mixin($a[0],Sa))}else Ka=y.mixin({},Sa);Ka&&(Ka.source=Za,delete Ka.popupInfo,Ka=new vb(Ka),P.visibleLayers&&($a="string"==typeof P.visibleLayers?P.visibleLayers.split(","):P.visibleLayers,-1<b.indexOf($a,Sa.id)?Ka.defaultVisibility=!0:Ka.defaultVisibility=!1),Da.push(Ka))}Xa&&null!=Xa.transparency&&($a=
	Xa.drawingInfo||{},null==$a.transparency&&($a.transparency=Xa.transparency,Xa.drawingInfo=$a));Xa&&Xa.source&&Xa.drawingInfo&&(Va=new Gb(Xa.drawingInfo),Ra[Sa.id]=Va)},this);0<Ha.length&&ta.setLayerDefinitions(Ha);0<Da.length?(ta.setDynamicLayerInfos(Da,!0),0<Ra.length&&ta.setLayerDrawingOptions(Ra,!0)):(ya=ra(ta.layerInfos,ya),ta.setVisibleLayers(ya))}else ya=ra(ta.layerInfos,ya),ta.setVisibleLayers(ya);za.ignorePopups||Ea(ta,P,Ca,za);return ta}function X(P,Ca,za){var ta=new Db;ta.bandIds=P.bandIds;
	null!=P.format&&(ta.format=P.format,null!=P.compressionQuality&&(ta.compressionQuality=P.compressionQuality));if(P.renderingRule&&P.renderingRule.rasterFunction){var ya=new $b(P.renderingRule);ta.renderingRule=ya}P.mosaicRule&&(ya=new Rb(P.mosaicRule),ta.mosaicRule=ya);g.isDefined(P.noData)&&(ta.noData=P.noData);g.isDefined(P.noDataInterpretation)&&(ta.noDataInterpretation=P.noDataInterpretation);g.isDefined(P.interpolation)&&(ta.interpolation=P.interpolation);ya=P.layerType?"ArcGISImageServiceVectorLayer"===
	P.layerType:!1;g.isDefined(P.layerType)||(ya=P.resourceInfo.hasMultidimensions&&("esriImageServiceDataTypeVector-UV"===P.resourceInfo.serviceDataType||"esriImageServiceDataTypeVector-MagDir"===P.resourceInfo.serviceDataType));ta={resourceInfo:P.resourceInfo,opacity:P.opacity,visible:P.visibility,id:P.id,imageServiceParameters:ta,minScale:P.minScale,maxScale:P.maxScale,refreshInterval:P.refreshInterval};ta=ya?new Jb(pa(P.url),ta):new nb(pa(P.url),ta);P.layerDefinition&&(P.layerDefinition.drawingInfo&&
	P.layerDefinition.drawingInfo.renderer&&(ya=G.fromJson(P.layerDefinition.drawingInfo.renderer),ta.setRenderer(ya)),P.layerDefinition.definitionExpression&&ta.setDefinitionExpression(P.layerDefinition.definitionExpression,!0));za.ignorePopups||!P.popupInfo||P.disablePopup||ta.setInfoTemplate(new Ca(P.popupInfo));return ta}function U(P,Ca,za){var ta=[102113,102100,3857],ya=za||new x(Ca[0].layerObject.fullExtent.spatialReference),Ja=new x(P.resourceInfo.fullExtent.spatialReference);return ya.wkt==Ja.wkt&&
	(ya.wkid==Ja.wkid||g.isDefined(ya.latestWkid)&&ya.latestWkid==Ja.wkid||g.isDefined(Ja.latestWkid)&&ya.wkid==Ja.latestWkid||g.isDefined(ya.latestWkid)&&ya.latestWkid==Ja.latestWkid)||ya.wkid&&Ja.wkid&&b.some(ta,function(Ha){return Ha===Ja.wkid})&&b.some(ta,function(Ha){return Ha===ya.wkid})?!0:!1}function oa(P,Ca,za){if(!Ca[0].layerObject.tileInfo)return!1;P=P.resourceInfo.tileInfo;Ca=Ca[0].layerObject.tileInfo;za=za.width>za.height?za.width:za.height;for(var ta=!1,ya=!1,Ja=0;Ja<P.lods.length;Ja++){for(var Ha=
	P.lods[Ja].scale/P.dpi,Da=0;Da<Ca.lods.length;Da++){var Ka=Ca.lods[Da].scale/Ca.dpi;if(Math.abs(Ka-Ha)/Ka<1/za)if(ta){ya=!0;break}else ta=!0}if(ya)break}return ya||ta&&(1===P.lods.length||1===Ca.lods.length)?!0:!1}function sa(P,Ca,za,ta,ya,Ja){var Ha=za._clazz;if(ha(P))var Da=new jc({id:P.id,opacity:P.opacity,visible:null!==P.visibility&&void 0!==P.visibility?P.visibility:!0});else if(P&&("WFS"===P.layerType||"WFS"===P.type)){var Ka={customParameters:P.wfsInfo.customParameters,geometryType:P.layerDefinition.geometryType,
	id:P.id,labelingInfo:P.layerDefinition.drawingInfo.labelingInfo,maxFeatures:P.wfsInfo.maxFeatures,mode:P.mode,name:P.wfsInfo.name,showLabels:!0,swapXY:P.wfsInfo.swapXY,title:P.title,url:P.url,version:P.wfsInfo.version,visible:P.visibility,wkid:P.layerDefinition.spatialReference.wkid};Da=new lc;Da.fromJson(Ka,function(){g.isDefined(P.opacity)&&Da.setOpacity(P.opacity);g.isDefined(P.visibility)&&Da.setVisibility(P.visibility);(P.minScale||P.maxScale)&&Da.setScaleRange(P.minScale,P.maxScale);Da.renderer=
	G.fromJson(P.layerDefinition.drawingInfo.renderer,{geometryType:Ka.geometryType});!za.ignorePopups&&P.popupInfo&&Da.setInfoTemplate(new Ha(P.popupInfo));Da.emit("fromJsonComplete")})}else if(P&&("WMS"===P.layerType||"WMS"===P.type)){var Ra=[],Va=[];b.forEach(P.layers,function($a){Va.push(new mc({name:$a.name,title:$a.title,legendURL:$a.legendURL||$a.legendUrl,queryable:$a.queryable,showPopup:$a.showPopup}));Ra.push($a.name)},this);P.visibleLayers&&(Ra=P.visibleLayers);ta=new r(P.extent[0][0],P.extent[0][1],
	P.extent[1][0],P.extent[1][1],new x({wkid:4326}));ta={customLayerParameters:P.customLayerParameters,customParameters:P.customParameters,extent:ta,layerInfos:Va,version:P.version,maxWidth:P.maxWidth,maxHeight:P.maxHeight,featureInfoFormat:P.featureInfoFormat,getFeatureInfoURL:P.featureInfoUrl,getMapURL:P.mapUrl,spatialReferences:P.spatialReferences,title:P.title,copyright:P.copyright,minScale:P.minScale||0,maxScale:P.maxScale||0,format:P.format};Da=new cc(P.url,{id:P.id,visibleLayers:Ra,format:"png",
	transparent:P.firstLayer?!1:!0,opacity:P.opacity,visible:null!==P.visibility?P.visibility:!0,resourceInfo:ta,refreshInterval:P.refreshInterval});Da.spatialReference.wkid=ta.spatialReferences[0]}else if(P&&("KML"===P.layerType||"KML"===P.type)){var Za=P.url;if(e.id){var Sa=e.id.findCredential(A.urlToObject(rb.arcgisUrl).path);Sa&&(Ca=rb.arcgisUrl.substring(rb.arcgisUrl.indexOf("//")+2,rb.arcgisUrl.indexOf("/",rb.arcgisUrl.indexOf("//")+3)),ya=Ca.split("."),ya=ya[ya.length-2]+"."+ya[ya.length-1],Ja=
	Za.indexOf(ya),-1<Ja&&(Za="https://"+Ca+Za.substring(Ja+ya.length),Za+="?token\x3d"+Sa.token))}Da=new Kb(Za,{id:P.id,visible:null!==P.visibility?P.visibility:!0,outSR:ta,refreshInterval:P.refreshInterval});w.connect(Da,"onLoad",function(){(P.opacity||0===P.opacity)&&Da.setOpacity(P.opacity);g.isDefined(P.minScale)&&g.isDefined(P.maxScale)&&Da.setScaleRange(P.minScale,P.maxScale);P.visibleFolders&&b.forEach(Da.folders,function($a){-1<b.indexOf(P.visibleFolders,$a.id)?Da.setFolderVisibility($a,!0):
	Da.setFolderVisibility($a,!1)},this)})}else if(!P||"WebTiledLayer"!==P.layerType&&"WebTiledLayer"!==P.type)if(!P||"GeoRSS"!==P.layerType&&"GeoRSS"!==P.type)if(P&&("CSV"===P.layerType||"CSV"===P.type)&&P.url)ta={layerDefinition:P.layerDefinition,columnDelimiter:P.columnDelimiter,id:P.id?P.id:null,visible:null!==P.visibility?P.visibility:!0,opacity:P.opacity,refreshInterval:P.refreshInterval},P.locationInfo&&(ta.latitudeFieldName=P.locationInfo.latitudeFieldName,ta.longitudeFieldName=P.locationInfo.longitudeFieldName),
	!za.ignorePopups&&P.popupInfo&&(ta.infoTemplate=new Ha(P.popupInfo)),Da=new Ab(P.url,ta);else if("VectorTileLayer"===P.layerType&&P.styleUrl)Da=new bc(P.styleUrl,{id:P.id,minScale:P.minScale,maxScale:P.maxScale,opacity:P.opacity,visible:P.visibility});else if(P.layerDefinition&&!P.url)ta=l.fromJson(l.toJson(P)),delete ta.id,delete ta.opacity,delete ta.visibility,Da=new T(ta,{id:P.id,opacity:P.opacity,visible:P.visibility,outFields:["*"],autoGeneralize:!0}),za.ignorePopups||!ta.popupInfo||ta.disablePopup||
	Da.setInfoTemplate(new Ha(ta.popupInfo)),bb(Da);else if(W(P))za.bingMapsKey?(ta=Eb.MAP_STYLE_AERIAL_WITH_LABELS,ia(P)?ta=Eb.MAP_STYLE_AERIAL:ca(P)&&(ta=Eb.MAP_STYLE_ROAD),Da=new Eb({bingMapsKey:za.bingMapsKey,mapStyle:ta,opacity:P.opacity,id:P.id}),w.connect(Da,"onError",y.hitch(this,function($a){$a.errors=$a.errors||[];$a.errors.push({message:"This application does not have a valid Bing Key for the Bing layer that is included in this map. [type:"+($a?$a.layerType||$a.type:"")+"]"})},P))):(P.errors=
	P.errors||[],P.errors.push({message:"This application does not provide a Bing Key for the Bing layer that is included in this map. [type:"+(P?P.layerType||P.type:"")+"]"}));else if(P.resourceInfo&&(P.resourceInfo.mapName||""===P.resourceInfo.mapName))Da=!0===P.resourceInfo.singleFusedMapCache&&(P.baseMapLayer||U(P,Ca,ta)&&oa(P,ya,Ja))?wa(P,Ha,za):Oa(P,Ha,za);else if(P.resourceInfo&&P.resourceInfo.pixelSizeX)Da=!0===P.resourceInfo.singleFusedMapCache&&"ArcGISImageServiceLayer"!==P.layerType&&(P.baseMapLayer||
	"Raster"===P.resourceInfo.cacheType||U(P,Ca,ta)&&oa(P,ya,Ja))?wa(P,Ha,za):X(P,Ha,za);else if(P.resourceInfo&&"Feature Layer"===P.resourceInfo.type){P.capabilities&&(P.resourceInfo.capabilities=P.capabilities);var Xa;!1===za.editable?Xa=!1:za.privileges&&-1===b.indexOf(za.privileges,"features:user:edit")&&e.id&&e.id.findCredential(P.url)&&(Xa=!1);Da=new T(pa(P.url),{resourceInfo:P.resourceInfo,opacity:P.opacity,visible:P.visibility,id:P.id,mode:P.mode===T.MODE_SELECTION?T.MODE_SELECTION:T.MODE_AUTO,
	editable:Xa,outFields:["*"],autoGeneralize:!0,refreshInterval:P.refreshInterval});za.ignorePopups||!P.popupInfo||P.disablePopup||Da.setInfoTemplate(new Ha(P.popupInfo));P.layerDefinition&&(P.layerDefinition.drawingInfo&&P.layerDefinition.drawingInfo.renderer&&(ta=G.fromJson(P.layerDefinition.drawingInfo.renderer,{geometryType:Da.geometryType}),ta.isMaxInclusive=!0,Da.setRenderer(ta)),P.layerDefinition.drawingInfo&&P.layerDefinition.drawingInfo.labelingInfo&&(ta=b.map(P.layerDefinition.drawingInfo.labelingInfo,
	function($a){return new Qb($a)}),Da.setLabelingInfo(ta)),P.layerDefinition.definitionExpression&&Da.setDefinitionExpression(P.layerDefinition.definitionExpression),g.isDefined(P.layerDefinition.minScale)&&Da.setMinScale(P.layerDefinition.minScale),g.isDefined(P.layerDefinition.maxScale)&&Da.setMaxScale(P.layerDefinition.maxScale));bb(Da)}else P.resourceInfo&&P.resourceInfo.streamUrls&&(ta={resourceInfo:P.resourceInfo,opacity:P.opacity,visible:P.visibility,id:P.id},P.layerDefinition&&(Za=P.layerDefinition.drawingInfo,
	P.layerDefinition.definitionGeometry&&(Sa=Sa||{},Sa.geometry=P.layerDefinition.definitionGeometry),g.isDefined(P.layerDefinition.definitionExpression)&&(Sa=Sa||{},Sa.where=P.layerDefinition.definitionExpression),g.isDefined(P.layerDefinition.maximumTrackPoints)&&(ta.maximumTrackPoints=P.layerDefinition.maximumTrackPoints)),Sa&&(ta.filter=Sa),P.purgeOptions&&(ta.purgeOptions=P.purgeOptions),Da=new Vb(pa(P.url),ta),Za&&Za.renderer&&(ta=Za.renderer,Da.setRenderer(G.fromJson(ta,{geometryType:P.resourceInfo.geometryType}))),
	Za&&Za.labelingInfo&&(ta=b.map(Za.labelingInfo,function($a){return new Qb($a)}),Da.setLabelingInfo(ta)),za.ignorePopups||!P.popupInfo||P.disablePopup||Da.setInfoTemplate(new Ha(P.popupInfo)),P.layerDefinition&&(g.isDefined(P.layerDefinition.minScale)&&Da.setMinScale(P.layerDefinition.minScale),g.isDefined(P.layerDefinition.maxScale)&&Da.setMaxScale(P.layerDefinition.maxScale)),h.once(Da,"error",function($a){P.errors.push({message:"Error loading stream layer. Check websocket url"})}));else Da=new Tb(P.url,
	{id:P.id,opacity:P.opacity,outSpatialReference:ta,refreshInterval:P.refreshInterval}),w.connect(Da,"onLoad",function(){!1===P.visibility&&Da.hide();g.isDefined(P.minScale)&&g.isDefined(P.maxScale)&&Da.setScaleRange(P.minScale,P.maxScale);var $a=Da.getFeatureLayers();b.forEach($a,function(fb){P.pointSymbol&&"esriGeometryPoint"===fb.geometryType?(fb.renderer.symbol=D.fromJson(P.pointSymbol),1===$a.length&&(Da.pointSymbol=D.fromJson(P.pointSymbol))):P.lineSymbol&&"esriGeometryPolyline"===fb.geometryType?
	(fb.renderer.symbol=D.fromJson(P.lineSymbol),1===$a.length&&(Da.polylineSymbol=D.fromJson(P.lineSymbol))):P.polygonSymbol&&"esriGeometryPolygon"===fb.geometryType&&(fb.renderer.symbol=D.fromJson(P.polygonSymbol),1===$a.length&&(Da.polygonSymbol=D.fromJson(P.polygonSymbol)))})});else if(Da=new Wb(P.templateUrl,{id:P.id,visible:null!==P.visibility?P.visibility:!0,opacity:P.opacity,copyright:P.copyright,fullExtent:P.fullExtent&&new r(P.fullExtent),initialExtent:P.fullExtent&&new r(P.fullExtent),subDomains:P.subDomains,
	tileInfo:P.tileInfo?new kc(P.tileInfo):null,refreshInterval:P.refreshInterval,wmtsInfo:P.wmtsInfo}),g.isDefined(P.minScale)||g.isDefined(P.maxScale))Da.loaded?Da.setScaleRange(P.minScale,P.maxScale):w.connect(Da,"onLoad",function(){Da.setScaleRange(P.minScale,P.maxScale)});Da&&(Da.arcgisProps={title:P.title},P.baseMapLayer&&(P.isReference?(Da.attr("data-reference",!0),Da._basemapGalleryLayerType="reference"):Da._basemapGalleryLayerType="basemap"),Da instanceof T&&P.layerDefinition&&P.layerDefinition.featureReduction&&
	"cluster"===P.layerDefinition.featureReduction.type&&(ta=P.layerDefinition.featureReduction,ta.clusterSize&&(ta.clusterSize=c.pt2px(ta.clusterSize)),ta.clusterRadius&&(ta.clusterRadius=c.pt2px(ta.clusterRadius)),ta.popupInfo&&(ta.infoTemplate=new z(ta.popupInfo),delete ta.popupInfo),Da.setFeatureReduction(ta)));return Da}function Fa(P,Ca,za,ta,ya){b.forEach(P,function(Da){Da.layerObject=sa(Da,P,Ca,za,ta,ya)});var Ja=b.filter(P,function(Da){return!Da.isReference}),Ha=b.filter(P,function(Da){return!!Da.isReference});
	return P=Ja.concat(Ha)}function Ta(P){var Ca=null;P=P[0];P.url&&ma(P)&&P.resourceInfo.spatialReference&&(Ca=new x,P.resourceInfo.spatialReference.wkid&&(Ca.wkid=P.resourceInfo.spatialReference.wkid),P.resourceInfo.spatialReference.wkt&&(Ca.wkt=P.resourceInfo.spatialReference.wkt));W(P)||ha(P)?Ca=new x({wkid:102100}):P&&("WMS"===P.layerType||"WMS"===P.type)&&(Ca=new x({wkid:P.spatialReferences[0]}));return Ca}function Ya(P,Ca,za,ta,ya,Ja,Ha,Da){b.forEach(Ca,function(Ka){Ka.url&&ma(Ka)&&(Ka.resourceInfo=
	P[Ka.deferredsPos][1],delete Ka.deferredsPos)});Ja=Ja||Ta(Ca);Ca=Fa(Ca,za,Ja,Ha,Da);ya.callback(Ca);return ya}function bb(P){!window.CanvasRenderingContext2D&&P.renderer&&"esri.renderer.HeatmapRenderer"===P.renderer.declaredClass&&P.setRenderer(G.fromJson({type:"simple",symbol:{color:[77,77,77,255],size:6,angle:0,xoffset:0,yoffset:0,type:"esriSMS",style:"esriSMSCircle",outline:{color:[255,255,255,255],width:.75,type:"esriSLS",style:"esriSLSSolid"}}}))}function Ma(P,Ca){var za=pa(P);return p({url:za,
	content:{f:"json"},callbackParamName:"callback",error:function(ta,ya){ta.message=ta.message?ta.message+(" [url:"+za+"]"):"[url:"+za+"]";Ca.push(ta);q.defaults.io.errorHandler(ta,ya)}})}function J(P){var Ca=rb.arcgisUrl+"/"+P.itemId+"/data";return p({url:Ca,content:{f:"json"},callbackParamName:"callback",error:function(za,ta){za.message=za.message?za.message+(" [url:"+Ca+"]"):"[url:"+Ca+"]";P.errors=P.errors||[];P.errors.push(za);q.defaults.io.errorHandler(za,ta)}})}function Q(P,Ca,za){var ta=new n;
	if(!(za.featureCollection&&za.featureCollection.layers||za.layers))return console.log("Invalid Feature Collection item data [item id: "+P.itemId+"]: ",za),P.errors=P.errors||[],P.errors.push({message:"Invalid Feature Collection item data. [item id: "+P.itemId+"]"}),ta.errback(),ta;za.layers&&(za.featureCollection={layers:za.layers},delete za.layers,g.isDefined(za.showLegend)&&(za.featureCollection.showLegend=za.showLegend,delete za.showLegend));aa(P,za.featureCollection,Ca).then(function(ya){za.featureCollection=
	ya;P.featureCollection&&P.featureCollection.layers?b.forEach(za.featureCollection.layers,function(Ja,Ha){Ha=P.featureCollection.layers[Ha];Ha.popupInfo||Ha.layerDefinition?Ha.layerDefinition?(g.isDefined(Ha.layerDefinition.minScale)&&g.isDefined(Ha.layerDefinition.maxScale)&&(Ha.layerDefinition.minScale!==Ja.layerDefinition.minScale||Ha.layerDefinition.maxScale!==Ja.layerDefinition.maxScale)&&(delete Ja.layerDefinition.minScale,delete Ja.layerDefinition.maxScale),Ha.layerDefinition.drawingInfo&&l.toJson(Ha.layerDefinition.drawingInfo)!==
	l.toJson(Ja.layerDefinition.drawingInfo)&&delete Ja.layerDefinition.drawingInfo,Ha.layerDefinition.showLegend!==Ja.layerDefinition.showLegend&&delete Ja.layerDefinition.showLegend,Ha.layerDefinition=y.mixin(Ha.layerDefinition,Ja.layerDefinition)):Ha.layerDefinition=Ja.layerDefinition:(Ha.popupInfo=Ja.popupInfo,Ha.layerDefinition=Ja.layerDefinition);Ha.featureSet=Ja.featureSet;Ha.nextObjectId=Ja.nextObjectId}):(P.featureCollection=P.featureCollection||{},P.featureCollection=y.mixin(P.featureCollection,
	za.featureCollection));ta.callback(P)});return ta}function aa(P,Ca,za){var ta=new n;C(["./csv"],function(ya){var Ja=[];b.forEach(Ca.layers,function(Ha){Ha.featureSet&&Ha.featureSet.features&&Ha.featureSet.features.length&&Ha.featureSet.features[0].geometry&&Ha.featureSet.features[0].geometry.spatialReference&&(Ha.deferredsPos=Ja.length,Ja.push(ya.projectFeatureCollection(Ha,za,Ha.featureSet.features[0].geometry.spatialReference)))});(new f(Ja)).addCallback(function(){b.forEach(Ca.layers,function(Ha){g.isDefined(Ha.deferredsPos)&&
	(Ja[Ha.deferredsPos].results&&Ja[Ha.deferredsPos].results.length?Ha=Ja[Ha.deferredsPos].results[0]:(console.log("Errors projecting feature collection. ["+P.title+" - "+Ha.layerDefinition.name+"]"),Ha.errors=Ha.errors||[],Ha.errors.push({message:"Errors projecting feature collection. ["+P.title+" - "+Ha.layerDefinition.name+"]"})),delete Ha.deferredsPos)});ta.callback(Ca)})});return ta}function N(P,Ca,za,ta,ya){var Ja=new n,Ha=new n,Da=[];b.forEach(P.operationalLayers,function(Ra){Ra.itemId&&"Feature Collection"==
	Ra.type&&Da.push(J(Ra).then(y.hitch(null,Q,Ra,za)))});if(0===Da.length)S(P,Ca,za,ta,Ha,ya);else{var Ka=new f(Da);Ka.addCallback(function(Ra){S(P,Ca,za,ta,Ha,ya)})}Ha.then(function(Ra){Da=[];b.forEach(Ra,function(Za){Za=Za.layerObject;if(Za instanceof T&&!Za.loaded&&!Za.loadError){var Sa=new n;h.once(Za,"load, error",function(){Sa.callback(Za)});Da.push(Sa)}else Za&&"esri.layers.WFSLayer"===Za.declaredClass&&!Za.loadError&&(Sa=new n,h.once(Za,"fromJsonComplete, error",function(Xa){Sa.callback(Za)}),
	Da.push(Sa))});if(Da.length){var Va=new n;Ka=new f(Da);Ka.addCallback(function(){Va.callback(Ra)});return Va.promise}return Ra}).then(function(Ra){var Va=[];b.forEach(Ra,function(Za){var Sa=Za.layerObject;Sa&&(Sa instanceof T||"esri.layers.StreamLayer"===Sa.declaredClass)?Sa.loaded&&Sa.labelingInfo&&(Za.showLabels||Sa._collection?Va.push(Sa):Sa.setShowLabels&&Sa.setShowLabels(!1)):Sa&&"esri.layers.WFSLayer"===Sa.declaredClass&&Sa.loaded&&Sa.labelingInfo&&Va.push(Sa)});Va.length?C(["../layers/LabelLayer"],
	function(Za){var Sa=new Za;b.forEach(Va,function(Xa){Sa.addFeatureLayer(Xa)});Ra.push({layerObject:Sa});Ja.callback(Ra)}):Ja.callback(Ra)});return Ja}function S(P,Ca,za,ta,ya,Ja){var Ha=[],Da=[],Ka=[];b.forEach(P.operationalLayers,function(Ra,Va){if(Ra.featureCollection&&Ra.featureCollection.layers){var Za=Ra.featureCollection.layers.length;b.forEach(Ra.featureCollection.layers,function(Sa,Xa){var $a=!0;Ra.visibleLayers&&-1==b.indexOf(Ra.visibleLayers,Xa)&&($a=!1);Sa.visibility=(null!=Ra.visibility?
	!!Ra.visibility:!0)&&$a;Sa.opacity=Ra.opacity;Sa.id=(Ra.id||"operational"+Va)+"_"+Xa;Ra.title&&(Sa.title=1!==Za&&Sa.layerDefinition.name&&Ra.title!==Sa.layerDefinition.name?Ra.title+" - "+Sa.layerDefinition.name:Ra.title);null==Sa.disablePopup&&(Sa.disablePopup=Ra.disablePopup);Ka.push(Sa)},this)}else Ka.push(Ra)});b.forEach(P.baseMap.baseMapLayers,function(Ra,Va){Ra.baseMapLayer=!0;Ra.id=Ra.id||"base"+Va;Ha.push(Ra)});b.forEach(Ka,function(Ra,Va){Ra.id=Ra.id||"operational"+Va;Ha.push(Ra)});b.forEach(Ha,
	function(Ra){Ra.url&&ma(Ra)&&(Ra.deferredsPos=Da.length,Ra.errors=Ra.errors||[],Da.push(Ma(Ra.url,Ra.errors)))});0===Da.length?(za=za||Ta(Ha),Ha=Fa(Ha,Ca,za,ta,Ja),ya.callback(Ha)):(new f(Da)).addCallback(function(Ra){Ya(Ra,Ha,Ca,Da,ya,za,ta,Ja)});return ya}function ea(P,Ca,za,ta){var ya=P.minScale,Ja=P.maxScale;if(10.1>=za.version&&Ca)for(P=Ca.length-1;0<=P;P--){if(Ca[P].id==ta)if(0==ya&&0<Ca[P].minScale?ya=Ca[P].minScale:0<ya&&0==Ca[P].minScale?ya=za.minScale:0<ya&&0<Ca[P].minScale&&(ya=Math.min(ya,
	Ca[P].minScale)),Ja=Math.max(za.maxScale||0,Ca[P].maxScale||0),za.setScaleRange(ya,Ja),-1<Ca[P].parentLayerId)ta=Ca[P].parentLayerId;else break}else 10.1<za.version&&(b.forEach(P.layerInfos,function(Ha){Ha.id==ta&&(0==ya&&0<Ha.minScale?ya=Ha.minScale:0<ya&&0==Ha.minScale||0<ya&&0<Ha.minScale&&(ya=Math.min(ya,Ha.minScale)),Ja=Math.max(Ja||0,Ha.maxScale||0))}),za.setScaleRange(ya,Ja))}function na(P,Ca,za,ta){var ya=P.url,Ja=P.__popupIds,Ha=P.__popupUrls,Da=P.__popupWhereClauses,Ka=P.__popupMinScales,
	Ra=P.__popupMaxScales,Va=P.__resourceInfo,Za=[];b.forEach(P.__popups,function(Sa,Xa){if(Sa){var $a=[];b.forEach(Sa.fieldInfos,function(tb){"shape"!==tb.fieldName.toLowerCase()&&$a.push(tb.fieldName)});if(P.dynamicLayerInfos&&0<P.dynamicLayerInfos.length){var fb=b.filter(P.dynamicLayerInfos,function(tb){return Ja[Xa]==tb.id})[0].source;var Bb=new T(ya+"/dynamicLayer",{parentLayer:P,id:P.id+"_"+Ja[Xa],source:fb,outFields:$a,mode:T.MODE_SELECTION,infoTemplate:Sa&&new za(Sa),drawMode:!1,visible:P.visible,
	autoGeneralize:!0});var dc=function(tb,Yb){0<Da[tb].length&&Yb.setDefinitionExpression(Da[tb]);if(g.isDefined(Ka[tb])||g.isDefined(Ra[tb]))if(g.isDefined(P.minScale)||g.isDefined(P.maxScale)){var Fb=P.minScale,Zb=P.maxScale;0==Fb&&0<Ka[tb]?Fb=Ka[tb]:0<Fb&&0==Ka[tb]||0<Fb&&0<Ka[tb]&&(Fb=Math.min(Fb,Ka[tb]));Zb=Math.max(Zb||0,Ra[tb]||0);Yb.setScaleRange(Fb,Zb)}else Yb.setScaleRange(Ka[tb],Ra[tb]);else ea(P,Ca||Va.layers,Yb,Ja[tb])};Bb.loaded?dc(Xa,Bb):w.connect(Bb,"onLoad",function(tb){dc(Xa,Bb)})}else{var Xb=
	null,qb=ya+"/"+Ja[Xa];if(Ha[Xa].length)qb=Ha[Xa];else if(Ca)for(fb=0;fb<Ca.length;fb++)if(Ca[fb].id===Ja[Xa]){Xb=Ca[fb];break}Bb=new T(pa(qb),{parentLayer:P,id:P.id+"_"+Ja[Xa],outFields:$a,mode:T.MODE_SELECTION,infoTemplate:Sa&&new za(Sa),drawMode:!1,visible:P.visible,resourceInfo:Xb,autoGeneralize:!0});Bb.loaded?(0<Da[Xa].length&&Bb.setDefinitionExpression(Da[Xa]),ea(P,Ca||Va.layers,Bb,Ja[Xa])):w.connect(Bb,"onLoad",function(tb){0<Da[Xa].length&&Bb.setDefinitionExpression(Da[Xa]);ea(P,Ca||Va.layers,
	tb,Ja[Xa])})}Za.push(Bb)}});0<Za.length&&(w.connect(P,"onVisibilityChange",y.hitch(this,function(Sa,Xa){b.forEach(Sa,function($a){Xa?$a.show():$a.hide()})},Za)),w.connect(ta,"onLayerRemove",y.hitch(this,function(Sa,Xa,$a){Sa.id===$a.id&&b.forEach(Xa,function(fb){ta.removeLayer(fb)})},P,Za)));delete P.__popups;delete P.__popupIds;delete P.__popupUrls;delete P.__popupWhereClauses;delete P.__popupMinScales;delete P.__popupMaxScales;delete P.__resourceInfo;return Za}function ua(P){return p({url:pa(P.url+
	"/layers"),content:{f:"json"},callbackParamName:"callback",error:function(){}})}function Aa(P,Ca,za){var ta=[];b.forEach(P,function(Ja){var Ha=Ja.__popups;Ha&&1<Ha.length&&10<=Ja.version&&(Ja.__deferredsPos=ta.length,ta.push(ua(Ja)))});var ya=[];0<ta.length?(new f(ta)).addCallback(function(Ja){b.forEach(P,function(Ha){Ha.__popups&&0<Ha.__popups.length&&(Ha.__deferredsPos||0===Ha.__deferredsPos?(ya=ya.concat(na(Ha,Ja[Ha.__deferredsPos][1].layers,za,Ca)),delete Ha.__deferredsPos):ya=ya.concat(na(Ha,
	null,za,Ca)))});Ca.addLayers(ya)}):(b.forEach(P,function(Ja){Ja.__popups&&0<Ja.__popups.length&&(ya=ya.concat(na(Ja,null,za,Ca)))}),Ca.addLayers(ya))}function Ba(P){b.forEach(P,function(Ca){var za=Ca.layer;za.toJson&&(Ca=za.toJson(),Ca.featureSet&&za.name&&-1<za.name.indexOf("Text")&&b.forEach(Ca.featureSet.features,function(ta,ya){ta.attributes.TEXT&&(ya=za.graphics[ya],ya.symbol.setText(ta.attributes.TEXT),ta.symbol.horizontalAlignment&&(ya.symbol.align=ta.symbol.horizontalAlignment),ya.setSymbol(ya.symbol),
	ya.setAttributes(ta.attributes))},this))})}function Qa(P){var Ca=6;b.forEach(P,function(za){if(za=za.renderer)"esri.renderer.SimpleRenderer"===za.declaredClass?((za=za.symbol)&&za.xoffset&&(Ca=Math.max(Ca,Math.abs(za.xoffset))),za&&za.yoffset&&(Ca=Math.max(Ca,Math.abs(za.yoffset)))):"esri.renderer.UniqueValueRenderer"!==za.declaredClass&&"esri.renderer.ClassBreaksRenderer"!==za.declaredClass||b.forEach(za.infos,function(ta){(ta=ta.symbol)&&ta.xoffset&&(Ca=Math.max(Ca,Math.abs(ta.xoffset)));ta&&ta.yoffset&&
	(Ca=Math.max(Ca,Math.abs(ta.yoffset)))})});return Ca}function La(P){var Ca=this,za=Ca.infoWindow,ta=P.graphic;if(Ca.loaded){za.hide();za.clearFeatures();var ya=[];b.forEach(Ca.graphicsLayerIds,function(Sa){(Sa=Ca.getLayer(Sa))&&Sa instanceof T&&Sa.loaded&&Sa.visible&&(Sa.clearSelection(),Sa.infoTemplate&&!Sa.suspended&&ya.push(Sa))});b.forEach(Ca.layerIds,function(Sa){(Sa=Ca.getLayer(Sa))&&(-1!==Sa.declaredClass.indexOf("ArcGISImageServiceLayer")||-1!==Sa.declaredClass.indexOf("RasterXLayer"))&&Sa.loaded&&
	Sa.visible&&Sa.infoTemplate&&ya.push(Sa)});ta=ta&&ta.getInfoTemplate()?ta:null;if(ya.length||ta){var Ja=Qa(ya),Ha=P.screenPoint,Da=Ca.toMap(new v(Ha.x-Ja,Ha.y+Ja));Ja=Ca.toMap(new v(Ha.x+Ja,Ha.y-Ja));var Ka=new r(Da.x,Da.y,Ja.x,Ja.y,Ca.spatialReference),Ra=new H;Ra.geometry=Ka;Ra.timeExtent=Ca.timeExtent;var Va=!0;Da=b.map(ya,function(Sa){Sa=Sa&&Sa.isFeatureReductionActive&&Sa.isFeatureReductionActive()?Sa.getFeatureReductionLayer():Sa;if(-1!==Sa.declaredClass.indexOf("ArcGISImageServiceLayer")){Ra.geometry=
	P.mapPoint;Va=!1;var Xa=Sa.queryVisibleRasters(Ra,{rasterAttributeTableFieldPrefix:"Raster.",returnDomainValues:!0});Xa.addCallback(function(){return Sa.getVisibleRasters()})}else if(-1!==Sa.declaredClass.indexOf("RasterXLayer"))Xa=Sa.fetchPopupFromTiles({geometry:P.mapPoint});else if("function"===typeof Sa.selectFeatures)Xa=Sa.selectFeatures(Ra),Xa.addCallback(function(){return Sa.getSelectedFeatures()});else{Xa=new n;var $a=b.filter(Sa.graphics,function(fb){return fb&&fb.visible&&Ka.intersects(fb.geometry)});
	Xa.resolve($a)}return Xa});ta&&(Ja=new n,Ja.callback([ta]),Da.splice(0,0,Ja));if(!b.some(Da,function(Sa){return-1===Sa.fired})){var Za=ta?1:0;b.forEach(ya,function(Sa){Za=-1!==Sa.declaredClass.indexOf("ArcGISImageServiceLayer")?Za+Sa.getVisibleRasters().length:-1!==Sa.declaredClass.indexOf("RasterXLayer")?Za+Sa.getPopupFromTiles().length:Za+Sa.getSelectedFeatures().length});if(!Za)return}za.setFeatures(Da);za.show(P.mapPoint,{closestFirst:Va})}}}function Ia(P,Ca){var za=Ca.mapOptions||{};if(!za.infoWindow){var ta=
	new E({visibleWhenEmpty:!1},d.create("div"));za.infoWindow=ta}g.isDefined(za.showInfoWindowOnClick)||Ca.usePopupManager||(za.showInfoWindowOnClick=!1);P=new u(P,za);w.connect(P,"onLayersAddResult",Ba);return P}function Na(P,Ca,za,ta,ya,Ja){if(ta.map){var Ha=ta.map;var Da=ta.clickEventHandle;var Ka=ta.clickEventListener;var Ra=ta.errors}else{var Va=za.itemData;!ya.mapOptions.backgroundColor&&Va.background&&Va.background.color&&null!=Va.background.color[0]&&(ya.mapOptions.backgroundColor=t.toDojoColor(Va.background.color));
	Ha=Ia(ta,ya);ya.ignorePopups||ya.disableClickBehavior||ya.usePopupManager||(Da=w.connect(Ha,"onClick",La),Ka=La)}Ha.addLayers(P);ya.ignorePopups||ya.usePopupManager||Aa(P,Ha,ya._clazz);var Za=Ra||[];b.forEach(Ca,function(Sa){Sa.errors&&(Za=Za.concat(Sa.errors))},this);Ha.loaded?Ja.callback({map:Ha,itemInfo:za,errors:Za,clickEventHandle:Da,clickEventListener:Ka}):w.connect(Ha,"onLoad",function(){Ja.callback({map:Ha,itemInfo:za,errors:Za,clickEventHandle:Da,clickEventListener:Ka})})}function eb(P,Ca,
	za,ta,ya){var Ja=[];b.forEach(ya,function(Ka){y.isArray(Ka.layerObject)?b.forEach(Ka.layerObject,function(Ra){Ja.push(Ra)}):Ja.push(Ka.layerObject)});if(W(ya[0]))var Ha=setInterval(function(){if(ya[0].layerObject&&ya[0].layerObject.loaded)clearInterval(Ha),ab(P,Ca,za,ta,ya,Ja);else if(ya[0].errors){clearInterval(Ha);var Ka="";ya[0].errors&&ya[0].errors.length&&(Ka=" ("+ya[0].errors[0].message+")");ta.errback(Error(Z.arcgis.utils.baseLayerError+Ka))}},10);else if(!Ja[0]&&ya[0].baseMapLayer){var Da=
	"";ya[0].errors&&ya[0].errors.length&&(Da=" ("+ya[0].errors[0].message+")");ta.errback(Error(Z.arcgis.utils.baseLayerError+Da))}else ab(P,Ca,za,ta,ya,Ja)}function ab(P,Ca,za,ta,ya,Ja){try{var Ha=za.mapOptions||{};za.mapOptions=Ha;Ja=b.filter(Ja,g.isDefined);if(Ca.map||Ha.extent)Na(Ja,ya,P,Ca,za,ta);else{var Da=Ja[0].spatialReference;if(Ha.center&&(null!=Ha.zoom||Ha.scale)&&(y.isArray(Ha.center)&&(Ha.center=new m(Ha.center)),B.canProject(Ha.center,Da))){Na(Ja,ya,P,Ca,za,ta);return}var Ka=P.item;if(Ka&&
	Ka.extent&&Ka.extent.length){var Ra=new r(Ka.extent[0][0],Ka.extent[0][1],Ka.extent[1][0],Ka.extent[1][1],new x({wkid:4326}));4326===Da.wkid?(Ha.extent=Ra,Na(Ja,ya,P,Ca,za,ta)):900913===Da.wkid||102100===Da.wkid||102113===Da.wkid||3857===Da.wkid?(Ra.xmin=Math.max(Ra.xmin,-180),Ra.xmax=Math.min(Ra.xmax,180),Ra.ymin=Math.max(Ra.ymin,-89.99),Ra.ymax=Math.min(Ra.ymax,89.99),Ha.extent=B.geographicToWebMercator(Ra),Na(Ja,ya,P,Ca,za,ta)):za.geometryServiceURL||q.defaults.geometryService?(za.geometryServiceURL?
	new I(za.geometryServiceURL):q.defaults.geometryService).project([Ra],Da,function(Va){Va=Va[0];Ha.extent=Ha.extent||Va;Na(Ja,ya,P,Ca,za,ta)},function(){Na(Ja,ya,P,Ca,za,ta)}):ta.errback(Error(Z.arcgis.utils.geometryServiceError))}else Na(Ja,ya,P,Ca,za,ta)}}catch(Va){ta.errback(Va)}}function gb(P){var Ca=[];b.forEach(P.operationalLayers,function(za){za.featureCollection?Ca.push({featureCollection:za.featureCollection,visibility:null!=za.visibility?!!za.visibility:!0,title:za.title}):za.layerObject&&
	Ca.push({layer:za.layerObject,visibility:null!=za.visibility?!!za.visibility:!0,title:za.title})});return Ca}function cb(P){var Ca=[],za=P.baseMap.baseMapLayers;P.operationalLayers&&(za=za.concat(P.operationalLayers));b.forEach(za,function(ta){var ya={};if(ta.featureCollection&&(!ta||"CSV"!==ta.layerType&&"CSV"!==ta.type))!0===ta.featureCollection.showLegend&&b.forEach(ta.featureCollection.layers,function(Da){if(!1!==Da.showLegend){var Ka=Da.layerObject.renderer;ya={layer:Da.layerObject,title:ta.title,
	defaultSymbol:Ka&&Ka.defaultSymbol&&Ka.defaultLabel?!0:!1};1<ta.featureCollection.layers.length&&(ya.title+=" - "+Da.layerDefinition.name);Ca.push(ya)}});else if(ta.baseMapLayer&&!0===ta.showLegend&&ta.layerObject||!ta.baseMapLayer&&!1!==ta.showLegend&&ta.layerObject&&!(ta.layerObject instanceof T&&ta.layerObject.mode===T.MODE_SELECTION)){var Ja=ta.layerObject.renderer,Ha=ta.layerObject.declaredClass;Ja=!Ja||Ja&&Ja.defaultSymbol&&Ja.defaultLabel?!0:!1;if(10.1>ta.layerObject.version&&("esri.layers.ArcGISDynamicMapServiceLayer"===
	Ha||"esri.layers.ArcGISTiledMapServiceLayer"===Ha)||"esri.layers.ArcGISImageServiceLayer"===Ha)Ja=!0;ya={layer:ta.layerObject,title:ta.title,defaultSymbol:Ja};ta.layers&&(Ha=b.map(b.filter(ta.layers,function(Da){return!1===Da.showLegend}),function(Da){return Da.id}),Ha.length&&(ya.hideLayers=Ha));Ca.push(ya)}});return Ca}function kb(P,Ca){function za(Da,Ka){b.forEach(Da,function(Ra,Va){switch(Ra){case "../layers/ArcGISDynamicMapServiceLayer":jb=Ka[Va];break;case "../layers/ArcGISImageServiceLayer":nb=
	Ka[Va];break;case "../layers/ArcGISImageServiceVectorLayer":Jb=Ka[Va];break;case "../layers/CSVLayer":Ab=Ka[Va];break;case "../layers/DynamicLayerInfo":vb=Ka[Va];break;case "../layers/GeoRSSLayer":Tb=Ka[Va];break;case "../layers/ImageParameters":zb=Ka[Va];break;case "../layers/ImageServiceParameters":Db=Ka[Va];break;case "../layers/KMLLayer":Kb=Ka[Va];break;case "../layers/LabelClass":Qb=Ka[Va];break;case "../layers/LayerDrawingOptions":Gb=Ka[Va];break;case "../layers/MosaicRule":Rb=Ka[Va];break;
	case "../layers/OpenStreetMapLayer":jc=Ka[Va];break;case "../layers/RasterFunction":$b=Ka[Va];break;case "../layers/RasterXLayer":ac=Ka[Va];break;case "../layers/StreamLayer":Vb=Ka[Va];break;case "../layers/TileInfo":kc=Ka[Va];break;case "../layers/VectorTileLayer":bc=Ka[Va];break;case "../virtualearth/VETiledLayer":Eb=Ka[Va];break;case "../layers/WebTiledLayer":Wb=Ka[Va];break;case "../layers/WFSLayer":lc=Ka[Va];break;case "../layers/WMSLayer":cc=Ka[Va];break;case "../layers/WMSLayerInfo":mc=Ka[Va]}})}
	var ta=new n;P=P.itemData;Ca=[];P.baseMap&&P.baseMap.baseMapLayers&&(Ca=Ca.concat(P.baseMap.baseMapLayers));P.operationalLayers&&(Ca=Ca.concat(P.operationalLayers));P=b.map(Ca,function(Da){return Da&&Da.layerType});var ya=[],Ja=[];Ca=!1;for(var Ha=0;Ha<P.length;Ha++){switch(P[Ha]){case "ArcGISFeatureLayer":-1===b.indexOf(ya,"../layers/LabelClass")&&ya.push("../layers/LabelClass");break;case "ArcGISImageServiceLayer":case "ArcGISTiledImageServiceLayer":-1===b.indexOf(ya,"../layers/ArcGISImageServiceLayer")&&
	(ya.push("../layers/ArcGISImageServiceLayer"),Ja.push("../layers/ImageServiceParameters"),Ja.push("../layers/MosaicRule"),Ja.push("../layers/RasterFunction"),ya.push("../layers/RasterXLayer"));break;case "ArcGISImageServiceVectorLayer":-1===b.indexOf(ya,"../layers/ArcGISImageServiceVectorLayer")&&(ya.push("../layers/ArcGISImageServiceVectorLayer"),Ja.push("../layers/ImageServiceParameters"),Ja.push("../layers/MosaicRule"),Ja.push("../layers/RasterFunction"));break;case "ArcGISMapServiceLayer":case "ArcGISTiledMapServiceLayer":-1===
	b.indexOf(ya,"../layers/ArcGISDynamicMapServiceLayer")&&(ya.push("../layers/ArcGISDynamicMapServiceLayer"),Ja.push("../layers/DynamicLayerInfo"),Ja.push("../layers/ImageParameters"),Ja.push("../layers/LayerDrawingOptions"));break;case "ArcGISStreamLayer":-1===b.indexOf(ya,"../layers/StreamLayer")&&ya.push("../layers/StreamLayer");-1===b.indexOf(ya,"../layers/LabelClass")&&ya.push("../layers/LabelClass");break;case "BingMapsAerial":case "BingMapsHybrid":case "BingMapsRoad":-1===b.indexOf(ya,"../virtualearth/VETiledLayer")&&
	ya.push("../virtualearth/VETiledLayer");break;case "CSV":-1===b.indexOf(ya,"../layers/CSVLayer")&&(ya.push("../layers/CSVLayer"),Ja.push("./csv"));break;case "GeoRSS":-1===b.indexOf(ya,"../layers/GeoRSSLayer")&&ya.push("../layers/GeoRSSLayer");break;case "KML":-1===b.indexOf(ya,"../layers/KMLLayer")&&ya.push("../layers/KMLLayer");break;case "OpenStreetMap":-1===b.indexOf(ya,"../layers/OpenStreetMapLayer")&&ya.push("../layers/OpenStreetMapLayer");break;case "VectorTileLayer":-1===b.indexOf(ya,"../layers/VectorTileLayer")&&
	ya.push("../layers/VectorTileLayer");break;case "WebTiledLayer":-1===b.indexOf(ya,"../layers/WebTiledLayer")&&(ya.push("../layers/WebTiledLayer"),Ja.push("../layers/TileInfo"));break;case "WFS":-1===b.indexOf(ya,"../layers/WFSLayer")&&ya.push("../layers/WFSLayer");break;case "WMS":-1===b.indexOf(ya,"../layers/WMSLayer")&&(ya.push("../layers/WMSLayer"),Ja.push("../layers/WMSLayerInfo"));break;default:Ca=!0}if(Ca)break}Ca&&(ya=pc,Ja=Ib);ya.length?C(ya,function(){za(ya,arguments);Ja.length?C(Ja,function(){za(Ja,
	arguments);ta.resolve()}):ta.resolve()}):ta.resolve();return ta}function ub(P){P=P.itemData;var Ca=function(ta,ya){"GroupLayer"===ta.layerType?b.forEach(ta.layers,function(Ja){Ja.visibility=!1===ta.visibility?!1:Ja.visibility;Ja.opacity=g.isDefined(ta.opacity)?g.isDefined(Ja.opacity)?Ja.opacity*ta.opacity:ta.opacity:Ja.opacity;Ca(Ja,ya)}):ya.push(ta)},za=[];b.forEach(P.operationalLayers,function(ta){Ca(ta,za)});P.operationalLayers=za}function ob(P,Ca,za,ta){ub(ta);var ya=ta.itemData;ya.baseMap&&ya.baseMap.baseMapLayers&&
	ya.baseMap.baseMapLayers.length&&(ya.baseMap.baseMapLayers[0].firstLayer=!0);var Ja=Ca.layerMixins,Ha=Ja&&Ja.length;if(Ha){var Da=function(Ka){for(var Ra=0;Ra<Ha;Ra++){var Va=Ja[Ra];if(Va.mixin)if(Va.hasOwnProperty("id")){if(Ka.id===Va.id){y.mixin(Ka,Va.mixin);break}}else if(Ka.url===Va.url){y.mixin(Ka,Va.mixin);break}}};b.forEach(ya.baseMap&&ya.baseMap.baseMapLayers,Da);b.forEach(ya.operationalLayers,Da)}kb(ta,Ca).then(function(){return da(ta,Ca)}).then(function(){return R(ta,Ca)}).then(function(Ka){var Ra=
	Ka[0],Va=Ka[1];if(Ra.itemData.operationalLayers&&0!==Ra.itemData.operationalLayers.length){var Za=new n,Sa=Ra.itemData.baseMap.baseMapLayers.slice(),Xa=b.filter(Ra.itemData.baseMap.baseMapLayers,function($a){return!$a.isReference});Ka={item:Ra.item,itemData:{baseMap:{baseMapLayers:Xa},background:y.clone(Ra.itemData.background)}};Ra.itemData.baseMap.baseMapLayers=b.filter(Ra.itemData.baseMap.baseMapLayers,function($a){return $a.isReference});L(Ka,Va).addCallback(function($a){N($a.itemData,Va).addCallback(y.hitch(null,
	eb,$a,P,Va,Za))});Za.then(function($a){L(Ra,Va).addCallback(function(fb){N(fb.itemData,Va,$a.map.spatialReference,Xa,$a.map).addCallback(function(Bb){fb.itemData.baseMap.baseMapLayers=Sa;eb(fb,$a,Va,za,Bb)})})},y.hitch(za,za.errback))}else L(Ra,Va).addCallback(function($a){N($a.itemData,Va).addCallback(y.hitch(null,eb,$a,P,Va,za))})})}function db(P,Ca){"undefined"===typeof Ca&&(Ca=!0);rb._arcgisUrl&&0<rb._arcgisUrl.length&&(rb.arcgisUrl=rb._arcgisUrl);var za={},ta=new n;p({url:rb.arcgisUrl+"/"+P,
	content:{f:"json"},callbackParamName:"callback",load:function(ya){za.item=ya;Ca?p({url:rb.arcgisUrl+"/"+P+"/data",content:{f:"json"},callbackParamName:"callback",load:function(Ja){za.itemData=Ja;ta.callback(za)},error:function(Ja){ta.errback(Ja)}}):ta.callback(za)},error:function(ya){ta.errback(ya)}});return ta}var jb,nb,Jb,Ab,vb,Tb,zb,Db,Kb,Qb,Gb,Rb,jc,$b,ac,Vb,kc,bc,Eb,Wb,lc,cc,mc,pc="../layers/ArcGISDynamicMapServiceLayer ../layers/ArcGISImageServiceLayer ../layers/ArcGISImageServiceVectorLayer ../layers/CSVLayer ../layers/GeoRSSLayer ../layers/KMLLayer ../layers/LabelClass ../layers/OpenStreetMapLayer ../layers/RasterXLayer ../layers/StreamLayer ../layers/VectorTileLayer ../virtualearth/VETiledLayer ../layers/WebTiledLayer ../layers/WFSLayer ../layers/WMSLayer".split(" "),
	Ib="./csv ../layers/DynamicLayerInfo ../layers/ImageParameters ../layers/ImageServiceParameters ../layers/LayerDrawingOptions ../layers/MosaicRule ../layers/RasterFunction ../layers/TileInfo ../layers/WMSLayerInfo".split(" ");var rb={arcgisUrl:A.getProtocolForWebResource()+"//www.arcgis.com/sharing/rest/content/items",getItem:db,createMap:function(P,Ca,za){var ta=new n;za=za||{};var ya=za.infoTemplateClass;za._clazz=ya&&(y.isObject(ya)?ya:y.getObject(ya))||z;y.isString(P)?db(P).addCallback(y.hitch(null,
	ob,Ca,za,ta)).addErrback(y.hitch(ta,ta.errback)):ob(Ca,za,ta,P);ta.addCallback(function(Ja){var Ha=Ja.map;Ha&&(Ha.tables=y.getObject("itemInfo.itemData.tables",!1,Ja)||[])});return ta},getLayerList:function(P){return P&&P.itemInfo&&P.itemInfo.itemData?gb(P.itemInfo.itemData):[]},getLegendLayers:function(P){return P&&P.itemInfo&&P.itemInfo.itemData?cb(P.itemInfo.itemData):[]},_arcgisUrl:null,_getItemProps:L,_getItemData:xa,_getBingKey:K,_portalUrlResponse:ka,_portalUrlFailure:qa,_processFSItemProperties:Y,
	_processSSItemProperties:la,_getLayers:N,_preBuildLayerObjects:Ya,_buildLayerObjects:Fa,_preCreateMap:eb,_getMapSR:Ta,_createMap:Na,_addSelectionLayers:Aa,_createSelectionFeatureLayers:na,_getServiceInfo:Ma,_getFeatureCollectionItem:J,_mergeFeatureCollectionItem:Q,_projectFeatureCollection:aa,_getLayersInfo:ua,_initLayer:sa,_loadAsCached:wa,_loadAsDynamic:Oa,_processPopups:Ea,_onLayersAddResult:Ba,_sameSpatialReferenceAsBasemap:U,_sameTilingSchemeAsBasemap:oa,_showPopup:La,_calculateClickTolerance:Qa,
	_getVisibleFeatureLayers:ra,_updateLayerScaleInfo:ea,_checkUrl:pa,_isHostedService:ba,_isAgolService:fa,_getLegendLayers:cb};y.setObject("arcgis.utils",rb,e);return rb})},"esri/tasks/GeometryService":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/_base/Deferred dojo/has ../kernel ../request ../deferredUtils ./Task ../geometry/Extent ../geometry/Polyline ../geometry/Polygon ../geometry/Multipoint ../geometry/jsonUtils".split(" "),function(C,y,b,w,n,l,k,
	h,f,d,a,c,e,q,t){C=C(d,{declaredClass:"esri.tasks.GeometryService",_eventMap:{"areas-and-lengths-complete":["result"],"auto-complete-complete":["geometries"],"buffer-complete":["geometries"],"convex-hull-complete":["geometry"],"cut-complete":["result"],"densify-complete":["geometries"],"difference-complete":["geometries"],"distance-complete":["distance"],"generalize-complete":["geometries"],"intersect-complete":["geometries"],"label-points-complete":["geometries"],"lengths-complete":["result"],"offset-complete":["geometries"],
	"project-complete":["geometries"],"relation-complete":["relations"],"reshape-complete":["geometry"],"simplify-complete":["geometries"],"trim-extend-complete":["geometries"],"union-complete":["geometry"]},constructor:function(g){g=y.hitch;this._projectHandler=g(this,this._projectHandler);this._simplifyHandler=g(this,this._simplifyHandler);this._bufferHandler=g(this,this._bufferHandler);this._areasAndLengthsHandler=g(this,this._areasAndLengthsHandler);this._lengthsHandler=g(this,this._lengthsHandler);
	this._labelPointsHandler=g(this,this._labelPointsHandler);this._relationHandler=g(this,this._relationHandler);this._convexHullHandler=g(this,this._convexHullHandler);this._unionHandler=g(this,this._unionHandler);this._autoCompleteHandler=g(this,this._autoCompleteHandler);this._reshapeHandler=g(this,this._reshapeHandler);this._cutHandler=g(this,this._cutHandler);this._intersectHandler=g(this,this._intersectHandler);this._differenceHandler=g(this,this._differenceHandler);this._trimExtendHandler=g(this,
	this._trimExtendHandler);this._densifyHandler=g(this,this._densifyHandler);this._generalizeHandler=g(this,this._densifyHandler);this._offsetHandler=g(this,this._offsetHandler);this._distanceHandler=g(this,this._distanceHandler);this._toGeoCoordinateHandler=g(this,this._toGeoCoordinateHandler);this._fromGeoCoordinateHandler=g(this,this._fromGeoCoordinateHandler);this.registerConnectEvents()},_encodeGeometries:function(g){var p=[],x,u=g.length;for(x=0;x<u;x++)p.push(g[x].toJson());return{geometryType:t.getJsonType(g[0]),
	geometries:p}},_decodeGeometries:function(g,p,x){var u=t.getGeometryType(p);g=g.geometries;var A=[],m={spatialReference:x.toJson()},v=y.mixin;b.forEach(g,function(r,B){A[B]=new u(v(r,m))});return A},_toProjectGeometry:function(g){var p=g.spatialReference.toJson();return g instanceof a?new e({rings:[[[g.xmin,g.ymin],[g.xmin,g.ymax],[g.xmax,g.ymax],[g.xmax,g.ymin],[g.xmin,g.ymin]]],spatialReference:p}):new c({paths:[[].concat(g.points)],spatialReference:p})},_fromProjectedGeometry:function(g,p,x){return"esriGeometryEnvelope"===
	p?(g=g.rings[0],new a(g[0][0],g[0][1],g[2][0],g[2][1],x)):new q({points:g.paths[0],spatialReference:x.toJson()})},project:function(g,p,x,u){var A=y.mixin({},this._url.query,{f:"json"});if(g.geometries){u=x;x=p;p=g.outSR;var m=g.geometries[0];A=y.mixin(A,g.toJson())}else m=g[0],A=y.mixin(A,{outSR:p.wkid||w.toJson(p.toJson()),inSR:m.spatialReference.wkid||w.toJson(m.spatialReference.toJson()),geometries:w.toJson(this._encodeGeometries(g))});var v=t.getJsonType(m),r=this._projectHandler,B=this._errorHandler,
	D=new n(f._dfdCanceller);D._pendingDfd=h({url:this._url.path+"/project",content:A,callbackParamName:"callback",load:function(G,z){r(G,z,v,p,x,u,D)},error:function(G){B(G,u,D)}});return D},_projectHandler:function(g,p,x,u,A,m,v){try{var r=this._decodeGeometries(g,x,u);this._successHandler([r],"onProjectComplete",A,v)}catch(B){this._errorHandler(B,m,v)}},onProjectComplete:function(){},simplify:function(g,p,x){var u=g[0].spatialReference,A=y.mixin({},this._url.query,{f:"json",sr:u.wkid?u.wkid:w.toJson(u.toJson()),
	geometries:w.toJson(this._encodeGeometries(g))}),m=t.getJsonType(g[0]),v=this._simplifyHandler,r=this._errorHandler,B=new n(f._dfdCanceller);B._pendingDfd=h({url:this._url.path+"/simplify",content:A,callbackParamName:"callback",load:function(D,G){v(D,G,m,u,p,x,B)},error:function(D){r(D,x,B)}});return B},_simplifyHandler:function(g,p,x,u,A,m,v){try{var r=this._decodeGeometries(g,x,u);this._successHandler([r],"onSimplifyComplete",A,v)}catch(B){this._errorHandler(B,m,v)}},onSimplifyComplete:function(){},
	convexHull:function(g,p,x){var u=g[0].spatialReference;g=y.mixin({},this._url.query,{f:"json",sr:w.toJson(u.toJson()),geometries:w.toJson(this._encodeGeometries(g))});var A=this._convexHullHandler,m=this._errorHandler,v=new n(f._dfdCanceller);v._pendingDfd=h({url:this._url.path+"/convexHull",content:g,callbackParamName:"callback",load:function(r,B){A(r,B,u,p,x,v)},error:function(r){m(r,x,v)}});return v},_convexHullHandler:function(g,p,x,u,A,m){try{var v=t.fromJson(g.geometry).setSpatialReference(x);
	this._successHandler([v],"onConvexHullComplete",u,m)}catch(r){this._errorHandler(r,A,m)}},onConvexHullComplete:function(){},union:function(g,p,x){var u=g[0].spatialReference;g=y.mixin({},this._url.query,{f:"json",sr:w.toJson(u.toJson()),geometries:w.toJson(this._encodeGeometries(g))});var A=this._unionHandler,m=this._errorHandler,v=new n(f._dfdCanceller);v._pendingDfd=h({url:this._url.path+"/union",content:g,callbackParamName:"callback",load:function(r,B){A(r,B,u,p,x,v)},error:function(r){m(r,x,v)}});
	return v},_unionHandler:function(g,p,x,u,A,m){try{var v=t.fromJson(g.geometry).setSpatialReference(x);this._successHandler([v],"onUnionComplete",u,m)}catch(r){this._errorHandler(r,A,m)}},onUnionComplete:function(){},autoComplete:function(g,p,x,u){var A=g[0].spatialReference;g=y.mixin({},this._url.query,{f:"json",sr:w.toJson(A.toJson()),polygons:w.toJson(this._encodeGeometries(g).geometries),polylines:w.toJson(this._encodeGeometries(p).geometries)});var m=this._autoCompleteHandler,v=this._errorHandler,
	r=new n(f._dfdCanceller);r._pendingDfd=h({url:this._url.path+"/autoComplete",content:g,callbackParamName:"callback",load:function(B,D){m(B,D,A,x,u,r)},error:function(B){v(B,u,r)}});return r},_autoCompleteHandler:function(g,p,x,u,A,m){try{var v=g.geometries;g=[];var r,B=v.length;for(r=0;r<B;r++)g[r]=new e({spatialReference:x,rings:v[r].rings});this._successHandler([g],"onAutoCompleteComplete",u,m)}catch(D){this._errorHandler(D,A,m)}},onAutoCompleteComplete:function(){},reshape:function(g,p,x,u){var A=
	g.spatialReference;g=y.mixin({},this._url.query,{f:"json",sr:w.toJson(A.toJson()),target:w.toJson({geometryType:t.getJsonType(g),geometry:g.toJson()}),reshaper:w.toJson(p.toJson())});var m=this._reshapeHandler,v=this._errorHandler,r=new n(f._dfdCanceller);r._pendingDfd=h({url:this._url.path+"/reshape",content:g,callbackParamName:"callback",load:function(B,D){m(B,D,A,x,u,r)},error:function(B){v(B,u,r)}});return r},_reshapeHandler:function(g,p,x,u,A,m){try{var v=t.fromJson(g.geometry).setSpatialReference(x);
	this._successHandler([v],"onReshapeComplete",u,m)}catch(r){this._errorHandler(r,A,m)}},onReshapeComplete:function(){},cut:function(g,p,x,u){var A=g[0].spatialReference,m=b.map(g,function(D){return D.toJson()});g=y.mixin({},this._url.query,{f:"json",sr:w.toJson(A.toJson()),target:w.toJson({geometryType:t.getJsonType(g[0]),geometries:m}),cutter:w.toJson(p.toJson())});var v=this._cutHandler,r=this._errorHandler,B=new n(f._dfdCanceller);B._pendingDfd=h({url:this._url.path+"/cut",content:g,callbackParamName:"callback",
	load:function(D,G){v(D,G,A,x,u,B)},error:function(D){r(D,u,B)}});return B},_cutHandler:function(g,p,x,u,A,m){try{var v=g.geometries,r={};r.cutIndexes=g.cutIndexes;r.geometries=[];b.forEach(v,function(B){r.geometries.push(t.fromJson(B).setSpatialReference(x))});this._successHandler([r],"onCutComplete",u,m)}catch(B){this._errorHandler(B,A,m)}},onCutComplete:function(){},intersect:function(g,p,x,u){var A=g[0].spatialReference;g=y.mixin({},this._url.query,{f:"json",sr:w.toJson(A.toJson()),geometries:w.toJson(this._encodeGeometries(g)),
	geometry:w.toJson({geometryType:t.getJsonType(p),geometry:p.toJson()})});var m=this._intersectHandler,v=this._errorHandler,r=new n(f._dfdCanceller);r._pendingDfd=h({url:this._url.path+"/intersect",content:g,callbackParamName:"callback",load:function(B,D){m(B,D,A,x,u,r)},error:function(B){v(B,u,r)}});return r},_intersectHandler:function(g,p,x,u,A,m){try{var v=[];b.forEach(g.geometries,function(r){v.push(t.fromJson(r).setSpatialReference(x))});this._successHandler([v],"onIntersectComplete",u,m)}catch(r){this._errorHandler(r,
	A,m)}},onIntersectComplete:function(){},difference:function(g,p,x,u){var A=g[0].spatialReference;g=y.mixin({},this._url.query,{f:"json",sr:w.toJson(A.toJson()),geometries:w.toJson(this._encodeGeometries(g)),geometry:w.toJson({geometryType:t.getJsonType(p),geometry:p.toJson()})});var m=this._differenceHandler,v=this._errorHandler,r=new n(f._dfdCanceller);r._pendingDfd=h({url:this._url.path+"/difference",content:g,callbackParamName:"callback",load:function(B,D){m(B,D,A,x,u,r)},error:function(B){v(B,
	u,r)}});return r},_differenceHandler:function(g,p,x,u,A,m){try{var v=[];b.forEach(g.geometries,function(r){v.push(t.fromJson(r).setSpatialReference(x))});this._successHandler([v],"onDifferenceComplete",u,m)}catch(r){this._errorHandler(r,A,m)}},onDifferenceComplete:function(){},buffer:function(g,p,x){var u=y.mixin({},this._url.query,{f:"json"},g.toJson()),A=g.outSpatialReference||g.geometries[0].spatialReference,m=this._bufferHandler,v=this._errorHandler,r=new n(f._dfdCanceller);r._pendingDfd=h({url:this._url.path+
	"/buffer",content:u,callbackParamName:"callback",load:function(B,D){m(B,D,A,p,x,r)},error:function(B){v(B,x,r)}});return r},_bufferHandler:function(g,p,x,u,A,m){try{var v=g.geometries;g=[];var r,B=v.length;for(r=0;r<B;r++)g[r]=new e({spatialReference:x,rings:v[r].rings});this._successHandler([g],"onBufferComplete",u,m)}catch(D){this._errorHandler(D,A,m)}},onBufferComplete:function(){},areasAndLengths:function(g,p,x){g=y.mixin({},this._url.query,{f:"json"},g.toJson());var u=this._areasAndLengthsHandler,
	A=this._errorHandler,m=new n(f._dfdCanceller);m._pendingDfd=h({url:this._url.path+"/areasAndLengths",content:g,callbackParamName:"callback",load:function(v,r){u(v,r,p,x,m)},error:function(v){A(v,x,m)}});return m},_areasAndLengthsHandler:function(g,p,x,u,A){try{this._successHandler([g],"onAreasAndLengthsComplete",x,A)}catch(m){this._errorHandler(m,u,A)}},onAreasAndLengthsComplete:function(){},lengths:function(g,p,x){g=y.mixin({},this._url.query,{f:"json"},g.toJson());var u=this._lengthsHandler,A=this._errorHandler,
	m=new n(f._dfdCanceller);m._pendingDfd=h({url:this._url.path+"/lengths",content:g,callbackParamName:"callback",load:function(v,r){u(v,r,p,x,m)},error:function(v){A(v,x,m)}});return m},_lengthsHandler:function(g,p,x,u,A){try{this._successHandler([g],"onLengthsComplete",x,A)}catch(m){this._errorHandler(m,u,A)}},onLengthsComplete:function(){},labelPoints:function(g,p,x){var u=b.map(g,function(B){return B.toJson()}),A=g[0].spatialReference;u=y.mixin({},this._url.query,{f:"json",sr:A.wkid?A.wkid:w.toJson(A.toJson()),
	polygons:w.toJson(u)});var m=this._labelPointsHandler,v=this._errorHandler,r=new n(f._dfdCanceller);r._pendingDfd=h({url:this._url.path+"/labelPoints",content:u,callbackParamName:"callback",load:function(B,D){m(B,D,g,A,p,x,r)},error:function(B){v(B,x,r)}});return r},_labelPointsHandler:function(g,p,x,u,A,m,v){try{var r=[];b.forEach(g.labelPoints,function(B){r.push(t.fromJson(B).setSpatialReference(u))});this._successHandler([r],"onLabelPointsComplete",A,v)}catch(B){this._errorHandler(B,m,v)}},onLabelPointsComplete:function(){},
	relation:function(g,p,x){g=y.mixin({},this._url.query,{f:"json"},g.toJson());var u=this._relationHandler,A=this._errorHandler,m=new n(f._dfdCanceller);m._pendingDfd=h({url:this._url.path+"/relation",content:g,callbackParamName:"callback",load:function(v,r){u(v,r,p,x,m)},error:function(v){A(v,x,m)}});return m},_relationHandler:function(g,p,x,u,A){try{this._successHandler([g.relations],"onRelationComplete",x,A)}catch(m){this._errorHandler(m,u,A)}},onRelationComplete:function(){},trimExtend:function(g,
	p,x){var u=y.mixin({},this._url.query,{f:"json"},g.toJson()),A=g.sr,m=this._trimExtendHandler,v=this._errorHandler,r=new n(f._dfdCanceller);r._pendingDfd=h({url:this._url.path+"/trimExtend",content:u,callbackParamName:"callback",load:function(B,D){m(B,D,A,p,x,r)},error:function(B){v(B,x,r)}});return r},_trimExtendHandler:function(g,p,x,u,A,m){try{var v=g.geometries;g=[];var r,B=v.length;for(r=0;r<B;r++)g[r]=new c({spatialReference:x,paths:v[r].paths});this._successHandler([g],"onTrimExtendComplete",
	u,m)}catch(D){this._errorHandler(D,A,m)}},onTrimExtendComplete:function(){},densify:function(g,p,x){var u=y.mixin({},this._url.query,{f:"json"},g.toJson()),A=g.geometries[0].spatialReference,m=this._densifyHandler,v=this._errorHandler,r=new n(f._dfdCanceller);r._pendingDfd=h({url:this._url.path+"/densify",content:u,callbackParamName:"callback",load:function(B,D){m(B,D,A,p,x,r)},error:function(B){v(B,x,r)}});return r},_densifyHandler:function(g,p,x,u,A,m){try{var v=[];b.forEach(g.geometries,function(r){v.push(t.fromJson(r).setSpatialReference(x))});
	this._successHandler([v],"onDensifyComplete",u,m)}catch(r){this._errorHandler(r,A,m)}},onDensifyComplete:function(){},generalize:function(g,p,x){var u=y.mixin({},this._url.query,{f:"json"},g.toJson()),A=g.geometries[0].spatialReference,m=this._generalizeHandler,v=this._errorHandler,r=new n(f._dfdCanceller);r._pendingDfd=h({url:this._url.path+"/generalize",content:u,callbackParamName:"callback",load:function(B,D){m(B,D,A,p,x,r)},error:function(B){v(B,x,r)}});return r},_generalizeHandler:function(g,
	p,x,u,A,m){try{var v=[];b.forEach(g.geometries,function(r){v.push(t.fromJson(r).setSpatialReference(x))});this._successHandler([v],"onGeneralizeComplete",u,m)}catch(r){this._errorHandler(r,A,m)}},onGeneralizeComplete:function(){},offset:function(g,p,x){var u=y.mixin({},this._url.query,{f:"json"},g.toJson()),A=g.geometries[0].spatialReference,m=this._offsetHandler,v=this._errorHandler,r=new n(f._dfdCanceller);r._pendingDfd=h({url:this._url.path+"/offset",content:u,callbackParamName:"callback",load:function(B,
	D){m(B,D,A,p,x,r)},error:function(B){v(B,x,r)}});return r},_offsetHandler:function(g,p,x,u,A,m){try{var v=[];b.forEach(g.geometries,function(r){v.push(t.fromJson(r).setSpatialReference(x))});this._successHandler([v],"onOffsetComplete",u,m)}catch(r){this._errorHandler(r,A,m)}},onOffsetComplete:function(){},distance:function(g,p,x){var u=y.mixin({},this._url.query,{f:"json"},g.toJson()),A=g.geometry1.spatialReference,m=this._distanceHandler,v=this._errorHandler,r=new n(f._dfdCanceller);r._pendingDfd=
	h({url:this._url.path+"/distance",content:u,callbackParamName:"callback",load:function(B,D){m(B,D,A,p,x,r)},error:function(B){v(B,x,r)}});return r},_distanceHandler:function(g,p,x,u,A,m){try{g=g&&g.distance,this._successHandler([g],"onDistanceComplete",u,m)}catch(v){this._errorHandler(v,A,m)}},onDistanceComplete:function(){},toGeoCoordinateString:function(g,p,x){var u={};y.isObject(g.sr)?u.sr=g.sr.wkid||w.toJson(g.sr.toJson()):u.sr=g.sr;u.coordinates=w.toJson(g.coordinates);u.conversionType=g.conversionType||
	"MGRS";u.conversionMode=g.conversionMode;u.numOfDigits=g.numOfDigits;u.rounding=g.rounding;u.addSpaces=g.addSpaces;g=y.mixin({},this._url.query,{f:"json"},u);var A=this._toGeoCoordinateHandler,m=this._errorHandler,v=new n(f._dfdCanceller);v._pendingDfd=h({url:this._url.path+"/toGeoCoordinateString",content:g,callbackParamName:"callback",load:function(r,B){A(r,B,p,x,v)},error:function(r){m(r,x,v)}});return v},_toGeoCoordinateHandler:function(g,p,x,u,A){try{this._successHandler([g.strings],"onToGeoCoordinateStringComplete",
	x,A)}catch(m){this._errorHandler(m,u,A)}},onToGeoCoordinateStringComplete:function(){},fromGeoCoordinateString:function(g,p,x){var u={};y.isObject(g.sr)?u.sr=g.sr.wkid||w.toJson(g.sr.toJson()):u.sr=g.sr;u.strings=w.toJson(g.strings);u.conversionType=g.conversionType||"MGRS";u.conversionMode=g.conversionMode;g=y.mixin({},this._url.query,{f:"json"},u);var A=this._fromGeoCoordinateHandler,m=this._errorHandler,v=new n(f._dfdCanceller);v._pendingDfd=h({url:this._url.path+"/fromGeoCoordinateString",content:g,
	callbackParamName:"callback",load:function(r,B){A(r,B,p,x,v)},error:function(r){m(r,x,v)}});return v},_fromGeoCoordinateHandler:function(g,p,x,u,A){try{this._successHandler([g.coordinates],"onToGeoCoordinateStringComplete",x,A)}catch(m){this._errorHandler(m,u,A)}},onFromGeoCoordinateStringComplete:function(){}});y.mixin(C,{UNIT_METER:9001,UNIT_GERMAN_METER:9031,UNIT_FOOT:9002,UNIT_SURVEY_FOOT:9003,UNIT_CLARKE_FOOT:9005,UNIT_FATHOM:9014,UNIT_NAUTICAL_MILE:9030,UNIT_SURVEY_CHAIN:9033,UNIT_SURVEY_LINK:9034,
	UNIT_SURVEY_MILE:9035,UNIT_KILOMETER:9036,UNIT_CLARKE_YARD:9037,UNIT_CLARKE_CHAIN:9038,UNIT_CLARKE_LINK:9039,UNIT_SEARS_YARD:9040,UNIT_SEARS_FOOT:9041,UNIT_SEARS_CHAIN:9042,UNIT_SEARS_LINK:9043,UNIT_BENOIT_1895A_YARD:9050,UNIT_BENOIT_1895A_FOOT:9051,UNIT_BENOIT_1895A_CHAIN:9052,UNIT_BENOIT_1895A_LINK:9053,UNIT_BENOIT_1895B_YARD:9060,UNIT_BENOIT_1895B_FOOT:9061,UNIT_BENOIT_1895B_CHAIN:9062,UNIT_BENOIT_1895B_LINK:9063,UNIT_INDIAN_FOOT:9080,UNIT_INDIAN_1937_FOOT:9081,UNIT_INDIAN_1962_FOOT:9082,UNIT_INDIAN_1975_FOOT:9083,
	UNIT_INDIAN_YARD:9084,UNIT_INDIAN_1937_YARD:9085,UNIT_INDIAN_1962_YARD:9086,UNIT_INDIAN_1975_YARD:9087,UNIT_FOOT_1865:9070,UNIT_RADIAN:9101,UNIT_DEGREE:9102,UNIT_ARCMINUTE:9103,UNIT_ARCSECOND:9104,UNIT_GRAD:9105,UNIT_GON:9106,UNIT_MICRORADIAN:9109,UNIT_ARCMINUTE_CENTESIMAL:9112,UNIT_ARCSECOND_CENTESIMAL:9113,UNIT_MIL6400:9114,UNIT_BRITISH_1936_FOOT:9095,UNIT_GOLDCOAST_FOOT:9094,UNIT_INTERNATIONAL_CHAIN:109003,UNIT_INTERNATIONAL_LINK:109004,UNIT_INTERNATIONAL_YARD:109001,UNIT_STATUTE_MILE:9093,UNIT_SURVEY_YARD:109002,
	UNIT_50KILOMETER_LENGTH:109030,UNIT_150KILOMETER_LENGTH:109031,UNIT_DECIMETER:109005,UNIT_CENTIMETER:109006,UNIT_MILLIMETER:109007,UNIT_INTERNATIONAL_INCH:109008,UNIT_US_SURVEY_INCH:109009,UNIT_INTERNATIONAL_ROD:109010,UNIT_US_SURVEY_ROD:109011,UNIT_US_NAUTICAL_MILE:109012,UNIT_UK_NAUTICAL_MILE:109013,UNIT_SQUARE_INCHES:"esriSquareInches",UNIT_SQUARE_FEET:"esriSquareFeet",UNIT_SQUARE_YARDS:"esriSquareYards",UNIT_ACRES:"esriAcres",UNIT_SQUARE_MILES:"esriSquareMiles",UNIT_SQUARE_MILLIMETERS:"esriSquareMillimeters",
	UNIT_SQUARE_CENTIMETERS:"esriSquareCentimeters",UNIT_SQUARE_DECIMETERS:"esriSquareDecimeters",UNIT_SQUARE_METERS:"esriSquareMeters",UNIT_ARES:"esriAres",UNIT_HECTARES:"esriHectares",UNIT_SQUARE_KILOMETERS:"esriSquareKilometers"});l("extend-esri")&&y.setObject("tasks.GeometryService",C,k);return C})},"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\r\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\r\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\ttabIndex\x3d"-1" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\r\n/\x3e\x3c/span\x3e\r\n',
	"url:dijit/form/templates/DropDownButton.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\r\n\t\x3e\x3cspan class\x3d\'dijitReset dijitInline dijitButtonNode\'\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" data-dojo-attach-point\x3d"_buttonNode"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\r\n\t\t\trole\x3d"button" aria-haspopup\x3d"true" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon"\r\n\t\t\t\tdata-dojo-attach-point\x3d"iconNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonInner"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonChar"\x3e\x26#9660;\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1"\r\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick" data-dojo-attach-point\x3d"valueNode" aria-hidden\x3d"true"\r\n/\x3e\x3c/span\x3e\r\n',
	"url:dijit/form/templates/ComboButton.html":'\x3ctable class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tcellspacing\x3d\'0\' cellpadding\x3d\'0\' role\x3d"presentation"\r\n\t\x3e\x3ctbody role\x3d"presentation"\x3e\x3ctr role\x3d"presentation"\r\n\t\t\x3e\x3ctd class\x3d"dijitReset dijitStretch dijitButtonNode" data-dojo-attach-point\x3d"buttonNode" data-dojo-attach-event\x3d"ondijitclick:__onClick,onkeydown:_onButtonKeyDown"\r\n\t\t\x3e\x3cdiv id\x3d"${id}_button" class\x3d"dijitReset dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitInline dijitButtonText" id\x3d"${id}_label" data-dojo-attach-point\x3d"containerNode" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\x3e\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd id\x3d"${id}_arrow" class\x3d\'dijitReset dijitRight dijitButtonNode dijitArrowButton\'\r\n\t\t\tdata-dojo-attach-point\x3d"_popupStateNode,focusNode,_buttonNode"\r\n\t\t\tdata-dojo-attach-event\x3d"onkeydown:_onArrowKeyDown"\r\n\t\t\ttitle\x3d"${optionsTitle}"\r\n\t\t\trole\x3d"button" aria-haspopup\x3d"true"\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonInner" role\x3d"presentation"\x3e\x3c/div\r\n\t\t\t\x3e\x3cdiv class\x3d"dijitReset dijitArrowButtonChar" role\x3d"presentation"\x3e\x26#9660;\x3c/div\r\n\t\t\x3e\x3c/td\r\n\t\t\x3e\x3ctd style\x3d"display:none !important;"\r\n\t\t\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" data-dojo-attach-point\x3d"valueNode"\r\n\t\t\t\tclass\x3d"dijitOffScreen" aria-hidden\x3d"true" data-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\t/\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\r\n\x3e\x3c/table\x3e\r\n',
	"url:dijit/templates/TooltipDialog.html":'\x3cdiv role\x3d"alertdialog" tabIndex\x3d"-1"\x3e\r\n\t\x3cdiv class\x3d"dijitTooltipContainer" role\x3d"presentation"\x3e\r\n\t\t\x3cdiv data-dojo-attach-point\x3d"contentsNode" class\x3d"dijitTooltipContents dijitTooltipFocusNode"\x3e\r\n\t\t\t\x3cdiv data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\r\n\t\t\t${!actionBarTemplate}\r\n\t\t\x3c/div\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv class\x3d"dijitTooltipConnector" role\x3d"presentation" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\x3e\r\n\x3c/div\x3e\r\n',
	"url:esri/core/request/iframe.html":'\x3c!DOCTYPE html\x3e\r\n\x3chtml\x3e\r\n\x3chead\x3e\r\n  \x3cmeta http-equiv\x3d"Content-Security-Policy" content\x3d"default-src \'none\'; script-src * \'unsafe-inline\'"\x3e\r\n\r\n  \x3cscript\x3e\r\n    var dojoConfig \x3d {\r\n      async: true,\r\n      baseUrl: "../../../dojo/",\r\n      has: {\r\n        "csp-restrictions": true,\r\n        "dojo-preload-i18n-Api": false\r\n      }\r\n    };\r\n  \x3c/script\x3e\r\n  \x3c!--\r\n  This src is relative to this page and assumes dojo is a sibling to esri.\r\n  It is updated when this file is set as the iframe\'s `srcdoc` value.\r\n  --\x3e\r\n  \x3cscript src\x3d"../../../dojo/dojo.js"\x3e\x3c/script\x3e\r\n\r\n  \x3cscript\x3e\r\n    function windowMessageHandler(event) {\r\n      window.removeEventListener("message", windowMessageHandler);\r\n\r\n      var port \x3d event.ports[0];\r\n\r\n      require([\r\n        "dojo/request/script"\r\n      ], function(script) {\r\n        port.postMessage("ready");\r\n\r\n        port.addEventListener("message", function(event) {\r\n          var data \x3d event.data;\r\n          script.get(data.url, data.options)\r\n              .then(function(response) {\r\n                port.postMessage({\r\n                  id: data.id,\r\n                  response: response\r\n                });\r\n              })\r\n              .otherwise(function(error) {\r\n                port.postMessage({\r\n                  id: data.id,\r\n                  isError: true,\r\n                  message: error.message\r\n                });\r\n              });\r\n        });\r\n        port.start();\r\n      });\r\n    }\r\n\r\n    window.addEventListener("message", windowMessageHandler);\r\n  \x3c/script\x3e\r\n\x3c/head\x3e\r\n\x3cbody\x3e\r\n\x3c/body\x3e\r\n\x3c/html\x3e\r\n',
	"url:dijit/templates/Dialog.html":'\x3cdiv class\x3d"dijitDialog" role\x3d"dialog" aria-labelledby\x3d"${id}_title"\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"titleBar" class\x3d"dijitDialogTitleBar"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"titleNode" class\x3d"dijitDialogTitle" id\x3d"${id}_title"\r\n\t\t\t\trole\x3d"heading" level\x3d"1"\x3e\x3c/span\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"closeButtonNode" class\x3d"dijitDialogCloseIcon" data-dojo-attach-event\x3d"ondijitclick: onCancel" title\x3d"${buttonCancel}" role\x3d"button" tabindex\x3d"-1"\x3e\r\n\t\t\t\x3cspan data-dojo-attach-point\x3d"closeText" class\x3d"closeText" title\x3d"${buttonCancel}"\x3ex\x3c/span\x3e\r\n\t\t\x3c/span\x3e\r\n\t\x3c/div\x3e\r\n\t\x3cdiv data-dojo-attach-point\x3d"containerNode" class\x3d"dijitDialogPaneContent"\x3e\x3c/div\x3e\r\n\t${!actionBarTemplate}\r\n\x3c/div\x3e\r\n\r\n',
	"url:dijit/form/templates/TextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft" id\x3d"widget_${id}" role\x3d"presentation"\r\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\r\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\r\n\t/\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',"url:dijit/templates/Tooltip.html":'\x3cdiv class\x3d"dijitTooltip dijitTooltipLeft" id\x3d"dojoTooltip" data-dojo-attach-event\x3d"mouseenter:onMouseEnter,mouseleave:onMouseLeave"\r\n\t\x3e\x3cdiv class\x3d"dijitTooltipConnector" data-dojo-attach-point\x3d"connectorNode"\x3e\x3c/div\r\n\t\x3e\x3cdiv class\x3d"dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point\x3d"containerNode" role\x3d\'alert\'\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',
	"url:dijit/form/templates/ValidationTextBox.html":'\x3cdiv class\x3d"dijit dijitReset dijitInline dijitLeft"\r\n\tid\x3d"widget_${id}" role\x3d"presentation"\r\n\t\x3e\x3cdiv class\x3d\'dijitReset dijitValidationContainer\'\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value\x3d"\x26#935; " type\x3d"text" tabIndex\x3d"-1" readonly\x3d"readonly" role\x3d"presentation"\r\n\t/\x3e\x3c/div\r\n\t\x3e\x3cdiv class\x3d"dijitReset dijitInputField dijitInputContainer"\r\n\t\t\x3e\x3cinput class\x3d"dijitReset dijitInputInner" data-dojo-attach-point\x3d\'textbox,focusNode\' autocomplete\x3d"off"\r\n\t\t\t${!nameAttrSetting} type\x3d\'${type}\'\r\n\t/\x3e\x3c/div\r\n\x3e\x3c/div\x3e\r\n',
	"*now":function(C){C(['dojo/i18n!*preload*esri/nls/jsapi*["ar","bs","ca","cs","da","de","de-ch","el","en-au","en-ca","en-gb","en-us","es","es-mx","et","fi","fr","fr-ch","he","hr","hu","id","it","it-ch","ja","ko","lt","lv","nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw","ROOT"]'])},"*noref":1}});
	define("esri/jsapi","dojo/fx/Toggler dojo/_base/html dijit/_base dijit/form/DropDownButton dijit/form/ComboButton dijit/form/ToggleButton dijit/_base/manager dijit/TooltipDialog ./main ./map ./geometry ./symbol ./renderer ./utils ./IdentityManager ./layers/graphics ./layers/agstiled ./layers/agsdynamic ./layers/FeatureLayer ./dijit/PopupTemplate ./dijit/PopupRenderer ./dijit/Attribution ./arcgis/utils ./tasks/query ./tasks/QueryTask ./tasks/RelationshipQuery ./tasks/StatisticDefinition".split(" "),function(){return{}});